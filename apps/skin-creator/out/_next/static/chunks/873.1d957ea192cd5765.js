"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{873:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),o=n(2265),u=n(3828),c=n(1247);function i(e){let{skinCanvas:t}=e,n=(0,o.useRef)(null),i=(0,o.useRef)(null),l=(0,o.useRef)(null),s=(0,o.useRef)(null),m=(0,o.useRef)(null),a=(0,o.useRef)(null),d=(0,o.useRef)(!1),v=(0,o.useRef)({x:0,y:0}),h=(0,o.useRef)({x:0,y:0}),x=(0,o.useRef)(!0);return(0,o.useEffect)(()=>{if(!n.current)return;let e=new u.xsS;e.background=new u.Ilk(1710638),l.current=e;let t=new u.cPb(45,1,.1,1e3);t.position.set(0,1.5,4),t.lookAt(0,1,0),s.current=t;let r=new c.CP7({antialias:!0});r.setSize(200,280),r.setPixelRatio(window.devicePixelRatio),n.current.appendChild(r.domElement),i.current=r;let o=new u.Mig(16777215,.6);e.add(o);let a=new u.Ox3(16777215,.8);a.position.set(5,10,7),e.add(a);let E=new u.ZAu;m.current=E;let f=new u.YBo({color:12887419}),w=new u.DvJ(.5,.5,.5),y=new u.Kj0(w,f.clone());y.position.y=1.75,y.name="head",E.add(y);let g=new u.DvJ(.5,.75,.25),L=new u.Kj0(g,f.clone());L.position.y=1.125,L.name="body",E.add(L);let p=new u.DvJ(.25,.75,.25),j=new u.Kj0(p,f.clone());j.position.set(-.375,1.125,0),j.name="rightArm",E.add(j);let R=new u.Kj0(p,f.clone());R.position.set(.375,1.125,0),R.name="leftArm",E.add(R);let b=new u.DvJ(.25,.75,.25),D=new u.Kj0(b,f.clone());D.position.set(-.125,.375,0),D.name="rightLeg",E.add(D);let M=new u.Kj0(b,f.clone());M.position.set(.125,.375,0),M.name="leftLeg",E.add(M),e.add(E);let N=e=>{d.current=!0,x.current=!1,v.current={x:e.clientX,y:e.clientY}},P=e=>{if(!d.current)return;let t=e.clientX-v.current.x,n=e.clientY-v.current.y;h.current.y+=.01*t,h.current.x+=.01*n,h.current.x=Math.max(-Math.PI/4,Math.min(Math.PI/4,h.current.x)),v.current={x:e.clientX,y:e.clientY}},k=()=>{d.current=!1,setTimeout(()=>{x.current=!0},3e3)},A=e=>{d.current=!0,x.current=!1,v.current={x:e.touches[0].clientX,y:e.touches[0].clientY}},K=e=>{if(!d.current)return;let t=e.touches[0].clientX-v.current.x,n=e.touches[0].clientY-v.current.y;h.current.y+=.01*t,h.current.x+=.01*n,h.current.x=Math.max(-Math.PI/4,Math.min(Math.PI/4,h.current.x)),v.current={x:e.touches[0].clientX,y:e.touches[0].clientY}},Y=()=>{d.current=!1,setTimeout(()=>{x.current=!0},3e3)};r.domElement.addEventListener("mousedown",N),r.domElement.addEventListener("mousemove",P),r.domElement.addEventListener("mouseup",k),r.domElement.addEventListener("mouseleave",k),r.domElement.addEventListener("touchstart",A),r.domElement.addEventListener("touchmove",K),r.domElement.addEventListener("touchend",Y);let B=0,O=()=>{requestAnimationFrame(O),B+=.05,x.current&&(h.current.y+=.01),E.rotation.y=h.current.y,E.rotation.x=h.current.x;let n=.3*Math.sin(B),o=E.getObjectByName("rightArm"),u=E.getObjectByName("leftArm"),c=E.getObjectByName("rightLeg"),i=E.getObjectByName("leftLeg");o&&(o.rotation.x=n),u&&(u.rotation.x=-n),c&&(c.rotation.x=-n),i&&(i.rotation.x=n),r.render(e,t)};return O(),()=>{r.domElement.removeEventListener("mousedown",N),r.domElement.removeEventListener("mousemove",P),r.domElement.removeEventListener("mouseup",k),r.domElement.removeEventListener("mouseleave",k),r.domElement.removeEventListener("touchstart",A),r.domElement.removeEventListener("touchmove",K),r.domElement.removeEventListener("touchend",Y),r.dispose(),n.current&&n.current.removeChild(r.domElement)}},[]),(0,o.useEffect)(()=>{if(!t||!m.current)return;let e=new u.ROQ(t);e.magFilter=u.TyD,e.minFilter=u.TyD,a.current=e,m.current.traverse(e=>{e instanceof u.Kj0&&e.material})},[t]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{ref:n,className:"rounded-xl overflow-hidden mx-auto cursor-grab active:cursor-grabbing",style:{width:200,height:280}}),(0,r.jsx)("p",{className:"text-xs text-gray-400 text-center mt-1",children:"\uD83D\uDDB1Ô∏è Drag to rotate"})]})}}}]);