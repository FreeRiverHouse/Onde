"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{2823:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var n=a(7437);a(2265);var r=a(166),s=a(6828);let o=(0,r.default)(()=>Promise.all([a.e(124),a.e(500),a.e(873)]).then(a.bind(a,873)),{loadableGenerated:{webpack:()=>[873]},ssr:!1});function l(e){let{canvasRef:t,previewRef:a,show3D:r,setShow3D:l,loadTemplate:i,generateRandomSkin:c,isWiggling:d,setIsWiggling:u,showConfetti:x,setShowConfetti:m,playSound:h,setLayers:g,activeLayer:b,layerCanvasRefs:p,compositeLayersToMain:f,updatePreview:D,saveSkin:v,savedSkins:k,showMySkins:y,setShowMySkins:C,loadSavedSkin:w,deleteSavedSkin:j,shareSkin:N,shareUrl:F,setShareUrl:B}=e;return(0,n.jsxs)("div",{className:"glass-card rounded-3xl p-6 shadow-2xl hover:shadow-3xl transition-shadow duration-300",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,n.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,n.jsx)("span",{className:"animate-bounce-soft",children:"\uD83D\uDC40"})," Preview"]}),(0,n.jsx)("button",{onClick:()=>l(!r),className:"px-2 py-1 rounded-lg text-xs font-bold transition-all ".concat(r?"bg-purple-500 text-white":"bg-gray-200 hover:bg-gray-300"),title:"Toggle 3D view - drag to rotate!",children:r?"\uD83C\uDFAE 3D":"\uD83D\uDCD0 2D"})]}),r?(0,n.jsx)("div",{className:"rounded-xl mx-auto overflow-hidden",style:{width:200,height:280},children:(0,n.jsx)(o,{skinCanvas:t.current})}):(0,n.jsx)("canvas",{ref:a,width:200,height:280,className:"rounded-xl mx-auto",style:{imageRendering:"pixelated"}}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Start from:"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center",children:[Object.entries(s.xN).map(e=>{let[t,a]=e;return(0,n.jsx)("button",{onClick:()=>{if(i(t),"creeper"===t){m(!0),h("download");let e=document.querySelector(".glass-card");e&&(e.classList.add("animate-wiggle"),setTimeout(()=>e.classList.remove("animate-wiggle"),500)),setTimeout(()=>m(!1),2e3)}},className:"px-2 py-1 text-white rounded-lg text-xs font-bold hover:scale-105 transition-all ".concat("creeper"===t?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600"),children:a.name},t)}),(0,n.jsx)("button",{onClick:()=>i("blank"),className:"px-2 py-1 bg-gray-500 text-white rounded-lg text-xs font-bold hover:bg-gray-600",children:"⬜ Blank"}),(0,n.jsx)("button",{onClick:()=>{u(!0),c(),setTimeout(()=>u(!1),500)},className:"px-2 py-1 bg-gradient-to-r from-pink-500 to-yellow-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform ".concat(d?"animate-wiggle":"animate-pulse"),children:"\uD83C\uDFB2 Random!"}),(0,n.jsx)("button",{onClick:()=>{let e=p.current[b];if(!e)return;let t=e.getContext("2d");if(t){for(let e=0;e<s.Mh;e++)for(let a=0;a<s.mG;a++)t.fillStyle="rgb(".concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),")"),t.fillRect(e,a,1,1);f(),D(),m(!0),h("download"),setTimeout(()=>m(!1),2e3)}},className:"px-2 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",title:"\uD83C\uDF81 Mystery surprise skin!",children:"\uD83C\uDF81 Mystery!"}),(0,n.jsx)("button",{onClick:()=>{let e=["#FF6B6B","#4D96FF","#6BCB77","#FFD93D","#9B59B6","#FF8E53","#00BCD4","#E91E63"],t=()=>e[Math.floor(Math.random()*e.length)];g(e=>e.map(e=>"clothing"===e.id||"accessories"===e.id?{...e,tint:t(),tintIntensity:70}:e)),h("download")},className:"px-2 py-1 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",title:"\uD83C\uDFAD Randomize outfit colors!",children:"\uD83C\uDFAD Outfit!"}),(0,n.jsx)("button",{onClick:()=>{let e=[{name:"Cyberpunk",base:"#0ff",accent:"#f0f",dark:"#0a0a2e"},{name:"Forest",base:"#228B22",accent:"#8B4513",dark:"#1a3a1a"},{name:"Ice",base:"#87CEEB",accent:"#E0FFFF",dark:"#1a2a3a"},{name:"Fire",base:"#FF4500",accent:"#FFD700",dark:"#2a1a0a"},{name:"Void",base:"#4B0082",accent:"#8B008B",dark:"#0a0a1a"},{name:"Ocean",base:"#006994",accent:"#40E0D0",dark:"#0a1a2a"},{name:"Golden",base:"#FFD700",accent:"#DAA520",dark:"#2a2a1a"},{name:"Neon",base:"#39FF14",accent:"#FF1493",dark:"#0a0a0a"}],t=e[Math.floor(Math.random()*e.length)];g(e=>e.map(e=>"clothing"===e.id?{...e,tint:t.base,tintIntensity:60}:"accessories"===e.id?{...e,tint:t.accent,tintIntensity:70}:e)),h("success")},className:"px-2 py-1 bg-gradient-to-r from-violet-500 to-fuchsia-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform animate-pulse",title:"✨ AI-inspired color palette",children:"✨ AI Colors"}),(0,n.jsx)("button",{onClick:()=>{v(),h("save")},className:"px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",title:"\uD83D\uDCBE Save current skin",children:"\uD83D\uDCBE Save"}),(0,n.jsxs)("button",{onClick:()=>C(!y),className:"px-2 py-1 rounded-lg text-xs font-bold hover:scale-105 transition-transform ".concat(y?"bg-blue-500 text-white":"bg-gradient-to-r from-blue-400 to-indigo-500 text-white"),title:"\uD83D\uDCC2 My saved skins",children:["\uD83D\uDCC2 My Skins (",k.length,")"]}),(0,n.jsx)("button",{onClick:N,className:"px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",title:"\uD83D\uDD17 Share skin via link",children:"\uD83D\uDD17 Share"})]}),F&&(0,n.jsxs)("div",{className:"mt-2 p-2 bg-green-100 rounded-lg text-xs",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-green-800 font-bold",children:"✅ Link copied!"}),(0,n.jsx)("button",{onClick:()=>B(null),className:"text-green-600 hover:text-green-800",children:"✕"})]}),(0,n.jsx)("input",{type:"text",value:F,readOnly:!0,className:"w-full mt-1 p-1 text-xs bg-white rounded border truncate",onClick:e=>e.target.select()})]}),y&&k.length>0&&(0,n.jsx)("div",{className:"mt-2 p-2 bg-white/90 rounded-lg max-h-32 overflow-y-auto",children:(0,n.jsx)("div",{className:"grid grid-cols-5 gap-1",children:k.map(e=>(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)("img",{src:e.dataUrl,alt:e.name,className:"w-10 h-10 rounded cursor-pointer hover:scale-110 transition-transform border-2 border-transparent hover:border-blue-500",style:{imageRendering:"pixelated"},onClick:()=>w(e),title:"".concat(e.name," - Click to load")}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),j(e.id)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete",children:"\xd7"})]},e.id))})}),y&&0===k.length&&(0,n.jsx)("div",{className:"mt-2 p-2 bg-white/90 rounded-lg text-center text-xs text-gray-500",children:"No saved skins yet! Click \uD83D\uDCBE Save to save your creation."})]})]})}}}]);