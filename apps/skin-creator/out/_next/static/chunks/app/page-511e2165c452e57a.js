(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5053:function(e,t,a){Promise.resolve().then(a.bind(a,8604))},8604:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var i=a(7437),l=a(8819),r=a.n(l),n=a(2265),s=a(166),o=a(5676);let c=a(257).env.NEXT_PUBLIC_LOCAL_LLM_URL||"http://192.168.1.111:8080";async function u(){try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),a=await fetch("".concat(c,"/health"),{signal:e.signal});if(clearTimeout(t),a.ok){let e=await a.json();return"ok"===e.status}return!1}catch(e){return!1}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{maxTokens:a=256,temperature:i=.7,systemPrompt:l,timeoutMs:r=6e4}=t;try{var n,s,o;if(!await u())return{success:!1,error:"Local LLM not available"};let t=[];l&&t.push({role:"system",content:l}),t.push({role:"user",content:e});let d=new AbortController,f=setTimeout(()=>d.abort(),r),h=await fetch("".concat(c,"/v1/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instruct",messages:t,max_tokens:a,temperature:i}),signal:d.signal});if(clearTimeout(f),!h.ok)return{success:!1,error:"HTTP ".concat(h.status)};let m=await h.json(),g=null===(o=m.choices)||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:null===(n=s.message)||void 0===n?void 0:n.content;if(g)return{success:!0,content:g};return{success:!1,error:"No content in response"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function f(e){let t=await d(e,{maxTokens:100,temperature:.8,systemPrompt:"You are a Minecraft skin design assistant. \nGiven a user's description, enhance it into a detailed prompt for generating a Minecraft character skin.\nKeep it concise (1-2 sentences) but add specific details about colors, style, and features.\nOutput ONLY the enhanced prompt, nothing else."});return t.success&&t.content?t.content.trim():e}var h=a(6828);let m=(0,s.default)(()=>a.e(958).then(a.bind(a,8958)),{loadableGenerated:{webpack:()=>[8958]},ssr:!1}),g=(0,s.default)(()=>a.e(823).then(a.bind(a,2823)),{loadableGenerated:{webpack:()=>[2823]},ssr:!1}),p=(0,s.default)(()=>a.e(66).then(a.bind(a,66)),{loadableGenerated:{webpack:()=>[66]},ssr:!1}),b=(0,s.default)(()=>a.e(303).then(a.bind(a,9303)),{loadableGenerated:{webpack:()=>[9303]},ssr:!1}),y=(0,s.default)(()=>a.e(887).then(a.bind(a,2887)),{loadableGenerated:{webpack:()=>[2887]},ssr:!1}),w=(0,s.default)(()=>a.e(969).then(a.bind(a,4969)),{loadableGenerated:{webpack:()=>[4969]},ssr:!1}),k=(0,s.default)(()=>a.e(228).then(a.bind(a,9228)),{loadableGenerated:{webpack:()=>[9228]},ssr:!1});function x(){var e,t;let a=(0,n.useRef)(null),l=(0,n.useRef)(null),[s,c]=(0,n.useState)("minecraft"),[d,x]=(0,n.useState)("#FF0000"),[R,S]=(0,n.useState)(!1),[D,C]=(0,n.useState)("brush"),[v,T]=(0,n.useState)("star"),[I,E]=(0,n.useState)(null),[j,A]=(0,n.useState)(!1),[F,M]=(0,n.useState)(!1),[L,N]=(0,n.useState)(!1),G=(0,n.useRef)(null),[P,U]=(0,n.useState)(window.innerWidth<768?4:6),[B,O]=(0,n.useState)({x:0,y:0}),_=(0,n.useRef)({isGesture:!1,initialDistance:0,initialZoom:6,initialPan:{x:0,y:0},lastCenter:{x:0,y:0}}),V=(0,n.useRef)(null),[q,z]=(0,n.useState)("#4D96FF"),[K,H]=(0,n.useState)(1),[Y,J]=(0,n.useState)("my-skin"),[X,W]=(0,n.useState)([]),[Z,$]=(0,n.useState)([]),[Q,ee]=(0,n.useState)(!1),[et,ea]=(0,n.useState)(!1),[ei,el]=(0,n.useState)(""),[er,en]=(0,n.useState)(!1),[es,eo]=(0,n.useState)(!1),[ec,eu]=(0,n.useState)(!1),[ed,ef]=(0,n.useState)("blocky"),[eh,em]=(0,n.useState)(null),[eg,ep]=(0,n.useState)(!1),[eb,ey]=(0,n.useState)([]),[ew,ek]=(0,n.useState)(!1),[ex,eR]=(0,n.useState)(!1),eS=(0,n.useCallback)(e=>{C(e),window.innerWidth<768&&eR(!1)},[]);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("minecraft-skin-ai-history");if(e){let t=JSON.parse(e);Array.isArray(t)&&ey(t)}}catch(e){}u().then(eu)},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("minecraft-skin-ai-history",JSON.stringify(eb))}catch(e){}},[eb]);let eD=(0,n.useCallback)((e,t,a)=>{let i={id:"ai-".concat(Date.now()),prompt:e,style:t,skinDataUrl:a,timestamp:Date.now(),isFavorite:!1};ey(e=>{let t=e.filter(e=>e.isFavorite);return[...[i,...e.filter(e=>!e.isFavorite)].slice(0,10),...t].sort((e,t)=>t.timestamp-e.timestamp)})},[]),eC=(0,n.useCallback)(e=>{ey(t=>t.map(t=>t.id===e?{...t,isFavorite:!t.isFavorite}:t))},[]),ev=(0,n.useCallback)(e=>{let t=a.current;if(!t)return;let i=t.getContext("2d");if(!i)return;let l=new Image;l.onload=()=>{i.clearRect(0,0,h.Mh,h.mG),i.drawImage(l,0,0),tR(),tg(),ea(!1),ty("click")},l.src=e.skinDataUrl},[]),eT=(0,n.useCallback)(e=>{el(e.prompt),ef(e.style),ek(!1)},[]),eI=(0,n.useCallback)(e=>{ey(t=>t.filter(t=>t.id!==e))},[]),[eE,ej]=(0,n.useState)(h.EA),[eA,eF]=(0,n.useState)("base"),[eM,eL]=(0,n.useState)(!0),eN=(0,n.useRef)({}),[eG,eP]=(0,n.useState)([]),[eU,eB]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("minecraft-my-skins");e&&eP(JSON.parse(e))}catch(e){}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("minecraft-my-skins",JSON.stringify(eG))}catch(e){}},[eG]);let eO=(0,n.useCallback)(e=>{if(!eN.current[e]){let t=document.createElement("canvas");t.width=h.Mh,t.height=h.mG,eN.current[e]=t}return eN.current[e]},[]),e_=(0,n.useCallback)(e=>{ej(t=>t.map(t=>t.id===e?{...t,visible:!t.visible}:t))},[]),eV=(0,n.useCallback)((e,t)=>{ej(a=>a.map(a=>a.id===e?{...a,opacity:t}:a))},[]),eq=(0,n.useCallback)((e,t)=>{ej(a=>a.map(a=>a.id===e?{...a,tint:t}:a))},[]),ez=(0,n.useCallback)((e,t)=>{ej(a=>a.map(a=>a.id===e?{...a,tintIntensity:t}:a))},[]),eK=(0,n.useCallback)((e,t,a)=>{let i=document.createElement("canvas");i.width=e.width,i.height=e.height;let l=i.getContext("2d");return l?(l.drawImage(e,0,0),l.globalCompositeOperation="multiply",l.globalAlpha=a/100,l.fillStyle=t,l.fillRect(0,0,i.width,i.height),l.globalCompositeOperation="destination-in",l.globalAlpha=1,l.drawImage(e,0,0),i):e},[]),eH=(0,n.useCallback)((e,t)=>{ej(a=>{let i=a.findIndex(t=>t.id===e);if(-1===i)return a;let l="up"===t?i+1:i-1;if(l<0||l>=a.length)return a;let r=[...a];return[r[i],r[l]]=[r[l],r[i]],r})},[]),eY=(0,n.useCallback)(()=>{let e=a.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,h.Mh,h.mG),eE.forEach(e=>{if(!e.visible)return;let a=eN.current[e.id];if(!a)return;let i=a;e.tint&&e.tintIntensity>0&&(i=eK(a,e.tint,e.tintIntensity)),t.globalAlpha=e.opacity/100,t.drawImage(i,0,0)}),t.globalAlpha=1)},[eE,eK]),eJ=(0,n.useCallback)(e=>{let t=eO(e).getContext("2d");t&&t.clearRect(0,0,h.Mh,h.mG),eY(),tR()},[eO,eY]),eX=(0,n.useCallback)((e,t)=>{let a=eO(e),i=eO(t).getContext("2d");i&&(i.clearRect(0,0,h.Mh,h.mG),i.drawImage(a,0,0)),eY(),tR(),tg(),ty("click")},[eO,eY]),[eW,eZ]=(0,n.useState)(!1),e$=(0,n.useCallback)(()=>{if(!confirm("Merge all visible layers into base? This cannot be undone."))return;let e=a.current;if(!e)return;let t=eO("base").getContext("2d");t&&(t.clearRect(0,0,h.Mh,h.mG),t.drawImage(e,0,0)),eJ("clothing"),eJ("accessories"),eY(),tR(),ty("click")},[eO,eJ,eY]),eQ=async()=>{if(ei.trim()&&ec){eo(!0);try{let e=await f(ei);e&&e!==ei&&el(e)}catch(e){console.error("Enhance failed:",e)}finally{eo(!1)}}},e0=async()=>{if(!ei.trim())return;en(!0),em(null);let e=a.current;if(!e){en(!1);return}let t=e.getContext("2d");if(!t){en(!1);return}if(eg&&(0,o.$r)())try{let e=await (0,o.q2)({prompt:ei,style:ed});if(e.success&&e.skinDataUrl){let a=new Image;a.onload=()=>{t.clearRect(0,0,h.Mh,h.mG),t.drawImage(a,0,0),tR(),tg(),eD(ei,ed,e.skinDataUrl),en(!1),ea(!1),ty("download")},a.onerror=()=>{em("Failed to load generated skin"),en(!1)},a.src=e.skinDataUrl;return}em(e.error||"AI generation failed")}catch(e){em(e instanceof Error?e.message:"AI generation failed")}await new Promise(e=>setTimeout(e,800));let i=ei.toLowerCase(),l={skin:"#c4a57b",hair:"#442920",shirt:"#00a8a8",pants:"#3c2a5e",shoes:"#444444"},r="anime"===ed?1.2:"cartoon"===ed?1.1:1;if(i.includes("zombie")||i.includes("undead"))l={skin:"#5a8f5a",hair:"#2d4a2d",shirt:"#3d5a3d",pants:"#2d4a2d",shoes:"#1a3a1a"};else if(i.includes("robot")||i.includes("mech")||i.includes("android"))l={skin:"#8a8a8a",hair:"#444444",shirt:"#3498db",pants:"#2c3e50",shoes:"#1a1a1a"};else if(i.includes("ninja")||i.includes("assassin")||i.includes("stealth"))l={skin:"#c4a57b",hair:"#1a1a1a",shirt:"#1a1a1a",pants:"#1a1a1a",shoes:"#2c2c2c"};else if(i.includes("princess")||i.includes("queen")||i.includes("royalty"))l={skin:"#ffdfc4",hair:"#f1c40f",shirt:"#e91e63",pants:"#9c27b0",shoes:"#ff69b4"};else if(i.includes("pirate")||i.includes("captain")||i.includes("sailor"))l={skin:"#d4a76a",hair:"#2c1810",shirt:"#8B0000",pants:"#1a1a1a",shoes:"#3d2314"};else if(i.includes("wizard")||i.includes("mage")||i.includes("sorcerer"))l={skin:"#e8d5c4",hair:"#c0c0c0",shirt:"#4B0082",pants:"#2E0854",shoes:"#1a1a2e"};else if(i.includes("alien")||i.includes("space")||i.includes("extraterrestrial"))l={skin:"#7dcea0",hair:"#27ae60",shirt:"#9b59b6",pants:"#8e44ad",shoes:"#6c3483"};else if(i.includes("knight")||i.includes("armor")||i.includes("warrior"))l={skin:"#d4a76a",hair:"#4a3728",shirt:"#7f8c8d",pants:"#5d6d7e",shoes:"#2c3e50"};else if(i.includes("elf")||i.includes("fairy")||i.includes("nature"))l={skin:"#f5deb3",hair:"#228b22",shirt:"#006400",pants:"#556b2f",shoes:"#8b4513"};else if(i.includes("vampire")||i.includes("dark")||i.includes("gothic"))l={skin:"#e8e8e8",hair:"#1a1a1a",shirt:"#8b0000",pants:"#1a1a1a",shoes:"#2c2c2c"};else if(i.includes("superhero")||i.includes("hero"))l={skin:"#d4a76a",hair:"#2c1810",shirt:"#dc143c",pants:"#00008b",shoes:"#ffd700"};else if(i.includes("chef")||i.includes("cook"))l={skin:"#d4a76a",hair:"#3d2314",shirt:"#ffffff",pants:"#1a1a1a",shoes:"#2c2c2c"};else if(i.includes("doctor")||i.includes("nurse")||i.includes("medical"))l={skin:"#d4a76a",hair:"#3d2314",shirt:"#87ceeb",pants:"#87ceeb",shoes:"#ffffff"};else{let e=ei.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%360;l.shirt="hsl(".concat(e,", 70%, ").concat(50*r,"%)"),l.pants="hsl(".concat((e+180)%360,", 60%, ").concat(40*r,"%)"),l.hair="hsl(".concat((e+90)%360,", 40%, 25%)")}t.clearRect(0,0,h.Mh,h.mG),t.fillStyle=l.skin,t.fillRect(8,8,8,8),t.fillRect(24,8,8,8),t.fillRect(0,8,8,8),t.fillRect(16,8,8,8),t.fillRect(8,0,8,8),t.fillRect(16,0,8,8),t.fillStyle=l.hair,t.fillRect(8,0,8,8),t.fillRect(8,8,8,2),t.fillRect(0,8,8,3),t.fillRect(16,8,8,3),t.fillRect(24,8,8,3),t.fillStyle="#ffffff",t.fillRect(10,12,2,2),t.fillRect(14,12,2,2),t.fillStyle="#000000",t.fillRect(11,13,1,1),t.fillRect(15,13,1,1),t.fillStyle="#d4a76a",t.fillRect(12,14,2,1),t.fillStyle="#b35a5a",t.fillRect(11,15,4,1),t.fillStyle=l.shirt,t.fillRect(20,20,8,12),t.fillRect(32,20,8,12),t.fillRect(16,20,4,12),t.fillRect(28,20,4,12),t.fillRect(20,16,8,4),t.fillStyle=l.skin,t.fillRect(44,20,4,12),t.fillRect(48,20,4,12),t.fillRect(40,20,4,12),t.fillRect(52,20,4,12),t.fillStyle=l.shirt,t.fillRect(44,20,4,8),t.fillRect(40,20,4,8),t.fillStyle=l.skin,t.fillRect(36,52,4,12),t.fillRect(44,52,4,12),t.fillRect(32,52,4,12),t.fillRect(48,52,4,12),t.fillStyle=l.shirt,t.fillRect(36,52,4,8),t.fillRect(32,52,4,8),t.fillStyle=l.pants,t.fillRect(4,20,4,12),t.fillRect(8,20,4,12),t.fillRect(0,20,4,12),t.fillRect(12,20,4,12),t.fillStyle=l.shoes,t.fillRect(4,28,4,4),t.fillRect(0,28,4,4),t.fillStyle=l.pants,t.fillRect(20,52,4,12),t.fillRect(24,52,4,12),t.fillRect(16,52,4,12),t.fillRect(28,52,4,12),t.fillStyle=l.shoes,t.fillRect(20,60,4,4),t.fillRect(16,60,4,4),tR(),tg(),eD(ei,ed,e.toDataURL("image/png")),en(!1),ea(!1),ty("download")},e1=(0,n.useCallback)(e=>{W(t=>{let a=t.filter(t=>t!==e);return[e,...a].slice(0,8)})},[]),[e2,e4]=(0,n.useState)(!1),[e8,e5]=(0,n.useState)(!1),[e3,e6]=(0,n.useState)(!1);(0,n.useEffect)(()=>{localStorage.getItem("skin-creator-t1000-seen")||setTimeout(()=>{e5(!0),e4(!0),localStorage.setItem("skin-creator-t1000-seen","true"),setTimeout(()=>{e4(!1),e5(!1)},5e3)},1e3)},[]);let[e9,e7]=(0,n.useState)({width:0,height:0}),[te,tt]=(0,n.useState)([]),ta=(0,n.useRef)(0),ti=(0,n.useRef)(null),[tl,tr]=(0,n.useState)([]),[tn,ts]=(0,n.useState)(-1),[to,tc]=(0,n.useState)({}),[tu,td]=(0,n.useState)(null),tf=(0,n.useCallback)(e=>{if(to[e])return;let t=h._U[e];if(!t)return;tc(t=>({...t,[e]:!0})),td({id:e,...t}),setTimeout(()=>td(null),3e3);let a=JSON.parse(localStorage.getItem("skin-creator-achievements")||"{}");a[e]=!0,localStorage.setItem("skin-creator-achievements",JSON.stringify(a))},[to]);(0,n.useEffect)(()=>{let e=localStorage.getItem("skin-creator-achievements");e&&tc(JSON.parse(e))},[]);let[th,tm]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=e=>{"?"===e.key||"/"===e.key&&e.shiftKey?tm(e=>!e):"Escape"===e.key&&tm(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let tg=(0,n.useCallback)(()=>{let e=a.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let i=t.getImageData(0,0,h.Mh,h.mG);tr(e=>{let t=e.slice(0,tn+1);return t.push(i),t.length>50&&t.shift(),t}),ts(e=>Math.min(e+1,49));try{localStorage.setItem("minecraft-skin-autosave",e.toDataURL("image/png"))}catch(e){}},[tn]),tp=(0,n.useCallback)(()=>{if(tn<=0)return;let e=a.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let i=tn-1;t.putImageData(tl[i],0,0),ts(i)},[tl,tn]),tb=(0,n.useCallback)(()=>{if(tn>=tl.length-1)return;let e=a.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let i=tn+1;t.putImageData(tl[i],0,0),ts(i)},[tl,tn]),ty=(0,n.useCallback)(e=>{ti.current||(ti.current=new(window.AudioContext||window.webkitAudioContext));let t=ti.current,a=t.createOscillator(),i=t.createGain();a.connect(i),i.connect(t.destination),"draw"===e?(a.frequency.setValueAtTime(800+400*Math.random(),t.currentTime),a.frequency.exponentialRampToValueAtTime(400,t.currentTime+.1),i.gain.setValueAtTime(.1,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),a.start(t.currentTime),a.stop(t.currentTime+.1)):"click"===e?(a.frequency.setValueAtTime(600,t.currentTime),a.frequency.exponentialRampToValueAtTime(200,t.currentTime+.15),i.gain.setValueAtTime(.2,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),a.start(t.currentTime),a.stop(t.currentTime+.15)):"download"===e?[523,659,784,1047].forEach((e,a)=>{let i=t.createOscillator(),l=t.createGain();i.connect(l),l.connect(t.destination),i.frequency.value=e,l.gain.setValueAtTime(.15,t.currentTime+.1*a),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1*a+.2),i.start(t.currentTime+.1*a),i.stop(t.currentTime+.1*a+.2)}):"undo"===e?(a.frequency.setValueAtTime(300,t.currentTime),a.frequency.exponentialRampToValueAtTime(600,t.currentTime+.12),i.gain.setValueAtTime(.12,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.12),a.start(t.currentTime),a.stop(t.currentTime+.12)):"redo"===e?(a.frequency.setValueAtTime(600,t.currentTime),a.frequency.exponentialRampToValueAtTime(300,t.currentTime+.12),i.gain.setValueAtTime(.12,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.12),a.start(t.currentTime),a.stop(t.currentTime+.12)):"error"===e?(a.type="sawtooth",a.frequency.setValueAtTime(150,t.currentTime),i.gain.setValueAtTime(.15,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),a.start(t.currentTime),a.stop(t.currentTime+.2)):"success"===e?(a.frequency.setValueAtTime(880,t.currentTime),a.frequency.exponentialRampToValueAtTime(1200,t.currentTime+.1),i.gain.setValueAtTime(.15,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),a.start(t.currentTime),a.stop(t.currentTime+.15)):"save"===e&&[784,988].forEach((e,a)=>{let i=t.createOscillator(),l=t.createGain();i.connect(l),l.connect(t.destination),i.frequency.value=e,l.gain.setValueAtTime(.12,t.currentTime+.08*a),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+.08*a+.1),i.start(t.currentTime+.08*a),i.stop(t.currentTime+.08*a+.1)})},[]);(0,n.useEffect)(()=>{e7({width:window.innerWidth,height:window.innerHeight});let e=()=>e7({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("minecraft-skin-autosave");if(e&&a.current){let t=a.current.getContext("2d");if(t){let a=new Image;a.onload=()=>{t.clearRect(0,0,h.Mh,h.mG),t.drawImage(a,0,0),tR()},a.src=e}}},[]),(0,n.useEffect)(()=>{let e=e=>{if(!(e.target instanceof HTMLInputElement))switch(e.key.toLowerCase()){case"b":C("brush");break;case"e":C("eraser");break;case"f":C("fill");break;case"g":C("gradient");break;case"s":C("stamp");break;case"i":C("eyedropper");break;case"?":ee(e=>!e);break;case"z":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),tp());break;case"y":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),tb());break;case"m":A(e=>!e);break;case"d":M(e=>!e);break;case"1":H(1);break;case"2":H(2);break;case"3":H(3);break;case"l":eL(e=>!e);break;case"[":eF(e=>["base","clothing","accessories"][(["base","clothing","accessories"].indexOf(e)+2)%3]);break;case"]":eF(e=>["base","clothing","accessories"][(["base","clothing","accessories"].indexOf(e)+1)%3]);break;case"c":e.metaKey||e.ctrlKey||eZ(e=>!e)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[tp,tb]);let tw=(0,n.useCallback)(()=>{let e=a.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let i=[{skin:"#ffdfc4",hair:"#4a3728",shirt:"#e74c3c",pants:"#2c3e50",shoes:"#1a1a1a"},{skin:"#c4a57b",hair:"#1a1a1a",shirt:"#3498db",pants:"#9b59b6",shoes:"#2c2c2c"},{skin:"#8d6e4c",hair:"#2c1810",shirt:"#27ae60",pants:"#f39c12",shoes:"#34495e"},{skin:"#7dcea0",hair:"#27ae60",shirt:"#e91e63",pants:"#673ab7",shoes:"#4a148c"},{skin:"#ff6b6b",hair:"#c0392b",shirt:"#f1c40f",pants:"#1abc9c",shoes:"#16a085"},{skin:"#a29bfe",hair:"#6c5ce7",shirt:"#fd79a8",pants:"#00cec9",shoes:"#0984e3"},{skin:"#ffeaa7",hair:"#fdcb6e",shirt:"#e17055",pants:"#74b9ff",shoes:"#0984e3"}],l=i[Math.floor(Math.random()*i.length)];t.clearRect(0,0,h.Mh,h.mG),t.fillStyle=l.skin,t.fillRect(8,8,8,8),t.fillRect(0,8,8,8),t.fillRect(16,8,8,8),t.fillRect(24,8,8,8),t.fillRect(8,0,8,8),t.fillStyle=l.hair,t.fillRect(8,8,8,Math.random()>.5?2:1),t.fillStyle="#ffffff",t.fillRect(9,11,2,1),t.fillRect(13,11,2,1),t.fillStyle="#000000",t.fillRect(10,11,1,1),t.fillRect(13,11,1,1),t.fillStyle=l.shirt,t.fillRect(20,20,8,12),t.fillRect(16,20,4,12),t.fillRect(28,20,4,12),t.fillRect(20,16,8,4),t.fillStyle=l.skin,t.fillRect(44,20,4,4),t.fillRect(36,52,4,4),t.fillStyle=l.shirt,t.fillRect(44,24,4,8),t.fillRect(36,56,4,8),t.fillStyle=l.pants,t.fillRect(4,20,4,12),t.fillRect(20,52,4,12),t.fillStyle=l.shoes,t.fillRect(4,28,4,4),t.fillRect(20,60,4,4),tR(),tg(),ty("download")},[]),tk=(0,n.useCallback)((e,t)=>{if("eraser"===D)return;let a=ta.current++,i={id:a,x:e,y:t,color:d};tt(e=>[...e.slice(-20),i]),setTimeout(()=>{tt(e=>e.filter(e=>e.id!==a))},600)},[d,D]),tx=(0,n.useCallback)(e=>{let t=eO("base"),a=eO("clothing"),i=eO("accessories"),l=t.getContext("2d"),r=a.getContext("2d"),n=i.getContext("2d");if(!l||!r||!n)return;if(l.clearRect(0,0,h.Mh,h.mG),r.clearRect(0,0,h.Mh,h.mG),n.clearRect(0,0,h.Mh,h.mG),"blank"===e){eY(),tR();return}let s=h.xN[e]||h.xN.steve;l.fillStyle=s.skin,l.fillRect(8,8,8,8),l.fillStyle=s.eyes,l.fillRect(9,11,2,1),l.fillRect(13,11,2,1),l.fillStyle=s.pupils,l.fillRect(10,11,1,1),l.fillRect(13,11,1,1),l.fillStyle=s.hair,l.fillRect(8,8,8,1),l.fillRect(8,8,1,2),l.fillRect(15,8,1,2),l.fillStyle="#a87d5a",l.fillRect(11,14,2,1),l.fillStyle=s.skin,l.fillRect(0,8,8,8),l.fillRect(16,8,8,8),l.fillRect(24,8,8,8),l.fillStyle=s.hair,l.fillRect(24,8,8,1),l.fillStyle=s.hair,l.fillRect(8,0,8,8),l.fillStyle=s.skin,l.fillRect(16,0,8,8),l.fillStyle=s.skin,l.fillRect(44,20,4,12),l.fillRect(40,20,4,12),l.fillRect(48,20,4,12),l.fillRect(52,20,4,12),l.fillRect(36,52,4,12),l.fillRect(32,52,4,12),l.fillRect(40,52,4,12),l.fillRect(44,52,4,12),r.fillStyle=s.shirt,r.fillRect(20,20,8,12),r.fillRect(16,20,4,12),r.fillRect(28,20,4,12),r.fillRect(32,20,8,12),r.fillStyle=s.pants,r.fillRect(4,20,4,12),r.fillRect(0,20,4,12),r.fillRect(8,20,4,12),r.fillRect(12,20,4,12),r.fillRect(20,52,4,12),r.fillRect(16,52,4,12),r.fillRect(24,52,4,12),r.fillRect(28,52,4,12),r.fillStyle=s.shoes,r.fillRect(4,31,4,1),r.fillRect(20,63,4,1),eY(),tR()},[eO,eY]),tR=(0,n.useCallback)(()=>{let e=a.current,t=l.current;if(!e||!t)return;let i=t.getContext("2d");i&&(i.fillStyle="#1a1a2e",i.fillRect(0,0,t.width,t.height),i.imageSmoothingEnabled=!1,i.drawImage(e,8,8,8,8,60,20,64,64),i.drawImage(e,20,20,8,12,60,84,64,96),i.drawImage(e,44,20,4,12,28,84,32,96),i.drawImage(e,36,52,4,12,124,84,32,96),i.drawImage(e,4,20,4,12,60,180,32,96),i.drawImage(e,20,52,4,12,92,180,32,96))},[]),tS=(0,n.useCallback)(()=>{let e=a.current;if(!e)return;let t=prompt("\uD83D\uDCBE Name your skin:","Skin ".concat(eG.length+1));if(!t)return;let i={id:"skin-".concat(Date.now()),name:t,dataUrl:e.toDataURL("image/png"),timestamp:Date.now()};eP(e=>[i,...e].slice(0,20))},[eG.length]),tD=(0,n.useCallback)(e=>{let t=new Image;t.onload=()=>{let e=a.current;if(!e)return;let i=e.getContext("2d");i&&(i.clearRect(0,0,64,64),i.drawImage(t,0,0),eB(!1),tR())},t.src=e.dataUrl},[tR]),tC=(0,n.useCallback)(e=>{eP(t=>t.filter(t=>t.id!==e))},[]),[tv,tT]=(0,n.useState)(null),tI=(0,n.useCallback)(()=>{let e=a.current;if(!e)return;let t=e.toDataURL("image/png").split(",")[1].replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),i="".concat(window.location.origin).concat(window.location.pathname,"?skin=").concat(t.slice(0,2e3));tT(i),navigator.clipboard.writeText(i).then(()=>{ty("download"),tf("shared")}).catch(()=>{})},[]);(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("skin");if(e)try{let t=e.replace(/-/g,"+").replace(/_/g,"/"),i=t+"==".slice(0,(4-t.length%4)%4),l=new Image;l.onload=()=>{let e=a.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,64,64),t.drawImage(l,0,0),tR())},l.src="data:image/png;base64,".concat(i)}catch(e){}},[tR]),(0,n.useEffect)(()=>{tx("steve")},[tx]),(0,n.useEffect)(()=>{eY(),tR()},[eE,eY,tR]);let tE=e=>{if(!R&&"mousemove"===e.type)return;let t=a.current;if(!t)return;let i=t.getContext("2d");if(!i)return;let l=eO(eA).getContext("2d");if(!l)return;R&&Math.random()>.7&&(tk(e.clientX,e.clientY),ty("draw"),tf("firstDraw"));let r=t.getBoundingClientRect(),n=h.Mh/r.width,s=h.mG/r.height,o=Math.floor((e.clientX-r.left)*n),c=Math.floor((e.clientY-r.top)*s);if(!(o<0)&&!(o>=h.Mh)&&!(c<0)&&!(c>=h.mG)){if("eyedropper"===D){let e=i.getImageData(o,c,1,1).data;e[3]>0&&(x(("#"+[e[0],e[1],e[2]].map(e=>e.toString(16).padStart(2,"0")).join("")).toUpperCase()),ty("click"));return}if(I){let e=h.e9[I];if(o<e.x||o>=e.x+e.w||c<e.y||c>=e.y+e.h)return}for(let e=0;e<K;e++)for(let t=0;t<K;t++){let a=o+e,i=c+t;if(!(a>=h.Mh)&&!(i>=h.mG)){if("eraser"===D)l.clearRect(a,i,1,1);else if("fill"===D){if(I){let e=h.e9[I];l.fillStyle=d,l.fillRect(e.x,e.y,e.w,e.h)}}else if("gradient"===D){if(I){let e=h.e9[I],t=l.createLinearGradient(e.x,e.y,e.x+e.w,e.y+e.h);t.addColorStop(0,d),t.addColorStop(1,q),l.fillStyle=t,l.fillRect(e.x,e.y,e.w,e.h)}}else if("glow"===D){l.shadowColor=d,l.shadowBlur=2,l.fillStyle=d;for(let e=0;e<K;e++)for(let t=0;t<K;t++)l.fillRect(o+e,c+t,1,1);l.shadowBlur=0}else if("stamp"===D){l.fillStyle=d;let e={star:[[1,0],[0,1],[1,1],[2,1],[1,2]],heart:[[0,1],[2,1],[0,0],[1,1],[2,0]],diamond:[[1,0],[0,1],[2,1],[1,2]],smiley:[[0,0],[2,0],[0,2],[1,2],[2,2],[1,1]],fire:[[1,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]],lightning:[[1,0],[0,1],[1,1],[1,2],[2,2]]};(e[v]||e.star).forEach(e=>{let[t,a]=e;l.fillRect(o+t,c+a,1,1)})}else if(l.fillStyle=d,l.fillRect(a,i,1,1),j){let e=h.Mh-1-a;l.fillRect(e,i,1,1)}}}eY(),tR()}},tj=e=>{let t=e.touches[0];if(!t)return;let i=a.current;if(!i)return;let l=eO(eA).getContext("2d");if(!l)return;let r=i.getBoundingClientRect(),n=h.Mh/r.width,s=h.mG/r.height,o=Math.floor((t.clientX-r.left)*n),c=Math.floor((t.clientY-r.top)*s);if(!(o<0)&&!(o>=h.Mh)&&!(c<0)&&!(c>=h.mG)){if(I){let e=h.e9[I];if(o<e.x||o>=e.x+e.w||c<e.y||c>=e.y+e.h)return}for(let e=0;e<K;e++)for(let t=0;t<K;t++){let a=o+e,i=c+t;if(!(a>=h.Mh)&&!(i>=h.mG)){if("eraser"===D)l.clearRect(a,i,1,1);else if(l.fillStyle=d,l.fillRect(a,i,1,1),j){let e=h.Mh-1-a;l.fillRect(e,i,1,1)}}}eY(),tR()}},tA=(0,n.useCallback)((e,t)=>{let a=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(a*a+i*i)},[]),tF=(0,n.useCallback)((e,t)=>({x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}),[]),tM=(0,n.useCallback)(e=>{if(e.touches.length>=2){e.preventDefault();let t=e.touches[0],a=e.touches[1],i=tA(t,a),l=tF(t,a);_.current={isGesture:!0,initialDistance:i,initialZoom:P,initialPan:{...B},lastCenter:l},S(!1)}else _.current.isGesture=!1,S(!0),tj(e)},[tA,tF,P,B]),tL=(0,n.useCallback)(e=>{if(e.touches.length>=2&&_.current.isGesture){e.preventDefault();let t=e.touches[0],a=e.touches[1],i=tA(t,a),l=tF(t,a),r=i/_.current.initialDistance;U(Math.max(2,Math.min(12,Math.round(_.current.initialZoom*r))));let n=l.x-_.current.lastCenter.x,s=l.y-_.current.lastCenter.y;O(e=>({x:Math.max(-200,Math.min(200,e.x+n)),y:Math.max(-200,Math.min(200,e.y+s))})),_.current.lastCenter=l}else 1!==e.touches.length||_.current.isGesture||(e.preventDefault(),tj(e))},[tA,tF]),tN=(0,n.useCallback)(e=>{e.touches.length<2&&(_.current.isGesture?_.current.isGesture=!1:(S(!1),tg(),e1(d)))},[tg,e1,d]),tG=(0,n.useCallback)(()=>{O({x:0,y:0}),ty("click")},[ty]),[tP,tU]=(0,n.useState)(!1),[tB,tO]=(0,n.useState)({base:!0,clothing:!0,accessories:!0}),t_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){let e=document.createElement("canvas");e.width=h.Mh,e.height=h.mG;let t=e.getContext("2d");if(!t)return;eE.forEach(e=>{if(!tB[e.id])return;let a=eN.current[e.id];a&&(t.globalAlpha=e.opacity/100,t.drawImage(a,0,0))}),t.globalAlpha=1;let a=document.createElement("a");a.download="".concat(Y||"my-skin",".png"),a.href=e.toDataURL("image/png"),a.click()}else{let e=a.current;if(!e)return;let t=document.createElement("a");t.download="".concat(Y||"my-skin",".png"),t.href=e.toDataURL("image/png"),t.click()}e4(!0),ty("download"),setTimeout(()=>e4(!1),3e3),tU(!1),tf("downloaded")},tV=async()=>{let e=a.current;if(e)try{let t=await new Promise(t=>e.toBlob(e=>t(e),"image/png"));await navigator.clipboard.write([new ClipboardItem({"image/png":t})]),ty("click"),alert("✅ Skin copied to clipboard!")}catch(a){let t=e.toDataURL("image/png");await navigator.clipboard.writeText(t),alert("\uD83D\uDCCB Skin URL copied!")}};return(0,i.jsxs)("div",{style:{backgroundSize:"400% 400%",animation:"gradient 15s ease infinite"},className:"jsx-d254eb5d291d5199 "+"min-h-screen p-6 flex flex-col items-center transition-all duration-700 ".concat(F?"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900":"bg-gradient-to-br from-violet-500 via-fuchsia-500 to-cyan-500"),children:[(0,i.jsx)(r(),{id:"d254eb5d291d5199",children:"@-webkit-keyframes gradient{0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}@-moz-keyframes gradient{0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}@-o-keyframes gradient{0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}@keyframes gradient{0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}"}),(0,i.jsx)(m,{showConfetti:e2,windowSize:e9,showShortcuts:th,setShowShortcuts:tm,showAchievement:tu,showMilestone:e8,particles:te,showHelp:Q,setShowHelp:ee}),(0,i.jsxs)("div",{className:"jsx-d254eb5d291d5199 text-center mb-6",children:[(0,i.jsx)("div",{className:"jsx-d254eb5d291d5199 flex items-center justify-center gap-2 mb-1",children:(0,i.jsx)("span",{className:"jsx-d254eb5d291d5199 text-sm font-semibold text-white/80 bg-white/20 px-2 py-0.5 rounded-full",children:"\uD83C\uDF19 Moonlight"})}),(0,i.jsx)("h1",{className:"jsx-d254eb5d291d5199 text-4xl md:text-6xl font-black text-white drop-shadow-2xl animate-float",children:"\uD83C\uDFA8 Skin Studio"}),(0,i.jsxs)("p",{className:"jsx-d254eb5d291d5199 text-lg text-white/90 mt-1",children:["AI Skin Creator for Minecraft & Roblox ✨",(0,i.jsx)("button",{onClick:()=>tm(!0),title:"Keyboard shortcuts (?)",className:"jsx-d254eb5d291d5199 ml-3 px-2 py-1 text-sm bg-white/20 hover:bg-white/30 rounded-full transition-all",children:"⌨️ Help"})]}),(0,i.jsx)("div",{className:"jsx-d254eb5d291d5199 flex gap-2 mt-3",children:Object.entries(h.Si).map(e=>{let[t,a]=e;return(0,i.jsxs)("button",{onClick:()=>c(t),className:"jsx-d254eb5d291d5199 "+"px-4 py-2 rounded-full font-bold transition-all ".concat(s===t?"bg-white text-purple-600 scale-105 shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:[a.emoji," ",a.name]},t)})})]}),(0,i.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex flex-col lg:flex-row gap-4 w-full max-w-6xl px-2",children:[(0,i.jsx)(g,{canvasRef:a,previewRef:l,show3D:L,setShow3D:N,loadTemplate:tx,generateRandomSkin:tw,isWiggling:e3,setIsWiggling:e6,showConfetti:e2,setShowConfetti:e4,playSound:ty,setLayers:ej,activeLayer:eA,layerCanvasRefs:eN,compositeLayersToMain:eY,updatePreview:tR,saveSkin:tS,savedSkins:eG,showMySkins:eU,setShowMySkins:eB,loadSavedSkin:tD,deleteSavedSkin:tC,shareSkin:tI,shareUrl:tv,setShareUrl:tT}),(0,i.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex-1 glass-card rounded-2xl md:rounded-3xl p-3 md:p-6 shadow-2xl",children:[(0,i.jsx)(p,{tool:D,selectTool:eS,stampShape:v,setStampShape:T,brushSize:K,setBrushSize:H,selectedPart:I,setSelectedPart:E,mirrorMode:j,setMirrorMode:A,darkMode:F,setDarkMode:M,skinName:Y,setSkinName:J,zoomLevel:P,setZoomLevel:U,panOffset:B,resetPanOffset:tG,historyIndex:tn,historyLength:tl.length,undo:tp,redo:tb,downloadSkin:t_,setShowExportPanel:tU,copyToClipboard:tV,clearCanvas:()=>{if(!confirm("Clear the entire canvas?"))return;let e=a.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,h.Mh,h.mG),tR(),tg(),ty("click"))},importSkin:e=>{var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!i)return;let l=a.current;if(!l)return;let r=l.getContext("2d");if(!r)return;let n=new Image;n.onload=()=>{r.clearRect(0,0,h.Mh,h.mG),r.drawImage(n,0,0,h.Mh,h.mG),tR(),tg(),ty("click")},n.src=URL.createObjectURL(i),e.target.value=""},fileInputRef:G,playSound:ty,mobileMenuOpen:ex,setMobileMenuOpen:eR}),(0,i.jsx)("div",{className:"jsx-d254eb5d291d5199 flex justify-center overflow-hidden",children:(0,i.jsxs)("div",{ref:V,style:{backgroundImage:"repeating-conic-gradient(#ddd 0% 25%, #fff 0% 50%)",backgroundSize:"12px 12px",transform:"translate(".concat(B.x,"px, ").concat(B.y,"px)"),transition:(null===(e=_.current)||void 0===e?void 0:e.isGesture)?"none":"transform 0.15s ease-out"},className:"jsx-d254eb5d291d5199 relative rounded-xl p-1 touch-none",children:[(0,i.jsx)("canvas",{ref:a,width:h.Mh,height:h.mG,style:{width:h.Mh*P,height:h.mG*P,imageRendering:"pixelated",transition:(null===(t=_.current)||void 0===t?void 0:t.isGesture)?"none":"width 0.15s ease-out, height 0.15s ease-out"},onMouseDown:e=>{S(!0),tE(e)},onMouseUp:()=>{S(!1),tg(),e1(d)},onMouseLeave:()=>{S(!1)},onMouseMove:tE,onTouchStart:tM,onTouchEnd:tN,onTouchMove:tL,className:"jsx-d254eb5d291d5199 cursor-crosshair touch-none"}),(0!==B.x||0!==B.y)&&(0,i.jsx)("button",{onClick:tG,title:"Reset pan position",className:"jsx-d254eb5d291d5199 absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full text-xs font-bold shadow-lg hover:bg-blue-600 transition-all z-10",children:"↺"})]})}),(0,i.jsxs)("p",{className:"jsx-d254eb5d291d5199 text-center mt-2 text-gray-500 text-sm",children:["\uD83C\uDFA8 Draw here! See your character on the left! ✨",(0,i.jsx)("span",{className:"jsx-d254eb5d291d5199 block text-xs mt-1 md:hidden text-gray-400",children:"\uD83D\uDCF1 Pinch to zoom • Two fingers to pan"})]})]}),(0,i.jsx)(b,{selectedColor:d,setSelectedColor:x,secondaryColor:q,setSecondaryColor:z,recentColors:X})]}),(0,i.jsx)(y,{layers:eE,activeLayer:eA,setActiveLayer:eF,toggleLayerVisibility:e_,setLayerOpacity:eV,setLayerTint:eq,setLayerTintIntensity:ez,setLayers:ej,moveLayer:eH,clearLayer:eJ,copyLayerTo:eX,flattenLayers:e$,compositeLayersToMain:eY,updatePreview:tR,playSound:ty,showLayerPanel:eM,setShowLayerPanel:eL,showDuplicateMenu:eW,setShowDuplicateMenu:eZ,customTintColors:Z,setCustomTintColors:$}),(0,i.jsx)(w,{showExportPanel:tP,setShowExportPanel:tU,layers:eE,exportLayers:tB,setExportLayers:tO,downloadSkin:t_,downloadBaseOnly:()=>{let e=eO("base"),t=document.createElement("a");t.download="".concat(Y||"my-skin","-base.png"),t.href=e.toDataURL("image/png"),t.click(),ty("download")},downloadForRoblox:()=>{let e=a.current;if(!e)return;let t=document.createElement("canvas");t.width=256,t.height=256;let i=t.getContext("2d");if(!i)return;i.imageSmoothingEnabled=!1,i.drawImage(e,0,0,256,256);let l=document.createElement("a");l.download="".concat(Y||"my-skin","-roblox.png"),l.href=t.toDataURL("image/png"),l.click(),e4(!0),ty("download"),setTimeout(()=>e4(!1),3e3)}}),(0,i.jsx)(k,{showAIPanel:et,setShowAIPanel:ea,aiPrompt:ei,setAiPrompt:el,aiStyle:ed,setAiStyle:ef,aiLoading:er,aiError:eh,setAiError:em,useRealAI:eg,setUseRealAI:ep,enhancing:es,enhancePrompt:eQ,generateAISkin:e0,aiHistory:eb,showAIHistory:ew,setShowAIHistory:ek,loadFromHistory:ev,regenerateFromHistory:eT,toggleFavorite:eC,deleteFromHistory:eI}),(0,i.jsx)("button",{onClick:()=>eL(!eM),title:"Toggle Layers (L)",className:"jsx-d254eb5d291d5199 "+"fixed bottom-4 left-16 w-10 h-10 rounded-full shadow-lg text-xl hover:scale-110 transition-transform ".concat(eM?"bg-blue-500 text-white":"bg-white/90"),children:"\uD83C\uDFA8"}),(0,i.jsx)("button",{onClick:()=>ea(!0),title:"AI Skin Generator",className:"jsx-d254eb5d291d5199 fixed bottom-4 left-4 w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-lg text-xl hover:scale-110 transition-transform",children:"\uD83E\uDD16"}),(0,i.jsx)("button",{onClick:()=>ee(!0),title:"Keyboard shortcuts (?)",className:"jsx-d254eb5d291d5199 fixed bottom-4 right-4 w-10 h-10 bg-white/90 rounded-full shadow-lg text-xl font-bold hover:scale-110 transition-transform",children:"?"}),(0,i.jsx)("p",{className:"jsx-d254eb5d291d5199 mt-4 text-white/70 text-sm",children:"Made with \uD83D\uDC96 by Onde • Works with Minecraft Java & Bedrock!"})]})}},6828:function(e,t,a){"use strict";a.d(t,{DM:function(){return o},EA:function(){return i},Mh:function(){return u},Si:function(){return r},_9:function(){return l},_U:function(){return c},e9:function(){return n},mG:function(){return d},xN:function(){return s}});let i=[{id:"base",name:"Base (Skin)",emoji:"\uD83D\uDC64",visible:!0,opacity:100,tint:null,tintIntensity:50,glow:!1},{id:"clothing",name:"Clothing",emoji:"\uD83D\uDC55",visible:!0,opacity:100,tint:null,tintIntensity:50,glow:!1},{id:"accessories",name:"Accessories",emoji:"\uD83C\uDFA9",visible:!0,opacity:100,tint:null,tintIntensity:50,glow:!1}],l=[{color:null,name:"None",emoji:"⭕"},{color:"#FF6B6B",name:"Red",emoji:"\uD83D\uDD34"},{color:"#FFD93D",name:"Gold",emoji:"\uD83D\uDFE1"},{color:"#4D96FF",name:"Blue",emoji:"\uD83D\uDD35"},{color:"#6BCB77",name:"Green",emoji:"\uD83D\uDFE2"},{color:"#9B59B6",name:"Purple",emoji:"\uD83D\uDFE3"},{color:"#FF8E53",name:"Orange",emoji:"\uD83D\uDFE0"},{color:"#00BCD4",name:"Cyan",emoji:"\uD83E\uDE75"},{color:"#E91E63",name:"Pink",emoji:"\uD83D\uDC97"}],r={minecraft:{name:"Minecraft",emoji:"⛏️",width:64,height:64,exportFormat:"PNG 64x64"},roblox:{name:"Roblox",emoji:"\uD83C\uDFAE",width:128,height:128,exportFormat:"PNG 128x128"}},n={head:{x:0,y:0,w:32,h:16,label:"\uD83D\uDDE3️ Head"},body:{x:16,y:16,w:24,h:16,label:"\uD83D\uDC55 Body"},rightArm:{x:40,y:16,w:16,h:16,label:"\uD83D\uDCAA Right Arm"},leftArm:{x:32,y:48,w:16,h:16,label:"\uD83E\uDD1B Left Arm"},rightLeg:{x:0,y:16,w:16,h:16,label:"\uD83E\uDDB5 Right Leg"},leftLeg:{x:16,y:48,w:16,h:16,label:"\uD83E\uDDBF Left Leg"}},s={steve:{name:"\uD83D\uDC66 Steve",skin:"#c4a57b",hair:"#442920",shirt:"#00a8a8",pants:"#3c2a5e",shoes:"#444444",eyes:"#ffffff",pupils:"#5a3825"},robot:{name:"\uD83E\uDD16 Robot",skin:"#8a8a8a",hair:"#444444",shirt:"#3498db",pants:"#2c3e50",shoes:"#1a1a1a",eyes:"#00ff00",pupils:"#00aa00"},ninja:{name:"\uD83E\uDD77 Ninja",skin:"#c4a57b",hair:"#1a1a1a",shirt:"#1a1a1a",pants:"#1a1a1a",shoes:"#2c2c2c",eyes:"#ffffff",pupils:"#000000"},alien:{name:"\uD83D\uDC7D Alien",skin:"#7dcea0",hair:"#27ae60",shirt:"#9b59b6",pants:"#8e44ad",shoes:"#6c3483",eyes:"#000000",pupils:"#1a1a1a"},princess:{name:"\uD83D\uDC78 Princess",skin:"#ffdfc4",hair:"#f1c40f",shirt:"#e91e63",pants:"#9c27b0",shoes:"#ff69b4",eyes:"#87ceeb",pupils:"#4169e1"},zombie:{name:"\uD83E\uDDDF Zombie",skin:"#5a8f5a",hair:"#2d4a2d",shirt:"#00a8a8",pants:"#3c2a5e",shoes:"#444444",eyes:"#1a1a1a",pupils:"#000000"},creeper:{name:"\uD83D\uDC9A Creeper",skin:"#5ba555",hair:"#3d7a3d",shirt:"#4a934a",pants:"#3d7a3d",shoes:"#2d5a2d",eyes:"#000000",pupils:"#000000"}},o=["#FF0000","#FF8800","#FFFF00","#00FF00","#00FFFF","#0088FF","#0000FF","#8800FF","#FF00FF","#FF69B4","#FFFFFF","#000000","#ffdfc4","#f0c8a8","#d4a76a","#c4a57b","#8d6e4c","#5c4033","#FF6B6B","#FF8E53","#FFD93D","#6BCB77","#4D96FF","#9B59B6","#E91E63","#00BCD4","#8BC34A","#FF5722","#795548","#607D8B","#CCCCCC","#888888","#444444","#222222"],c={firstDraw:{name:"First Stroke!",emoji:"\uD83C\uDFA8"},colorMaster:{name:"Color Master",emoji:"\uD83C\uDF08"},saved:{name:"Saved!",emoji:"\uD83D\uDCBE"},shared:{name:"Shared!",emoji:"\uD83D\uDD17"},downloaded:{name:"Downloaded!",emoji:"\uD83D\uDCE5"},undoKing:{name:"Undo King",emoji:"↩️"},layerPro:{name:"Layer Pro",emoji:"\uD83D\uDCDA"},patternUser:{name:"Pattern User",emoji:"\uD83C\uDFAD"}},u=64,d=64},5676:function(e,t,a){"use strict";a.d(t,{$r:function(){return l},q2:function(){return s}});var i=a(257);function l(){return!!i.env.NEXT_PUBLIC_OPENAI_API_KEY}async function r(e){let t=i.env.NEXT_PUBLIC_OPENAI_API_KEY;if(!t)return{success:!1,error:"OpenAI API key not configured. Set NEXT_PUBLIC_OPENAI_API_KEY environment variable."};let a=function(e){switch(e){case"cartoon":return"cartoon style, vibrant colors, bold outlines, playful";case"realistic":return"semi-realistic, detailed textures, natural shading";case"pixel-art":return"pixel art style, 8-bit, retro gaming aesthetic";case"anime":return"anime style, cel-shaded, Japanese animation aesthetic";case"blocky":return"Minecraft blocky style, voxel-like, cubic proportions";default:return"Minecraft style, blocky, pixel-art"}}(e.style||"blocky"),l="Create a Minecraft character skin texture sheet. The character is: ".concat(e.prompt,". \nStyle: ").concat(a,". \nImportant: Generate a flat texture layout showing front view of head, body, arms, and legs suitable for a Minecraft skin.\nThe image should be clean, simple, with clear distinct regions for each body part.\nNo background, just the character texture on a transparent or white background.");try{var r,n,s;let a=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({model:"dall-e-3",prompt:l,n:1,size:"1024x1024",quality:e.quality||"standard",response_format:"url"})});if(!a.ok){let e=await a.json().catch(()=>({error:{message:"Unknown error"}}));return{success:!1,error:(null===(s=e.error)||void 0===s?void 0:s.message)||"API error: ".concat(a.status)}}let i=await a.json(),o=null===(n=i.data)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.url;if(!o)return{success:!1,error:"No image URL in response"};return{success:!0,imageUrl:o}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}async function n(e){return new Promise((t,a)=>{let i=new Image;i.crossOrigin="anonymous",i.onload=()=>{let e=document.createElement("canvas");e.width=64,e.height=64;let l=e.getContext("2d");if(!l){a(Error("Could not create canvas context"));return}l.clearRect(0,0,64,64);let r=i.width;l.drawImage(i,.375*r,.05*r,.25*r,.25*r,8,8,8,8),l.drawImage(i,.375*r,.05*r,.25*r,.25*r,24,8,8,8),l.drawImage(i,.375*r,.02*r,.25*r,.15*r,8,0,8,8),l.drawImage(i,.375*r,.28*r,.25*r,.15*r,16,0,8,8),l.drawImage(i,.3*r,.05*r,.15*r,.25*r,0,8,8,8),l.drawImage(i,.55*r,.05*r,.15*r,.25*r,16,8,8,8),l.drawImage(i,.4*r,.32*r,.2*r,.35*r,20,20,8,12),l.drawImage(i,.4*r,.32*r,.2*r,.35*r,32,20,8,12),l.drawImage(i,.25*r,.32*r,.1*r,.35*r,44,20,4,12),l.drawImage(i,.65*r,.32*r,.1*r,.35*r,36,52,4,12),l.drawImage(i,.35*r,.68*r,.1*r,.3*r,4,20,4,12),l.drawImage(i,.55*r,.68*r,.1*r,.3*r,20,52,4,12),t(e.toDataURL("image/png"))},i.onerror=()=>{a(Error("Failed to load AI-generated image"))},i.src=e})}async function s(e){let t=await r(e);if(!t.success||!t.imageUrl)return{success:!1,error:t.error||"Failed to generate image"};try{let e=await n(t.imageUrl);return{success:!0,skinDataUrl:e,originalImageUrl:t.imageUrl}}catch(e){return{success:!1,originalImageUrl:t.imageUrl,error:e instanceof Error?e.message:"Failed to convert to skin format"}}}}},function(e){e.O(0,[857,971,117,744],function(){return e(e.s=5053)}),_N_E=e.O()}]);