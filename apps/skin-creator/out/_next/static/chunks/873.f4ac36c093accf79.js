"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{873:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(7437),o=n(2265),a=n(3828),l=n(1247);function s(e){let{skinCanvas:t}=e,n=(0,o.useRef)(null),s=(0,o.useRef)(null),i=(0,o.useRef)(null),c=(0,o.useRef)(null),d=(0,o.useRef)(null),u=(0,o.useRef)(null),x=(0,o.useRef)(!1),h=(0,o.useRef)({x:0,y:0}),p=(0,o.useRef)({x:.1,y:.3}),m=(0,o.useRef)(!0),g=(0,o.useRef)(null),[b,w]=(0,o.useState)(!0),[v,y]=(0,o.useState)("walk"),f=(0,o.useRef)("walk"),[D,k]=(0,o.useState)(5),E=(0,o.useRef)(5),[j,C]=(0,o.useState)(1),M=(0,o.useRef)(1),[N,S]=(0,o.useState)("gradient"),[L,z]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(!n.current)return;let e=new a.xsS,t=document.createElement("canvas");t.width=2,t.height=256;let r=t.getContext("2d"),o=r.createLinearGradient(0,0,0,256);o.addColorStop(0,"#1a1a3e"),o.addColorStop(.5,"#2a2a4e"),o.addColorStop(1,"#0a0a1e"),r.fillStyle=o,r.fillRect(0,0,2,256);let u=new a.ROQ(t);e.background=u,i.current=e;let b=new a.cPb(45,1,.1,1e3);b.position.set(0,1.2,3.5),b.lookAt(0,.9,0),c.current=b;let w=new l.CP7({antialias:!0,alpha:!0});w.setSize(200,280),w.setPixelRatio(window.devicePixelRatio),w.shadowMap.enabled=!0,w.shadowMap.type=a.ntZ,w.toneMapping=a.LY2,w.toneMappingExposure=1.2,n.current.appendChild(w.domElement),s.current=w;let v=new a.Mig(4210784,.4);e.add(v);let y=new a.Ox3(16777215,1);y.position.set(5,10,7),y.castShadow=!0,y.shadow.mapSize.width=512,y.shadow.mapSize.height=512,y.shadow.camera.near=.5,y.shadow.camera.far=50,e.add(y);let D=new a.Ox3(6724095,.6);D.position.set(-5,5,-5),e.add(D);let j=new a.cek(16750950,.3,10);j.position.set(-3,2,3),e.add(j);let C=new a._12(10,10),N=new a.Tn7({opacity:.3}),S=new a.Kj0(C,N);S.rotation.x=-Math.PI/2,S.position.y=0,S.receiveShadow=!0,e.add(S);let L=new a.ZAu;d.current=L;let z=new a.Wid({color:12887419,roughness:.8,metalness:.1}),R=new a.DvJ(.5,.5,.5),F=new a.Kj0(R,z.clone());F.position.y=1.75,F.name="head",F.castShadow=!0,F.receiveShadow=!0,L.add(F);let A=new a.DvJ(.5,.75,.25),P=new a.Kj0(A,z.clone());P.position.y=1.125,P.name="body",P.castShadow=!0,P.receiveShadow=!0,L.add(P);let I=new a.DvJ(.25,.75,.25),B=new a.Kj0(I,z.clone());B.position.set(-.375,1.125,0),B.name="rightArm",B.castShadow=!0,L.add(B);let T=new a.Kj0(I,z.clone());T.position.set(.375,1.125,0),T.name="leftArm",T.castShadow=!0,L.add(T);let Y=new a.DvJ(.25,.75,.25),K=new a.Kj0(Y,z.clone());K.position.set(-.125,.375,0),K.name="rightLeg",K.castShadow=!0,L.add(K);let O=new a.Kj0(Y,z.clone());O.position.set(.125,.375,0),O.name="leftLeg",O.castShadow=!0,L.add(O),e.add(L);let G=new a.u9r,W=new Float32Array(90),X=new Float32Array(90);for(let e=0;e<30;e++){let t=Math.random()*Math.PI*2,n=.8+.5*Math.random();W[3*e]=Math.cos(t)*n,W[3*e+1]=2.5*Math.random(),W[3*e+2]=Math.sin(t)*n;let r=Math.random();r<.33?(X[3*e]=1,X[3*e+1]=.84,X[3*e+2]=0):(r<.66?(X[3*e]=0,X[3*e+1]=1):(X[3*e]=.5,X[3*e+1]=0),X[3*e+2]=1)}G.setAttribute("position",new a.TlE(W,3)),G.setAttribute("color",new a.TlE(X,3));let _=new a.UY4({size:.05,vertexColors:!0,transparent:!0,opacity:.8,blending:a.WMw}),J=new a.woe(G,_);g.current=J,e.add(J);let Z=e=>{x.current=!0,m.current=!1,h.current={x:e.clientX,y:e.clientY}},U=e=>{if(!x.current)return;let t=e.clientX-h.current.x,n=e.clientY-h.current.y;p.current.y+=.01*t,p.current.x+=.01*n,p.current.x=Math.max(-Math.PI/4,Math.min(Math.PI/4,p.current.x)),h.current={x:e.clientX,y:e.clientY}},Q=()=>{x.current=!1,setTimeout(()=>{m.current=!0},3e3)},q=e=>{x.current=!0,m.current=!1,h.current={x:e.touches[0].clientX,y:e.touches[0].clientY}},H=e=>{if(!x.current)return;let t=e.touches[0].clientX-h.current.x,n=e.touches[0].clientY-h.current.y;p.current.y+=.01*t,p.current.x+=.01*n,p.current.x=Math.max(-Math.PI/4,Math.min(Math.PI/4,p.current.x)),h.current={x:e.touches[0].clientX,y:e.touches[0].clientY}},V=()=>{x.current=!1,setTimeout(()=>{m.current=!0},3e3)},$=e=>{e.preventDefault();let t=e.deltaY>0?.5:-.5,n=Math.min(10,Math.max(3,E.current+t));E.current=n,k(n),b&&(b.position.z=n)},ee=()=>{p.current={x:.1,y:.3},E.current=5,k(5),b&&(b.position.z=5),m.current=!0};w.domElement.addEventListener("mousedown",Z),w.domElement.addEventListener("mousemove",U),w.domElement.addEventListener("mouseup",Q),w.domElement.addEventListener("mouseleave",Q),w.domElement.addEventListener("touchstart",q),w.domElement.addEventListener("touchmove",H),w.domElement.addEventListener("touchend",V),w.domElement.addEventListener("wheel",$,{passive:!1}),w.domElement.addEventListener("dblclick",ee);let et=0,en=()=>{requestAnimationFrame(en),et+=.05*M.current,m.current&&(p.current.y+=.01),L.rotation.y=p.current.y,L.rotation.x=p.current.x;let t=L.getObjectByName("rightArm"),n=L.getObjectByName("leftArm"),r=L.getObjectByName("rightLeg"),o=L.getObjectByName("leftLeg"),a=f.current;if("walk"===a){let e=.3*Math.sin(et);t&&(t.rotation.x=e),n&&(n.rotation.x=-e),r&&(r.rotation.x=-e),o&&(o.rotation.x=e)}else if("idle"===a){let e=.05*Math.sin(.5*et);t&&(t.rotation.x=e),n&&(n.rotation.x=e),r&&(r.rotation.x=0),o&&(o.rotation.x=0)}else if("wave"===a){let e=.5*Math.sin(3*et)+.8;t&&(t.rotation.x=-1.5,t.rotation.z=e),n&&(n.rotation.x=0),r&&(r.rotation.x=0),o&&(o.rotation.x=0)}else if("dance"===a){let e=2*et,a=1.2*Math.sin(e),l=.4*Math.sin(e);t&&(t.rotation.x=a,t.rotation.z=.3*Math.sin(2*e)),n&&(n.rotation.x=-a,n.rotation.z=-(.3*Math.sin(2*e))),r&&(r.rotation.x=l),o&&(o.rotation.x=-l),L.position.y=.1*Math.abs(Math.sin(2*e))}else if("floss"===a){let e=4*et,a=1.5*Math.sin(e),l=.2*Math.sin(e);t&&(t.rotation.x=0,t.rotation.z=a),n&&(n.rotation.x=0,n.rotation.z=-a),r&&(r.rotation.x=.3*l),o&&(o.rotation.x=-(.3*l)),L.rotation.y=p.current.y+l}else if("dab"===a){let e=.02*Math.sin(2*et);t&&(t.rotation.x=-2.5,t.rotation.z=.5),n&&(n.rotation.x=-.5,n.rotation.z=-1.2),L.rotation.z=.2+e,r&&(r.rotation.x=0),o&&(o.rotation.x=0)}let l=J.geometry.attributes.position;for(let e=0;e<30;e++)l.array[3*e+1]+=.01,l.array[3*e+1]>2.8&&(l.array[3*e+1]=0);l.needsUpdate=!0,J.rotation.y=.2*et,w.render(e,b)};return en(),()=>{w.domElement.removeEventListener("mousedown",Z),w.domElement.removeEventListener("mousemove",U),w.domElement.removeEventListener("mouseup",Q),w.domElement.removeEventListener("mouseleave",Q),w.domElement.removeEventListener("touchstart",q),w.domElement.removeEventListener("touchmove",H),w.domElement.removeEventListener("touchend",V),w.domElement.removeEventListener("wheel",$),w.domElement.removeEventListener("dblclick",ee),w.dispose(),n.current&&n.current.removeChild(w.domElement)}},[]),(0,o.useEffect)(()=>{if(!t||!d.current)return;let e=new a.ROQ(t);e.magFilter=a.TyD,e.minFilter=a.TyD,u.current=e,d.current.traverse(e=>{e instanceof a.Kj0&&e.material})},[t]),(0,o.useEffect)(()=>{g.current&&(g.current.visible=b)},[b]),(0,o.useEffect)(()=>{f.current=v},[v]),(0,o.useEffect)(()=>{c.current&&(c.current.position.z=D)},[D]),(0,o.useEffect)(()=>{M.current=j},[j]);let R=e=>{switch(e){case"front":p.current={x:.1,y:0};break;case"side":p.current={x:.1,y:Math.PI/2};break;case"back":p.current={x:.1,y:Math.PI}}m.current=!1,setTimeout(()=>{m.current=!0},3e3)};return(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("div",{className:"relative rounded-xl overflow-hidden mx-auto cursor-grab active:cursor-grabbing shadow-2xl",style:{width:200,height:280,boxShadow:"0 0 30px rgba(100, 149, 237, 0.3), 0 0 60px rgba(138, 43, 226, 0.2)"},children:[(0,r.jsx)("div",{ref:n,className:"w-full h-full"}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.4) 100%)"}}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"radial-gradient(ellipse at center, rgba(255,255,255,0.1) 0%, transparent 60%)"}}),(0,r.jsxs)("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>z(!L),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded-lg text-xs font-bold hover:scale-105 shadow-lg",title:"Choose screenshot background",children:["gradient"===N&&"\uD83C\uDF08","transparent"===N&&"\uD83D\uDD32","white"===N&&"⬜","black"===N&&"⬛","green"===N&&"\uD83D\uDFE2"]}),L&&(0,r.jsxs)("div",{className:"absolute bottom-full right-0 mb-1 bg-white rounded-lg shadow-xl p-1 flex flex-col gap-0.5 z-10",children:[(0,r.jsx)("button",{onClick:()=>{S("gradient"),z(!1)},className:"px-2 py-1 rounded text-xs font-bold hover:bg-gray-100 flex items-center gap-1 ".concat("gradient"===N?"bg-purple-100 text-purple-700":"text-gray-700"),title:"Gradient background",children:"\uD83C\uDF08 Gradient"}),(0,r.jsx)("button",{onClick:()=>{S("transparent"),z(!1)},className:"px-2 py-1 rounded text-xs font-bold hover:bg-gray-100 flex items-center gap-1 ".concat("transparent"===N?"bg-purple-100 text-purple-700":"text-gray-700"),title:"Transparent background (PNG)",children:"\uD83D\uDD32 Transparent"}),(0,r.jsx)("button",{onClick:()=>{S("white"),z(!1)},className:"px-2 py-1 rounded text-xs font-bold hover:bg-gray-100 flex items-center gap-1 ".concat("white"===N?"bg-purple-100 text-purple-700":"text-gray-700"),title:"White background",children:"⬜ White"}),(0,r.jsx)("button",{onClick:()=>{S("black"),z(!1)},className:"px-2 py-1 rounded text-xs font-bold hover:bg-gray-100 flex items-center gap-1 ".concat("black"===N?"bg-purple-100 text-purple-700":"text-gray-700"),title:"Black background",children:"⬛ Black"}),(0,r.jsx)("button",{onClick:()=>{S("green"),z(!1)},className:"px-2 py-1 rounded text-xs font-bold hover:bg-gray-100 flex items-center gap-1 ".concat("green"===N?"bg-purple-100 text-purple-700":"text-gray-700"),title:"Green screen (for compositing)",children:"\uD83D\uDFE2 Green"})]})]}),(0,r.jsx)("button",{onClick:()=>{let e=s.current,t=i.current,n=c.current;if(!e||!t||!n)return;let r=t.background;switch(N){case"transparent":t.background=null;break;case"white":t.background=new a.Ilk(16777215);break;case"black":t.background=new a.Ilk(0);break;case"green":t.background=new a.Ilk(65280)}let o=e.getSize(new a.FM8);e.setSize(800,1120),e.render(t,n);let l=e.domElement.toDataURL("image/png");t.background=r,e.setSize(o.x,o.y);let d=document.createElement("a");d.download="minecraft-skin-3d-".concat(N,".png"),d.href=l,d.click()},className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded-lg text-xs font-bold hover:scale-105 shadow-lg",title:"\uD83D\uDCF8 Save 3D preview (".concat(N," background)"),children:"\uD83D\uDCF8"})]}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,r.jsx)("button",{onClick:()=>k(e=>Math.max(3,e-1)),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Zoom in",children:"\uD83D\uDD0D+"}),(0,r.jsx)("button",{onClick:()=>k(e=>Math.min(10,e+1)),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Zoom out",children:"\uD83D\uDD0D−"}),(0,r.jsx)("div",{className:"mt-2 text-xs text-center text-white/80",children:"⏩"}),(0,r.jsx)("button",{onClick:()=>C(e=>Math.max(.25,e-.25)),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Slower",children:"\uD83D\uDC22"}),(0,r.jsxs)("div",{className:"text-xs text-center text-white font-bold",children:[j,"x"]}),(0,r.jsx)("button",{onClick:()=>C(e=>Math.min(3,e+.25)),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Faster",children:"\uD83D\uDC07"})]}),(0,r.jsxs)("div",{className:"absolute bottom-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,r.jsx)("button",{onClick:()=>R("front"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Front view",children:"\uD83D\uDC64"}),(0,r.jsx)("button",{onClick:()=>R("side"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Side view",children:"\uD83D\uDC48"}),(0,r.jsx)("button",{onClick:()=>R("back"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold hover:scale-105 shadow",title:"Back view",children:"\uD83D\uDD19"}),(0,r.jsx)("button",{onClick:()=>w(!b),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat(b?"bg-yellow-400 text-yellow-900":"bg-gray-400 text-gray-700"),title:b?"Hide particles":"Show particles",children:"✨"})]}),(0,r.jsxs)("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,r.jsx)("button",{onClick:()=>y("walk"),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat("walk"===v?"bg-green-400 text-green-900":"bg-white/90 text-gray-800"),title:"Walking pose",children:"\uD83D\uDEB6"}),(0,r.jsx)("button",{onClick:()=>y("idle"),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat("idle"===v?"bg-blue-400 text-blue-900":"bg-white/90 text-gray-800"),title:"Idle pose",children:"\uD83E\uDDCD"}),(0,r.jsx)("button",{onClick:()=>y("wave"),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat("wave"===v?"bg-pink-400 text-pink-900":"bg-white/90 text-gray-800"),title:"Waving pose",children:"\uD83D\uDC4B"}),(0,r.jsx)("button",{onClick:()=>y("dance"),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat("dance"===v?"bg-purple-400 text-purple-900":"bg-white/90 text-gray-800"),title:"Dance! \uD83D\uDC83",children:"\uD83D\uDC83"}),(0,r.jsx)("button",{onClick:()=>y("floss"),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat("floss"===v?"bg-orange-400 text-orange-900":"bg-white/90 text-gray-800"),title:"Floss! \uD83D\uDD7A",children:"\uD83D\uDD7A"}),(0,r.jsx)("button",{onClick:()=>y("dab"),className:"px-1.5 py-1 rounded text-xs font-bold hover:scale-105 shadow ".concat("dab"===v?"bg-cyan-400 text-cyan-900":"bg-white/90 text-gray-800"),title:"Dab! \uD83D\uDE0E",children:"\uD83D\uDE0E"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-400 text-center mt-1",children:"\uD83D\uDDB1️ Drag • Scroll zoom • Double-click reset"})]})}}}]);