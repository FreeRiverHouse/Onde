(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{656:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(5155),i=a(2115),s=a(2619),l=a.n(s),o=a(9087),r=a(3e3),c=a(8135);let d=[{id:"salmo-23-bambini-it",title:"Il Salmo 23 per Bambini",file:"/books/epub/salmo-23-bambini-it.epub",lang:"Italiano",cover:null},{id:"salmo-23-bambini-en",title:"Psalm 23 for Children",file:"/books/epub/salmo-23-bambini-en.epub",lang:"English",cover:null},{id:"psalm-23-abundance-de",title:"Psalm 23: Abundance",file:"/books/epub/psalm-23-abundance-de.epub",lang:"Deutsch",cover:null},{id:"psalm-23-abundance-es",title:"Salmo 23: Abundancia",file:"/books/epub/psalm-23-abundance-es.epub",lang:"Espanol",cover:null},{id:"psalm-23-abundance-fr",title:"Psaume 23: Abondance",file:"/books/epub/psalm-23-abundance-fr.epub",lang:"Francais",cover:null},{id:"psalm-23-abundance-ko",title:"Psalm 23: Abundance",file:"/books/epub/psalm-23-abundance-ko.epub",lang:"Korean",cover:null}];function x(e){let{book:t,onClick:a}=e,[s,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let e=(0,c.Ay)(t.file);await e.ready;let a=await e.coverUrl();a&&l(a),e.destroy()}catch(e){}})()},[t.file]),(0,n.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-8,scale:1.02},transition:{duration:.3},onClick:a,className:"cursor-pointer group",children:(0,n.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-500 border border-onde-coral/10 hover:border-onde-coral/30",children:[(0,n.jsxs)("div",{className:"aspect-[3/4] relative overflow-hidden bg-gradient-to-br from-onde-cream to-onde-sand",children:[s?(0,n.jsx)("img",{src:s,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center p-6",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCD6"}),(0,n.jsx)("div",{className:"w-16 h-1 mx-auto rounded-full bg-gradient-to-r from-onde-coral via-onde-gold to-onde-teal"})]})}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-onde-ocean/80 via-onde-ocean/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-8",children:(0,n.jsxs)("span",{className:"text-white font-semibold px-6 py-3 rounded-full bg-onde-coral/90 flex items-center gap-2",children:[(0,n.jsx)("span",{children:"Leggi ora"}),(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),(0,n.jsxs)("div",{className:"p-5",children:[(0,n.jsx)("h3",{className:"font-display font-bold text-onde-ocean text-lg mb-2 line-clamp-2 group-hover:text-onde-coral transition-colors",children:t.title}),(0,n.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-sm text-onde-ocean/60 bg-onde-cream/50 px-3 py-1 rounded-full",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.lang]})]})]})})}function u(e){let{book:t,onClose:a}=e,s=(0,i.useRef)(null),l=(0,i.useRef)(null),d=(0,i.useRef)(null),[x,u]=(0,i.useState)(!0),[m,h]=(0,i.useState)(null),[b,p]=(0,i.useState)(""),[f,g]=(0,i.useState)([]),[j,v]=(0,i.useState)(!1),[y,w]=(0,i.useState)(100),[N,k]=(0,i.useState)("light"),[C,D]=(0,i.useState)(0),L={light:{body:{background:"#ffffff",color:"#1B4F72"},name:"Giorno",icon:"☀️",bgClass:"bg-white",textClass:"text-onde-ocean"},sepia:{body:{background:"#FDF6E3",color:"#44403c"},name:"Seppia",icon:"\uD83D\uDCDC",bgClass:"bg-onde-cream",textClass:"text-stone-700"},dark:{body:{background:"#0a1628",color:"#e8f4f8"},name:"Notte",icon:"\uD83C\uDF19",bgClass:"bg-[#0a1628]",textClass:"text-gray-100"}};(0,i.useEffect)(()=>{if(s.current)return(async()=>{try{u(!0),h(null);let e=(0,c.Ay)(t.file);l.current=e,await e.ready;let a=await e.loaded.navigation;a.toc&&g(a.toc);let n=e.renderTo(s.current,{width:"100%",height:"100%",spread:"none",flow:"paginated"});d.current=n,n.themes.default({body:L[N].body,"p, span, div":{"font-family":"Georgia, serif !important","line-height":"1.8 !important"}}),await n.display(),n.on("relocated",e=>{p(e.start.cfi),D(Math.round(100*e.start.percentage))}),u(!1)}catch(e){console.error("Error loading epub:",e),h("Impossibile caricare il libro. Riprova."),u(!1)}})(),()=>{d.current&&d.current.destroy(),l.current&&l.current.destroy()}},[t.file]),(0,i.useEffect)(()=>{d.current&&d.current.themes.default({body:L[N].body,"p, span, div":{"font-family":"Georgia, serif !important","line-height":"1.8 !important"}})},[N]),(0,i.useEffect)(()=>{d.current&&d.current.themes.fontSize("".concat(y,"%"))},[y]);let P=(0,i.useCallback)(()=>{d.current&&d.current.next()},[]),E=(0,i.useCallback)(()=>{d.current&&d.current.prev()},[]),M=(0,i.useCallback)(e=>{d.current&&(d.current.display(e),v(!1))},[]);(0,i.useEffect)(()=>{let e=e=>{"ArrowRight"===e.key||" "===e.key?(e.preventDefault(),P()):"ArrowLeft"===e.key?(e.preventDefault(),E()):"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[P,E,a]);let A=L[N];return(0,n.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex flex-col",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),(0,n.jsxs)(o.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative z-10 flex flex-col w-full h-full max-w-5xl mx-auto ".concat(A.bgClass),children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-black/10 z-20",children:(0,n.jsx)(o.P.div,{className:"h-full bg-gradient-to-r from-onde-teal via-onde-gold to-onde-coral",initial:{width:0},animate:{width:"".concat(C,"%")},transition:{duration:.3}})}),(0,n.jsxs)("header",{className:"flex items-center justify-between px-4 py-3 border-b ".concat("dark"===N?"border-white/10":"border-onde-ocean/10"),children:[(0,n.jsxs)("button",{onClick:a,className:"flex items-center gap-2 ".concat(A.textClass," opacity-70 hover:opacity-100 transition-opacity"),children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,n.jsx)("span",{className:"hidden sm:inline font-medium",children:"Chiudi"})]}),(0,n.jsx)("h1",{className:"font-display font-bold ".concat(A.textClass," text-sm sm:text-base truncate max-w-[50%] text-center"),children:t.title}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>{let e=["light","sepia","dark"],t=(e.indexOf(N)+1)%e.length;k(e[t])},className:"w-9 h-9 rounded-full flex items-center justify-center ".concat("dark"===N?"bg-white/10 hover:bg-white/20":"bg-onde-ocean/10 hover:bg-onde-ocean/20"," transition-colors"),title:"Tema: ".concat(A.name),children:A.icon}),(0,n.jsx)("button",{onClick:()=>w(e=>Math.max(80,e-10)),className:"w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm ".concat("dark"===N?"bg-white/10 hover:bg-white/20 text-white":"bg-onde-ocean/10 hover:bg-onde-ocean/20 text-onde-ocean"," transition-colors"),title:"Riduci testo",children:"A-"}),(0,n.jsx)("button",{onClick:()=>w(e=>Math.min(150,e+10)),className:"w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm ".concat("dark"===N?"bg-white/10 hover:bg-white/20 text-white":"bg-onde-ocean/10 hover:bg-onde-ocean/20 text-onde-ocean"," transition-colors"),title:"Ingrandisci testo",children:"A+"}),f.length>0&&(0,n.jsx)("button",{onClick:()=>v(!j),className:"w-9 h-9 rounded-full flex items-center justify-center ".concat("dark"===N?"bg-white/10 hover:bg-white/20 text-white":"bg-onde-ocean/10 hover:bg-onde-ocean/20 text-onde-ocean"," transition-colors"),title:"Indice",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})})]})]}),(0,n.jsxs)("div",{className:"flex-1 relative overflow-hidden",children:[(0,n.jsx)(r.N,{children:j&&(0,n.jsx)(o.P.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] z-20 ".concat(A.bgClass," border-l ").concat("dark"===N?"border-white/10":"border-onde-ocean/10"," shadow-2xl overflow-y-auto"),children:(0,n.jsxs)("div",{className:"p-5",children:[(0,n.jsx)("h3",{className:"font-display font-bold text-lg mb-4 ".concat("dark"===N?"text-onde-gold":"text-onde-coral"),children:"Indice"}),(0,n.jsx)("nav",{className:"space-y-1",children:f.map((e,t)=>(0,n.jsx)("button",{onClick:()=>M(e.href),className:"w-full text-left px-4 py-3 rounded-xl text-sm transition-all ".concat(A.textClass," opacity-70 hover:opacity-100 ").concat("dark"===N?"hover:bg-white/10":"hover:bg-onde-ocean/10"),children:e.label},t))})]})})}),x&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"relative inline-block",children:[(0,n.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-onde-teal/20 border-t-onde-teal animate-spin"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCD6"})})]}),(0,n.jsx)("p",{className:"mt-4 ".concat(A.textClass," animate-pulse"),children:"Caricamento..."})]})}),m&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center p-8",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDE15"}),(0,n.jsx)("p",{className:"".concat(A.textClass," mb-4"),children:m}),(0,n.jsx)("button",{onClick:a,className:"px-6 py-3 bg-onde-coral text-white rounded-full font-semibold hover:bg-onde-coral-dark transition-colors",children:"Torna alla libreria"})]})}),(0,n.jsx)("div",{ref:s,className:"w-full h-full ".concat(x||m?"invisible":"visible"),style:{minHeight:"400px"}}),!x&&!m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:E,className:"absolute left-2 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center ".concat("dark"===N?"bg-white/10 hover:bg-white/20 text-white":"bg-onde-ocean/10 hover:bg-onde-ocean/20 text-onde-ocean"," transition-all opacity-50 hover:opacity-100"),title:"Pagina precedente",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("button",{onClick:P,className:"absolute right-2 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center ".concat("dark"===N?"bg-white/10 hover:bg-white/20 text-white":"bg-onde-ocean/10 hover:bg-onde-ocean/20 text-onde-ocean"," transition-all opacity-50 hover:opacity-100"),title:"Pagina successiva",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,n.jsxs)("footer",{className:"px-4 py-3 border-t ".concat("dark"===N?"border-white/10":"border-onde-ocean/10"," flex items-center justify-between text-sm"),children:[(0,n.jsxs)("span",{className:"".concat(A.textClass," opacity-60"),children:[C,"% completato"]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("span",{className:"".concat(A.textClass," opacity-60 hidden sm:inline"),children:"Usa le frecce o clicca per navigare"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-onde-teal",children:"\uD83C\uDF0A"}),(0,n.jsx)("span",{className:"".concat(A.textClass," opacity-60 font-medium"),children:"Onde"})]})]})]})]})]})}function m(){let[e,t]=(0,i.useState)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"min-h-screen",children:[(0,n.jsx)("section",{className:"relative py-16 md:py-24",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[(0,n.jsxs)("span",{className:"section-badge",children:[(0,n.jsx)("span",{className:"text-xl",children:"\uD83D\uDCDA"}),(0,n.jsx)("span",{children:"Libreria Digitale"})]}),(0,n.jsxs)("h1",{className:"section-title",children:["Leggi i Nostri"," ",(0,n.jsx)("span",{className:"text-gradient-sunset",children:"Libri"})]}),(0,n.jsx)("p",{className:"section-subtitle mt-4",children:"Sfoglia e leggi i libri illustrati di Onde direttamente nel browser. Un'esperienza di lettura pensata per le famiglie."})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6",children:d.map(e=>(0,n.jsx)(x,{book:e,onClick:()=>t(e)},e.id))}),0===d.length&&(0,n.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24",children:[(0,n.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCDA"}),(0,n.jsx)("h2",{className:"text-2xl font-display font-bold text-onde-ocean mb-4",children:"Nessun libro disponibile"}),(0,n.jsx)("p",{className:"text-onde-ocean/60 max-w-md mx-auto",children:"I nostri libri saranno presto disponibili. Torna a trovarci!"}),(0,n.jsx)(l(),{href:"/",className:"btn-primary mt-8 inline-flex",children:"Torna alla Home"})]})]})}),(0,n.jsx)("section",{className:"py-16 bg-gradient-to-b from-transparent to-onde-cream/50",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,n.jsxs)(o.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-center p-8 bg-white/60 backdrop-blur-sm rounded-3xl border border-onde-coral/10",children:[(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-onde-coral/20 to-onde-gold/20 flex items-center justify-center text-3xl",children:"\uD83D\uDCF1"}),(0,n.jsx)("h3",{className:"font-display font-bold text-onde-ocean text-lg mb-2",children:"Leggi Ovunque"}),(0,n.jsx)("p",{className:"text-onde-ocean/60 text-sm",children:"Accedi ai tuoi libri da qualsiasi dispositivo, anche offline dopo il primo caricamento."})]}),(0,n.jsxs)(o.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-center p-8 bg-white/60 backdrop-blur-sm rounded-3xl border border-onde-teal/10",children:[(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-onde-teal/20 to-onde-blue/20 flex items-center justify-center text-3xl",children:"\uD83C\uDF19"}),(0,n.jsx)("h3",{className:"font-display font-bold text-onde-ocean text-lg mb-2",children:"Modalita Notte"}),(0,n.jsx)("p",{className:"text-onde-ocean/60 text-sm",children:"Tre temi di lettura: giorno, seppia e notte per leggere in ogni condizione."})]}),(0,n.jsxs)(o.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"text-center p-8 bg-white/60 backdrop-blur-sm rounded-3xl border border-onde-gold/10",children:[(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-onde-gold/20 to-onde-coral/20 flex items-center justify-center text-3xl",children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"}),(0,n.jsx)("h3",{className:"font-display font-bold text-onde-ocean text-lg mb-2",children:"Per Tutta la Famiglia"}),(0,n.jsx)("p",{className:"text-onde-ocean/60 text-sm",children:"Contenuti selezionati e illustrati con cura per essere letti insieme."})]})]})})})]}),(0,n.jsx)(r.N,{children:e&&(0,n.jsx)(u,{book:e,onClose:()=>t(null)})})]})}},8516:(e,t,a)=>{Promise.resolve().then(a.bind(a,656))}},e=>{e.O(0,[920,87,619,937,441,255,358],()=>e(e.s=8516)),_N_E=e.O()}]);