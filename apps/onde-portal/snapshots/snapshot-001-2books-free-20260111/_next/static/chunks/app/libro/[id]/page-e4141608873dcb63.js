(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{5036:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var n=a(5155),o=a(2115),i=a(2619),l=a.n(i),r=a(1865);let s={};function c(e){var t,a;let{bookId:i}=e,[r,c]=(0,o.useState)(null),[d,h]=(0,o.useState)(!0),[m,u]=(0,o.useState)(null),[f,g]=(0,o.useState)(19),[b,p]=(0,o.useState)(0),[x,v]=(0,o.useState)(!1),[j,N]=(0,o.useState)(0),[w,C]=(0,o.useState)("notte"),E=(0,o.useRef)(null),y=s[i];(0,o.useEffect)(()=>{let e=()=>{if(!E.current)return;let{scrollTop:e,scrollHeight:t,clientHeight:a}=document.documentElement;N(Math.min(100,Math.max(0,e/(t-a)*100)))};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,o.useEffect)(()=>{let e=localStorage.getItem("onde-reader-fontsize"),t=localStorage.getItem("onde-reader-theme");e&&g(parseInt(e)),t&&C(t)},[]),(0,o.useEffect)(()=>{localStorage.setItem("onde-reader-fontsize",f.toString()),localStorage.setItem("onde-reader-theme",w)},[f,w]);let D={"salmo-23":{title:"Il Pastore - Il Salmo 23 per Bambini",author:"Tradizione Biblica",lang:"it",content:"",wordCount:450,chapters:[{title:"Capitolo 1: Il Signore \xe8 il mio pastore",content:'C\'era una volta un pastore buono, il pi\xf9 buono del mondo.\nAveva occhi gentili come il miele\ne un sorriso che scaldava come il sole.\n\n"Io sar\xf2 sempre con te," sussurrava il pastore,\n"Non ti mancher\xe0 mai niente,\nperch\xe9 io mi prendo cura di te."\n\nE le sue pecorelle, bianche come nuvole,\nlo seguivano felici dovunque andasse.'},{title:"Capitolo 2: I pascoli e le acque tranquille",content:"Il pastore conosceva i posti pi\xf9 belli:\nprati verdi dove l'erba era morbida,\nruscelli che cantavano canzoni d'argento.\n\n\"Riposa qui,\" diceva il pastore,\n\"L'acqua fresca ti dar\xe0 forza,\ne l'erba verde ti far\xe0 crescere.\"\n\nLe pecorelle si sdraiavano contente,\ne il mondo sembrava un abbraccio grande."},{title:"Capitolo 3: I sentieri giusti",content:'A volte la strada sembrava difficile,\npiena di sassi e curve misteriose.\n\nMa il pastore camminava davanti:\n"Seguimi," diceva con voce sicura,\n"Io conosco la via giusta.\nTi porto dove c\'\xe8 la luce."\n\nE le pecorelle camminavano tranquille,\nperch\xe9 sapevano di essere al sicuro.'},{title:"Capitolo 4: La valle oscura",content:'Un giorno arriv\xf2 una valle buia,\ndove le ombre sembravano giganti\ne il vento faceva paura.\n\nMa il pastore strinse forte il suo bastone:\n"Non temere," disse piano,\n"Io sono qui, proprio accanto a te.\nIl buio non ti pu\xf2 far male\nquando camminiamo insieme."\n\nE le pecorelle sentirono il cuore calmo,\nperch\xe9 il pastore era vicino.'},{title:"Capitolo 5: La tavola e la coppa",content:'Poi arriv\xf2 un giorno di festa!\nIl pastore prepar\xf2 una tavola bellissima\npiena di frutti colorati,\npane dorato e miele dolce.\n\n"Questa \xe8 per te," disse sorridendo,\n"Perch\xe9 tu sei speciale.\nLa tua coppa \xe8 cos\xec piena\nche trabocca di gioia!"\n\nE le pecorelle mangiarono felici,\nsentendosi le pi\xf9 amate del mondo.'},{title:"Capitolo 6: La casa del Signore",content:'E cos\xec, giorno dopo giorno,\nil pastore guidava le sue pecorelle\nverso casa - una casa bellissima\nfatta di luce e amore.\n\n"Questa \xe8 la tua casa," disse il pastore,\n"E io sar\xf2 sempre qui.\nOggi, domani e per sempre,\nla bont\xe0 e l\'amore ti seguiranno."\n\nE le pecorelle capirono\nche con il loro pastore,\nsarebbero state felici per sempre.\n\n— Fine —\n\nIl Salmo 23 per Bambini\nCasa Editrice Onde - 2026'}]}};(0,o.useEffect)(()=>{if(i){if(D[i]){c(D[i]),h(!1);return}if(!(null==y?void 0:y.gutenberg)){u("Contenuto in arrivo"),h(!1);return}(async()=>{try{let e="https://www.gutenberg.org/cache/epub/".concat(y.gutenberg,"/pg").concat(y.gutenberg,".txt"),t=await fetch(e);if(!t.ok)throw Error("Non disponibile");let a=await t.text(),n=function(e,t){let a=e;for(let e of["*** START OF THE PROJECT GUTENBERG EBOOK","*** START OF THIS PROJECT GUTENBERG EBOOK","*END*THE SMALL PRINT"]){let t=a.indexOf(e);if(-1!==t){a=a.substring(t+e.length);break}}for(let e of["*** END OF THE PROJECT GUTENBERG EBOOK","*** END OF THIS PROJECT GUTENBERG EBOOK","End of the Project Gutenberg","End of Project Gutenberg"]){let t=a.indexOf(e);if(-1!==t){a=a.substring(0,t);break}}a=a.trim();let n=[],o=a.split(/\n\s*(CHAPTER|Chapter|PART|Part|BOOK|Book)\s+([IVXLCDM\d]+|[A-Z]+|\d+)[.\s]*/gi);if(o.length>3)for(let e=1;e<o.length;e+=3){let t=o[e]||"Chapter",a=o[e+1]||"",i=o[e+2]||"",l=i.trim().split("\n"),r="".concat(t," ").concat(a);for(let e=0;e<Math.min(3,l.length);e++){let n=l[e].trim();if(n&&!n.match(/^[\d\s]+$/)&&n.length<100){r="".concat(t," ").concat(a,": ").concat(n);break}}n.push({title:r,content:i.trim()})}else n.push({title:t.title,content:a});let i=a.split(/\s+/).filter(Boolean).length;return{title:t.title,author:t.author,lang:t.lang||"en",content:a,chapters:n,wordCount:i}}(a,y);c(n)}catch(e){u("Impossibile caricare il libro. Prova a ricaricare la pagina.")}finally{h(!1)}})()}},[y,i]);let k={notte:{bg:"bg-gradient-to-b from-[#0a1628] to-[#0d1f3c]",text:"text-[#e8f4f8]",header:"bg-[#0a1628]/95",border:"border-[#2dd4bf]/20",accent:"text-[#fbbf24]",accentBg:"bg-[#fbbf24]/15",highlight:"text-[#2dd4bf]",highlightBg:"bg-[#2dd4bf]/10",muted:"text-[#94a3b8]",icon:"\uD83C\uDF19"},giorno:{bg:"bg-gradient-to-b from-[#f0fdfa] to-[#ffffff]",text:"text-[#134e4a]",header:"bg-[#f0fdfa]/95",border:"border-[#14b8a6]/20",accent:"text-[#d97706]",accentBg:"bg-[#d97706]/10",highlight:"text-[#0d9488]",highlightBg:"bg-[#0d9488]/10",muted:"text-[#5eead4]",icon:"☀️"},seppia:{bg:"bg-gradient-to-b from-[#fef3e2] to-[#fefaf6]",text:"text-[#44403c]",header:"bg-[#fef3e2]/95",border:"border-[#d97706]/20",accent:"text-[#b45309]",accentBg:"bg-[#b45309]/10",highlight:"text-[#0f766e]",highlightBg:"bg-[#0f766e]/10",muted:"text-[#a8a29e]",icon:"\uD83D\uDCDC"}}[w];if(!y)return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#0a1628] to-[#0d1f3c] flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center px-4",children:[(0,n.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCDA"}),(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4 text-white",children:"Libro non trovato"}),(0,n.jsx)(l(),{href:"/catalogo",className:"text-[#2dd4bf] hover:text-[#fbbf24] transition font-medium",children:"← Torna alla Biblioteca"})]})});let B=r?Math.ceil(r.wordCount/200):0;return(0,n.jsxs)("div",{className:"min-h-screen ".concat(k.bg," transition-all duration-500"),children:[(0,n.jsx)("div",{className:"fixed top-0 left-0 right-0 h-1 bg-black/10 z-50",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-[#2dd4bf] via-[#fbbf24] to-[#f59e0b] transition-all duration-150",style:{width:"".concat(j,"%")}})}),(0,n.jsx)("header",{className:"sticky top-0 ".concat(k.header," backdrop-blur-md ").concat(k.border," border-b z-40"),children:(0,n.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(l(),{href:"/catalogo",className:"".concat(k.highlight," text-sm font-medium hover:").concat(k.accent," transition flex items-center gap-2"),children:[(0,n.jsx)("span",{children:"←"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Biblioteca"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>{let e=["notte","giorno","seppia"],t=(e.indexOf(w)+1)%e.length;C(e[t])},className:"w-9 h-9 rounded-full ".concat(k.highlightBg," ").concat(k.highlight," text-base flex items-center justify-center hover:scale-110 transition-transform"),"aria-label":"Cambia tema",children:k.icon}),(0,n.jsx)("button",{onClick:()=>g(e=>Math.max(14,e-2)),className:"w-9 h-9 rounded-full ".concat(k.accentBg," ").concat(k.accent," text-sm font-bold hover:scale-110 transition-transform"),"aria-label":"Riduci font",children:"A-"}),(0,n.jsx)("button",{onClick:()=>g(e=>Math.min(28,e+2)),className:"w-9 h-9 rounded-full ".concat(k.accentBg," ").concat(k.accent," text-sm font-bold hover:scale-110 transition-transform"),"aria-label":"Ingrandisci font",children:"A+"}),r&&r.chapters.length>1&&(0,n.jsx)("button",{onClick:()=>v(!x),className:"w-9 h-9 rounded-full ".concat(k.highlightBg," ").concat(k.highlight," text-sm font-bold hover:scale-110 transition-transform"),"aria-label":"Indice",children:"☰"})]})]})})}),x&&r&&r.chapters.length>1&&(0,n.jsxs)("div",{className:"fixed inset-0 z-30",onClick:()=>v(!1),children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-[#0a1628]/60 backdrop-blur-sm"}),(0,n.jsx)("aside",{className:"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] ".concat(k.bg," ").concat(k.border," border-l shadow-2xl overflow-y-auto"),onClick:e=>e.stopPropagation(),children:(0,n.jsxs)("div",{className:"p-5",children:[(0,n.jsxs)("h3",{className:"font-bold text-lg mb-5 ".concat(k.accent," flex items-center gap-2"),children:[(0,n.jsx)("span",{children:"\uD83D\uDCD6"})," Indice"]}),(0,n.jsx)("nav",{className:"space-y-1",children:r.chapters.map((e,t)=>(0,n.jsx)("button",{onClick:()=>{p(t),v(!1),window.scrollTo({top:0,behavior:"smooth"})},className:"w-full text-left px-4 py-3 rounded-xl text-sm transition-all ".concat(b===t?"".concat(k.highlightBg," ").concat(k.highlight," font-medium"):"".concat(k.text," opacity-70 hover:opacity-100 hover:").concat(k.accentBg)),children:e.title||"Sezione ".concat(t+1)},t))})]})})]}),(0,n.jsx)("div",{className:"".concat(k.border," border-b"),children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-10 text-center",children:[(0,n.jsx)("div",{className:"".concat(k.highlight," text-3xl mb-4"),children:"✦"}),(0,n.jsx)("h1",{className:"text-2xl md:text-4xl font-serif font-bold mb-3 ".concat(k.text),children:y.title}),(0,n.jsx)("p",{className:"text-lg md:text-xl ".concat(k.muted," mb-5 italic"),children:y.author}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm flex-wrap mb-6",children:[y.lang&&"en"!==y.lang&&(0,n.jsx)("span",{className:"".concat(k.highlightBg," ").concat(k.highlight," px-4 py-1.5 rounded-full font-medium"),children:y.lang.toUpperCase()}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"".concat(k.muted),children:[r.wordCount.toLocaleString()," parole"]}),(0,n.jsx)("span",{className:"".concat(k.muted),children:"•"}),(0,n.jsxs)("span",{className:"".concat(k.muted),children:["~",B," min di lettura"]})]})]}),y.gutenberg&&(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 pt-4",children:[(0,n.jsxs)("a",{href:"https://www.gutenberg.org/ebooks/".concat(y.gutenberg,".epub3.images"),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-[#2dd4bf] to-[#14b8a6] text-[#0a1628] font-bold text-sm hover:scale-105 transition-transform shadow-lg",children:[(0,n.jsx)("span",{children:"\uD83D\uDCF1"})," ePub Gratis"]}),(0,n.jsxs)("a",{href:"https://www.gutenberg.org/ebooks/".concat(y.gutenberg,".kf8.images"),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-[#fbbf24] to-[#f59e0b] text-[#0a1628] font-bold text-sm hover:scale-105 transition-transform shadow-lg",children:[(0,n.jsx)("span",{children:"\uD83D\uDCDA"})," Kindle Gratis"]}),(0,n.jsxs)("a",{href:"https://www.gutenberg.org/ebooks/".concat(y.gutenberg),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-white/10 backdrop-blur border border-white/20 text-white font-medium text-sm hover:scale-105 transition-transform",children:[(0,n.jsx)("span",{children:"\uD83C\uDF10"})," Altri formati"]})]}),D[i]&&(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 pt-4",children:[(0,n.jsxs)("a",{href:"/books/".concat(i,".pdf"),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-[#f472b6] to-[#ec4899] text-white font-bold text-sm hover:scale-105 transition-transform shadow-lg",children:[(0,n.jsx)("span",{children:"\uD83D\uDCC4"})," PDF Illustrato"]}),(0,n.jsxs)("a",{href:"https://www.amazon.com/dp/PLACEHOLDER_SALMO23",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-[#fbbf24] to-[#f59e0b] text-[#0a1628] font-bold text-sm hover:scale-105 transition-transform shadow-lg",children:[(0,n.jsx)("span",{children:"\uD83D\uDCDA"})," Acquista su Amazon"]})]})]})}),(0,n.jsx)("main",{className:"max-w-3xl mx-auto px-4 py-10 pb-24",ref:E,children:d?(0,n.jsxs)("div",{className:"text-center py-24",children:[(0,n.jsxs)("div",{className:"relative inline-block",children:[(0,n.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-[#2dd4bf]/20 border-t-[#2dd4bf] animate-spin"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCD6"})})]}),(0,n.jsx)("p",{className:"".concat(k.highlight," mt-6 animate-pulse font-medium"),children:"Caricamento in corso..."})]}):m?(0,n.jsxs)("div",{className:"text-center py-24",children:[(0,n.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCDA"}),(0,n.jsx)("p",{className:"".concat(k.muted," mb-6 text-lg"),children:m}),(0,n.jsx)(l(),{href:"/catalogo",className:"".concat(k.highlightBg," ").concat(k.highlight," px-6 py-3 rounded-full font-medium hover:scale-105 transition-transform inline-block"),children:"← Torna alla biblioteca"})]}):r?(0,n.jsxs)(n.Fragment,{children:[r.chapters.length>1&&(0,n.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,n.jsx)("button",{onClick:()=>{p(e=>Math.max(0,e-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:0===b,className:"px-5 py-2.5 rounded-full ".concat(k.highlightBg," ").concat(k.highlight," font-medium disabled:opacity-30 disabled:cursor-not-allowed hover:scale-105 transition-transform"),children:"← Prec"}),(0,n.jsxs)("span",{className:"".concat(k.muted," text-sm font-medium"),children:[b+1," / ",r.chapters.length]}),(0,n.jsx)("button",{onClick:()=>{p(e=>Math.min(r.chapters.length-1,e+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:b===r.chapters.length-1,className:"px-5 py-2.5 rounded-full ".concat(k.highlightBg," ").concat(k.highlight," font-medium disabled:opacity-30 disabled:cursor-not-allowed hover:scale-105 transition-transform"),children:"Succ →"})]}),(null==(t=r.chapters[b])?void 0:t.title)&&(0,n.jsx)("h2",{className:"text-xl md:text-2xl font-serif font-bold mb-10 text-center ".concat(k.accent),children:r.chapters[b].title}),(0,n.jsx)("article",{className:"".concat(k.text," font-serif leading-relaxed"),style:{fontSize:"".concat(f,"px"),lineHeight:"2",textAlign:"justify",hyphens:"auto",WebkitHyphens:"auto"},children:null==(a=r.chapters[b])?void 0:a.content.split("\n\n").map((e,t)=>(0,n.jsx)("p",{className:"mb-7 first-letter:text-3xl first-letter:font-bold first-letter:mr-1 first-letter:float-left first-letter:leading-none",style:{textIndent:t>0?"1.5em":"0"},children:e.trim()},t))}),r.chapters.length>1&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-16 pt-10 ".concat(k.border," border-t"),children:[(0,n.jsx)("button",{onClick:()=>{p(e=>Math.max(0,e-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:0===b,className:"px-6 py-3 rounded-full ".concat(k.highlightBg," ").concat(k.highlight," font-medium disabled:opacity-30 disabled:cursor-not-allowed hover:scale-105 transition-transform"),children:"← Capitolo Precedente"}),(0,n.jsx)("button",{onClick:()=>{p(e=>Math.min(r.chapters.length-1,e+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:b===r.chapters.length-1,className:"px-6 py-3 rounded-full ".concat(k.highlightBg," ").concat(k.highlight," font-medium disabled:opacity-30 disabled:cursor-not-allowed hover:scale-105 transition-transform"),children:"Capitolo Successivo →"})]})]}):null}),(0,n.jsx)("footer",{className:"".concat(k.border," border-t py-10"),children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[(0,n.jsx)("div",{className:"".concat(k.highlight," text-2xl mb-3"),children:"\uD83C\uDF0A"}),(0,n.jsx)("p",{className:"".concat(k.muted," text-sm"),children:"Testo da Project Gutenberg"}),(0,n.jsx)("p",{className:"".concat(k.accent," text-sm font-medium mt-1"),children:"Onde Publishing"})]})})]})}r.b.forEach(e=>{s[e.id]=e})},8175:(e,t,a)=>{Promise.resolve().then(a.bind(a,5036))}},e=>{e.O(0,[619,865,441,255,358],()=>e(e.s=8175)),_N_E=e.O()}]);