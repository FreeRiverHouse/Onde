"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8481],{58481:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(54568),a=n(7620),r=n(15742),i=n(50773);let l={head:{front:{x:8,y:8,w:8,h:8},back:{x:24,y:8,w:8,h:8},left:{x:16,y:8,w:8,h:8},right:{x:0,y:8,w:8,h:8},top:{x:8,y:0,w:8,h:8},bottom:{x:16,y:0,w:8,h:8}},body:{front:{x:20,y:20,w:8,h:12},back:{x:32,y:20,w:8,h:12},left:{x:28,y:20,w:4,h:12},right:{x:16,y:20,w:4,h:12},top:{x:20,y:16,w:8,h:4},bottom:{x:28,y:16,w:8,h:4}},rightArm:{front:{x:44,y:20,w:4,h:12},back:{x:52,y:20,w:4,h:12},left:{x:48,y:20,w:4,h:12},right:{x:40,y:20,w:4,h:12},top:{x:44,y:16,w:4,h:4},bottom:{x:48,y:16,w:4,h:4}},leftArm:{front:{x:36,y:52,w:4,h:12},back:{x:44,y:52,w:4,h:12},left:{x:40,y:52,w:4,h:12},right:{x:32,y:52,w:4,h:12},top:{x:36,y:48,w:4,h:4},bottom:{x:40,y:48,w:4,h:4}},rightLeg:{front:{x:4,y:20,w:4,h:12},back:{x:12,y:20,w:4,h:12},left:{x:8,y:20,w:4,h:12},right:{x:0,y:20,w:4,h:12},top:{x:4,y:16,w:4,h:4},bottom:{x:8,y:16,w:4,h:4}},leftLeg:{front:{x:20,y:52,w:4,h:12},back:{x:28,y:52,w:4,h:12},left:{x:24,y:52,w:4,h:12},right:{x:16,y:52,w:4,h:12},top:{x:20,y:48,w:4,h:4},bottom:{x:24,y:48,w:4,h:4}}};function s(e){let{skinCanvas:t,textureVersion:n=0}=e,s=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useRef)(null),h=(0,a.useRef)(null),x=(0,a.useRef)(new Map),m=(0,a.useRef)(!1),w=(0,a.useRef)({x:0,y:0}),p=(0,a.useRef)({x:.1,y:.3}),y=(0,a.useRef)(!0),g=(0,a.useRef)(null),[b,f]=(0,a.useState)(!0),[v,E]=(0,a.useState)("walk"),M=(0,a.useRef)("walk"),[k,D]=(0,a.useState)(5),j=(0,a.useRef)(5),[N,S]=(0,a.useState)(1),C=(0,a.useRef)(1),[z,L]=(0,a.useState)(!0),[R,F]=(0,a.useState)(!1),A=(0,a.useCallback)((e,t)=>{let n=document.createElement("canvas");n.width=64,n.height=64;let o=n.getContext("2d");return o.imageSmoothingEnabled=!1,o.drawImage(e.canvas,t.x,t.y,t.w,t.h,0,0,64,64),n},[]),I=(0,a.useCallback)((e,t)=>{let n=A(e,t),o=new r.GOR(n);return o.magFilter=r.hxR,o.minFilter=r.hxR,o.colorSpace=r.er$,new r._4j({map:o,roughness:.8,metalness:.1,side:r.hB5})},[A]);(0,a.useEffect)(()=>{if(!s.current)return;let e=new r.Z58,t=document.createElement("canvas");t.width=2,t.height=256;let n=t.getContext("2d"),o=n.createLinearGradient(0,0,0,256);o.addColorStop(0,"#1a1a3e"),o.addColorStop(.5,"#2a2a4e"),o.addColorStop(1,"#0a0a1e"),n.fillStyle=o,n.fillRect(0,0,2,256),e.background=new r.GOR(t),d.current=e;let a=new r.ubm(45,200/280,.1,1e3);a.position.set(0,1.2,5),a.lookAt(0,.9,0),u.current=a;let l=new i.JeP({antialias:!0,alpha:!0});l.setSize(200,280),l.setPixelRatio(Math.min(window.devicePixelRatio,2)),l.shadowMap.enabled=!0,l.shadowMap.type=r.Wk7,l.toneMapping=r.FV,l.toneMappingExposure=1.2,s.current.appendChild(l.domElement),c.current=l;let b=new r.$p8(4210784,.5);e.add(b);let f=new r.ZyN(0xffffff,1.2);f.position.set(5,10,7),f.castShadow=!0,f.shadow.mapSize.width=512,f.shadow.mapSize.height=512,e.add(f);let v=new r.ZyN(6724095,.6);v.position.set(-5,5,-5),e.add(v);let E=new r.HiM(0xff9966,.4,10);E.position.set(-3,2,3),e.add(E);let k=new r.bdM(10,10),N=new r.q2({opacity:.3}),S=new r.eaF(k,N);S.rotation.x=-Math.PI/2,S.position.y=0,S.receiveShadow=!0,e.add(S);let z=new r.YJl;h.current=z;let L=new r._4j({color:0xc4a57b,roughness:.8}),R=new r.iNn(.5,.5,.5),F=new r.eaF(R,[L.clone(),L.clone(),L.clone(),L.clone(),L.clone(),L.clone()]);F.position.y=1.75,F.name="head",F.castShadow=!0,z.add(F);let A=new r.iNn(.5,.75,.25),I=new r.eaF(A,[L.clone(),L.clone(),L.clone(),L.clone(),L.clone(),L.clone()]);I.position.y=1.125,I.name="body",I.castShadow=!0,z.add(I);let P=new r.iNn(.25,.75,.25),B=new r.eaF(P,[L.clone(),L.clone(),L.clone(),L.clone(),L.clone(),L.clone()]);B.position.set(-.375,1.125,0),B.name="rightArm",B.castShadow=!0,z.add(B);let Y=new r.eaF(P.clone(),[L.clone(),L.clone(),L.clone(),L.clone(),L.clone(),L.clone()]);Y.position.set(.375,1.125,0),Y.name="leftArm",Y.castShadow=!0,z.add(Y);let O=new r.iNn(.25,.75,.25),T=new r.eaF(O,[L.clone(),L.clone(),L.clone(),L.clone(),L.clone(),L.clone()]);T.position.set(-.125,.375,0),T.name="rightLeg",T.castShadow=!0,z.add(T);let W=new r.eaF(O.clone(),[L.clone(),L.clone(),L.clone(),L.clone(),L.clone(),L.clone()]);W.position.set(.125,.375,0),W.name="leftLeg",W.castShadow=!0,z.add(W),e.add(z);let X=new r.LoY,Z=new Float32Array(90),_=new Float32Array(90);for(let e=0;e<30;e++){let t=Math.random()*Math.PI*2,n=.8+.5*Math.random();Z[3*e]=Math.cos(t)*n,Z[3*e+1]=2.5*Math.random(),Z[3*e+2]=Math.sin(t)*n;let o=Math.random();o<.33?(_[3*e]=1,_[3*e+1]=.84,_[3*e+2]=0):(o<.66?(_[3*e]=0,_[3*e+1]=1):(_[3*e]=.5,_[3*e+1]=0),_[3*e+2]=1)}X.setAttribute("position",new r.THS(Z,3)),X.setAttribute("color",new r.THS(_,3));let H=new r.BH$({size:.05,vertexColors:!0,transparent:!0,opacity:.8,blending:r.EZo}),G=new r.ONl(X,H);g.current=G,e.add(G);let $=e=>{m.current=!0,y.current=!1,w.current={x:e.clientX,y:e.clientY}},q=e=>{if(!m.current)return;let t=e.clientX-w.current.x,n=e.clientY-w.current.y;p.current.y+=.01*t,p.current.x+=.01*n,p.current.x=Math.max(-Math.PI/3,Math.min(Math.PI/3,p.current.x)),w.current={x:e.clientX,y:e.clientY}},J=()=>{m.current=!1,setTimeout(()=>{y.current=!0},3e3)},U=e=>{m.current=!0,y.current=!1,w.current={x:e.touches[0].clientX,y:e.touches[0].clientY}},V=e=>{if(!m.current)return;let t=e.touches[0].clientX-w.current.x,n=e.touches[0].clientY-w.current.y;p.current.y+=.01*t,p.current.x+=.01*n,p.current.x=Math.max(-Math.PI/3,Math.min(Math.PI/3,p.current.x)),w.current={x:e.touches[0].clientX,y:e.touches[0].clientY}},K=()=>{m.current=!1,setTimeout(()=>{y.current=!0},3e3)},Q=e=>{e.preventDefault();let t=e.deltaY>0?.3:-.3,n=Math.min(8,Math.max(3,j.current+t));j.current=n,D(n),a&&(a.position.z=n)},ee=()=>{p.current={x:.1,y:.3},j.current=5,D(5),a&&(a.position.z=5),y.current=!0};l.domElement.addEventListener("mousedown",$),l.domElement.addEventListener("mousemove",q),l.domElement.addEventListener("mouseup",J),l.domElement.addEventListener("mouseleave",J),l.domElement.addEventListener("touchstart",U),l.domElement.addEventListener("touchmove",V),l.domElement.addEventListener("touchend",K),l.domElement.addEventListener("wheel",Q,{passive:!1}),l.domElement.addEventListener("dblclick",ee);let et=0,en=()=>{requestAnimationFrame(en),et+=.05*C.current,y.current&&(p.current.y+=.008),z.rotation.y=p.current.y,z.rotation.x=p.current.x,z.rotation.z=0,z.position.y=0;let t=z.getObjectByName("rightArm"),n=z.getObjectByName("leftArm"),o=z.getObjectByName("rightLeg"),r=z.getObjectByName("leftLeg");t&&(t.rotation.z=0),n&&(n.rotation.z=0);let i=z.getObjectByName("head"),s=z.getObjectByName("body");i&&(i.rotation.x=0,i.rotation.z=0),s&&(s.rotation.z=0);let c=M.current;if("walk"===c){let e=2*et,a=.5*Math.sin(e);t&&(t.rotation.x=a),n&&(n.rotation.x=-a),o&&(o.rotation.x=-a),r&&(r.rotation.x=a);let l=.03*Math.abs(Math.sin(2*e));z.position.y=l,s&&(s.rotation.z=.02*Math.sin(e)),i&&(i.rotation.x=.02*Math.sin(2*e))}else if("run"===c){let e=4*et,a=.8*Math.sin(e);t&&(t.rotation.x=a,t.rotation.z=-.1),n&&(n.rotation.x=-a,n.rotation.z=.1),o&&(o.rotation.x=-(.9*a)),r&&(r.rotation.x=.9*a);let l=.06*Math.abs(Math.sin(2*e));z.position.y=l,s&&(s.rotation.z=.04*Math.sin(e)),z.rotation.x=p.current.x+.1,i&&(i.rotation.x=.04*Math.sin(2*e))}else if("idle"===c){let e=.05*Math.sin(.5*et);t&&(t.rotation.x=e),n&&(n.rotation.x=e),o&&(o.rotation.x=0),r&&(r.rotation.x=0)}else if("wave"===c){let e=.5*Math.sin(3*et)+.8;t&&(t.rotation.x=-1.5,t.rotation.z=e),n&&(n.rotation.x=0),o&&(o.rotation.x=0),r&&(r.rotation.x=0)}else if("dance"===c){let e=2*et,a=.1*Math.abs(Math.sin(2*e)),i=1.2*Math.sin(e),l=.4*Math.sin(e);t&&(t.rotation.x=i,t.rotation.z=.3*Math.sin(2*e)),n&&(n.rotation.x=-i,n.rotation.z=-(.3*Math.sin(2*e))),o&&(o.rotation.x=l),r&&(r.rotation.x=-l),z.position.y=a}else if("floss"===c){let e=4*et,a=1.5*Math.sin(e),i=.2*Math.sin(e);t&&(t.rotation.x=0,t.rotation.z=a),n&&(n.rotation.x=0,n.rotation.z=-a),o&&(o.rotation.x=.3*i),r&&(r.rotation.x=-(.3*i))}else if("dab"===c){let e=.02*Math.sin(2*et);t&&(t.rotation.x=-2.5,t.rotation.z=.5),n&&(n.rotation.x=-.5,n.rotation.z=-1.2),z.rotation.z=.2+e,o&&(o.rotation.x=0),r&&(r.rotation.x=0)}if(G.visible){let e=G.geometry.attributes.position;for(let t=0;t<30;t++)e.array[3*t+1]+=.01,e.array[3*t+1]>2.8&&(e.array[3*t+1]=0);e.needsUpdate=!0,G.rotation.y=.2*et}l.render(e,a)};return en(),()=>{l.domElement.removeEventListener("mousedown",$),l.domElement.removeEventListener("mousemove",q),l.domElement.removeEventListener("mouseup",J),l.domElement.removeEventListener("mouseleave",J),l.domElement.removeEventListener("touchstart",U),l.domElement.removeEventListener("touchmove",V),l.domElement.removeEventListener("touchend",K),l.domElement.removeEventListener("wheel",Q),l.domElement.removeEventListener("dblclick",ee),l.dispose(),x.current.clear(),s.current&&l.domElement.parentNode===s.current&&s.current.removeChild(l.domElement)}},[]),(0,a.useEffect)(()=>{if(!t||!h.current)return;let e=t.getContext("2d");if(!e)return;let n=setTimeout(()=>{h.current&&h.current.traverse(t=>{if(t instanceof r.eaF&&t.name in l){let n=t.name,o=l[n],a=["right","left","top","bottom","front","back"].map((t,a)=>{let r=I(e,o[t]);return x.current.set("".concat(n,"-").concat(a),r),r});Array.isArray(t.material)&&t.material.forEach(e=>{e.map&&e.map.dispose(),e.dispose()}),t.material=a}})},50);return()=>clearTimeout(n)},[t,n,I]),(0,a.useEffect)(()=>{M.current=v},[v]),(0,a.useEffect)(()=>{C.current=N},[N]),(0,a.useEffect)(()=>{u.current&&(u.current.position.z=k)},[k]),(0,a.useEffect)(()=>{g.current&&(g.current.visible=b)},[b]),(0,a.useEffect)(()=>{y.current=z},[z]);let P=e=>{switch(e){case"front":p.current={x:.1,y:0};break;case"side":p.current={x:.1,y:Math.PI/2};break;case"back":p.current={x:.1,y:Math.PI};break;case"left":p.current={x:.1,y:-Math.PI/2}}y.current=!1,L(!1)};return(0,o.jsxs)("div",{className:"relative group",children:[(0,o.jsxs)("div",{className:"relative rounded-xl overflow-hidden mx-auto cursor-grab active:cursor-grabbing shadow-2xl",style:{width:200,height:280,boxShadow:"0 0 30px rgba(100, 149, 237, 0.3), 0 0 60px rgba(138, 43, 226, 0.2)"},children:[(0,o.jsx)("div",{ref:s,className:"w-full h-full"}),(0,o.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.4) 100%)"}}),(0,o.jsx)("button",{onClick:()=>{let e=c.current,t=d.current,n=u.current;if(!e||!t||!n)return;let o=e.getSize(new r.I9Y);e.setSize(800,1120),e.render(t,n);let a=e.domElement.toDataURL("image/png");e.setSize(o.x,o.y);let i=document.createElement("a");i.download="minecraft-skin-3d.png",i.href=a,i.click()},className:"absolute bottom-2 right-2 px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded-lg text-xs font-bold opacity-0 group-hover:opacity-100 transition-all hover:scale-105 shadow-lg",title:"Save 3D preview as image",children:"\uD83D\uDCF8"}),(0,o.jsx)("button",{onClick:()=>{L(!z),y.current=!z},className:"absolute top-12 right-2 px-2 py-1 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-all hover:scale-105 shadow ".concat(z?"bg-green-400 text-green-900":"bg-gray-400 text-gray-700"),title:z?"Stop auto-rotate":"Start auto-rotate",children:"\uD83D\uDD04"}),(0,o.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,o.jsx)("button",{onClick:()=>D(e=>Math.max(3,e-.5)),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold shadow",title:"Zoom in",children:"\uD83D\uDD0D+"}),(0,o.jsx)("button",{onClick:()=>D(e=>Math.min(8,e+.5)),className:"px-2 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold shadow",title:"Zoom out",children:"\uD83D\uDD0D−"})]}),(0,o.jsxs)("div",{className:"absolute bottom-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,o.jsx)("button",{onClick:()=>P("front"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold shadow",title:"Front view",children:"\uD83D\uDC64"}),(0,o.jsx)("button",{onClick:()=>P("side"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold shadow",title:"Right side",children:"\uD83D\uDC49"}),(0,o.jsx)("button",{onClick:()=>P("left"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold shadow",title:"Left side",children:"\uD83D\uDC48"}),(0,o.jsx)("button",{onClick:()=>P("back"),className:"px-1.5 py-1 bg-white/90 hover:bg-white text-gray-800 rounded text-xs font-bold shadow",title:"Back view",children:"\uD83D\uDD19"}),(0,o.jsx)("button",{onClick:()=>f(!b),className:"px-1.5 py-1 rounded text-xs font-bold shadow ".concat(b?"bg-yellow-400 text-yellow-900":"bg-gray-400 text-gray-700"),title:b?"Hide sparkles":"Show sparkles",children:"✨"})]}),(0,o.jsxs)("div",{className:"absolute top-2 left-2 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-all",style:{maxWidth:"120px"},children:[(0,o.jsx)("div",{className:"flex flex-wrap gap-1",children:[{id:"walk",emoji:"\uD83D\uDEB6",label:"Walk"},{id:"run",emoji:"\uD83C\uDFC3",label:"Run"},{id:"idle",emoji:"\uD83E\uDDCD",label:"Idle"},{id:"wave",emoji:"\uD83D\uDC4B",label:"Wave"},{id:"dance",emoji:"\uD83D\uDC83",label:"Dance"},{id:"floss",emoji:"\uD83D\uDD7A",label:"Floss"},{id:"dab",emoji:"\uD83D\uDE0E",label:"Dab"}].map(e=>(0,o.jsx)("button",{onClick:()=>E(e.id),className:"px-1.5 py-1 rounded text-xs font-bold shadow transition-all hover:scale-105 ".concat(v===e.id?"bg-purple-500 text-white":"bg-white/90 text-gray-800"),title:e.label,children:e.emoji},e.id))}),(0,o.jsx)("button",{onClick:()=>F(!R),className:"px-1.5 py-1 rounded text-xs font-bold shadow transition-all hover:scale-105 ".concat(R?"bg-blue-500 text-white":"bg-white/90 text-gray-800"),title:"Animation speed",children:"⚡ Speed"}),R&&(0,o.jsxs)("div",{className:"flex items-center gap-1 bg-white/90 rounded px-2 py-1 shadow",children:[(0,o.jsx)("span",{className:"text-xs",children:"\uD83D\uDC22"}),(0,o.jsx)("input",{type:"range",min:"0.2",max:"2.5",step:"0.1",value:N,onChange:e=>S(parseFloat(e.target.value)),className:"w-16 h-2 accent-purple-500",title:"Speed: ".concat(N.toFixed(1),"x")}),(0,o.jsx)("span",{className:"text-xs",children:"\uD83D\uDC07"})]})]})]}),(0,o.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-2",children:[(0,o.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-bold shadow transition-all ".concat("walk"===v||"run"===v?"bg-gradient-to-r from-green-400 to-emerald-500 text-white animate-pulse":"bg-gray-700/50 text-gray-300"),children:["walk"===v&&"\uD83D\uDEB6 Walking","run"===v&&"\uD83C\uDFC3 Running","idle"===v&&"\uD83E\uDDCD Idle","wave"===v&&"\uD83D\uDC4B Waving","dance"===v&&"\uD83D\uDC83 Dancing","floss"===v&&"\uD83D\uDD7A Flossing","dab"===v&&"\uD83D\uDE0E Dabbing"]}),1!==N&&(0,o.jsxs)("span",{className:"text-xs text-gray-400",children:[N.toFixed(1),"x"]})]}),(0,o.jsx)("p",{className:"text-xs text-gray-400 text-center mt-1",children:"\uD83D\uDDB1️ Drag to rotate • Scroll to zoom • Double-click to reset"})]})}}}]);