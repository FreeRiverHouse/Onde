"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1262],{11262:(e,t,s)=>{s.d(t,{Ay:()=>m,RN:()=>h,h4:()=>p});var a=s(54568),n=s(7620),l=s(68489),r=s(85206),i=s(91085),o=s(19664),d=s.n(o),c=s(52478);function x(e){let{amount:t,onComplete:s}=e,i=(0,l.E)();return(0,n.useEffect)(()=>{i.start({y:[-20,-50],opacity:[0,1,0],scale:[.5,1.2,.8],transition:{duration:1.5,times:[0,.3,1]}}).then(s)},[i,s]),(0,a.jsx)(r.P.div,{className:"absolute -top-2 left-1/2 -translate-x-1/2 pointer-events-none",animate:i,initial:{y:0,opacity:0},children:(0,a.jsxs)("span",{className:"text-lg font-bold text-onde-gold drop-shadow-lg whitespace-nowrap",children:["+",(0,c.vK)(t)," \uD83E\uDE99"]})})}function u(e){let{count:t,targetRef:s}=e,n=Array.from({length:Math.min(t,10)},(e,t)=>({id:t,startX:200*Math.random()-100,startY:200*Math.random()+100,delay:.1*t}));return(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50",children:n.map(e=>{var t,n;return(0,a.jsx)(r.P.div,{className:"absolute text-2xl",initial:{x:window.innerWidth/2+e.startX,y:window.innerHeight/2+e.startY,opacity:0,scale:0},animate:{x:(null==(t=s.current)?void 0:t.getBoundingClientRect().left)||0,y:(null==(n=s.current)?void 0:n.getBoundingClientRect().top)||0,opacity:[0,1,1,0],scale:[0,1,1,.5]},transition:{duration:1.2,delay:e.delay,ease:"easeInOut"},children:"\uD83E\uDE99"},e.id)})})}function m(){let{balance:e,mounted:t,pendingAnimations:s,popPendingAnimation:o,getActiveEvents:m}=(0,c.mb)(),[h,p]=(0,n.useState)(null),[g,j]=(0,n.useState)(!1),[f,b]=(0,n.useState)(0),[N,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),w=(0,l.E)(),D=m();(0,n.useEffect)(()=>{if(s.length>0&&!h){let e=o();e&&(p({id:e.id,amount:e.amount}),w.start({scale:[1,1.2,1],transition:{duration:.3}}),e.amount>=25&&(b(Math.min(Math.floor(e.amount/10),15)),j(!0),setTimeout(()=>j(!1),2e3)))}},[s,h,o,w]);let E=(0,n.useCallback)(()=>{p(null)},[]);return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d(),{href:"/shop",children:(0,a.jsxs)(r.P.div,{ref:y,className:"relative flex items-center gap-2 px-3 py-2 rounded-xl bg-gradient-to-r from-onde-gold/10 to-amber-100/50 border border-onde-gold/20 cursor-pointer hover:from-onde-gold/20 hover:to-amber-100/70 transition-colors duration-200",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),animate:w,whileHover:{scale:1.05},whileTap:{scale:.98},children:[(0,a.jsx)(r.P.span,{className:"text-xl",animate:N?{rotate:[0,-10,10,-10,0],transition:{duration:.5}}:{},children:"\uD83E\uDE99"}),(0,a.jsx)("span",{className:"font-bold text-onde-ocean",children:(0,c.vK)(e)}),D.length>0&&(0,a.jsxs)(r.P.span,{className:"absolute -top-1 -right-1 text-xs px-1.5 py-0.5  bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full font-bold",animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:2},children:[D[0].multiplier,"x"]}),(0,a.jsx)(i.N,{children:h&&(0,a.jsx)(x,{amount:h.amount,onComplete:E},h.id)})]})}),(0,a.jsx)(i.N,{children:g&&(0,a.jsx)(u,{count:f,targetRef:y})})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-onde-cream/50",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83E\uDE99"}),(0,a.jsx)("span",{className:"font-medium text-onde-ocean/50",children:"---"})]})}function h(){let{balance:e,mounted:t}=(0,c.mb)();return t?(0,a.jsx)(d(),{href:"/shop",children:(0,a.jsxs)(r.P.div,{className:"flex items-center gap-1 text-sm font-medium text-onde-ocean",whileTap:{scale:.95},children:[(0,a.jsx)("span",{children:"\uD83E\uDE99"}),(0,a.jsx)("span",{children:(0,c.vK)(e)})]})}):(0,a.jsx)("span",{className:"text-onde-ocean/50",children:"\uD83E\uDE99 ---"})}function p(){let{balance:e,lifetimeEarned:t,lifetimeSpent:s,loginStreak:l,mounted:i,getActiveEvents:o,claimDailyLogin:d}=(0,c.mb)(),[x,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),p=o();return i?(0,a.jsxs)(r.P.div,{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-onde-gold/20 via-amber-50 to-yellow-100 border-2 border-onde-gold/30 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4 text-8xl rotate-12",children:"\uD83E\uDE99"}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 text-6xl -rotate-12",children:"✨"})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-onde-ocean/60 mb-1",children:"Il tuo Tesoro"}),(0,a.jsxs)(r.P.div,{className:"flex items-center justify-center gap-3",animate:{scale:[1,1.02,1]},transition:{repeat:1/0,duration:3},children:[(0,a.jsx)("span",{className:"text-4xl",children:"\uD83E\uDE99"}),(0,a.jsx)("span",{className:"text-5xl font-bold text-onde-ocean",children:e.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-onde-ocean/50",children:"Guadagnate"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["+",(0,c.vK)(t)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-onde-ocean/50",children:"Spese"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-red-500",children:["-",(0,c.vK)(s)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-onde-ocean/50",children:"Serie"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:[l," \uD83D\uDD25"]})]})]}),x?m?(0,a.jsxs)(r.P.div,{className:"text-center py-3 rounded-xl bg-green-100 border border-green-300",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[(0,a.jsxs)("p",{className:"font-bold text-green-700",children:["+",m.earned," monete! \uD83C\uDF89"]}),(0,a.jsxs)("p",{className:"text-sm text-green-600",children:["Serie di ",m.streak," giorni!"]})]}):(0,a.jsx)("div",{className:"text-center py-3 rounded-xl bg-gray-100 text-gray-500",children:"✓ Bonus gi\xe0 riscattato oggi"}):(0,a.jsx)(r.P.button,{onClick:()=>{let e=d();e&&(u(!0),h(e))},className:"w-full py-3 rounded-xl bg-gradient-to-r from-onde-gold to-amber-500 text-white font-bold shadow-lg shadow-onde-gold/30 hover:shadow-xl hover:shadow-onde-gold/40 transition-shadow",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83C\uDF81 Riscatta Bonus Giornaliero"}),p.length>0&&(0,a.jsx)("div",{className:"mt-4 p-3 rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:p[0].icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-purple-700",children:p[0].name}),(0,a.jsx)("p",{className:"text-xs text-purple-600",children:p[0].description})]}),(0,a.jsxs)("span",{className:"ml-auto text-2xl font-black text-purple-600",children:[p[0].multiplier,"x"]})]})})]})]}):(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 rounded-2xl h-40 w-full"})}}}]);