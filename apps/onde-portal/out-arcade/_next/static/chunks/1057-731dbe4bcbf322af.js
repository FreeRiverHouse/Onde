"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1057],{11057:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var a=s(54568),l=s(55633),d=s.n(l),n=s(7620),r=s(96442),i=s(23792),o=s(77011);function c(){return!!o.env.NEXT_PUBLIC_OPENAI_API_KEY}async function x(e){let t=o.env.NEXT_PUBLIC_OPENAI_API_KEY;if(!t)return{success:!1,error:"OpenAI API key not configured. Set NEXT_PUBLIC_OPENAI_API_KEY environment variable."};let s=function(e){switch(e){case"cartoon":return"cartoon style, vibrant colors, bold outlines, playful";case"realistic":return"semi-realistic, detailed textures, natural shading";case"pixel-art":return"pixel art style, 8-bit, retro gaming aesthetic";case"anime":return"anime style, cel-shaded, Japanese animation aesthetic";case"blocky":return"Minecraft blocky style, voxel-like, cubic proportions";default:return"Minecraft style, blocky, pixel-art"}}(e.style||"blocky"),a="Create a Minecraft character skin texture sheet. The character is: ".concat(e.prompt,". \nStyle: ").concat(s,". \nImportant: Generate a flat texture layout showing front view of head, body, arms, and legs suitable for a Minecraft skin.\nThe image should be clean, simple, with clear distinct regions for each body part.\nNo background, just the character texture on a transparent or white background.");try{var l,d,n;let s=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({model:"dall-e-3",prompt:a,n:1,size:"1024x1024",quality:e.quality||"standard",response_format:"url"})});if(!s.ok){let e=await s.json().catch(()=>({error:{message:"Unknown error"}}));return{success:!1,error:(null==(n=e.error)?void 0:n.message)||"API error: ".concat(s.status)}}let r=null==(d=(await s.json()).data)||null==(l=d[0])?void 0:l.url;if(!r)return{success:!1,error:"No image URL in response"};return{success:!0,imageUrl:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}async function m(e){return new Promise((t,s)=>{let a=new Image;a.crossOrigin="anonymous",a.onload=()=>{let e=document.createElement("canvas");e.width=64,e.height=64;let l=e.getContext("2d");if(!l)return void s(Error("Could not create canvas context"));l.clearRect(0,0,64,64);let d=a.width;l.drawImage(a,.375*d,.05*d,.25*d,.25*d,8,8,8,8),l.drawImage(a,.375*d,.05*d,.25*d,.25*d,24,8,8,8),l.drawImage(a,.375*d,.02*d,.25*d,.15*d,8,0,8,8),l.drawImage(a,.375*d,.28*d,.25*d,.15*d,16,0,8,8),l.drawImage(a,.3*d,.05*d,.15*d,.25*d,0,8,8,8),l.drawImage(a,.55*d,.05*d,.15*d,.25*d,16,8,8,8),l.drawImage(a,.4*d,.32*d,.2*d,.35*d,20,20,8,12),l.drawImage(a,.4*d,.32*d,.2*d,.35*d,32,20,8,12),l.drawImage(a,.25*d,.32*d,.1*d,.35*d,44,20,4,12),l.drawImage(a,.65*d,.32*d,.1*d,.35*d,36,52,4,12),l.drawImage(a,.35*d,.68*d,.1*d,.3*d,4,20,4,12),l.drawImage(a,.55*d,.68*d,.1*d,.3*d,20,52,4,12),t(e.toDataURL("image/png"))},a.onerror=()=>{s(Error("Failed to load AI-generated image"))},a.src=e})}async function u(e){let t=await x(e);if(!t.success||!t.imageUrl)return{success:!1,error:t.error||"Failed to generate image"};try{let e=await m(t.imageUrl);return{success:!0,skinDataUrl:e,originalImageUrl:t.imageUrl}}catch(e){return{success:!1,originalImageUrl:t.imageUrl,error:e instanceof Error?e.message:"Failed to convert to skin format"}}}let b=s(77011).env.NEXT_PUBLIC_LOCAL_LLM_URL||"";async function h(){if(!b)return!1;try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),s=await fetch("".concat(b,"/health"),{signal:e.signal});if(clearTimeout(t),s.ok){let e=await s.json();return"ok"===e.status}return!1}catch(e){return!1}}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{maxTokens:s=256,temperature:a=.7,systemPrompt:l,timeoutMs:d=6e4}=t;try{var n,r,i;if(!await h())return{success:!1,error:"Local LLM not available"};let t=[];l&&t.push({role:"system",content:l}),t.push({role:"user",content:e});let o=new AbortController,c=setTimeout(()=>o.abort(),d),x=await fetch("".concat(b,"/v1/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instruct",messages:t,max_tokens:s,temperature:a}),signal:o.signal});if(clearTimeout(c),!x.ok)return{success:!1,error:"HTTP ".concat(x.status)};let m=null==(i=(await x.json()).choices)||null==(r=i[0])||null==(n=r.message)?void 0:n.content;if(m)return{success:!0,content:m};return{success:!1,error:"No content in response"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function g(e){let t=await p(e,{maxTokens:100,temperature:.8,systemPrompt:"You are a Minecraft skin design assistant. \nGiven a user's description, enhance it into a detailed prompt for generating a Minecraft character skin.\nKeep it concise (1-2 sentences) but add specific details about colors, style, and features.\nOutput ONLY the enhanced prompt, nothing else."});return t.success&&t.content?t.content.trim():e}let j=(0,r.default)(()=>Promise.all([s.e(6295),s.e(7388),s.e(8481)]).then(s.bind(s,58481)),{loadableGenerated:{webpack:()=>[58481]},ssr:!1}),f=(0,r.default)(()=>s.e(3614).then(s.bind(s,43614)),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),y=(0,r.default)(()=>s.e(6759).then(s.bind(s,56759)),{loadableGenerated:{webpack:()=>[56759]},ssr:!1}),w=[{id:"base",name:"Base (Skin)",emoji:"\uD83D\uDC64",visible:!0,opacity:100,tint:null,tintIntensity:50,glow:!1},{id:"clothing",name:"Clothing",emoji:"\uD83D\uDC55",visible:!0,opacity:100,tint:null,tintIntensity:50,glow:!1},{id:"accessories",name:"Accessories",emoji:"\uD83C\uDFA9",visible:!0,opacity:100,tint:null,tintIntensity:50,glow:!1}],N=[{color:null,name:"None",emoji:"⭕"},{color:"#FF6B6B",name:"Red",emoji:"\uD83D\uDD34"},{color:"#FFD93D",name:"Gold",emoji:"\uD83D\uDFE1"},{color:"#4D96FF",name:"Blue",emoji:"\uD83D\uDD35"},{color:"#6BCB77",name:"Green",emoji:"\uD83D\uDFE2"},{color:"#9B59B6",name:"Purple",emoji:"\uD83D\uDFE3"},{color:"#FF8E53",name:"Orange",emoji:"\uD83D\uDFE0"},{color:"#00BCD4",name:"Cyan",emoji:"\uD83E\uDE75"},{color:"#E91E63",name:"Pink",emoji:"\uD83D\uDC97"}],k={minecraft:{name:"Minecraft",emoji:"⛏️",width:64,height:64,exportFormat:"PNG 64x64"},roblox:{name:"Roblox",emoji:"\uD83C\uDFAE",width:128,height:128,exportFormat:"PNG 128x128"}},v={head:{x:0,y:0,w:32,h:16,label:"\uD83D\uDDE3️ Head"},body:{x:16,y:16,w:24,h:16,label:"\uD83D\uDC55 Body"},rightArm:{x:40,y:16,w:16,h:16,label:"\uD83D\uDCAA Right Arm"},leftArm:{x:32,y:48,w:16,h:16,label:"\uD83E\uDD1B Left Arm"},rightLeg:{x:0,y:16,w:16,h:16,label:"\uD83E\uDDB5 Right Leg"},leftLeg:{x:16,y:48,w:16,h:16,label:"\uD83E\uDDBF Left Leg"}},C={steve:{name:"\uD83D\uDC66 Steve",skin:"#c4a57b",hair:"#442920",shirt:"#00a8a8",pants:"#3c2a5e",shoes:"#444444",eyes:"#ffffff",pupils:"#5a3825"},robot:{name:"\uD83E\uDD16 Robot",skin:"#8a8a8a",hair:"#444444",shirt:"#3498db",pants:"#2c3e50",shoes:"#1a1a1a",eyes:"#00ff00",pupils:"#00aa00"},ninja:{name:"\uD83E\uDD77 Ninja",skin:"#c4a57b",hair:"#1a1a1a",shirt:"#1a1a1a",pants:"#1a1a1a",shoes:"#2c2c2c",eyes:"#ffffff",pupils:"#000000"},alien:{name:"\uD83D\uDC7D Alien",skin:"#7dcea0",hair:"#27ae60",shirt:"#9b59b6",pants:"#8e44ad",shoes:"#6c3483",eyes:"#000000",pupils:"#1a1a1a"},princess:{name:"\uD83D\uDC78 Princess",skin:"#ffdfc4",hair:"#f1c40f",shirt:"#e91e63",pants:"#9c27b0",shoes:"#ff69b4",eyes:"#87ceeb",pupils:"#4169e1"},zombie:{name:"\uD83E\uDDDF Zombie",skin:"#5a8f5a",hair:"#2d4a2d",shirt:"#00a8a8",pants:"#3c2a5e",shoes:"#444444",eyes:"#1a1a1a",pupils:"#000000"},creeper:{name:"\uD83D\uDC9A Creeper",skin:"#5ba555",hair:"#3d7a3d",shirt:"#4a934a",pants:"#3d7a3d",shoes:"#2d5a2d",eyes:"#000000",pupils:"#000000"}};C.steve;let D=["#FF0000","#FF8800","#FFFF00","#00FF00","#00FFFF","#0088FF","#0000FF","#8800FF","#FF00FF","#FF69B4","#FFFFFF","#000000","#ffdfc4","#f0c8a8","#d4a76a","#c4a57b","#8d6e4c","#5c4033","#FF6B6B","#FF8E53","#FFD93D","#6BCB77","#4D96FF","#9B59B6","#E91E63","#00BCD4","#8BC34A","#FF5722","#795548","#607D8B","#CCCCCC","#888888","#444444","#222222"];function S(){var e;let t=(0,n.useRef)(null),s=(0,n.useRef)(null),[l,r]=(0,n.useState)("minecraft"),[o,x]=(0,n.useState)("editor"),[m,b]=(0,n.useState)("#FF0000"),[p,S]=(0,n.useState)(!1),[R,F]=(0,n.useState)("brush"),[T,A]=(0,n.useState)("star"),[E,I]=(0,n.useState)(null),[M,L]=(0,n.useState)(!1),[B,P]=(0,n.useState)(!1),[U,O]=(0,n.useState)(!0),z=(0,n.useRef)(null),[G,V]=(0,n.useState)(window.innerWidth<768?4:6),[_,q]=(0,n.useState)(!0),[K,W]=(0,n.useState)("#4D96FF"),[J,Y]=(0,n.useState)(1),[H,X]=(0,n.useState)(4),[Z,Q]=(0,n.useState)(8),[$,ee]=(0,n.useState)(2),[et,es]=(0,n.useState)("horizontal"),[ea,el]=(0,n.useState)(0),[ed,en]=(0,n.useState)(!1),[er,ei]=(0,n.useState)(1),[eo,ec]=(0,n.useState)(16),[ex,em]=(0,n.useState)("replace"),[eu,eb]=(0,n.useState)(!1),[eh,ep]=(0,n.useState)(50),[eg,ej]=(0,n.useState)(1),[ef,ey]=(0,n.useState)(2),[ew,eN]=(0,n.useState)("classic"),[ek,ev]=(0,n.useState)(!1),[eC,eD]=(0,n.useState)("replace"),[eS,eR]=(0,n.useState)(!1),[eF,eT]=(0,n.useState)("my-skin"),[eA,eE]=(0,n.useState)([]),[eI,eM]=(0,n.useState)([]),[eL,eB]=(0,n.useState)(!1),[eP,eU]=(0,n.useState)(!1),[eO,ez]=(0,n.useState)(!1),[eG,eV]=(0,n.useState)(""),[e_,eq]=(0,n.useState)(!1),[eK,eW]=(0,n.useState)(null),[eJ,eY]=(0,n.useState)(!1),[eH,eX]=(0,n.useState)(0),[eZ,eQ]=(0,n.useState)(!1),[e$,e0]=(0,n.useState)(!1),[e5,e1]=(0,n.useState)(!1),[e2,e9]=(0,n.useState)("steve"),[e4,e8]=(0,n.useState)(0),e3=(0,n.useRef)(null),[e6,e7]=(0,n.useState)(null),[te,tt]=(0,n.useState)(""),[ts,ta]=(0,n.useState)(!1),[tl,td]=(0,n.useState)(!1),[tn,tr]=(0,n.useState)(!1),[ti,to]=(0,n.useState)("blocky"),[tc,tx]=(0,n.useState)(null),[tm,tu]=(0,n.useState)(!1),[tb,th]=(0,n.useState)(!1),[tp,tg]=(0,n.useState)(6),[tj,tf]=(0,n.useState)(5),[ty,tw]=(0,n.useState)(40),[tN,tk]=(0,n.useState)(8),[tv,tC]=(0,n.useState)(0),[tD,tS]=(0,n.useState)(!0),[tR,tF]=(0,n.useState)(!0),[tT,tA]=(0,n.useState)("replace"),[tE,tI]=(0,n.useState)(!1),[tM,tL]=(0,n.useState)(6),[tB,tP]=(0,n.useState)(1),[tU,tO]=(0,n.useState)(!1),[tz,tG]=(0,n.useState)(!0),[tV,t_]=(0,n.useState)("replace"),[tq,tK]=(0,n.useState)([]),[tW,tJ]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("minecraft-skin-ai-history");if(e){let t=JSON.parse(e);Array.isArray(t)&&tK(t)}}catch(e){}h().then(tr),localStorage.getItem("skin-creator-tutorial-seen")||eY(!0)},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("minecraft-skin-ai-history",JSON.stringify(tq))}catch(e){}},[tq]);let tY=(0,n.useCallback)((e,t,s)=>{let a={id:"ai-".concat(Date.now()),prompt:e,style:t,skinDataUrl:s,timestamp:Date.now(),isFavorite:!1};tK(e=>{let t=e.filter(e=>e.isFavorite);return[...[a,...e.filter(e=>!e.isFavorite)].slice(0,10),...t].sort((e,t)=>t.timestamp-e.timestamp)})},[]),tH=(0,n.useCallback)(e=>{tK(t=>t.map(t=>t.id===e?{...t,isFavorite:!t.isFavorite}:t))},[]),tX=(0,n.useCallback)(e=>{let s=t.current;if(!s)return;let a=s.getContext("2d");if(!a)return;let l=new Image;l.onload=()=>{a.clearRect(0,0,64,64),a.drawImage(l,0,0),s4(),sQ(),eU(!1),s5("click")},l.src=e.skinDataUrl},[]),tZ=(0,n.useCallback)(e=>{tt(e.prompt),to(e.style),tJ(!1)},[]),tQ=(0,n.useCallback)(e=>{tK(t=>t.filter(t=>t.id!==e))},[]),[t$,t0]=(0,n.useState)(w),[t5,t1]=(0,n.useState)("base"),[t2,t9]=(0,n.useState)(!1),t4=(0,n.useRef)({}),t8=["⚔️ Warrior","\uD83E\uDDD9 Mage","\uD83D\uDC31 Cute","\uD83D\uDC7B Spooky","\uD83E\uDD16 Robot","\uD83C\uDFAE Gaming","\uD83C\uDF1F Fantasy","\uD83D\uDE0E Cool"],[t3,t6]=(0,n.useState)([]),[t7,se]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("minecraft-my-skins");e&&t6(JSON.parse(e))}catch(e){}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("minecraft-my-skins",JSON.stringify(t3))}catch(e){}},[t3]);let st=(0,n.useCallback)(e=>{if(!t4.current[e]){let t=document.createElement("canvas");t.width=64,t.height=64,t4.current[e]=t}return t4.current[e]},[]),ss=(0,n.useCallback)(e=>{t0(t=>t.map(t=>t.id===e?{...t,visible:!t.visible}:t))},[]),sa=(0,n.useCallback)((e,t)=>{t0(s=>s.map(s=>s.id===e?{...s,opacity:t}:s))},[]),sl=(0,n.useCallback)((e,t)=>{t0(s=>s.map(s=>s.id===e?{...s,tint:t}:s))},[]),sd=(0,n.useCallback)((e,t)=>{t0(s=>s.map(s=>s.id===e?{...s,tintIntensity:t}:s))},[]),sn=(0,n.useCallback)((e,t,s)=>{let a=document.createElement("canvas");a.width=e.width,a.height=e.height;let l=a.getContext("2d");return l?(l.drawImage(e,0,0),l.globalCompositeOperation="multiply",l.globalAlpha=s/100,l.fillStyle=t,l.fillRect(0,0,a.width,a.height),l.globalCompositeOperation="destination-in",l.globalAlpha=1,l.drawImage(e,0,0),a):e},[]),sr=(0,n.useCallback)((e,t)=>{t0(s=>{let a=s.findIndex(t=>t.id===e);if(-1===a)return s;let l="up"===t?a+1:a-1;if(l<0||l>=s.length)return s;let d=[...s];return[d[a],d[l]]=[d[l],d[a]],d})},[]),si=(0,n.useCallback)(()=>{let e=t.current;if(!e)return;let s=e.getContext("2d");s&&(s.clearRect(0,0,64,64),t$.forEach(e=>{if(!e.visible)return;let t=t4.current[e.id];if(!t)return;let a=t;e.tint&&e.tintIntensity>0&&(a=sn(t,e.tint,e.tintIntensity)),s.globalAlpha=e.opacity/100,s.drawImage(a,0,0)}),s.globalAlpha=1)},[t$,sn]),so=(0,n.useCallback)(e=>{let t=st(e).getContext("2d");t&&t.clearRect(0,0,64,64),si(),s4()},[st,si]),sc=(0,n.useCallback)((e,t)=>{let s=st(e),a=st(t).getContext("2d");a&&(a.clearRect(0,0,64,64),a.drawImage(s,0,0)),si(),s4(),sQ(),s5("click")},[st,si]),[sx,sm]=(0,n.useState)(!1),su=(0,n.useCallback)(()=>{if(!confirm("Merge all visible layers into base? This cannot be undone."))return;let e=t.current;if(!e)return;let s=st("base").getContext("2d");s&&(s.clearRect(0,0,64,64),s.drawImage(e,0,0)),so("clothing"),so("accessories"),si(),s4(),s5("click")},[st,so,si]),sb=async()=>{if(te.trim()&&tn){td(!0);try{let e=await g(te);e&&e!==te&&tt(e)}catch(e){console.error("Enhance failed:",e)}finally{td(!1)}}},sh=async()=>{if(!te.trim())return;ta(!0),tx(null);let e=t.current;if(!e)return void ta(!1);let s=e.getContext("2d");if(!s)return void ta(!1);if(tm&&c())try{let e=await u({prompt:te,style:ti});if(e.success&&e.skinDataUrl){let t=new Image;t.onload=()=>{s.clearRect(0,0,64,64),s.drawImage(t,0,0),s4(),sQ(),tY(te,ti,e.skinDataUrl),ta(!1),eU(!1),s5("download")},t.onerror=()=>{tx("Failed to load generated skin"),ta(!1)},t.src=e.skinDataUrl;return}tx(e.error||"AI generation failed")}catch(e){tx(e instanceof Error?e.message:"AI generation failed")}await new Promise(e=>setTimeout(e,800));let a=te.toLowerCase(),l={skin:"#c4a57b",hair:"#442920",shirt:"#00a8a8",pants:"#3c2a5e",shoes:"#444444"},d="anime"===ti?1.2:"cartoon"===ti?1.1:1;if(a.includes("zombie")||a.includes("undead"))l={skin:"#5a8f5a",hair:"#2d4a2d",shirt:"#3d5a3d",pants:"#2d4a2d",shoes:"#1a3a1a"};else if(a.includes("robot")||a.includes("mech")||a.includes("android"))l={skin:"#8a8a8a",hair:"#444444",shirt:"#3498db",pants:"#2c3e50",shoes:"#1a1a1a"};else if(a.includes("ninja")||a.includes("assassin")||a.includes("stealth"))l={skin:"#c4a57b",hair:"#1a1a1a",shirt:"#1a1a1a",pants:"#1a1a1a",shoes:"#2c2c2c"};else if(a.includes("princess")||a.includes("queen")||a.includes("royalty"))l={skin:"#ffdfc4",hair:"#f1c40f",shirt:"#e91e63",pants:"#9c27b0",shoes:"#ff69b4"};else if(a.includes("pirate")||a.includes("captain")||a.includes("sailor"))l={skin:"#d4a76a",hair:"#2c1810",shirt:"#8B0000",pants:"#1a1a1a",shoes:"#3d2314"};else if(a.includes("wizard")||a.includes("mage")||a.includes("sorcerer"))l={skin:"#e8d5c4",hair:"#c0c0c0",shirt:"#4B0082",pants:"#2E0854",shoes:"#1a1a2e"};else if(a.includes("alien")||a.includes("space")||a.includes("extraterrestrial"))l={skin:"#7dcea0",hair:"#27ae60",shirt:"#9b59b6",pants:"#8e44ad",shoes:"#6c3483"};else if(a.includes("knight")||a.includes("armor")||a.includes("warrior"))l={skin:"#d4a76a",hair:"#4a3728",shirt:"#7f8c8d",pants:"#5d6d7e",shoes:"#2c3e50"};else if(a.includes("elf")||a.includes("fairy")||a.includes("nature"))l={skin:"#f5deb3",hair:"#228b22",shirt:"#006400",pants:"#556b2f",shoes:"#8b4513"};else if(a.includes("vampire")||a.includes("dark")||a.includes("gothic"))l={skin:"#e8e8e8",hair:"#1a1a1a",shirt:"#8b0000",pants:"#1a1a1a",shoes:"#2c2c2c"};else if(a.includes("superhero")||a.includes("hero"))l={skin:"#d4a76a",hair:"#2c1810",shirt:"#dc143c",pants:"#00008b",shoes:"#ffd700"};else if(a.includes("chef")||a.includes("cook"))l={skin:"#d4a76a",hair:"#3d2314",shirt:"#ffffff",pants:"#1a1a1a",shoes:"#2c2c2c"};else if(a.includes("doctor")||a.includes("nurse")||a.includes("medical"))l={skin:"#d4a76a",hair:"#3d2314",shirt:"#87ceeb",pants:"#87ceeb",shoes:"#ffffff"};else{let e=te.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%360;l.shirt="hsl(".concat(e,", 70%, ").concat(50*d,"%)"),l.pants="hsl(".concat((e+180)%360,", 60%, ").concat(40*d,"%)"),l.hair="hsl(".concat((e+90)%360,", 40%, 25%)")}s.clearRect(0,0,64,64),s.fillStyle=l.skin,s.fillRect(8,8,8,8),s.fillRect(24,8,8,8),s.fillRect(0,8,8,8),s.fillRect(16,8,8,8),s.fillRect(8,0,8,8),s.fillRect(16,0,8,8),s.fillStyle=l.hair,s.fillRect(8,0,8,8),s.fillRect(8,8,8,2),s.fillRect(0,8,8,3),s.fillRect(16,8,8,3),s.fillRect(24,8,8,3),s.fillStyle="#ffffff",s.fillRect(10,12,2,2),s.fillRect(14,12,2,2),s.fillStyle="#000000",s.fillRect(11,13,1,1),s.fillRect(15,13,1,1),s.fillStyle="#d4a76a",s.fillRect(12,14,2,1),s.fillStyle="#b35a5a",s.fillRect(11,15,4,1),s.fillStyle=l.shirt,s.fillRect(20,20,8,12),s.fillRect(32,20,8,12),s.fillRect(16,20,4,12),s.fillRect(28,20,4,12),s.fillRect(20,16,8,4),s.fillStyle=l.skin,s.fillRect(44,20,4,12),s.fillRect(48,20,4,12),s.fillRect(40,20,4,12),s.fillRect(52,20,4,12),s.fillStyle=l.shirt,s.fillRect(44,20,4,8),s.fillRect(40,20,4,8),s.fillStyle=l.skin,s.fillRect(36,52,4,12),s.fillRect(44,52,4,12),s.fillRect(32,52,4,12),s.fillRect(48,52,4,12),s.fillStyle=l.shirt,s.fillRect(36,52,4,8),s.fillRect(32,52,4,8),s.fillStyle=l.pants,s.fillRect(4,20,4,12),s.fillRect(8,20,4,12),s.fillRect(0,20,4,12),s.fillRect(12,20,4,12),s.fillStyle=l.shoes,s.fillRect(4,28,4,4),s.fillRect(0,28,4,4),s.fillStyle=l.pants,s.fillRect(20,52,4,12),s.fillRect(24,52,4,12),s.fillRect(16,52,4,12),s.fillRect(28,52,4,12),s.fillStyle=l.shoes,s.fillRect(20,60,4,4),s.fillRect(16,60,4,4),s4(),sQ(),tY(te,ti,e.toDataURL("image/png")),ta(!1),eU(!1),s5("download")},sp=(0,n.useCallback)(e=>{eE(t=>{let s=t.filter(t=>t!==e);return[e,...s].slice(0,8)})},[]),[sg,sj]=(0,n.useState)(!1),[sf,sy]=(0,n.useState)(!1),[sw,sN]=(0,n.useState)(!1);(0,n.useEffect)(()=>{localStorage.getItem("skin-creator-t1000-seen")||setTimeout(()=>{sy(!0),sj(!0),localStorage.setItem("skin-creator-t1000-seen","true"),setTimeout(()=>{sj(!1),sy(!1)},5e3)},1e3)},[]);let[sk,sv]=(0,n.useState)({width:0,height:0}),[sC,sD]=(0,n.useState)([]),sS=(0,n.useRef)(0),sR=(0,n.useRef)(null),[sF,sT]=(0,n.useState)(!1),[sA,sE]=(0,n.useState)([]),[sI,sM]=(0,n.useState)(-1),[sL,sB]=(0,n.useState)({}),[sP,sU]=(0,n.useState)(null),[sO,sz]=(0,n.useState)(!1),[sG,sV]=(0,n.useState)(()=>JSON.parse(localStorage.getItem("skin-tips-dismissed")||"{}")),s_=[{theme:"\uD83C\uDFF4‍☠️ Pirate",hint:"Arrr! Create a swashbuckling pirate!"},{theme:"\uD83E\uDDD9 Wizard",hint:"Magical robes and pointy hat!"},{theme:"\uD83E\uDD16 Robot",hint:"Beep boop! Metallic and futuristic!"},{theme:"\uD83E\uDDB8 Superhero",hint:"Cape and mask ready!"},{theme:"\uD83C\uDF83 Halloween",hint:"Spooky and scary!"},{theme:"\uD83D\uDC09 Dragon Knight",hint:"Scale armor and dragon themes!"},{theme:"\uD83C\uDF0A Ocean Explorer",hint:"Dive deep with aquatic vibes!"},{theme:"\uD83D\uDE80 Astronaut",hint:"Space suit and cosmic colors!"},{theme:"\uD83C\uDF40 Leprechaun",hint:"Green and gold luck!"},{theme:"⚔️ Medieval Knight",hint:"Armor up!"},{theme:"\uD83C\uDFAD Jester",hint:"Colorful and silly!"},{theme:"\uD83D\uDC31 Cat Person",hint:"Meow! Ears and whiskers!"},{theme:"\uD83D\uDD25 Fire Mage",hint:"Hot and fiery!"},{theme:"❄️ Ice Queen/King",hint:"Frozen elegance!"}],sq=s_[new Date().getDate()%s_.length],[sK,sW]=(0,n.useState)("standing"),sJ=[{id:"standing",name:"\uD83E\uDDCD Standing",desc:"Default pose"},{id:"walking",name:"\uD83D\uDEB6 Walking",desc:"Mid-stride"},{id:"combat",name:"⚔️ Combat",desc:"Battle ready!"},{id:"sitting",name:"\uD83E\uDE91 Sitting",desc:"Relaxed"},{id:"wave",name:"\uD83D\uDC4B Waving",desc:"Friendly wave"},{id:"orange-justice",name:"\uD83C\uDF4A Orange Justice",desc:"Fortnite classic!"},{id:"default-dance",name:"\uD83D\uDC83 Default Dance",desc:"The OG!"},{id:"floss",name:"\uD83E\uDDB7 Floss",desc:"Side to side!"}],sY={firstDraw:{name:"First Stroke!",emoji:"\uD83C\uDFA8"},colorMaster:{name:"Color Master",emoji:"\uD83C\uDF08"},saved:{name:"Saved!",emoji:"\uD83D\uDCBE"},shared:{name:"Shared!",emoji:"\uD83D\uDD17"},downloaded:{name:"Downloaded!",emoji:"\uD83D\uDCE5"},undoKing:{name:"Undo King",emoji:"↩️"},layerPro:{name:"Layer Pro",emoji:"\uD83D\uDCDA"},patternUser:{name:"Pattern User",emoji:"\uD83C\uDFAD"},nightOwl:{name:"\uD83E\uDD2B Night Owl",emoji:"\uD83E\uDD89"},speedDemon:{name:"\uD83E\uDD2B Speed Demon",emoji:"⚡"},perfectionist:{name:"\uD83E\uDD2B Perfectionist",emoji:"✨"},explorer:{name:"\uD83E\uDD2B Explorer",emoji:"\uD83E\uDDED"},zenMaster:{name:"\uD83E\uDD2B Zen Master",emoji:"\uD83E\uDDD8"}},sH=(0,n.useCallback)(e=>{if(sL[e])return;let t=sY[e];if(!t)return;sB(t=>({...t,[e]:!0})),sU({id:e,...t});try{let e=new(window.AudioContext||window.webkitAudioContext);[523,659,784,988,1047].forEach((t,s)=>{let a=e.createOscillator(),l=e.createGain();a.connect(l),l.connect(e.destination),a.frequency.value=t,a.type="triangle",l.gain.setValueAtTime(.12,e.currentTime+.08*s),l.gain.exponentialRampToValueAtTime(.01,e.currentTime+.08*s+.3),a.start(e.currentTime+.08*s),a.stop(e.currentTime+.08*s+.3)})}catch(e){}setTimeout(()=>sU(null),3e3);let s=JSON.parse(localStorage.getItem("skin-creator-achievements")||"{}");s[e]=!0,localStorage.setItem("skin-creator-achievements",JSON.stringify(s))},[sL]);(0,n.useEffect)(()=>{let e=localStorage.getItem("skin-creator-achievements");e&&sB(JSON.parse(e))},[]);let[sX,sZ]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=e=>{"?"===e.key||"/"===e.key&&e.shiftKey?sZ(e=>!e):"Escape"===e.key&&sZ(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let sQ=(0,n.useCallback)(()=>{let e=t.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let a=s.getImageData(0,0,64,64);sE(e=>{let t=e.slice(0,sI+1);return t.push(a),t.length>50&&t.shift(),t}),sM(e=>Math.min(e+1,49)),e8(e=>e+1);try{localStorage.setItem("minecraft-skin-autosave",e.toDataURL("image/png"))}catch(e){}},[sI]),s$=(0,n.useCallback)(()=>{if(sI<=0)return;let e=t.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let a=sI-1;s.putImageData(sA[a],0,0),sM(a);let l=parseInt(localStorage.getItem("skin-undo-count")||"0")+1;localStorage.setItem("skin-undo-count",l.toString()),l>=50&&sH("perfectionist")},[sA,sI,sH]),s0=(0,n.useCallback)(()=>{if(sI>=sA.length-1)return;let e=t.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let a=sI+1;s.putImageData(sA[a],0,0),sM(a)},[sA,sI]),s5=(0,n.useCallback)(e=>{if(sF)return;sR.current||(sR.current=new(window.AudioContext||window.webkitAudioContext));let t=sR.current,s=t.createOscillator(),a=t.createGain();s.connect(a),a.connect(t.destination),"draw"===e?(s.frequency.setValueAtTime(800+400*Math.random(),t.currentTime),s.frequency.exponentialRampToValueAtTime(400,t.currentTime+.1),a.gain.setValueAtTime(.1,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),s.start(t.currentTime),s.stop(t.currentTime+.1)):"click"===e?(s.frequency.setValueAtTime(600,t.currentTime),s.frequency.exponentialRampToValueAtTime(200,t.currentTime+.15),a.gain.setValueAtTime(.2,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),s.start(t.currentTime),s.stop(t.currentTime+.15)):"download"===e?[523,659,784,1047].forEach((e,s)=>{let a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.frequency.value=e,l.gain.setValueAtTime(.15,t.currentTime+.1*s),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1*s+.2),a.start(t.currentTime+.1*s),a.stop(t.currentTime+.1*s+.2)}):"undo"===e?(s.frequency.setValueAtTime(300,t.currentTime),s.frequency.exponentialRampToValueAtTime(600,t.currentTime+.12),a.gain.setValueAtTime(.12,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.12),s.start(t.currentTime),s.stop(t.currentTime+.12)):"redo"===e?(s.frequency.setValueAtTime(600,t.currentTime),s.frequency.exponentialRampToValueAtTime(300,t.currentTime+.12),a.gain.setValueAtTime(.12,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.12),s.start(t.currentTime),s.stop(t.currentTime+.12)):"error"===e?(s.type="sawtooth",s.frequency.setValueAtTime(150,t.currentTime),a.gain.setValueAtTime(.15,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),s.start(t.currentTime),s.stop(t.currentTime+.2)):"success"===e?(s.frequency.setValueAtTime(880,t.currentTime),s.frequency.exponentialRampToValueAtTime(1200,t.currentTime+.1),a.gain.setValueAtTime(.15,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),s.start(t.currentTime),s.stop(t.currentTime+.15)):"achievement"===e?[523,659,784,988,1047].forEach((e,s)=>{let a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.frequency.value=e,a.type="triangle",l.gain.setValueAtTime(.12,t.currentTime+.08*s),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+.08*s+.3),a.start(t.currentTime+.08*s),a.stop(t.currentTime+.08*s+.3)}):"save"===e&&[784,988].forEach((e,s)=>{let a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.frequency.value=e,l.gain.setValueAtTime(.12,t.currentTime+.08*s),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+.08*s+.1),a.start(t.currentTime+.08*s),a.stop(t.currentTime+.08*s+.1)})},[]);(0,n.useEffect)(()=>{sv({width:window.innerWidth,height:window.innerHeight});let e=()=>sv({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("minecraft-skin-autosave");if(e&&t.current){let s=t.current.getContext("2d");if(s){let t=new Image;t.onload=()=>{s.clearRect(0,0,64,64),s.drawImage(t,0,0),s4()},t.src=e}}},[]),(0,n.useEffect)(()=>{let e=e=>{if(!(e.target instanceof HTMLInputElement))switch(e.key.toLowerCase()){case"b":F("brush");break;case"e":F("eraser");break;case"f":F("fill");break;case"g":e.shiftKey?q(e=>!e):F("gradient");break;case"s":F("stamp");break;case"i":F("eyedropper");break;case"?":eB(e=>!e);break;case"z":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),s$());break;case"y":(e.metaKey||e.ctrlKey)&&(e.preventDefault(),s0());break;case"m":L(e=>!e);break;case"d":P(e=>!e);break;case"+":case"=":V(e=>Math.min(12,e+1));break;case"-":V(e=>Math.max(2,e-1));break;case"1":Y(1);break;case"2":Y(2);break;case"3":Y(3);break;case"l":t9(e=>!e);break;case"[":t1(e=>["base","clothing","accessories"][(["base","clothing","accessories"].indexOf(e)+2)%3]);break;case"]":t1(e=>["base","clothing","accessories"][(["base","clothing","accessories"].indexOf(e)+1)%3]);break;case"c":e.metaKey||e.ctrlKey||sm(e=>!e)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s$,s0]),(0,n.useCallback)(()=>{if(t.current){let e=t.current.toDataURL("image/png");localStorage.setItem("minecraft-skin-autosave",e)}},[]);let s1=(0,n.useCallback)(()=>{let e=t.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let a=[{skin:"#ffdfc4",hair:"#4a3728",shirt:"#e74c3c",pants:"#2c3e50",shoes:"#1a1a1a"},{skin:"#c4a57b",hair:"#1a1a1a",shirt:"#3498db",pants:"#9b59b6",shoes:"#2c2c2c"},{skin:"#8d6e4c",hair:"#2c1810",shirt:"#27ae60",pants:"#f39c12",shoes:"#34495e"},{skin:"#7dcea0",hair:"#27ae60",shirt:"#e91e63",pants:"#673ab7",shoes:"#4a148c"},{skin:"#ff6b6b",hair:"#c0392b",shirt:"#f1c40f",pants:"#1abc9c",shoes:"#16a085"},{skin:"#a29bfe",hair:"#6c5ce7",shirt:"#fd79a8",pants:"#00cec9",shoes:"#0984e3"},{skin:"#ffeaa7",hair:"#fdcb6e",shirt:"#e17055",pants:"#74b9ff",shoes:"#0984e3"}],l=a[Math.floor(Math.random()*a.length)];s.clearRect(0,0,64,64),s.fillStyle=l.skin,s.fillRect(8,8,8,8),s.fillRect(0,8,8,8),s.fillRect(16,8,8,8),s.fillRect(24,8,8,8),s.fillRect(8,0,8,8),s.fillStyle=l.hair,s.fillRect(8,8,8,Math.random()>.5?2:1),s.fillStyle="#ffffff",s.fillRect(9,11,2,1),s.fillRect(13,11,2,1),s.fillStyle="#000000",s.fillRect(10,11,1,1),s.fillRect(13,11,1,1),s.fillStyle=l.shirt,s.fillRect(20,20,8,12),s.fillRect(16,20,4,12),s.fillRect(28,20,4,12),s.fillRect(20,16,8,4),s.fillStyle=l.skin,s.fillRect(44,20,4,4),s.fillRect(36,52,4,4),s.fillStyle=l.shirt,s.fillRect(44,24,4,8),s.fillRect(36,56,4,8),s.fillStyle=l.pants,s.fillRect(4,20,4,12),s.fillRect(20,52,4,12),s.fillStyle=l.shoes,s.fillRect(4,28,4,4),s.fillRect(20,60,4,4),s4(),sQ(),s5("download")},[]),s2=(0,n.useCallback)((e,t)=>{if("eraser"===R)return;let s=sS.current++,a={id:s,x:e,y:t,color:m};sD(e=>[...e.slice(-20),a]),setTimeout(()=>{sD(e=>e.filter(e=>e.id!==s))},600)},[m,R]),s9=(0,n.useCallback)(e=>{let t=st("base"),s=st("clothing"),a=st("accessories"),l=t.getContext("2d"),d=s.getContext("2d"),n=a.getContext("2d");if(!l||!d||!n)return;if(l.clearRect(0,0,64,64),d.clearRect(0,0,64,64),n.clearRect(0,0,64,64),"blank"===e){si(),s4();return}let r=C[e]||C.steve;l.fillStyle=r.hair,l.fillRect(8,0,8,8),l.fillStyle=r.skin,l.fillRect(16,0,8,8),l.fillStyle=r.skin,l.fillRect(0,8,8,8),l.fillStyle=r.skin,l.fillRect(8,8,8,8),l.fillStyle=r.eyes,l.fillRect(9,11,2,1),l.fillRect(13,11,2,1),l.fillStyle=r.pupils,l.fillRect(10,11,1,1),l.fillRect(13,11,1,1),l.fillStyle=r.hair,l.fillRect(8,8,8,1),l.fillRect(8,8,1,2),l.fillRect(15,8,1,2),l.fillStyle="#a87d5a",l.fillRect(11,14,2,1),l.fillStyle=r.skin,l.fillRect(16,8,8,8),l.fillStyle=r.hair,l.fillRect(24,8,8,8),d.fillStyle=r.shirt,d.fillRect(20,16,8,4),d.fillRect(28,16,8,4),d.fillRect(16,20,4,12),d.fillRect(20,20,8,12),d.fillRect(28,20,4,12),d.fillRect(32,20,8,12),l.fillStyle=r.skin,l.fillRect(44,16,4,4),l.fillRect(48,16,4,4),l.fillRect(40,20,4,12),l.fillRect(44,20,4,12),l.fillRect(48,20,4,12),l.fillRect(52,20,4,12),d.fillStyle=r.pants,d.fillRect(4,16,4,4),d.fillRect(8,16,4,4),d.fillRect(0,20,4,12),d.fillRect(4,20,4,12),d.fillRect(8,20,4,12),d.fillRect(12,20,4,12),d.fillStyle=r.shoes,d.fillRect(4,28,4,4),d.fillRect(0,28,4,4),d.fillRect(8,28,4,4),d.fillRect(12,28,4,4),l.fillStyle=r.skin,l.fillRect(36,48,4,4),l.fillRect(40,48,4,4),l.fillRect(32,52,4,12),l.fillRect(36,52,4,12),l.fillRect(40,52,4,12),l.fillRect(44,52,4,12),d.fillStyle=r.pants,d.fillRect(20,48,4,4),d.fillRect(24,48,4,4),d.fillRect(16,52,4,12),d.fillRect(20,52,4,12),d.fillRect(24,52,4,12),d.fillRect(28,52,4,12),d.fillStyle=r.shoes,d.fillRect(20,60,4,4),d.fillRect(16,60,4,4),d.fillRect(24,60,4,4),d.fillRect(28,60,4,4),si(),s4(),e8(e=>e+1)},[st,si]),s4=(0,n.useCallback)(()=>{let e=t.current,a=s.current;if(!e||!a)return;let l=a.getContext("2d");l&&(l.fillStyle="#1a1a2e",l.fillRect(0,0,a.width,a.height),l.imageSmoothingEnabled=!1,l.drawImage(e,8,8,8,8,60,20,64,64),l.drawImage(e,20,20,8,12,60,84,64,96),l.drawImage(e,44,20,4,12,28,84,32,96),l.drawImage(e,36,52,4,12,124,84,32,96),l.drawImage(e,4,20,4,12,60,180,32,96),l.drawImage(e,20,52,4,12,92,180,32,96))},[]),s8=(0,n.useCallback)(()=>{let e=t.current;if(!e)return;let s=prompt("\uD83D\uDCBE Name your skin:","Skin ".concat(t3.length+1));if(!s)return;let a={id:"skin-".concat(Date.now()),name:s,dataUrl:e.toDataURL("image/png"),timestamp:Date.now()};t6(e=>[a,...e].slice(0,20))},[t3.length]),s3=(0,n.useCallback)(e=>{let s=new Image;s.onload=()=>{let e=t.current;if(!e)return;let a=e.getContext("2d");a&&(a.clearRect(0,0,64,64),a.drawImage(s,0,0),se(!1),s4())},s.src=e.dataUrl},[s4]),s6=(0,n.useCallback)(e=>{t6(t=>t.filter(t=>t.id!==e))},[]),[s7,ae]=(0,n.useState)(null),at=(0,n.useCallback)(()=>{let e=t.current;if(!e)return;let s=e.toDataURL("image/png").split(",")[1].replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),a="".concat(window.location.origin).concat(window.location.pathname,"?skin=").concat(s.slice(0,2e3));ae(a),navigator.clipboard.writeText(a).then(()=>{s5("download"),sH("shared")}).catch(()=>{})},[]);(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("skin");if(e)try{let s=e.replace(/-/g,"+").replace(/_/g,"/"),a=s+"==".slice(0,(4-s.length%4)%4),l=new Image;l.onload=()=>{let e=t.current;if(!e)return;let s=e.getContext("2d");s&&(s.clearRect(0,0,64,64),s.drawImage(l,0,0),s4())},l.src="data:image/png;base64,".concat(a)}catch(e){}},[s4]),(0,n.useEffect)(()=>{s9("steve")},[s9]),(0,n.useEffect)(()=>{si(),s4()},[t$,si]);let as=e=>{if(!p&&"mousemove"===e.type)return;let s=t.current;if(!s)return;let a=s.getContext("2d");if(!a)return;let l=st(t5).getContext("2d");if(!l)return;if(p&&Math.random()>.7){s2(e.clientX,e.clientY),s5("draw"),sH("firstDraw");let t=new Date().getHours();t>=2&&t<5&&sH("nightOwl")}let d=s.getBoundingClientRect(),n=64/d.width,r=64/d.height,i=Math.floor((e.clientX-d.left)*n),o=Math.floor((e.clientY-d.top)*r);if(!(i<0)&&!(i>=64)&&!(o<0)&&!(o>=64)){if("eyedropper"===R){let e=a.getImageData(i,o,1,1).data;e[3]>0&&(b(("#"+[e[0],e[1],e[2]].map(e=>e.toString(16).padStart(2,"0")).join("")).toUpperCase()),s5("click"));return}if(E){let e=v[E];if(i<e.x||i>=e.x+e.w||o<e.y||o>=e.y+e.h)return}for(let e=0;e<J;e++)for(let t=0;t<J;t++){let s=i+e,a=o+t;if(!(s>=64)&&!(a>=64)){if("eraser"===R)l.clearRect(s,a,1,1);else if("fill"===R){if(E){let e=v[E];l.fillStyle=m,l.fillRect(e.x,e.y,e.w,e.h)}}else if("gradient"===R){if(E){let e=v[E],t=l.createLinearGradient(e.x,e.y,e.x+e.w,e.y+e.h);t.addColorStop(0,m),t.addColorStop(1,K),l.fillStyle=t,l.fillRect(e.x,e.y,e.w,e.h)}}else if("glow"===R){l.shadowColor=m,l.shadowBlur=2,l.fillStyle=m;for(let e=0;e<J;e++)for(let t=0;t<J;t++)l.fillRect(i+e,o+t,1,1);l.shadowBlur=0}else if("stamp"===R){l.fillStyle=m;let e={star:[[1,0],[0,1],[1,1],[2,1],[1,2]],heart:[[0,1],[2,1],[0,0],[1,1],[2,0]],diamond:[[1,0],[0,1],[2,1],[1,2]],smiley:[[0,0],[2,0],[0,2],[1,2],[2,2],[1,1]],fire:[[1,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2]],lightning:[[1,0],[0,1],[1,1],[1,2],[2,2]]};(e[T]||e.star).forEach(e=>{let[t,s]=e;l.fillRect(i+t,o+s,1,1)})}else if(l.fillStyle=m,l.fillRect(s,a,1,1),M){let e=63-s;l.fillRect(e,a,1,1)}}}si(),s4()}},aa=e=>{let s=e.touches[0];if(!s)return;let a=t.current;if(!a)return;let l=st(t5).getContext("2d");if(!l)return;let d=a.getBoundingClientRect(),n=64/d.width,r=64/d.height,i=Math.floor((s.clientX-d.left)*n),o=Math.floor((s.clientY-d.top)*r);if(!(i<0)&&!(i>=64)&&!(o<0)&&!(o>=64)){if(E){let e=v[E];if(i<e.x||i>=e.x+e.w||o<e.y||o>=e.y+e.h)return}for(let e=0;e<J;e++)for(let t=0;t<J;t++){let s=i+e,a=o+t;if(!(s>=64)&&!(a>=64)){if("eraser"===R)l.clearRect(s,a,1,1);else if(l.fillStyle=m,l.fillRect(s,a,1,1),M){let e=63-s;l.fillRect(e,a,1,1)}}}si(),s4()}},[al,ad]=(0,n.useState)(!1),[an,ar]=(0,n.useState)({base:!0,clothing:!0,accessories:!0}),ai=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=(e,t)=>{e.toBlob(e=>{if(!e)return;let s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=t.endsWith(".png")?t:"".concat(t,".png"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},"image/png")};if(e){let e=document.createElement("canvas");e.width=64,e.height=64;let t=e.getContext("2d");if(!t)return;t$.forEach(e=>{if(!an[e.id])return;let s=t4.current[e.id];s&&(t.globalAlpha=e.opacity/100,t.drawImage(s,0,0))}),t.globalAlpha=1,s(e,"".concat(eF||"my-skin",".png"))}else{let e=t.current;if(!e)return;s(e,"".concat(eF||"my-skin",".png"))}sj(!0),s5("download"),setTimeout(()=>sj(!1),3e3),ad(!1),sH("downloaded")},ao=()=>{if(!confirm("Clear the entire canvas?"))return;let e=t.current;if(!e)return;let s=e.getContext("2d");s&&(s.clearRect(0,0,64,64),s4(),sQ(),s5("click"))},ac=async()=>{let e=t.current;if(e)try{let t=await new Promise(t=>e.toBlob(e=>t(e),"image/png"));await navigator.clipboard.write([new ClipboardItem({"image/png":t})]),s5("click"),alert("✅ Skin copied to clipboard!")}catch(s){let t=e.toDataURL("image/png");await navigator.clipboard.writeText(t),alert("\uD83D\uDCCB Skin URL copied!")}},ax=async()=>{if(eG.trim()){eq(!0),eW(null);try{let s=eG.trim();if(s.includes("namemc.com/profile/")){var e;let t=null==(e=s.split("/profile/")[1])?void 0:e.split("/")[0];t&&(s="https://mc-heads.net/skin/".concat(t))}else s.includes("minecraftskins.com/skin/")?s=s.replace("/skin/","/download/"):s.includes("http")||(s="https://mc-heads.net/skin/".concat(s));let a="https://corsproxy.io/?".concat(encodeURIComponent(s)),l=await fetch(a);if(!l.ok)throw Error("Failed to fetch skin");let d=await l.blob(),n=new Image;n.onload=()=>{let e=t.current;if(!e)return;let s=e.getContext("2d");s&&(s.clearRect(0,0,64,64),s.drawImage(n,0,0,64,64),s4(),sQ(),s5("click"),ez(!1),eV(""),eq(!1))},n.onerror=()=>{eW("Failed to load image. Try a direct PNG URL."),eq(!1)},n.src=URL.createObjectURL(d)}catch(e){eW(e instanceof Error?e.message:"Failed to import skin"),eq(!1)}}};return(0,a.jsxs)("div",{style:{backgroundSize:"400% 400%",animation:"gradient 15s ease infinite"},className:"jsx-d254eb5d291d5199 "+"min-h-screen p-6 flex flex-col items-center transition-all duration-700 ".concat(B?"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900":"bg-gradient-to-br from-violet-500 via-fuchsia-500 to-cyan-500"),children:[(0,a.jsx)(i.default,{id:"structured-data",type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"SoftwareApplication",name:"Skin Creator - Minecraft Skin Creator",applicationCategory:"GameApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},description:"Free online Minecraft skin creator with AI-powered tools, 3D preview, and layer system. Works with Java & Bedrock editions.",screenshot:"https://onde.la/images/og-skin-creator.png",url:"https://onde.la/games/skin-creator/",author:{"@type":"Organization",name:"Onde",url:"https://onde.la"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"1250",bestRating:"5",worstRating:"1"}})}}),(0,a.jsx)(d(),{id:"d254eb5d291d5199",children:"@keyframes gradient{0%{background-position:0%50%}50%{background-position:100%50%}100%{background-position:0%50%}}"}),sg&&(0,a.jsx)(f,{width:sk.width,height:sk.height,recycle:!1,numberOfPieces:500,gravity:.3}),sX&&(0,a.jsx)("div",{onClick:()=>sZ(!1),className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 bg-gray-900 text-white p-6 rounded-2xl shadow-2xl max-w-md",children:[(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-2xl font-bold mb-3 flex items-center gap-2",children:"⌨️ Keyboard Shortcuts"}),(0,a.jsx)("input",{type:"text",placeholder:"\uD83D\uDD0D Search shortcuts...",onChange:e=>{let t=e.target.value.toLowerCase();document.querySelectorAll("[data-shortcut]").forEach(e=>{let s=e.getAttribute("data-shortcut")||"";e.style.display=s.includes(t)?"":"none"})},className:"jsx-d254eb5d291d5199 w-full px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm mb-3 focus:outline-none focus:border-purple-500"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-2 gap-2 text-sm max-h-60 overflow-auto",children:[(0,a.jsxs)("div",{"data-shortcut":"b brush",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"B"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Brush tool"})]}),(0,a.jsxs)("div",{"data-shortcut":"e eraser",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"E"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Eraser"})]}),(0,a.jsxs)("div",{"data-shortcut":"f fill bucket",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"F"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Fill bucket"})]}),(0,a.jsxs)("div",{"data-shortcut":"i eyedropper color picker",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"I"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Eyedropper"})]}),(0,a.jsxs)("div",{"data-shortcut":"1 2 3 4 5 brush size",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"1-5"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Brush size"})]}),(0,a.jsxs)("div",{"data-shortcut":"z undo ctrl cmd",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"⌘/Ctrl + Z"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Undo"})]}),(0,a.jsxs)("div",{"data-shortcut":"y redo ctrl cmd",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"⌘/Ctrl + Y"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Redo"})]}),(0,a.jsxs)("div",{"data-shortcut":"s save ctrl cmd",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"⌘/Ctrl + S"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Save"})]}),(0,a.jsxs)("div",{"data-shortcut":"? help shortcuts",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"?"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"This help"})]}),(0,a.jsxs)("div",{"data-shortcut":"esc escape close",className:"jsx-d254eb5d291d5199 contents",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gray-800 px-3 py-2 rounded",children:"Esc"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 py-2",children:"Close panels"})]})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-gray-400 text-xs mt-4 text-center",children:"Press ? or Esc to close"})]})}),sP&&(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 fixed top-20 right-4 z-50 animate-bounce",children:(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-4xl",children:sP.emoji}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs opacity-75",children:"Achievement Unlocked!"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold text-lg",children:sP.name})]})]})}),sO&&(0,a.jsx)("div",{onClick:()=>sz(!1),className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-2xl font-bold flex items-center gap-2",children:"\uD83C\uDFC6 Achievements"}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:[Object.values(sL).filter(Boolean).length,"/",Object.keys(sY).length]})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-2 gap-3 max-h-[60vh] overflow-auto",children:Object.entries(sY).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 "+"p-3 rounded-xl text-center transition-all ".concat(sL[t]?"bg-gradient-to-br from-yellow-100 to-orange-100 border-2 border-yellow-400":"bg-gray-100 opacity-50"),children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 "+"text-3xl mb-1 ".concat(sL[t]?"":"grayscale"),children:s.emoji}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold text-sm",children:s.name}),!sL[t]&&(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-400 mt-1",children:"\uD83D\uDD12 Locked"})]},t)})}),(0,a.jsx)("button",{onClick:()=>sz(!1),className:"jsx-d254eb5d291d5199 w-full mt-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-xl",children:"Close"})]})}),sf&&(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 text-white px-8 py-6 rounded-3xl shadow-2xl animate-bounce",children:(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 text-center",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 text-6xl mb-2",children:"\uD83C\uDF89"}),(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-3xl font-black mb-2",children:"TASK 1000!"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-lg opacity-90",children:"Milestone Reached!"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm opacity-75 mt-2",children:"22+ features added today"})]})})}),sC.map(e=>(0,a.jsx)("div",{style:{left:e.x-8,top:e.y-8,width:16,height:16,backgroundColor:e.color,borderRadius:"50%",boxShadow:"0 0 10px ".concat(e.color,", 0 0 20px ").concat(e.color),zIndex:9999},className:"jsx-d254eb5d291d5199 fixed pointer-events-none animate-ping"},e.id)),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 text-center mb-4 md:mb-6 relative",children:[(0,a.jsx)("button",{onClick:()=>eQ(!eZ),"aria-label":"Menu",className:"jsx-d254eb5d291d5199 md:hidden absolute left-2 top-0 p-2 bg-white/20 rounded-xl hover:bg-white/30 transition-all",children:(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:eZ?"✕":"☰"})}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 hidden md:flex items-center justify-center gap-2 mb-1",children:(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-sm font-semibold text-white/80 bg-white/20 px-2 py-0.5 rounded-full",children:"\uD83C\uDF19 Moonlight"})}),(0,a.jsx)("h1",{className:"jsx-d254eb5d291d5199 text-2xl md:text-6xl font-black text-white drop-shadow-2xl",children:"\uD83C\uDFA8 Skin Creator"}),(0,a.jsxs)("p",{className:"jsx-d254eb5d291d5199 text-sm md:text-lg text-white/90 mt-1",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 md:hidden",children:"Minecraft & Roblox Skins ✨"}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 hidden md:inline",children:["AI Skin Creator for Minecraft & Roblox ✨",(0,a.jsx)("button",{onClick:()=>sZ(!0),title:"Keyboard shortcuts (?)",className:"jsx-d254eb5d291d5199 ml-3 px-2 py-1 text-sm bg-white/20 hover:bg-white/30 rounded-full transition-all",children:"⌨️ Help"}),(0,a.jsxs)("button",{onClick:()=>sz(!0),title:"View achievements",className:"jsx-d254eb5d291d5199 ml-2 px-2 py-1 text-sm bg-yellow-500/30 hover:bg-yellow-500/50 rounded-full transition-all",children:["\uD83C\uDFC6 ",Object.values(sL).filter(Boolean).length,"/",Object.keys(sY).length]}),(0,a.jsx)("button",{onClick:()=>sT(!sF),title:sF?"Unmute sounds":"Mute sounds",className:"jsx-d254eb5d291d5199 "+"ml-2 px-2 py-1 text-sm rounded-full transition-all ".concat(sF?"bg-red-500/50 hover:bg-red-500/70":"bg-green-500/30 hover:bg-green-500/50"),children:sF?"\uD83D\uDD07":"\uD83D\uDD0A"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:flex mt-3 bg-gradient-to-r from-orange-400 to-pink-500 rounded-xl px-4 py-2 text-white text-sm items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-lg",children:"\uD83D\uDCC5"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-bold",children:"Daily Challenge:"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:sq.theme}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 opacity-80 text-xs hidden sm:inline",children:["• ",sq.hint]})]}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-xs opacity-75",children:"#SkinStudioChallenge"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex gap-2 mt-3",children:Object.entries(k).map(e=>{let[t,s]=e;return(0,a.jsxs)("button",{onClick:()=>r(t),className:"jsx-d254eb5d291d5199 "+"px-4 py-2 rounded-full font-bold transition-all ".concat(l===t?"bg-white text-purple-600 scale-105 shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:[s.emoji," ",s.name]},t)})}),"minecraft"===l&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>e9("steve"),title:"Steve model - 4px arms",className:"jsx-d254eb5d291d5199 "+"px-3 py-1 rounded-full text-sm font-bold transition-all ".concat("steve"===e2?"bg-blue-500 text-white shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:"\uD83D\uDC66 Steve"}),(0,a.jsx)("button",{onClick:()=>e9("alex"),title:"Alex model - 3px slim arms",className:"jsx-d254eb5d291d5199 "+"px-3 py-1 rounded-full text-sm font-bold transition-all ".concat("alex"===e2?"bg-pink-500 text-white shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:"\uD83D\uDC67 Alex (slim)"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-2 mt-4",children:[(0,a.jsx)("button",{onClick:()=>x("editor"),className:"jsx-d254eb5d291d5199 "+"px-6 py-2 rounded-full font-bold transition-all ".concat("editor"===o?"bg-gradient-to-r from-purple-500 to-pink-500 text-white scale-105 shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:"\uD83C\uDFA8 Editor"}),(0,a.jsx)("button",{onClick:()=>x("gallery"),className:"jsx-d254eb5d291d5199 "+"px-6 py-2 rounded-full font-bold transition-all ".concat("gallery"===o?"bg-gradient-to-r from-green-500 to-teal-500 text-white scale-105 shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:"\uD83D\uDDBC️ Gallery"})]})]}),"gallery"===o&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 w-full max-w-6xl px-2 mt-4",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mb-6 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-2xl p-4",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-lg font-bold flex items-center gap-2 mb-3",children:"\uD83C\uDFC6 Top Creators This Week"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-2 sm:grid-cols-5 gap-2",children:[{rank:"\uD83E\uDD47",name:"PixelMaster",skins:47},{rank:"\uD83E\uDD48",name:"SkinWizard",skins:38},{rank:"\uD83E\uDD49",name:"BlockArtist",skins:31},{rank:"4",name:"CraftQueen",skins:28},{rank:"5",name:"You?",skins:"\uD83D\uDE80"}].map((e,t)=>(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 bg-white/80 rounded-xl p-2 text-center",children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 text-2xl",children:e.rank}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 font-bold text-sm truncate",children:e.name}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500",children:[e.skins," skins"]})]},t))})]}),(0,a.jsx)(y,{onSelectSkin:e=>{let t=new Image;t.onload=()=>{let e=document.createElement("canvas");e.width=64,e.height=64;let s=e.getContext("2d");if(s){s.drawImage(t,0,0,64,64);let e=s.getImageData(0,0,64,64);t4.current.forEach(t=>{if(t){let s=t.getContext("2d");s&&s.putImageData(e,0,0)}}),redrawPreview(),x("editor")}},t.src=e},currentSkinData:(()=>{let e=t.current;if(e)return e.toDataURL("image/png")})()})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 "+"flex flex-col lg:flex-row gap-2 md:gap-4 w-full max-w-6xl px-2 ".concat("editor"!==o?"hidden":""),children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:block glass-card rounded-3xl p-6 shadow-2xl hover:shadow-3xl transition-shadow duration-300",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center justify-center gap-2 mb-4",children:[(0,a.jsxs)("h2",{className:"jsx-d254eb5d291d5199 text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 animate-bounce-soft",children:"\uD83D\uDC40"})," Preview"]}),(0,a.jsx)("button",{onClick:()=>O(!U),title:"Toggle 3D view - drag to rotate!",className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded-lg text-xs font-bold transition-all ".concat(U?"bg-purple-500 text-white":"bg-gray-200 hover:bg-gray-300"),children:U?"\uD83C\uDFAE 3D":"\uD83D\uDCD0 2D"})]}),U&&(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex flex-wrap justify-center gap-1 mb-2",children:sJ.map(e=>(0,a.jsx)("button",{onClick:()=>sW(e.id),title:e.desc,className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded-lg text-xs transition-all ".concat(sK===e.id?"bg-purple-500 text-white":"bg-gray-100 hover:bg-gray-200"),children:e.name},e.id))}),U?(0,a.jsx)("div",{style:{width:200,height:280},className:"jsx-d254eb5d291d5199 rounded-xl mx-auto overflow-hidden",children:(0,a.jsx)(j,{skinCanvas:t.current,textureVersion:e4})}):(0,a.jsx)("canvas",{ref:s,width:200,height:280,style:{imageRendering:"pixelated"},className:"jsx-d254eb5d291d5199 rounded-xl mx-auto"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-4",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm font-semibold text-gray-700 mb-2",children:"Start from:"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex flex-wrap gap-1 justify-center",children:[Object.entries(C).map(e=>{let[t,s]=e;return(0,a.jsx)("button",{onClick:()=>{if(s9(t),"creeper"===t){sj(!0),s5("download");let e=document.querySelector(".glass-card");e&&(e.classList.add("animate-wiggle"),setTimeout(()=>e.classList.remove("animate-wiggle"),500)),setTimeout(()=>sj(!1),2e3)}},className:"jsx-d254eb5d291d5199 "+"px-2 py-1 text-white rounded-lg text-xs font-bold hover:scale-105 transition-all ".concat("creeper"===t?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600"),children:s.name},t)}),(0,a.jsx)("button",{onClick:()=>s9("blank"),className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gray-500 text-white rounded-lg text-xs font-bold hover:bg-gray-600",children:"⬜ Blank"}),(0,a.jsx)("button",{onClick:()=>{sN(!0),s1(),setTimeout(()=>sN(!1),500)},className:"jsx-d254eb5d291d5199 "+"px-2 py-1 bg-gradient-to-r from-pink-500 to-yellow-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform ".concat(sw?"animate-wiggle":"animate-pulse"),children:"\uD83C\uDFB2 Random!"}),(0,a.jsx)("button",{onClick:()=>{let e=t4.current[t5];if(!e)return;let t=e.getContext("2d");if(t){for(let e=0;e<64;e++)for(let s=0;s<64;s++)t.fillStyle="rgb(".concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),")"),t.fillRect(e,s,1,1);si(),s4(),sj(!0),s5("download"),setTimeout(()=>sj(!1),2e3)}},title:"\uD83C\uDF81 Mystery surprise skin!",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:"\uD83C\uDF81 Mystery!"}),(0,a.jsx)("button",{onClick:()=>{let e=["#FF6B6B","#4D96FF","#6BCB77","#FFD93D","#9B59B6","#FF8E53","#00BCD4","#E91E63"];t0(t=>t.map(t=>"clothing"===t.id||"accessories"===t.id?{...t,tint:e[Math.floor(Math.random()*e.length)],tintIntensity:70}:t)),s5("download")},title:"\uD83C\uDFAD Randomize outfit colors!",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:"\uD83C\uDFAD Outfit!"}),(0,a.jsx)("button",{onClick:()=>{let e=[{name:"Cyberpunk",base:"#0ff",accent:"#f0f",dark:"#0a0a2e"},{name:"Forest",base:"#228B22",accent:"#8B4513",dark:"#1a3a1a"},{name:"Ice",base:"#87CEEB",accent:"#E0FFFF",dark:"#1a2a3a"},{name:"Fire",base:"#FF4500",accent:"#FFD700",dark:"#2a1a0a"},{name:"Void",base:"#4B0082",accent:"#8B008B",dark:"#0a0a1a"},{name:"Ocean",base:"#006994",accent:"#40E0D0",dark:"#0a1a2a"},{name:"Golden",base:"#FFD700",accent:"#DAA520",dark:"#2a2a1a"},{name:"Neon",base:"#39FF14",accent:"#FF1493",dark:"#0a0a0a"}],t=e[Math.floor(Math.random()*e.length)];t0(e=>e.map(e=>"clothing"===e.id?{...e,tint:t.base,tintIntensity:60}:"accessories"===e.id?{...e,tint:t.accent,tintIntensity:70}:e)),s5("success")},title:"✨ AI-inspired color palette",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gradient-to-r from-violet-500 to-fuchsia-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform animate-pulse",children:"✨ AI Colors"}),(0,a.jsx)("button",{onClick:()=>{s8(),s5("save")},title:"\uD83D\uDCBE Save current skin",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:"\uD83D\uDCBE Save"}),(0,a.jsxs)("button",{onClick:()=>se(!t7),title:"\uD83D\uDCC2 My saved skins",className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded-lg text-xs font-bold hover:scale-105 transition-transform ".concat(t7?"bg-blue-500 text-white":"bg-gradient-to-r from-blue-400 to-indigo-500 text-white"),children:["\uD83D\uDCC2 My Skins (",t3.length,")"]}),(0,a.jsx)("button",{onClick:at,title:"\uD83D\uDD17 Share skin via link",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:"\uD83D\uDD17 Share"})]}),s7&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-2 p-2 bg-green-100 rounded-lg text-xs",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-green-800 font-bold",children:"✅ Link copied!"}),(0,a.jsx)("button",{onClick:()=>ae(null),className:"jsx-d254eb5d291d5199 text-green-600 hover:text-green-800",children:"✕"})]}),(0,a.jsx)("input",{type:"text",value:s7,readOnly:!0,onClick:e=>e.target.select(),className:"jsx-d254eb5d291d5199 w-full mt-1 p-1 text-xs bg-white rounded border truncate"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-2 mt-2 justify-center",children:[(0,a.jsx)("a",{href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent("Check out my Minecraft skin! \uD83C\uDFAE"),"&url=").concat(encodeURIComponent(s7)),target:"_blank",rel:"noopener noreferrer",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-black text-white rounded text-xs hover:bg-gray-800",children:"\uD835\uDD4F"}),(0,a.jsx)("a",{href:"https://reddit.com/submit?url=".concat(encodeURIComponent(s7),"&title=").concat(encodeURIComponent("My Minecraft Skin")),target:"_blank",rel:"noopener noreferrer",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-orange-500 text-white rounded text-xs hover:bg-orange-600",children:"Reddit"}),(0,a.jsx)("a",{href:"https://discord.com/channels/@me?content=".concat(encodeURIComponent(s7)),target:"_blank",rel:"noopener noreferrer",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-indigo-500 text-white rounded text-xs hover:bg-indigo-600",children:"Discord"}),(0,a.jsx)("button",{onClick:()=>{let e="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(s7));window.open(e,"_blank")},title:"Generate QR Code",className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gray-700 text-white rounded text-xs hover:bg-gray-800",children:"\uD83D\uDCF1 QR"})]})]}),t7&&t3.length>0&&(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 mt-2 p-2 bg-white/90 rounded-lg max-h-32 overflow-y-auto",children:(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-5 gap-1",children:t3.map(e=>(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 relative group",children:[(0,a.jsx)("img",{src:e.dataUrl,alt:e.name,style:{imageRendering:"pixelated"},onClick:()=>s3(e),title:"".concat(e.name," - Click to load"),className:"jsx-d254eb5d291d5199 w-10 h-10 rounded cursor-pointer hover:scale-110 transition-transform border-2 border-transparent hover:border-blue-500"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation();let s=prompt("✏️ Rename skin:",e.name);s&&s.trim()&&t6(t=>t.map(t=>t.id===e.id?{...t,name:s.trim()}:t))},title:"Rename",className:"jsx-d254eb5d291d5199 absolute -bottom-1 -left-1 w-4 h-4 bg-green-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"✏️"}),(0,a.jsx)("button",{onClick:t=>{var s;t.stopPropagation();let a=t8.join("\n"),l=prompt("\uD83C\uDFF7️ Add tag:\n".concat(a),(null==(s=e.tags)?void 0:s[0])||"");l&&l.trim()&&t6(t=>t.map(t=>t.id===e.id?{...t,tags:[...t.tags||[],l.trim()].slice(0,3)}:t))},title:"Add tag",className:"jsx-d254eb5d291d5199 absolute -bottom-1 -right-1 w-4 h-4 bg-purple-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"\uD83C\uDFF7️"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation();let s={...e,id:Date.now().toString(),name:"".concat(e.name," (copy)")};t6(e=>[...e,s])},title:"Duplicate",className:"jsx-d254eb5d291d5199 absolute -top-1 -left-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"\uD83D\uDCCB"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),s6(e.id)},title:"Delete",className:"jsx-d254eb5d291d5199 absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},e.id))})}),t7&&0===t3.length&&(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 mt-2 p-2 bg-white/90 rounded-lg text-center text-xs text-gray-500",children:"No saved skins yet! Click \uD83D\uDCBE Save to save your creation."})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex-1 glass-card rounded-2xl md:rounded-3xl p-3 md:p-6 shadow-2xl",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:flex flex-wrap gap-1 md:gap-2 mb-3 md:mb-4 justify-center",children:[(0,a.jsx)("button",{onClick:()=>F("brush"),title:"\uD83D\uDD8C️ Draw! Click and drag to color",className:"jsx-d254eb5d291d5199 "+"px-3 py-2 md:px-3 md:py-2 rounded-xl md:rounded-full text-sm md:text-sm font-bold transition-all ".concat("brush"===R?"bg-blue-500 text-white scale-105 shadow-lg":"bg-white/80 hover:bg-white"),children:"\uD83D\uDD8C️"}),(0,a.jsx)("button",{onClick:()=>F("eraser"),title:"\uD83E\uDDFD Erase! Remove colors",className:"jsx-d254eb5d291d5199 "+"px-3 py-2 md:px-3 md:py-2 rounded-xl md:rounded-full text-sm md:text-sm font-bold transition-all ".concat("eraser"===R?"bg-pink-500 text-white scale-105 shadow-lg":"bg-white/80 hover:bg-white"),children:"\uD83E\uDDFD"}),(0,a.jsx)("button",{onClick:()=>F("fill"),title:"\uD83E\uDEA3 Fill! Color a whole area",className:"jsx-d254eb5d291d5199 "+"px-3 py-2 md:px-3 md:py-2 rounded-xl md:rounded-full text-sm md:text-sm font-bold transition-all ".concat("fill"===R?"bg-yellow-500 text-white scale-105 shadow-lg":"bg-white/80 hover:bg-white"),children:"\uD83E\uDEA3"}),(0,a.jsx)("button",{onClick:()=>F("gradient"),title:"\uD83C\uDF08 Rainbow! Blend two colors",className:"jsx-d254eb5d291d5199 "+"hidden md:block px-2 py-1.5 md:px-3 md:py-2 rounded-lg md:rounded-full text-xs md:text-sm font-bold transition-all ".concat("gradient"===R?"bg-gradient-to-r from-pink-500 to-blue-500 text-white scale-105 shadow-lg":"bg-white/80 hover:bg-white"),children:"\uD83C\uDF08"}),(0,a.jsx)("button",{onClick:()=>F("glow"),title:"✨ Glow! Make it sparkle",className:"jsx-d254eb5d291d5199 "+"hidden md:block px-2 py-1.5 md:px-3 md:py-2 rounded-lg md:rounded-full text-xs md:text-sm font-bold transition-all ".concat("glow"===R?"bg-purple-600 text-white scale-105 shadow-lg shadow-purple-500/50":"bg-white/80 hover:bg-white"),children:"✨"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 relative group hidden md:block",children:[(0,a.jsxs)("button",{onClick:()=>F("stamp"),className:"jsx-d254eb5d291d5199 "+"px-3 py-2 rounded-full font-bold transition-all ".concat("stamp"===R?"bg-pink-500 text-white scale-105":"bg-gray-200 hover:bg-gray-300"),children:["star"===T?"⭐":"heart"===T?"❤️":"diamond"===T?"\uD83D\uDC8E":"smiley"===T?"\uD83D\uDE0A":"fire"===T?"\uD83D\uDD25":"⚡"," Stamp"]}),"stamp"===R&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 absolute top-full left-0 mt-1 flex gap-1 bg-white rounded-lg p-1 shadow-lg z-10",children:[(0,a.jsx)("button",{onClick:()=>A("star"),className:"jsx-d254eb5d291d5199 "+"p-1 rounded ".concat("star"===T?"bg-pink-200":""),children:"⭐"}),(0,a.jsx)("button",{onClick:()=>A("heart"),className:"jsx-d254eb5d291d5199 "+"p-1 rounded ".concat("heart"===T?"bg-pink-200":""),children:"❤️"}),(0,a.jsx)("button",{onClick:()=>A("diamond"),className:"jsx-d254eb5d291d5199 "+"p-1 rounded ".concat("diamond"===T?"bg-pink-200":""),children:"\uD83D\uDC8E"}),(0,a.jsx)("button",{onClick:()=>A("smiley"),className:"jsx-d254eb5d291d5199 "+"p-1 rounded ".concat("smiley"===T?"bg-pink-200":""),children:"\uD83D\uDE0A"}),(0,a.jsx)("button",{onClick:()=>A("fire"),className:"jsx-d254eb5d291d5199 "+"p-1 rounded ".concat("fire"===T?"bg-pink-200":""),children:"\uD83D\uDD25"}),(0,a.jsx)("button",{onClick:()=>A("lightning"),className:"jsx-d254eb5d291d5199 "+"p-1 rounded ".concat("lightning"===T?"bg-pink-200":""),children:"⚡"})]})]}),(0,a.jsx)("button",{onClick:()=>F("eyedropper"),title:"\uD83C\uDFAF Pick a color from your drawing!",className:"jsx-d254eb5d291d5199 "+"px-3 py-2 md:px-3 md:py-2 rounded-xl md:rounded-full text-sm md:text-sm font-bold transition-all ".concat("eyedropper"===R?"bg-amber-500 text-white scale-105 shadow-lg":"bg-white/80 hover:bg-white"),children:"\uD83C\uDFAF"}),(0,a.jsxs)("button",{onClick:()=>{s$(),s5("undo")},disabled:sI<=0,title:"Undo (".concat(sI," steps available)"),className:"jsx-d254eb5d291d5199 "+"px-3 py-2 rounded-full font-bold transition-all relative ".concat(sI<=0?"bg-gray-300 text-gray-500":"bg-orange-500 text-white hover:bg-orange-600"),children:["↩️ Undo",sI>0&&(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:sI})]}),(0,a.jsxs)("button",{onClick:()=>{s0(),s5("redo")},disabled:sI>=sA.length-1,title:"Redo (".concat(sA.length-1-sI," steps available)"),className:"jsx-d254eb5d291d5199 "+"px-3 py-2 rounded-full font-bold transition-all relative ".concat(sI>=sA.length-1?"bg-gray-300 text-gray-500":"bg-orange-500 text-white hover:bg-orange-600"),children:["↪️ Redo",sI<sA.length-1&&(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 absolute -top-1 -right-1 bg-blue-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:sA.length-1-sI})]}),(0,a.jsx)("button",{onClick:()=>L(!M),className:"jsx-d254eb5d291d5199 "+"px-3 py-2 rounded-full font-bold transition-all ".concat(M?"bg-purple-500 text-white scale-105":"bg-gray-200 hover:bg-gray-300"),children:"\uD83E\uDE9E Mirror"}),(0,a.jsx)("button",{onClick:()=>P(!B),className:"jsx-d254eb5d291d5199 "+"px-3 py-2 rounded-full font-bold transition-all ".concat(B?"bg-yellow-400 text-gray-900":"bg-gray-700 text-white"),children:B?"☀️ Light":"\uD83C\uDF19 Dark"}),(0,a.jsx)("button",{onClick:()=>{var e;return null==(e=z.current)?void 0:e.click()},title:"Import from file",className:"jsx-d254eb5d291d5199 px-3 py-2 rounded-full font-bold bg-indigo-500 text-white hover:bg-indigo-600",children:"\uD83D\uDCE5 File"}),(0,a.jsx)("button",{onClick:()=>ez(!0),title:"Import from URL or username",className:"jsx-d254eb5d291d5199 px-3 py-2 rounded-full font-bold bg-cyan-500 text-white hover:bg-cyan-600",children:"\uD83C\uDF10 URL"}),(0,a.jsx)("input",{ref:z,type:"file",accept:"image/png",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(!a)return;let l=t.current;if(!l)return;let d=l.getContext("2d");if(!d)return;let n=new Image;n.onload=()=>{d.clearRect(0,0,64,64),d.drawImage(n,0,0,64,64),s4(),sQ(),s5("click")},n.src=URL.createObjectURL(a),e.target.value=""},className:"jsx-d254eb5d291d5199 hidden"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-1",children:[(0,a.jsx)("input",{type:"text",value:eF,onChange:e=>eT(e.target.value),placeholder:"skin-name",className:"jsx-d254eb5d291d5199 w-24 px-2 py-1 text-sm rounded-lg border-2 border-gray-300 focus:border-green-500 outline-none"}),(0,a.jsx)("button",{onClick:()=>ai(!1),title:"\uD83D\uDCBE Save your skin!",className:"jsx-d254eb5d291d5199 px-3 py-2 rounded-full font-bold bg-green-500 text-white hover:bg-green-600 animate-pulse",children:"\uD83D\uDCBE"}),(0,a.jsx)("button",{onClick:()=>ad(!0),title:"Export options (choose layers)",className:"jsx-d254eb5d291d5199 px-2 py-2 rounded-full font-bold bg-green-600 text-white hover:bg-green-700",children:"\uD83D\uDCE4"})]}),(0,a.jsx)("button",{onClick:ac,title:"Copy to clipboard",className:"jsx-d254eb5d291d5199 px-3 py-2 rounded-full font-bold bg-violet-500 text-white hover:bg-violet-600",children:"\uD83D\uDCCB Copy"}),(0,a.jsx)("button",{onClick:ao,title:"\uD83D\uDDD1️ Start over!",className:"jsx-d254eb5d291d5199 px-3 py-2 rounded-full font-bold bg-red-500 text-white hover:bg-red-600",children:"\uD83D\uDDD1️ Clear"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-1 ml-2",children:[(0,a.jsx)("button",{onClick:()=>V(Math.max(4,G-1)),className:"jsx-d254eb5d291d5199 w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 font-bold",children:"-"}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 text-sm font-bold w-8 text-center",children:[G,"x"]}),(0,a.jsx)("button",{onClick:()=>V(Math.min(10,G+1)),className:"jsx-d254eb5d291d5199 w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 font-bold",children:"+"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:flex items-center justify-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-sm font-semibold",children:"Brush:"}),[1,2,3].map(e=>(0,a.jsx)("button",{onClick:()=>Y(e),className:"jsx-d254eb5d291d5199 "+"w-8 h-8 rounded-full font-bold ".concat(J===e?"bg-blue-500 text-white":"bg-gray-200"),children:e},e))]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:flex flex-wrap gap-1 mb-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>I(null),className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded text-sm font-bold ".concat(E?"bg-gray-200":"bg-purple-500 text-white"),children:"\uD83C\uDFAF All"}),Object.entries(v).map(e=>{let[t,s]=e;return(0,a.jsx)("button",{onClick:()=>I(t),className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded text-sm font-bold ".concat(E===t?"bg-purple-500 text-white":"bg-gray-200"),children:s.label},t)})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex flex-col items-center gap-2",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:flex items-center gap-2 bg-white/80 rounded-full px-3 py-1.5 shadow",children:[(0,a.jsx)("button",{onClick:()=>V(Math.max(2,G-1)),title:"Zoom out (-)",className:"jsx-d254eb5d291d5199 w-7 h-7 rounded-full bg-gray-200 hover:bg-gray-300 font-bold text-sm",children:"−"}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 text-sm font-bold w-12 text-center",children:[G,"x"]}),(0,a.jsx)("button",{onClick:()=>V(Math.min(12,G+1)),title:"Zoom in (+)",className:"jsx-d254eb5d291d5199 w-7 h-7 rounded-full bg-gray-200 hover:bg-gray-300 font-bold text-sm",children:"+"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 w-px h-5 bg-gray-300 mx-1"}),(0,a.jsxs)("button",{onClick:()=>q(!_),title:"Toggle grid (G)",className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded-full text-xs font-bold transition-all ".concat(_?"bg-blue-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:[_?"▦":"▢"," Grid"]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 w-px h-5 bg-gray-300 mx-1"}),[2,4,6,8].map(e=>(0,a.jsx)("button",{onClick:()=>V(e),title:"Zoom ".concat(e,"x"),className:"jsx-d254eb5d291d5199 "+"w-6 h-6 rounded text-xs font-bold transition-all ".concat(G===e?"bg-purple-500 text-white":"bg-gray-200 hover:bg-gray-300"),children:e},e))]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 relative",children:[!sG.canvas&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 absolute -top-12 left-1/2 -translate-x-1/2 z-10 animate-bounce",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 bg-blue-500 text-white px-3 py-1.5 rounded-full text-sm font-medium shadow-lg flex items-center gap-2",children:["\uD83D\uDC46 Click and drag to draw!",(0,a.jsx)("button",{onClick:()=>(e=>{let t={...sG,[e]:!0};sV(t),localStorage.setItem("skin-tips-dismissed",JSON.stringify(t))})("canvas"),className:"jsx-d254eb5d291d5199 ml-1 hover:bg-blue-600 rounded-full w-5 h-5 text-xs",children:"✕"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-blue-500 mx-auto"})]}),(0,a.jsxs)("div",{style:{backgroundImage:"repeating-conic-gradient(#ddd 0% 25%, #fff 0% 50%)",backgroundSize:"12px 12px"},className:"jsx-d254eb5d291d5199 relative rounded-xl p-1",children:[(0,a.jsx)("canvas",{ref:t,width:64,height:64,style:{width:64*G,height:64*G,imageRendering:"pixelated",transition:"all 0.2s ease"},onMouseDown:e=>{S(!0),as(e)},onMouseUp:()=>{S(!1),sQ(),sp(m)},onMouseLeave:()=>{S(!1),e7(null)},onMouseMove:as,onContextMenu:e=>{e.preventDefault(),e7({x:e.clientX,y:e.clientY})},onTouchStart:e=>{if(e.preventDefault(),2===e.touches.length){let t=e.touches[0].clientX-e.touches[1].clientX,s=e.touches[0].clientY-e.touches[1].clientY;e3.current=Math.sqrt(t*t+s*s)}else 1===e.touches.length&&(S(!0),aa(e))},onTouchEnd:()=>{S(!1),e3.current=null,sQ(),sp(m)},onTouchMove:e=>{if(e.preventDefault(),2===e.touches.length&&null!==e3.current){let t=e.touches[0].clientX-e.touches[1].clientX,s=e.touches[0].clientY-e.touches[1].clientY,a=Math.sqrt(t*t+s*s),l=a-e3.current;Math.abs(l)>10&&(V(e=>Math.min(12,Math.max(2,e+(l>0?1:-1)))),e3.current=a)}else 1===e.touches.length&&aa(e)},className:"jsx-d254eb5d291d5199 cursor-crosshair"}),e6&&(0,a.jsxs)("div",{style:{left:e6.x,top:e6.y},onClick:()=>e7(null),className:"jsx-d254eb5d291d5199 fixed bg-white rounded-lg shadow-2xl py-1 z-50 min-w-[140px] border",children:[(0,a.jsx)("button",{onClick:()=>{F("eyedropper"),e7(null)},className:"jsx-d254eb5d291d5199 w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:"\uD83C\uDFA8 Pick Color"}),(0,a.jsx)("button",{onClick:()=>{F("fill"),e7(null)},className:"jsx-d254eb5d291d5199 w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:"\uD83E\uDEA3 Fill Area"}),(0,a.jsx)("button",{onClick:()=>{F("eraser"),e7(null)},className:"jsx-d254eb5d291d5199 w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:"\uD83E\uDDF9 Eraser"}),(0,a.jsx)("hr",{className:"jsx-d254eb5d291d5199 my-1"}),(0,a.jsx)("button",{onClick:()=>{s$(),e7(null)},className:"jsx-d254eb5d291d5199 w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:"↩️ Undo"}),(0,a.jsx)("button",{onClick:()=>{s0(),e7(null)},className:"jsx-d254eb5d291d5199 w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:"↪️ Redo"}),(0,a.jsx)("hr",{className:"jsx-d254eb5d291d5199 my-1"}),(0,a.jsx)("button",{onClick:()=>{ao(),e7(null)},className:"jsx-d254eb5d291d5199 w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:"\uD83D\uDDD1️ Clear All"})]}),_&&(0,a.jsxs)("svg",{width:64*G,height:64*G,style:{opacity:.3},className:"jsx-d254eb5d291d5199 absolute top-1 left-1 pointer-events-none",children:[Array.from({length:65}).map((e,t)=>(0,a.jsx)("line",{x1:t*G,y1:0,x2:t*G,y2:64*G,stroke:t%8==0?"#000":"#666",strokeWidth:t%8==0?1:.5,className:"jsx-d254eb5d291d5199"},"v-".concat(t))),Array.from({length:65}).map((e,t)=>(0,a.jsx)("line",{x1:0,y1:t*G,x2:64*G,y2:t*G,stroke:t%8==0?"#000":"#666",strokeWidth:t%8==0?1:.5,className:"jsx-d254eb5d291d5199"},"h-".concat(t)))]})]})]})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 hidden md:block text-center mt-2 text-gray-500 text-sm",children:"\uD83C\uDFA8 Draw here! See your character on the left! ✨"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 md:hidden mt-3 px-2",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs font-semibold text-gray-600 mb-2 text-center",children:"✨ Start from:"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex flex-wrap gap-1 justify-center",children:[Object.entries(C).slice(0,6).map(e=>{let[t,s]=e;return(0,a.jsx)("button",{onClick:()=>s9(t),className:"jsx-d254eb5d291d5199 px-2 py-1 bg-blue-500 text-white rounded-lg text-xs font-bold hover:bg-blue-600 active:scale-95 transition-all",children:s.name},t)}),(0,a.jsx)("button",{onClick:()=>{sN(!0),s1(),setTimeout(()=>sN(!1),500)},className:"jsx-d254eb5d291d5199 px-2 py-1 bg-gradient-to-r from-pink-500 to-yellow-500 text-white rounded-lg text-xs font-bold active:scale-95 transition-all",children:"\uD83C\uDFB2 Random!"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:block glass-card rounded-3xl p-6 shadow-2xl",children:[(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-2xl font-bold text-gray-800 mb-4 text-center",children:"\uD83C\uDFA8 Colors"}),eA.length>0&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mb-3",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 mb-1",children:"Recent:"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex gap-1 flex-wrap",children:eA.map((e,t)=>(0,a.jsx)("button",{onClick:()=>b(e),style:{backgroundColor:e},className:"jsx-d254eb5d291d5199 w-6 h-6 rounded shadow-sm hover:scale-110 transition-transform"},"".concat(e,"-").concat(t)))})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-4 gap-2 max-w-[200px]",children:D.map(e=>(0,a.jsx)("button",{onClick:()=>b(e),style:{backgroundColor:e},className:"jsx-d254eb5d291d5199 "+"w-10 h-10 rounded-lg shadow transition-transform hover:scale-110 ".concat(m===e?"ring-4 ring-blue-400 scale-110":"")},e))}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-4 text-center",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm font-semibold text-gray-700",children:"Selected:"}),(0,a.jsx)("div",{style:{backgroundColor:m},className:"jsx-d254eb5d291d5199 w-16 h-16 mx-auto mt-2 rounded-xl shadow-lg border-4 border-white"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-4",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-1 items-center",children:[(0,a.jsx)("input",{type:"color",value:m,onChange:e=>b(e.target.value),className:"jsx-d254eb5d291d5199 w-10 h-10 rounded cursor-pointer"}),(0,a.jsx)("input",{type:"text",value:m,onChange:e=>{let t=e.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(t)&&b(t)},maxLength:7,className:"jsx-d254eb5d291d5199 flex-1 px-2 py-1 text-xs font-mono rounded border border-gray-300 uppercase"})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 text-center mt-1",children:"\uD83C\uDFAF Your color!"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-2",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-1 items-center",children:[(0,a.jsx)("input",{type:"color",value:K,onChange:e=>W(e.target.value),className:"jsx-d254eb5d291d5199 w-8 h-8 rounded cursor-pointer"}),(0,a.jsx)("input",{type:"text",value:K,onChange:e=>{let t=e.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(t)&&W(t)},maxLength:7,className:"jsx-d254eb5d291d5199 flex-1 px-2 py-1 text-xs font-mono rounded border border-gray-300 uppercase"})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 text-center mt-1",children:"\uD83C\uDF08 Mix color!"})]})]})]}),eL&&(0,a.jsx)("div",{onClick:()=>eB(!1),className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 bg-white rounded-2xl p-6 max-w-md m-4 shadow-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-xl font-bold mb-4",children:"⌨️ Keyboard Shortcuts"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"B"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Brush"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"E"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Eraser"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"F"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Fill"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"G"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Gradient"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"W"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Glow"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"S"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Stamp"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"I"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Eyedropper"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"M"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Mirror"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"D"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Dark mode"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"1-3"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Brush size"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"⌘Z"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Undo"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"⌘Y"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Redo"})]}),(0,a.jsx)("h4",{className:"jsx-d254eb5d291d5199 text-lg font-bold mt-4 mb-2",children:"\uD83C\uDFA8 Layer Shortcuts"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"L"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Toggle layer panel"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"["}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Previous layer"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"]"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Next layer"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-mono bg-gray-100 px-2 py-1 rounded",children:"C"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:"Duplicate layer"})]}),(0,a.jsx)("button",{onClick:()=>eB(!1),className:"jsx-d254eb5d291d5199 mt-4 w-full py-2 bg-blue-500 text-white rounded-lg font-bold",children:"Got it! \uD83D\uDC4D"})]})}),t2&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 hidden md:block fixed left-4 top-1/2 -translate-y-1/2 bg-white/95 backdrop-blur rounded-2xl p-4 shadow-2xl z-40 w-64",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex justify-between items-center mb-3",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-lg font-bold",children:"\uD83C\uDFA8 Layers"}),(0,a.jsx)("button",{onClick:()=>t9(!1),className:"jsx-d254eb5d291d5199 text-gray-400 hover:text-gray-600 text-xl",children:"\xd7"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 space-y-2 mb-3",children:t$.slice().reverse().map((e,t)=>(0,a.jsxs)("div",{onClick:()=>t1(e.id),className:"jsx-d254eb5d291d5199 "+"p-2 rounded-lg border-2 transition-all cursor-pointer ".concat(t5===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),ss(e.id)},title:e.visible?"Hide layer":"Show layer",className:"jsx-d254eb5d291d5199 "+"text-lg ".concat(e.visible?"":"opacity-30"),children:e.visible?"\uD83D\uDC41️":"\uD83D\uDEAB"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-lg",children:e.emoji}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-sm font-medium",children:e.name})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),sr(e.id,"up"),s5("click")},disabled:0===t,title:"Move layer up",className:"jsx-d254eb5d291d5199 text-sm px-2 py-1 disabled:opacity-30 hover:bg-blue-100 hover:scale-110 rounded transition-all",children:"⬆️"}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),sr(e.id,"down"),s5("click")},disabled:t===t$.length-1,title:"Move layer down",className:"jsx-d254eb5d291d5199 text-sm px-2 py-1 disabled:opacity-30 hover:bg-blue-100 hover:scale-110 rounded transition-all",children:"⬇️"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500",children:"Opacity:"}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:e.opacity,onChange:t=>{sa(e.id,parseInt(t.target.value)),si(),s4()},onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 flex-1 h-1"}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 w-8",children:[e.opacity,"%"]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-1 mt-1",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-400",children:"Quick:"}),[25,50,75,100].map(t=>(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),sa(e.id,t),si(),s4()},className:"jsx-d254eb5d291d5199 "+"px-2 py-0.5 text-xs rounded transition-all ".concat(e.opacity===t?"bg-blue-500 text-white font-medium":"bg-gray-100 hover:bg-gray-200 text-gray-600"),children:[t,"%"]},t))]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-2 pt-2 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-1 mb-1",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500",children:"\uD83C\uDFA8 Tint:"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-0.5 flex-wrap items-center",children:[N.map(t=>(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),sl(e.id,t.color),setTimeout(()=>{si(),s4()},0)},style:{backgroundColor:t.color||"transparent",border:t.color?"none":"1px dashed #ccc"},title:t.name,className:"jsx-d254eb5d291d5199 "+"w-5 h-5 rounded text-xs flex items-center justify-center transition-all ".concat(e.tint===t.color?"ring-2 ring-blue-500 ring-offset-1 scale-110":"hover:scale-110"),children:!t.color&&"⭕"},t.name)),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 relative ml-1",children:(0,a.jsx)("input",{type:"color",value:e.tint||"#808080",onChange:t=>{t.stopPropagation();let s=t.target.value;sl(e.id,s),eM(e=>{let t=e.filter(e=>e!==s);return[s,...t].slice(0,6)}),setTimeout(()=>{si(),s4()},0)},onClick:e=>e.stopPropagation(),title:"Custom color",style:{background:"linear-gradient(135deg, #ff6b6b, #4d96ff, #6bcb77)"},className:"jsx-d254eb5d291d5199 w-5 h-5 rounded cursor-pointer border-0 p-0"})})]})]}),eI.length>0&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-1 mb-1",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-400",children:"Recent:"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex gap-0.5",children:eI.map((t,s)=>(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),sl(e.id,t),setTimeout(()=>{si(),s4()},0)},style:{backgroundColor:t},title:t,className:"jsx-d254eb5d291d5199 "+"w-4 h-4 rounded text-xs transition-all ".concat(e.tint===t?"ring-2 ring-blue-500 ring-offset-1 scale-110":"hover:scale-110")},"custom-".concat(s,"-").concat(t)))})]}),e.tint&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500",children:"Intensity:"}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:e.tintIntensity,onChange:t=>{sd(e.id,parseInt(t.target.value)),si(),s4()},onClick:e=>e.stopPropagation(),style:{accentColor:e.tint},className:"jsx-d254eb5d291d5199 flex-1 h-1"}),(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 w-8",children:[e.tintIntensity,"%"]})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2 mt-1",children:(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),t0(t=>t.map(t=>t.id===e.id?{...t,glow:!t.glow}:t)),setTimeout(()=>{si(),s4()},0)},className:"jsx-d254eb5d291d5199 "+"px-2 py-0.5 rounded text-xs font-bold transition-all ".concat(e.glow?"bg-yellow-400 text-yellow-900 shadow-lg shadow-yellow-400/50":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:["✨ Glow ",e.glow?"ON":"OFF"]})})]})]},e.id))}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex flex-wrap gap-1 relative",children:[(0,a.jsx)("button",{onClick:()=>so(t5),title:"Clear current layer",className:"jsx-d254eb5d291d5199 px-2 py-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200",children:"\uD83D\uDDD1️ Clear"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 relative",children:[(0,a.jsx)("button",{onClick:()=>sm(!sx),title:"Duplicate to another layer",className:"jsx-d254eb5d291d5199 px-2 py-1 text-xs bg-blue-100 text-blue-600 rounded hover:bg-blue-200",children:"\uD83D\uDCCB Duplicate"}),sx&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 absolute bottom-full left-0 mb-1 bg-white rounded-lg shadow-lg border border-gray-200 p-2 z-10 min-w-[140px]",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 mb-1",children:"Copy to:"}),t$.filter(e=>e.id!==t5).map(e=>(0,a.jsxs)("button",{onClick:()=>{sc(t5,e.id),sm(!1)},className:"jsx-d254eb5d291d5199 w-full flex items-center gap-2 px-2 py-1.5 text-sm rounded hover:bg-blue-50 text-left",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:e.emoji}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:e.name})]},e.id)),(0,a.jsx)("button",{onClick:()=>sm(!1),className:"jsx-d254eb5d291d5199 w-full text-xs text-gray-400 mt-1 hover:text-gray-600",children:"Cancel"})]})]}),(0,a.jsx)("button",{onClick:su,title:"Merge all layers",className:"jsx-d254eb5d291d5199 px-2 py-1 text-xs bg-purple-100 text-purple-600 rounded hover:bg-purple-200",children:"\uD83D\uDD17 Flatten"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 mt-3 pt-3 border-t border-gray-200",children:(0,a.jsxs)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500",children:["Active: ",(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-bold",children:null==(e=t$.find(e=>e.id===t5))?void 0:e.name})]})})]}),al&&(0,a.jsx)("div",{onClick:()=>ad(!1),className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 bg-white rounded-2xl p-6 max-w-md m-4 shadow-2xl",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-xl font-bold mb-4",children:"\uD83D\uDCE4 Export Skin"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-600 mb-4",children:"Choose which layers to include in your export:"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 space-y-2 mb-4",children:t$.map(e=>(0,a.jsxs)("label",{className:"jsx-d254eb5d291d5199 flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:an[e.id],onChange:t=>ar(s=>({...s,[e.id]:t.target.checked})),className:"jsx-d254eb5d291d5199 w-4 h-4"}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-lg",children:e.emoji}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:e.name})]},e.id))}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>ai(!0),className:"jsx-d254eb5d291d5199 flex-1 py-2 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600",children:"\uD83D\uDCBE Export Selected"}),(0,a.jsx)("button",{onClick:()=>ai(!1),className:"jsx-d254eb5d291d5199 flex-1 py-2 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600",children:"\uD83D\uDCE6 Export All"})]}),(0,a.jsx)("button",{onClick:()=>{let e=st("base"),t=document.createElement("a");t.download="".concat(eF||"my-skin","-base.png"),t.href=e.toDataURL("image/png"),t.click(),s5("download")},className:"jsx-d254eb5d291d5199 w-full mt-2 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200",children:"\uD83D\uDC64 Export Base Only (no clothes)"}),(0,a.jsx)("button",{onClick:()=>{let e=t.current;if(!e)return;let s=document.createElement("canvas");s.width=256,s.height=256;let a=s.getContext("2d");if(!a)return;a.imageSmoothingEnabled=!1,a.drawImage(e,0,0,256,256);let l=document.createElement("a");l.download="".concat(eF||"my-skin","-roblox.png"),l.href=s.toDataURL("image/png"),l.click(),sj(!0),s5("download"),setTimeout(()=>sj(!1),3e3)},className:"jsx-d254eb5d291d5199 w-full mt-2 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg font-bold hover:scale-105 transition-transform",children:"\uD83C\uDFAE Export for Roblox (256x256)"})]})}),eZ&&(0,a.jsx)("div",{onClick:()=>eQ(!1),className:"jsx-d254eb5d291d5199 md:hidden fixed inset-0 bg-black/50 z-50",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 absolute left-0 top-0 bottom-0 w-64 bg-white shadow-2xl p-4 transform transition-transform",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-xl font-bold",children:"\uD83C\uDFA8 Menu"}),(0,a.jsx)("button",{onClick:()=>eQ(!1),className:"jsx-d254eb5d291d5199 text-2xl",children:"✕"})]}),(0,a.jsxs)("nav",{className:"jsx-d254eb5d291d5199 space-y-2",children:[(0,a.jsx)("button",{onClick:()=>{x("editor"),eQ(!1)},className:"jsx-d254eb5d291d5199 "+"w-full text-left px-4 py-3 rounded-xl font-bold transition-all ".concat("editor"===o?"bg-purple-100 text-purple-700":"hover:bg-gray-100"),children:"\uD83C\uDFA8 Editor"}),(0,a.jsx)("button",{onClick:()=>{x("gallery"),eQ(!1)},className:"jsx-d254eb5d291d5199 "+"w-full text-left px-4 py-3 rounded-xl font-bold transition-all ".concat("gallery"===o?"bg-green-100 text-green-700":"hover:bg-gray-100"),children:"\uD83D\uDDBC️ Gallery"}),(0,a.jsx)("hr",{className:"jsx-d254eb5d291d5199 my-4"}),(0,a.jsx)("button",{onClick:()=>{eU(!0),eQ(!1)},className:"jsx-d254eb5d291d5199 w-full text-left px-4 py-3 rounded-xl font-bold hover:bg-gray-100",children:"\uD83E\uDD16 AI Generator"}),(0,a.jsx)("button",{onClick:()=>{t9(!t2),eQ(!1)},className:"jsx-d254eb5d291d5199 w-full text-left px-4 py-3 rounded-xl font-bold hover:bg-gray-100",children:"\uD83C\uDFA8 Layers"}),(0,a.jsx)("button",{onClick:()=>{ez(!0),eQ(!1)},className:"jsx-d254eb5d291d5199 w-full text-left px-4 py-3 rounded-xl font-bold hover:bg-gray-100",children:"\uD83C\uDF10 Import from URL"}),(0,a.jsx)("button",{onClick:()=>{sZ(!0),eQ(!1)},className:"jsx-d254eb5d291d5199 w-full text-left px-4 py-3 rounded-xl font-bold hover:bg-gray-100",children:"⌨️ Shortcuts"}),(0,a.jsx)("hr",{className:"jsx-d254eb5d291d5199 my-4"}),(0,a.jsx)("button",{onClick:()=>{P(!B),eQ(!1)},className:"jsx-d254eb5d291d5199 w-full text-left px-4 py-3 rounded-xl font-bold hover:bg-gray-100",children:B?"☀️ Light Mode":"\uD83C\uDF19 Dark Mode"}),(0,a.jsx)("button",{onClick:()=>{eY(!0),eQ(!1)},className:"jsx-d254eb5d291d5199 w-full text-left px-4 py-3 rounded-xl font-bold hover:bg-gray-100",children:"\uD83D\uDCDA Tutorial"})]})]})}),eJ&&(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 bg-white rounded-3xl p-6 max-w-lg w-full shadow-2xl transform animate-bounce-in",children:[0===eH&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 text-center mb-6",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-6xl animate-bounce-soft",children:"\uD83C\uDFA8"}),(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-3xl font-black mt-4 bg-gradient-to-r from-purple-600 to-pink-600 text-transparent bg-clip-text",children:"Welcome to Skin Creator!"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-gray-600 mt-2",children:"Create awesome Minecraft & Roblox skins in minutes!"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 space-y-3",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-purple-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83D\uDD8C️"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Draw on the Canvas"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"Use tools to paint your character"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-blue-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83D\uDC40"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Live 3D Preview"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"See your skin come to life!"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-green-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83C\uDFA8"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Layers System"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"Base, Clothing, and Accessories"})]})]})]})]}),1===eH&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 text-center mb-6",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-6xl",children:"✨"}),(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-2xl font-black mt-4",children:"Pro Tips!"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 space-y-3",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-yellow-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"⌨️"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Keyboard Shortcuts"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"B=Brush, E=Eraser, F=Fill, ?=Help"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-orange-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83D\uDCF1"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Touch Gestures"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"Pinch to zoom • Tap to draw • Long-press for color"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-pink-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83E\uDD16"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"AI Generation"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"Let AI create skins for you!"})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-cyan-50 rounded-xl",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83D\uDDBC️"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Community Gallery"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"Browse and share skins!"})]})]}),(0,a.jsxs)("a",{href:"https://youtube.com/@OndeUniverse",target:"_blank",rel:"noopener noreferrer",className:"jsx-d254eb5d291d5199 flex items-center gap-3 p-3 bg-red-50 rounded-xl hover:bg-red-100 transition-colors",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-2xl",children:"\uD83D\uDCFA"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 font-bold",children:"Video Tutorials"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-500",children:"Watch step-by-step guides!"})]})]})]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-3 mt-6",children:[eH>0&&(0,a.jsx)("button",{onClick:()=>eX(eH-1),className:"jsx-d254eb5d291d5199 flex-1 py-3 rounded-xl font-bold bg-gray-200 hover:bg-gray-300 transition-all",children:"← Back"}),eH<1?(0,a.jsx)("button",{onClick:()=>eX(1),className:"jsx-d254eb5d291d5199 flex-1 py-3 rounded-xl font-bold bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg transition-all",children:"Next →"}):(0,a.jsx)("button",{onClick:()=>{eY(!1),localStorage.setItem("skin-creator-tutorial-seen","true")},className:"jsx-d254eb5d291d5199 flex-1 py-3 rounded-xl font-bold bg-gradient-to-r from-green-500 to-teal-500 text-white hover:shadow-lg transition-all",children:"\uD83D\uDE80 Start Creating!"})]}),(0,a.jsx)("button",{onClick:()=>{eY(!1),localStorage.setItem("skin-creator-tutorial-seen","true")},className:"jsx-d254eb5d291d5199 w-full mt-3 text-sm text-gray-400 hover:text-gray-600",children:"Skip tutorial"})]})}),eO&&(0,a.jsx)("div",{onClick:()=>ez(!1),className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-xl font-bold",children:"\uD83C\uDF10 Import from URL"}),(0,a.jsx)("button",{onClick:()=>ez(!1),className:"jsx-d254eb5d291d5199 text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-600 mb-4",children:"Enter a Minecraft username, NameMC profile URL, or direct PNG URL:"}),(0,a.jsx)("input",{type:"text",value:eG,onChange:e=>eV(e.target.value),placeholder:"e.g., Notch or https://...",onKeyDown:e=>"Enter"===e.key&&ax(),className:"jsx-d254eb5d291d5199 w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-400 outline-none mb-3"}),eK&&(0,a.jsxs)("p",{className:"jsx-d254eb5d291d5199 text-red-500 text-sm mb-3",children:["❌ ",eK]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex gap-2",children:(0,a.jsx)("button",{onClick:ax,disabled:!eG.trim()||e_,className:"jsx-d254eb5d291d5199 "+"flex-1 py-3 rounded-xl font-bold text-lg transition-all ".concat(eG.trim()&&!e_?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:e_?"⏳ Loading...":"\uD83D\uDCE5 Import Skin"})}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-4 p-3 bg-gray-100 rounded-xl",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 font-bold mb-1",children:"\uD83D\uDCA1 Tips:"}),(0,a.jsxs)("ul",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 space-y-1",children:[(0,a.jsxs)("li",{className:"jsx-d254eb5d291d5199",children:["• Enter username: ",(0,a.jsx)("code",{className:"jsx-d254eb5d291d5199 bg-gray-200 px-1 rounded",children:"Notch"})]}),(0,a.jsxs)("li",{className:"jsx-d254eb5d291d5199",children:["• NameMC URL: ",(0,a.jsx)("code",{className:"jsx-d254eb5d291d5199 bg-gray-200 px-1 rounded",children:"namemc.com/profile/..."})]}),(0,a.jsx)("li",{className:"jsx-d254eb5d291d5199",children:"• Direct PNG URL works too!"})]})]})]})}),eP&&(0,a.jsx)("div",{onClick:()=>eU(!1),className:"jsx-d254eb5d291d5199 fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d254eb5d291d5199 bg-white rounded-2xl p-6 max-w-md m-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"jsx-d254eb5d291d5199 text-xl font-bold mb-2",children:"\uD83E\uDD16 AI Skin Generator"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm text-gray-600 mb-4",children:"Describe your character and AI will create a skin!"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-2 mb-3",children:[(0,a.jsx)("input",{type:"text",value:te,onChange:e=>tt(e.target.value),placeholder:"e.g., pirate with red bandana, wizard with purple robe...",onKeyDown:e=>"Enter"===e.key&&sh(),className:"jsx-d254eb5d291d5199 flex-1 px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 outline-none"}),(0,a.jsx)("button",{onClick:sb,disabled:tl||!te.trim(),title:"Enhance with AI (local LLM)",className:"jsx-d254eb5d291d5199 px-3 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-xl font-bold hover:scale-105 transition-all disabled:opacity-50 disabled:hover:scale-100",children:tl?"⏳":"✨"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mb-4",children:[(0,a.jsx)("label",{className:"jsx-d254eb5d291d5199 block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFAD Pick an Idea!"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 space-y-2",children:[{id:"heroes",emoji:"\uD83E\uDDB8",name:"Heroes",color:"bg-red-100 text-red-700 hover:bg-red-200",prompts:[{emoji:"\uD83E\uDDB8",text:"superhero with cape",label:"Superhero"},{emoji:"⚔️",text:"brave knight in shining armor",label:"Knight"},{emoji:"\uD83E\uDD77",text:"cool ninja with black outfit",label:"Ninja"},{emoji:"\uD83C\uDFF4‍☠️",text:"adventure pirate with bandana",label:"Pirate"},{emoji:"\uD83E\uDDD9",text:"powerful wizard with magic staff",label:"Wizard"}]},{id:"animals",emoji:"\uD83D\uDC3E",name:"Animals",color:"bg-green-100 text-green-700 hover:bg-green-200",prompts:[{emoji:"\uD83D\uDC3A",text:"wolf warrior with fur",label:"Wolf"},{emoji:"\uD83D\uDC31",text:"cute cat person with whiskers",label:"Cat"},{emoji:"\uD83E\uDD8A",text:"clever fox with orange fur",label:"Fox"},{emoji:"\uD83D\uDC3C",text:"friendly panda bear",label:"Panda"},{emoji:"\uD83E\uDD81",text:"brave lion with mane",label:"Lion"}]},{id:"fantasy",emoji:"✨",name:"Fantasy",color:"bg-purple-100 text-purple-700 hover:bg-purple-200",prompts:[{emoji:"\uD83E\uDDDA",text:"magical fairy with wings",label:"Fairy"},{emoji:"\uD83D\uDC09",text:"dragon person with scales",label:"Dragon"},{emoji:"\uD83E\uDDDC",text:"mermaid with shiny tail",label:"Mermaid"},{emoji:"\uD83E\uDD84",text:"unicorn with rainbow mane",label:"Unicorn"},{emoji:"\uD83E\uDDDD",text:"elf with pointy ears",label:"Elf"}]},{id:"space",emoji:"\uD83D\uDE80",name:"Space",color:"bg-blue-100 text-blue-700 hover:bg-blue-200",prompts:[{emoji:"\uD83E\uDD16",text:"friendly robot with glowing eyes",label:"Robot"},{emoji:"\uD83D\uDC7D",text:"cool alien from outer space",label:"Alien"},{emoji:"\uD83D\uDC68‍\uD83D\uDE80",text:"astronaut in space suit",label:"Astronaut"},{emoji:"\uD83C\uDF1F",text:"star guardian with cosmic powers",label:"Star"},{emoji:"\uD83D\uDEF8",text:"space explorer with laser gun",label:"Explorer"}]},{id:"jobs",emoji:"\uD83D\uDC77",name:"Jobs",color:"bg-yellow-100 text-yellow-700 hover:bg-yellow-200",prompts:[{emoji:"\uD83D\uDC68‍\uD83C\uDF73",text:"chef with white hat and apron",label:"Chef"},{emoji:"\uD83D\uDC68‍\uD83D\uDE92",text:"firefighter with helmet",label:"Firefighter"},{emoji:"\uD83D\uDC6E",text:"police officer in uniform",label:"Police"},{emoji:"\uD83D\uDC68‍⚕️",text:"doctor with stethoscope",label:"Doctor"},{emoji:"\uD83E\uDDD1‍\uD83D\uDD2C",text:"scientist with lab coat",label:"Scientist"}]},{id:"spooky",emoji:"\uD83D\uDC7B",name:"Spooky",color:"bg-gray-100 text-gray-700 hover:bg-gray-200",prompts:[{emoji:"\uD83E\uDDDF",text:"zombie with torn clothes",label:"Zombie"},{emoji:"\uD83E\uDDDB",text:"vampire with cape and fangs",label:"Vampire"},{emoji:"\uD83D\uDC7B",text:"friendly ghost with spooky glow",label:"Ghost"},{emoji:"\uD83C\uDF83",text:"pumpkin head monster",label:"Pumpkin"},{emoji:"\uD83D\uDC80",text:"skeleton warrior",label:"Skeleton"}]}].map(e=>(0,a.jsxs)("details",{className:"jsx-d254eb5d291d5199 group",children:[(0,a.jsxs)("summary",{className:"jsx-d254eb5d291d5199 "+"flex items-center gap-2 p-2 rounded-lg cursor-pointer ".concat(e.color," font-medium"),children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-lg",children:e.emoji}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:e.name}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 ml-auto text-xs opacity-60",children:e.prompts.length})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex flex-wrap gap-1 mt-2 pl-2",children:e.prompts.map(e=>(0,a.jsxs)("button",{onClick:()=>tt(e.text),className:"jsx-d254eb5d291d5199 "+"px-2 py-1 rounded-lg text-xs transition-all flex items-center gap-1 ".concat(te===e.text?"bg-purple-500 text-white scale-105":"bg-white border border-gray-200 hover:border-purple-300 hover:bg-purple-50"),children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:e.emoji}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199",children:e.label})]},e.label))})]},e.id))})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mb-4",children:[(0,a.jsx)("label",{className:"jsx-d254eb5d291d5199 block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFA8 Art Style"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 grid grid-cols-5 gap-2",children:[{id:"blocky",emoji:"\uD83E\uDDF1",name:"Blocky"},{id:"pixel-art",emoji:"\uD83D\uDC7E",name:"Pixel"},{id:"cartoon",emoji:"\uD83C\uDFA8",name:"Cartoon"},{id:"anime",emoji:"✨",name:"Anime"},{id:"realistic",emoji:"\uD83D\uDCF7",name:"Real"}].map(e=>(0,a.jsxs)("button",{onClick:()=>to(e.id),title:e.name,className:"jsx-d254eb5d291d5199 "+"p-2 rounded-lg text-center transition-all ".concat(ti===e.id?"bg-purple-500 text-white ring-2 ring-purple-300":"bg-gray-100 hover:bg-gray-200"),children:[(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 text-xl",children:e.emoji}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 text-xs mt-1",children:e.name})]},e.id))})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 mb-4 p-3 bg-gray-50 rounded-xl",children:(0,a.jsxs)("label",{className:"jsx-d254eb5d291d5199 flex items-center justify-between cursor-pointer",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-medium text-gray-700",children:"\uD83E\uDDE0 Use Real AI (DALL-E 3)"}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 mt-1",children:c()?"API key configured ✓":"Requires NEXT_PUBLIC_OPENAI_API_KEY"})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 relative",children:[(0,a.jsx)("input",{type:"checkbox",checked:tm,onChange:e=>tu(e.target.checked),disabled:!c(),className:"jsx-d254eb5d291d5199 sr-only"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 "+"w-11 h-6 rounded-full transition-colors ".concat(tm&&c()?"bg-purple-500":"bg-gray-300"," ").concat(c()?"":"opacity-50"),children:(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 "+"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ".concat(tm?"translate-x-5":"")})})]})]})}),tc&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:[(0,a.jsx)("strong",{className:"jsx-d254eb5d291d5199",children:"⚠️ Error:"})," ",tc,(0,a.jsx)("button",{onClick:()=>tx(null),className:"jsx-d254eb5d291d5199 ml-2 text-red-500 hover:text-red-700",children:"✕"})]}),(0,a.jsx)("button",{onClick:sh,disabled:ts||!te.trim(),className:"jsx-d254eb5d291d5199 w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold disabled:opacity-50 transition-all hover:scale-[1.02] active:scale-[0.98]",children:ts?(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 animate-spin",children:"\uD83D\uDD04"}),tm?"AI is thinking...":"Generating..."]}):"✨ Generate Skin"}),tq.length>0&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("button",{onClick:()=>tJ(!tW),className:"jsx-d254eb5d291d5199 flex items-center justify-between w-full text-left",children:[(0,a.jsxs)("span",{className:"jsx-d254eb5d291d5199 font-medium text-gray-700",children:["\uD83D\uDCDA History & Favorites (",tq.length,")"]}),(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 text-gray-400",children:tW?"▲":"▼"})]}),tW&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mt-3 space-y-2 max-h-60 overflow-y-auto",children:[tq.filter(e=>e.isFavorite).length>0&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 mb-2",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-yellow-600 font-semibold mb-1",children:"⭐ Favorites"}),tq.filter(e=>e.isFavorite).map(e=>(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2 p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,a.jsx)("img",{src:e.skinDataUrl,alt:e.prompt,style:{imageRendering:"pixelated"},className:"jsx-d254eb5d291d5199 w-12 h-12 rounded border bg-gray-100"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm font-medium truncate",children:e.prompt}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500",children:e.style})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>tX(e),title:"Load this skin",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-green-100 text-green-600 rounded hover:bg-green-200",children:"✓"}),(0,a.jsx)("button",{onClick:()=>tZ(e),title:"Use this prompt",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-purple-100 text-purple-600 rounded hover:bg-purple-200",children:"\uD83D\uDD04"}),(0,a.jsx)("button",{onClick:()=>tH(e.id),title:"Remove from favorites",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-yellow-100 text-yellow-600 rounded hover:bg-yellow-200",children:"⭐"})]})]},e.id))]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-500 font-semibold mb-1",children:"\uD83D\uDD50 Recent"}),tq.filter(e=>!e.isFavorite).map(e=>(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100",children:[(0,a.jsx)("img",{src:e.skinDataUrl,alt:e.prompt,style:{imageRendering:"pixelated"},className:"jsx-d254eb5d291d5199 w-12 h-12 rounded border bg-white"}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-sm font-medium truncate",children:e.prompt}),(0,a.jsxs)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-400",children:[e.style," • ",new Date(e.timestamp).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>tX(e),title:"Load this skin",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-green-100 text-green-600 rounded hover:bg-green-200",children:"✓"}),(0,a.jsx)("button",{onClick:()=>tZ(e),title:"Use this prompt",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-purple-100 text-purple-600 rounded hover:bg-purple-200",children:"\uD83D\uDD04"}),(0,a.jsx)("button",{onClick:()=>tH(e.id),title:"Add to favorites",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:"☆"}),(0,a.jsx)("button",{onClick:()=>tQ(e.id),title:"Delete",className:"jsx-d254eb5d291d5199 p-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200",children:"✕"})]})]},e.id))]})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-xs text-gray-400 mt-3 text-center",children:tm?"Real AI generates unique skins from your description":"Quick mode uses smart color matching based on keywords"})]})}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 md:hidden skin-mobile-toolbar",children:[(0,a.jsx)("button",{onClick:()=>F("brush"),title:"Draw",className:"jsx-d254eb5d291d5199 "+"skin-mobile-toolbar-btn ".concat("brush"===R?"active":""),children:"\uD83D\uDD8C️"}),(0,a.jsx)("button",{onClick:()=>F("eraser"),title:"Erase",className:"jsx-d254eb5d291d5199 "+"skin-mobile-toolbar-btn ".concat("eraser"===R?"active":""),children:"\uD83E\uDDFD"}),(0,a.jsx)("button",{onClick:()=>F("fill"),title:"Fill",className:"jsx-d254eb5d291d5199 "+"skin-mobile-toolbar-btn ".concat("fill"===R?"active":""),children:"\uD83E\uDEA3"}),(0,a.jsx)("button",{onClick:()=>e1(!0),style:{background:"linear-gradient(145deg, #8B5CF6, #6D28D9)",color:"white"},title:"3D Preview",className:"jsx-d254eb5d291d5199 skin-mobile-toolbar-btn",children:"\uD83C\uDFAE"}),(0,a.jsx)("button",{onClick:()=>{s$(),s5("undo")},disabled:sI<=0,title:"Undo",className:"jsx-d254eb5d291d5199 skin-mobile-toolbar-btn",children:"↩️"}),(0,a.jsx)("button",{onClick:()=>ai(!1),style:{background:"linear-gradient(145deg, #10B981, #059669)",color:"white"},title:"Save",className:"jsx-d254eb5d291d5199 skin-mobile-toolbar-btn",children:"\uD83D\uDCBE"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 "+"md:hidden fixed bottom-24 left-0 right-0 z-50 transition-transform duration-300 ".concat(e$?"translate-y-0":"translate-y-full"),children:(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 bg-white rounded-t-2xl shadow-2xl p-4 mx-2",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex justify-between items-center mb-3",children:[(0,a.jsx)("span",{className:"jsx-d254eb5d291d5199 font-bold text-gray-800",children:"\uD83C\uDFA8 Colors"}),(0,a.jsx)("button",{onClick:()=>e0(!1),className:"jsx-d254eb5d291d5199 text-gray-500 text-xl",children:"✕"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 skin-mobile-colors",children:D.slice(0,24).map(e=>(0,a.jsx)("button",{onClick:()=>{b(e),e0(!1)},style:{backgroundColor:e},className:"jsx-d254eb5d291d5199 "+"skin-mobile-color-btn ".concat(m===e?"selected":"")},e))})]})}),(0,a.jsx)("button",{onClick:()=>e0(!e$),style:{backgroundColor:m},title:"Pick color",className:"jsx-d254eb5d291d5199 md:hidden fixed bottom-24 left-4 w-12 h-12 rounded-full shadow-lg border-4 border-white z-40"}),(0,a.jsx)("button",{onClick:()=>t9(!t2),title:"Toggle Layers (L)",className:"jsx-d254eb5d291d5199 "+"hidden md:flex fixed bottom-4 left-16 w-10 h-10 rounded-full shadow-lg text-xl hover:scale-110 transition-transform items-center justify-center ".concat(t2?"bg-blue-500 text-white":"bg-white/90"),children:"\uD83C\uDFA8"}),(0,a.jsx)("button",{onClick:()=>eU(!0),title:"AI Skin Generator",className:"jsx-d254eb5d291d5199 hidden md:flex fixed bottom-4 left-4 w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-lg text-xl hover:scale-110 transition-transform items-center justify-center",children:"\uD83E\uDD16"}),(0,a.jsx)("button",{onClick:()=>eB(!0),title:"Keyboard shortcuts (?)",className:"jsx-d254eb5d291d5199 hidden md:flex fixed bottom-4 right-4 w-10 h-10 bg-white/90 rounded-full shadow-lg text-xl font-bold hover:scale-110 transition-transform items-center justify-center",children:"?"}),e5&&(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 md:hidden fixed inset-0 z-[100] bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex flex-col",children:[(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 flex items-center justify-between p-4 bg-black/20",children:[(0,a.jsx)("h2",{className:"jsx-d254eb5d291d5199 text-xl font-bold text-white",children:"\uD83C\uDFAE 3D Preview"}),(0,a.jsx)("button",{onClick:()=>e1(!1),className:"jsx-d254eb5d291d5199 w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white text-xl",children:"✕"})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex-1 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 bg-white/10 backdrop-blur-sm rounded-3xl p-4 w-full max-w-sm aspect-square flex items-center justify-center",children:(0,a.jsx)(j,{skinCanvas:t.current,textureVersion:e4})})}),(0,a.jsxs)("div",{className:"jsx-d254eb5d291d5199 p-4 bg-black/20",children:[(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 text-white/80 text-sm text-center mb-2",children:"\uD83D\uDD79️ Drag to rotate • Pinch to zoom"}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 flex flex-wrap justify-center gap-2",children:sJ.map(e=>(0,a.jsxs)("button",{onClick:()=>sW(e.id),className:"jsx-d254eb5d291d5199 "+"px-3 py-2 rounded-xl text-sm font-bold transition-all ".concat(sK===e.id?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"),children:[e.icon," ",e.label]},e.id))})]}),(0,a.jsx)("div",{className:"jsx-d254eb5d291d5199 p-4 pb-8",children:(0,a.jsx)("button",{onClick:()=>e1(!1),className:"jsx-d254eb5d291d5199 w-full py-4 bg-white rounded-2xl font-bold text-lg text-purple-600 shadow-lg",children:"✏️ Back to Editor"})})]}),(0,a.jsx)("p",{className:"jsx-d254eb5d291d5199 mt-4 text-white/70 text-sm",children:"Made with \uD83D\uDC96 by Onde • Works with Minecraft Java & Bedrock!"})]})}}}]);