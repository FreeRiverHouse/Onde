(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{8761:()=>{},49202:(e,t,o)=>{"use strict";o.d(t,{C9:()=>r,dy:()=>s,sb:()=>l});var n=o(7620);let a="onde-user-profile",r=["\uD83E\uDD8A","\uD83D\uDC3B","\uD83D\uDC3C","\uD83D\uDC28","\uD83E\uDD81","\uD83D\uDC2F","\uD83D\uDC38","\uD83D\uDC35","\uD83D\uDC30","\uD83D\uDC36","\uD83D\uDC31","\uD83E\uDD84","\uD83D\uDC32","\uD83E\uDD8B","\uD83D\uDC22","\uD83E\uDD89","\uD83C\uDF1F","\uD83C\uDF08","\uD83D\uDE80","\uD83C\uDFA8","\uD83D\uDCDA","\uD83C\uDFAE","\uD83C\uDFB5","✨","\uD83C\uDF38","\uD83C\uDF3A","\uD83C\uDF40","\uD83C\uDF3B","\uD83C\uDF4E","\uD83C\uDF6A","\uD83E\uDDC1","\uD83C\uDF82"],s=[{id:"first_book",name:"Bookworm Begin",description:"Started reading your first book",icon:"\uD83D\uDCD6"},{id:"five_books",name:"Library Explorer",description:"Started 5 books",icon:"\uD83D\uDCDA"},{id:"first_complete",name:"The Finisher",description:"Completed your first book",icon:"\uD83C\uDFC6"},{id:"first_game",name:"Game On!",description:"Played your first game",icon:"\uD83C\uDFAE"},{id:"five_games",name:"Pro Gamer",description:"Played 5 different games",icon:"\uD83D\uDC7E"},{id:"first_favorite",name:"Heart Collector",description:"Added your first favorite",icon:"❤️"},{id:"five_favorites",name:"Super Fan",description:"Added 5 favorites",icon:"\uD83D\uDC9D"},{id:"profile_setup",name:"Identity Created",description:"Set up your profile",icon:"\uD83C\uDFAD"},{id:"week_streak",name:"Weekly Warrior",description:"Visited 7 days in a row",icon:"\uD83D\uDD25"},{id:"night_owl",name:"Night Owl",description:"Read after midnight",icon:"\uD83E\uDD89"}],i={username:"",avatar:"\uD83E\uDD8A",createdAt:new Date().toISOString(),lastVisit:new Date().toISOString(),visitStreak:1,theme:"system",language:"en",stats:{booksStarted:0,booksCompleted:0,gamesPlayed:[],totalReadingTime:0,favoriteBooks:0},achievements:[]};function l(){let[e,t]=(0,n.useState)(i),[o,r]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem(a);if(e){let o=JSON.parse(e),n=new Date(o.lastVisit),a=new Date,r=Math.floor((a.getTime()-n.getTime())/864e5),s=o.visitStreak;1===r?s=o.visitStreak+1:r>1&&(s=1),t({...o,lastVisit:a.toISOString(),visitStreak:s})}}catch(e){console.error("Error loading profile:",e)}r(!0)},[]),(0,n.useEffect)(()=>{if(o)try{localStorage.setItem(a,JSON.stringify(e))}catch(e){console.error("Error saving profile:",e)}},[e,o]);let l=(0,n.useCallback)(e=>{t(t=>({...t,username:e}))},[]),c=(0,n.useCallback)(e=>{t(t=>({...t,avatar:e}))},[]),d=(0,n.useCallback)(e=>{t(t=>({...t,theme:e}))},[]),u=(0,n.useCallback)(e=>{t(t=>({...t,language:e}))},[]),h=(0,n.useCallback)(()=>{t(e=>({...e,stats:{...e.stats,booksStarted:e.stats.booksStarted+1}}))},[]),m=(0,n.useCallback)(()=>{t(e=>({...e,stats:{...e.stats,booksCompleted:e.stats.booksCompleted+1}}))},[]),x=(0,n.useCallback)(e=>{t(t=>t.stats.gamesPlayed.includes(e)?t:{...t,stats:{...t.stats,gamesPlayed:[...t.stats.gamesPlayed,e]}})},[]),f=(0,n.useCallback)(e=>{t(t=>({...t,stats:{...t.stats,totalReadingTime:t.stats.totalReadingTime+e}}))},[]),p=(0,n.useCallback)(e=>{t(t=>({...t,stats:{...t.stats,favoriteBooks:e}}))},[]),g=(0,n.useCallback)(e=>{t(t=>t.achievements.includes(e)?t:{...t,achievements:[...t.achievements,e]})},[]),b=(0,n.useCallback)(t=>e.achievements.includes(t),[e.achievements]),y=(0,n.useCallback)(()=>s.filter(t=>e.achievements.includes(t.id)),[e.achievements]),v=(0,n.useCallback)(()=>s.filter(t=>!e.achievements.includes(t.id)),[e.achievements]),j=(0,n.useCallback)(()=>e.username.trim().length>0,[e.username]),w=(0,n.useCallback)(()=>{let t={profile:e,exportedAt:new Date().toISOString()};return["onde-book-favorites","onde-reading-progress","onde-recently-viewed","onde-download-tracker"].forEach(e=>{try{let o=localStorage.getItem(e);o&&(t[e]=JSON.parse(o))}catch(e){}}),t},[e]);return{profile:e,mounted:o,setUsername:l,setAvatar:c,setTheme:d,setLanguage:u,incrementBooksStarted:h,incrementBooksCompleted:m,recordGamePlayed:x,addReadingTime:f,updateFavoritesCount:p,unlockAchievement:g,isAchievementUnlocked:b,getUnlockedAchievements:y,getLockedAchievements:v,isProfileSetup:j,exportData:w,resetProfile:(0,n.useCallback)(()=>{t({...i,createdAt:new Date().toISOString(),lastVisit:new Date().toISOString()})},[]),syncStats:(0,n.useCallback)(e=>{t(t=>({...t,stats:{...t.stats,...e}}))},[])}}},53555:(e,t,o)=>{"use strict";o.d(t,{default:()=>eo});var n=o(54568),a=o(7620),r=o(79355),s=o(19664),i=o.n(s);let l={gold:{name:"Oro Marino",primary:"#D4AF37",light:"#E5C158",glow:"rgba(212, 175, 55, 0.4)"},teal:{name:"Turchese",primary:"#5B9AA0",light:"#7EB8C4",glow:"rgba(91, 154, 160, 0.4)"},coral:{name:"Corallo",primary:"#E07A5F",light:"#F09A7F",glow:"rgba(224, 122, 95, 0.4)"},purple:{name:"Lapislazzuli",primary:"#26619C",light:"#4A7C9B",glow:"rgba(38, 97, 156, 0.4)"},cyan:{name:"Azzurro",primary:"#7EB8C4",light:"#A5D4DC",glow:"rgba(126, 184, 196, 0.4)"}},c={small:{name:"Piccolo",base:"14px",scale:.875},medium:{name:"Medio",base:"16px",scale:1},large:{name:"Grande",base:"18px",scale:1.125}},d={mode:"auto",accentColor:"gold",fontSize:"medium",reduceMotion:!1,highContrast:!1},u=(0,a.createContext)(null);function h(e){let{children:t,defaultSettings:o,storageKey:r="onde-theme-settings"}=e,[s,i]=(0,a.useState)(()=>({...d,...o})),[h,m]=(0,a.useState)("dark"),[x,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e={...function(e){try{let t=localStorage.getItem(e);if(t){let e=JSON.parse(t);return{mode:["light","dark","auto"].includes(e.mode)?e.mode:d.mode,accentColor:["gold","teal","coral","purple","cyan"].includes(e.accentColor)?e.accentColor:d.accentColor,fontSize:["small","medium","large"].includes(e.fontSize)?e.fontSize:d.fontSize,reduceMotion:"boolean"==typeof e.reduceMotion?e.reduceMotion:d.reduceMotion,highContrast:"boolean"==typeof e.highContrast?e.highContrast:d.highContrast}}}catch(e){console.warn("Failed to load theme settings from storage:",e)}return d}(r),...o};i(e),!1===e.reduceMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&i(e=>({...e,reduceMotion:!0})),f(!0)},[r,o]),(0,a.useEffect)(()=>{if(!x)return;let e=()=>{"auto"===s.mode?m(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):m(s.mode)};if(e(),"auto"===s.mode){let t=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>e();return t.addEventListener("change",o),()=>t.removeEventListener("change",o)}},[s.mode,x]),(0,a.useEffect)(()=>{if(!x)return;let e=document.documentElement;Object.entries(function(e,t){let o=l[e.accentColor],n=c[e.fontSize],a={"--theme-accent":o.primary,"--theme-accent-light":o.light,"--theme-accent-glow":o.glow,"--theme-font-base":n.base,"--theme-font-scale":String(n.scale),"--theme-font-xs":"calc(".concat(n.base," * 0.75)"),"--theme-font-sm":"calc(".concat(n.base," * 0.875)"),"--theme-font-md":n.base,"--theme-font-lg":"calc(".concat(n.base," * 1.125)"),"--theme-font-xl":"calc(".concat(n.base," * 1.25)"),"--theme-font-2xl":"calc(".concat(n.base," * 1.5)"),"--theme-font-3xl":"calc(".concat(n.base," * 1.875)"),"--theme-font-4xl":"calc(".concat(n.base," * 2.25)"),"--theme-transition-fast":e.reduceMotion?"0ms":"150ms","--theme-transition-base":e.reduceMotion?"0ms":"300ms","--theme-transition-slow":e.reduceMotion?"0ms":"500ms","--theme-animation-enabled":e.reduceMotion?"0":"1"};return"dark"===t?(a["--theme-bg"]="#0B1929",a["--theme-bg-secondary"]="#0D2137",a["--theme-bg-surface"]="#122A42",a["--theme-bg-elevated"]="#1A3A52",a["--theme-text"]=e.highContrast?"#FFFFFF":"rgba(255, 255, 255, 0.95)",a["--theme-text-secondary"]=e.highContrast?"#E0E0E0":"rgba(255, 255, 255, 0.7)",a["--theme-text-muted"]=e.highContrast?"#CCCCCC":"rgba(255, 255, 255, 0.5)",a["--theme-border"]=e.highContrast?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.08)",a["--theme-glass-bg"]="rgba(255, 255, 255, 0.03)",a["--theme-glass-border"]="rgba(255, 255, 255, 0.08)"):(a["--theme-bg"]="#F8FAFC",a["--theme-bg-secondary"]="#FFFFFF",a["--theme-bg-surface"]="#FFFFFF",a["--theme-bg-elevated"]="#F1F5F9",a["--theme-text"]=e.highContrast?"#000000":"#1E293B",a["--theme-text-secondary"]=e.highContrast?"#1A1A1A":"#475569",a["--theme-text-muted"]=e.highContrast?"#333333":"#94A3B8",a["--theme-border"]=e.highContrast?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.08)",a["--theme-glass-bg"]="rgba(0, 0, 0, 0.02)",a["--theme-glass-border"]="rgba(0, 0, 0, 0.06)"),e.highContrast?(a["--theme-accent-contrast"]="dark"===t?"#FFFFFF":"#000000",a["--theme-focus-ring"]="0 0 0 3px ".concat(o.primary)):(a["--theme-accent-contrast"]="dark"===t?"#0B1929":"#FFFFFF",a["--theme-focus-ring"]="0 0 0 2px ".concat(o.glow)),a}(s,h)).forEach(t=>{let[o,n]=t;e.style.setProperty(o,n)}),e.setAttribute("data-theme",h),e.setAttribute("data-accent",s.accentColor),e.setAttribute("data-font-size",s.fontSize),e.setAttribute("data-reduce-motion",String(s.reduceMotion)),e.setAttribute("data-high-contrast",String(s.highContrast)),document.body.classList.remove("light","dark"),document.body.classList.add(h),s.reduceMotion?document.body.classList.add("reduce-motion"):document.body.classList.remove("reduce-motion"),s.highContrast?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast")},[s,h,x]),(0,a.useEffect)(()=>{x&&function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.warn("Failed to save theme settings to storage:",e)}}(r,s)},[s,r,x]);let p=(0,a.useCallback)(e=>{i(t=>({...t,mode:e}))},[]),g=(0,a.useCallback)(e=>{i(t=>({...t,accentColor:e}))},[]),b=(0,a.useCallback)(e=>{i(t=>({...t,fontSize:e}))},[]),y=(0,a.useCallback)(e=>{i(t=>({...t,reduceMotion:e}))},[]),v=(0,a.useCallback)(e=>{i(t=>({...t,highContrast:e}))},[]),j=(0,a.useCallback)(()=>{i(d)},[]),w=(0,a.useMemo)(()=>({settings:s,resolvedMode:h,setMode:p,setAccentColor:g,setFontSize:b,setReduceMotion:y,setHighContrast:v,resetToDefaults:j}),[s,h,p,g,b,y,v,j]);return x?(0,n.jsx)(u.Provider,{value:w,children:t}):(0,n.jsx)(u.Provider,{value:w,children:(0,n.jsx)("div",{style:{visibility:"hidden"},children:t})})}var m=o(85206),x=o(91085),f=o(27541),p=o(40637);function g(){let e=(0,f.useParams)(),t=(0,f.usePathname)(),o=(0,f.useRouter)(),r=(null==e?void 0:e.locale)||"en",[s,i]=(0,a.useState)(!1),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{function e(e){l.current&&!l.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.jsxs)("div",{className:"relative",ref:l,children:[(0,n.jsxs)(m.P.button,{onClick:()=>i(!s),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/60 backdrop-blur-sm border border-onde-ocean/10 text-onde-ocean/70 hover:text-onde-ocean hover:border-onde-coral/30 transition-all duration-300 text-sm font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},"aria-expanded":s,"aria-haspopup":"listbox","aria-label":"Select language",children:[(0,n.jsx)("span",{className:"text-lg",children:p.ax[r]}),(0,n.jsx)("span",{className:"hidden sm:inline",children:r.toUpperCase()}),(0,n.jsx)("svg",{className:"w-3 h-3 transition-transform duration-200 ".concat(s?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,n.jsx)(x.N,{children:s&&(0,n.jsx)(m.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 mt-2 w-40 py-2 rounded-xl bg-white/95 backdrop-blur-lg border border-onde-ocean/10 shadow-xl shadow-onde-ocean/10 z-50",role:"listbox","aria-label":"Available languages",children:p.IB.map(e=>(0,n.jsxs)("button",{onClick:()=>(e=>{i(!1),(0,p.ud)(e);let n=t,a=t.split("/").filter(Boolean);a.length>0&&p.IB.includes(a[0])?(a[0]=e,n="/"+a.join("/")+"/"):n="/".concat(e).concat(t),n.endsWith("/")||(n+="/"),o.push(n)})(e),className:"w-full px-4 py-2.5 text-left text-sm font-medium\n                           flex items-center gap-3 transition-colors\n                           ".concat(r===e?"bg-onde-coral/10 text-onde-coral":"text-onde-ocean/70 hover:bg-onde-cream hover:text-onde-ocean"),role:"option","aria-selected":r===e,children:[(0,n.jsx)("span",{className:"text-lg",children:p.ax[e]}),(0,n.jsx)("span",{children:p.L$[e]}),r===e&&(0,n.jsx)("svg",{className:"w-4 h-4 ml-auto text-onde-coral",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e))})})]})}let b="onde-notifications",y="onde-notification-preferences",v={enabled:!0,sound:!0,achievements:!0,reminders:!0,updates:!0},j={achievement:"\uD83C\uDFC6",reminder:"⏰",update:"✨"},w={achievement:"bg-amber-100 text-amber-800 border-amber-200",reminder:"bg-blue-100 text-blue-800 border-blue-200",update:"bg-green-100 text-green-800 border-green-200"};function k(){let[e,t]=(0,a.useState)(!1),[o,r]=(0,a.useState)("all"),s=(0,a.useRef)(null),{notifications:i,preferences:l,mounted:c,markAsRead:d,markAllAsRead:u,removeNotification:h,clearAll:f,getUnreadCount:p,togglePreference:g}=function(){let[e,t]=(0,a.useState)([]),[o,n]=(0,a.useState)(v),[r,s]=(0,a.useState)(!1),i=(0,a.useRef)(null);(0,a.useEffect)(()=>{i.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH6LjYyLiIaFhIeKjY2Kh4OAf4CChoeJiYeEgH18fYGFiIqKiIWBfXt7fYGFiIqKiYaCfnt6e36ChYiJiYeCfnp5eXt+goaIiYiGgn56eHh6fIGFiImJh4N/e3l4eHt/g4eJiomGgn56eHd4en6Ch4mKiYaDf3t5d3d5fYKGiYqKh4R/fHl3dnh8gYWJioqIhYF9enh3eHt/hIiKiomGgn57eHd3eX2ChouLiomFgX16eHZ3eXyChouLi4mGgn56eHZ2eHuAhYqMjImHg356d3Z1d3p/hIqMjYuIhIB7eHZ1dnh8gYaLjY2KiISAe3h2dXV4fIGGi42NioeEgHt4dnV1d3uAhYqMjYuIhYF8eXZ1dXd6f4WKjY2LiIWBfHl2dXV3en+FioyNi4iFgXx5dnR0dnh9goeMjYyJhoJ9eXZ0dHV4fIKHjI6NioeDfnp3dXR1eHyBhoyOjYqHg357d3V0dHd7gIWLjo6LiISAfHh1dHR2en+Ei46Oi4mFgX15dnR0dXl+g4iMjo2KhoJ+end1dHR3e4CGi46OjImFgX56d3V0dXl9goeLjo6LiYWBfXp3dXR1eHyBhoyOjouIhIF9end1dHR4fIGGi4+OjImFgX16d3V0dHh7gIWLj4+MiYaCfXp3dXR0d3t/hIqOj42Kh4N+e3h2dXR2en6Dio2Pjo2Jh4N+e3l2dXV3en+Eio6Qj46LiYR/fHl2dXR2eX2Cio6Qj42KhYB8eXZ1dHV3e3+Eio6Qj42KhYB7eHV0dHV4fICFio6Qj42Kh4J9enZ1dHR2eX2BhouPkI+Ni4eDfXp3dXR0dnh8gIWLj5CPjouIg358eXZ0c3R3e3+Dio6Qj4+Mi4eDfnp3dXR0dnh8gIaLj5CQjo2Kh4N+e3h1dHR1eHuAhYqOkJCPjoyJhYB7eHV0c3R2eXyAhYqNj5CPjoyJhYB7eHV0c3R2eXyAhIqNj5CPjoyJhYB7eHV0c3R2eXuAhIqNjw=="),i.current.volume=.5},[]),(0,a.useEffect)(()=>{try{let e=localStorage.getItem(b);if(e){let o=JSON.parse(e);Array.isArray(o)&&t(o)}let o=localStorage.getItem(y);if(o){let e=JSON.parse(o);n({...v,...e})}}catch(e){console.error("Error loading notifications:",e)}s(!0)},[]),(0,a.useEffect)(()=>{if(r)try{localStorage.setItem(b,JSON.stringify(e))}catch(e){console.error("Error saving notifications:",e)}},[e,r]),(0,a.useEffect)(()=>{if(r)try{localStorage.setItem(y,JSON.stringify(o))}catch(e){console.error("Error saving notification preferences:",e)}},[o,r]);let l=(0,a.useCallback)(()=>{o.sound&&i.current&&(i.current.currentTime=0,i.current.play().catch(()=>{}))},[o.sound]),c=(0,a.useCallback)((e,n,a,r)=>{if(!o.enabled||"achievement"===e&&!o.achievements||"reminder"===e&&!o.reminders||"update"===e&&!o.updates)return;let s={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,title:n,message:a,icon:null==r?void 0:r.icon,link:null==r?void 0:r.link,createdAt:new Date().toISOString(),read:!1};t(e=>[s,...e]),l()},[o,l]),d=(0,a.useCallback)(e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},[]),u=(0,a.useCallback)(()=>{t(e=>e.map(e=>({...e,read:!0})))},[]),h=(0,a.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),m=(0,a.useCallback)(()=>{t([])},[]),x=(0,a.useCallback)(()=>e.filter(e=>!e.read).length,[e]),f=(0,a.useCallback)(e=>{n(t=>({...t,...e}))},[]),p=(0,a.useCallback)(e=>{n(t=>({...t,[e]:!t[e]}))},[]),g=(0,a.useCallback)(t=>e.filter(e=>e.type===t),[e]),j=(0,a.useCallback)((e,t,o)=>{c("achievement","\uD83C\uDF89 ".concat(e),t,{icon:o})},[c]),w=(0,a.useCallback)((e,t,o)=>{c("reminder","⏰ ".concat(e),t,{link:o})},[c]),k=(0,a.useCallback)((e,t,o)=>{c("update","✨ ".concat(e),t,{link:o})},[c]);return{notifications:e,preferences:o,mounted:r,addNotification:c,markAsRead:d,markAllAsRead:u,removeNotification:h,clearAll:m,getUnreadCount:x,updatePreferences:f,togglePreference:p,getNotificationsByType:g,notifyAchievement:j,notifyReminder:w,notifyUpdate:k}}(),k=p();return((0,a.useEffect)(()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),c)?(0,n.jsxs)("div",{className:"relative",ref:s,children:[(0,n.jsxs)(m.P.button,{onClick:()=>t(!e),className:"relative p-2 text-onde-ocean/70 hover:text-onde-ocean transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Notifications".concat(k>0?" (".concat(k," unread)"):""),children:[(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,n.jsx)(x.N,{children:k>0&&(0,n.jsx)(m.P.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center bg-onde-coral text-white text-xs font-bold rounded-full px-1",children:k>99?"99+":k})})]}),(0,n.jsx)(x.N,{children:e&&(0,n.jsxs)(m.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-50",children:[(0,n.jsxs)("div",{className:"p-4 border-b border-gray-100",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("h3",{className:"text-lg font-bold text-onde-ocean",children:"Notifications"}),i.length>0&&"all"===o&&(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:u,className:"text-xs text-onde-ocean/60 hover:text-onde-ocean transition-colors",children:"Mark all read"}),(0,n.jsx)("span",{className:"text-onde-ocean/30",children:"|"}),(0,n.jsx)("button",{onClick:f,className:"text-xs text-onde-coral/60 hover:text-onde-coral transition-colors",children:"Clear all"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)("button",{onClick:()=>r("all"),className:"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors\n                    ".concat("all"===o?"bg-onde-ocean text-white":"text-onde-ocean/60 hover:bg-onde-cream"),children:["All (",i.length,")"]}),(0,n.jsx)("button",{onClick:()=>r("settings"),className:"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors\n                    ".concat("settings"===o?"bg-onde-ocean text-white":"text-onde-ocean/60 hover:bg-onde-cream"),children:"Settings"})]})]}),(0,n.jsx)("div",{className:"max-h-96 overflow-y-auto",children:"all"===o?0===i.length?(0,n.jsxs)("div",{className:"p-8 text-center text-onde-ocean/50",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDD14"}),(0,n.jsx)("p",{className:"text-sm",children:"No notifications yet"}),(0,n.jsx)("p",{className:"text-xs mt-1",children:"When something happens, you'll see it here!"})]}):(0,n.jsx)("div",{className:"divide-y divide-gray-50",children:i.map(e=>(0,n.jsx)(m.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer relative\n                          ".concat(e.read?"":"bg-onde-cream/30"),onClick:()=>{d(e.id),e.link&&(window.location.href=e.link)},children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-lg\n                                          border ".concat(w[e.type]),children:e.icon||j[e.type]}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"font-medium text-onde-ocean text-sm truncate",children:e.title}),(0,n.jsx)("p",{className:"text-xs text-onde-ocean/60 mt-0.5 line-clamp-2",children:e.message}),(0,n.jsx)("p",{className:"text-xs text-onde-ocean/40 mt-1",children:(e=>{let t=new Date(e),o=new Date().getTime()-t.getTime(),n=Math.floor(o/6e4),a=Math.floor(o/36e5),r=Math.floor(o/864e5);return n<1?"Just now":n<60?"".concat(n,"m ago"):a<24?"".concat(a,"h ago"):r<7?"".concat(r,"d ago"):t.toLocaleDateString()})(e.createdAt)})]}),!e.read&&(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-onde-coral flex-shrink-0 mt-2"}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e.id)},className:"opacity-0 group-hover:opacity-100 hover:opacity-100  text-onde-ocean/30 hover:text-onde-coral transition-opacity p-1","aria-label":"Remove notification",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))}):(0,n.jsx)("div",{className:"p-4 space-y-4",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(N,{label:"Enable Notifications",description:"Turn all notifications on or off",enabled:l.enabled,onToggle:()=>g("enabled")}),(0,n.jsx)("hr",{className:"border-gray-100"}),(0,n.jsx)(N,{label:"\uD83D\uDD0A Notification Sound",description:"Play a sound for new notifications",enabled:l.sound,onToggle:()=>g("sound"),disabled:!l.enabled}),(0,n.jsx)("hr",{className:"border-gray-100"}),(0,n.jsx)("p",{className:"text-xs font-medium text-onde-ocean/60 uppercase tracking-wider",children:"Notification Types"}),(0,n.jsx)(N,{label:"\uD83C\uDFC6 Achievements",description:"When you unlock achievements",enabled:l.achievements,onToggle:()=>g("achievements"),disabled:!l.enabled}),(0,n.jsx)(N,{label:"⏰ Reminders",description:"Reading reminders and goals",enabled:l.reminders,onToggle:()=>g("reminders"),disabled:!l.enabled}),(0,n.jsx)(N,{label:"✨ Updates",description:"New books and features",enabled:l.updates,onToggle:()=>g("updates"),disabled:!l.enabled})]})})})]})})]}):null}function N(e){let{label:t,description:o,enabled:a,onToggle:r,disabled:s=!1}=e;return(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4 ".concat(s?"opacity-50":""),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-onde-ocean",children:t}),(0,n.jsx)("p",{className:"text-xs text-onde-ocean/50",children:o})]}),(0,n.jsx)("button",{onClick:r,disabled:s,className:"relative w-11 h-6 rounded-full transition-colors ".concat(a?"bg-onde-coral":"bg-gray-200"," ").concat(s?"cursor-not-allowed":"cursor-pointer"),role:"switch","aria-checked":a,children:(0,n.jsx)(m.P.div,{className:"absolute top-1 left-1 w-4 h-4 rounded-full bg-white shadow",animate:{x:20*!!a},transition:{duration:.2}})})]})}var C=o(74411);let S=[{id:"moonlight",href:"/games/moonlight-magic-house",title:"Moonlight",desc:"Pet House",emoji:"\uD83D\uDC31"},{id:"skin",href:"/games/skin-creator",title:"Skin Studio",desc:"Minecraft Skins",emoji:"\uD83C\uDFA8"},{id:"chef",href:"/games/kids-chef-studio",title:"Kids Chef",desc:"Cooking",emoji:"\uD83D\uDC68‍\uD83C\uDF73"},{id:"fortune",href:"/games/fortune-cookie",title:"Fortune",desc:"Cookie",emoji:"\uD83E\uDD60"}],E="onde-recent-searches";function M(e,t){if(e=e.toLowerCase(),(t=t.toLowerCase())===e)return 100;if(t.startsWith(e))return 90;if(t.includes(e))return 80;let o=0,n=0,a=0;for(let r=0;r<t.length&&o<e.length;r++)t[r]===e[o]?(n+=10+a,a+=5,o++):a=0;return o<e.length?0:Math.min(70,n/e.length*2)}function L(){let[e,t]=(0,a.useState)(""),[o,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)(0),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(E);if(e){let t=JSON.parse(e);Array.isArray(t)&&l(t)}}catch(e){console.error("Error loading recent searches:",e)}d(!0)},[]);let u=(0,a.useCallback)(e=>{e.trim()&&l(t=>{let o=t.filter(t=>t.query.toLowerCase()!==e.toLowerCase()),n=[{query:e,timestamp:Date.now()},...o].slice(0,5);try{localStorage.setItem(E,JSON.stringify(n))}catch(e){console.error("Error saving recent searches:",e)}return n})},[]),h=(0,a.useCallback)(()=>{l([]);try{localStorage.removeItem(E)}catch(e){console.error("Error clearing recent searches:",e)}},[]),m=(0,a.useMemo)(()=>e.trim()?[...e.trim()?C.b7.map(t=>{let o=Math.max(M(e,t.title),.8*M(e,t.author));return{id:t.id,type:"book",title:t.title,subtitle:t.author,href:"/reader/?book=".concat(t.id),coverImage:t.coverImage,score:o}}).filter(e=>e.score>0):[],...!e.trim()?[]:S.map(t=>{let o=Math.max(M(e,t.title),.6*M(e,t.desc));return{id:t.id,type:"game",title:t.title,subtitle:t.desc,href:t.href,emoji:t.emoji,score:o}}).filter(e=>e.score>0)].sort((e,t)=>t.score-e.score).slice(0,10):[],[e]);(0,a.useEffect)(()=>{s(0)},[m]),(0,a.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),n(!0)),"Escape"===e.key&&o&&(e.preventDefault(),n(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]);let x=(0,a.useCallback)(t=>{if("ArrowDown"===t.key)t.preventDefault(),s(e=>Math.min(e+1,m.length-1));else if("ArrowUp"===t.key)t.preventDefault(),s(e=>Math.max(e-1,0));else if("Enter"===t.key&&(t.preventDefault(),m[r]))return u(e),m[r];return null},[m,r,e,u]),f=(0,a.useCallback)(()=>{n(!0),t(""),s(0)},[]),p=(0,a.useCallback)(()=>{n(!1),t(""),s(0)},[]);return{query:e,setQuery:t,isOpen:o,setIsOpen:n,selectedIndex:r,setSelectedIndex:s,results:m,recentSearches:i,mounted:c,open:f,close:p,handleKeyDown:x,saveRecentSearch:u,clearRecentSearches:h}}function I(e){let{isOpen:t,onClose:o}=e,r=(0,f.useRouter)(),s=(0,a.useRef)(null),{query:i,setQuery:l,isOpen:c,setIsOpen:d,selectedIndex:u,setSelectedIndex:h,results:p,recentSearches:g,mounted:b,close:y,handleKeyDown:v,saveRecentSearch:j,clearRecentSearches:w}=L(),k=void 0!==t?t:c,N=o||y;(0,a.useEffect)(()=>{if(k&&s.current){let e=setTimeout(()=>{var e;null==(e=s.current)||e.focus()},100);return()=>clearTimeout(e)}},[k]),(0,a.useEffect)(()=>(k?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[k]);let C=e=>{j(i),N(),r.push(e.href)};return b?(0,n.jsx)(x.N,{children:k&&(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(m.P.div,{className:"fixed inset-0 z-[100] bg-onde-ocean/30 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:N}),(0,n.jsx)(m.P.div,{className:"fixed inset-x-4 top-[15%] z-[101] mx-auto max-w-2xl",initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.2,ease:[.25,.1,.25,1]},children:(0,n.jsxs)("div",{className:"overflow-hidden rounded-2xl bg-white shadow-2xl shadow-onde-ocean/20 border border-onde-ocean/10",children:[(0,n.jsxs)("div",{className:"flex items-center border-b border-onde-ocean/10 px-4",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-onde-ocean/40 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,n.jsx)("input",{ref:s,type:"text",value:i,onChange:e=>l(e.target.value),onKeyDown:e=>{let t=v(e);t&&C(t)},placeholder:"Search books, games...",className:"flex-1 py-4 px-3 text-lg text-onde-ocean placeholder-onde-ocean/40  bg-transparent border-none outline-none focus:ring-0",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),(0,n.jsx)("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs font-medium  text-onde-ocean/40 bg-onde-cream rounded-md border border-onde-ocean/10",children:"ESC"})]}),(0,n.jsxs)("div",{className:"max-h-[60vh] overflow-y-auto overscroll-contain",children:[""===i&&g.length>0&&(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-onde-ocean/50 uppercase tracking-wider",children:"Recent Searches"}),(0,n.jsx)("button",{onClick:w,className:"text-xs text-onde-coral hover:text-onde-coral-dark transition-colors",children:"Clear"})]}),(0,n.jsx)("div",{className:"space-y-1",children:g.map((e,t)=>(0,n.jsxs)("button",{onClick:()=>{l(e.query)},className:"flex items-center gap-3 w-full px-3 py-2 rounded-lg text-left text-onde-ocean/70 hover:bg-onde-cream transition-colors group",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-onde-ocean/30 group-hover:text-onde-ocean/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsx)("span",{className:"text-sm",children:e.query})]},"".concat(e.query,"-").concat(e.timestamp)))})]}),""!==i&&p.length>0&&(0,n.jsx)("div",{className:"p-2",children:p.map((e,t)=>(0,n.jsx)(A,{result:e,isSelected:t===u,onClick:()=>C(e),onMouseEnter:()=>h(t)},"".concat(e.type,"-").concat(e.id)))}),""!==i&&0===p.length&&(0,n.jsxs)("div",{className:"p-8 text-center",children:[(0,n.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDD0D"}),(0,n.jsxs)("p",{className:"text-onde-ocean/60 font-medium",children:['No results for "',i,'"']}),(0,n.jsx)("p",{className:"text-sm text-onde-ocean/40 mt-1",children:"Try searching for something else"})]}),""===i&&0===g.length&&(0,n.jsxs)("div",{className:"p-8 text-center",children:[(0,n.jsx)("div",{className:"text-4xl mb-3",children:"✨"}),(0,n.jsx)("p",{className:"text-onde-ocean/60 font-medium",children:"Start typing to search"}),(0,n.jsx)("p",{className:"text-sm text-onde-ocean/40 mt-1",children:"Find books and games"})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-onde-ocean/10 bg-onde-cream/50",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4 text-xs text-onde-ocean/40",children:[(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white rounded border border-onde-ocean/10 font-mono",children:"↑"}),(0,n.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white rounded border border-onde-ocean/10 font-mono",children:"↓"}),(0,n.jsx)("span",{className:"ml-1",children:"Navigate"})]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("kbd",{className:"px-1.5 py-0.5 bg-white rounded border border-onde-ocean/10 font-mono",children:"↵"}),(0,n.jsx)("span",{className:"ml-1",children:"Open"})]})]}),(0,n.jsxs)("div",{className:"text-xs text-onde-ocean/40",children:[(0,n.jsx)("span",{className:"font-medium text-onde-coral",children:p.length})," results"]})]})]})})]})}):null}function A(e){let{result:t,isSelected:o,onClick:a,onMouseEnter:r}=e;return(0,n.jsxs)("button",{onClick:a,onMouseEnter:r,className:"flex items-center gap-4 w-full px-3 py-3 rounded-xl text-left transition-all\n                  ".concat(o?"bg-gradient-to-r from-onde-coral/10 to-onde-gold/10 shadow-sm":"hover:bg-onde-cream"),children:[(0,n.jsx)("div",{className:"shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-xl\n                       ".concat("book"===t.type?"bg-amber-100":"bg-purple-100"),children:"book"===t.type?"\uD83D\uDCD6":t.emoji||"\uD83C\uDFAE"}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"font-medium truncate ".concat(o?"text-onde-ocean":"text-onde-ocean/80"),children:t.title}),(0,n.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-full shrink-0\n                           ".concat("book"===t.type?"bg-amber-100 text-amber-700":"bg-purple-100 text-purple-700"),children:"book"===t.type?"Book":"Game"})]}),(0,n.jsx)("p",{className:"text-sm text-onde-ocean/50 truncate",children:t.subtitle})]}),o&&(0,n.jsx)(m.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"shrink-0 text-onde-coral",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}var D=o(11262);function F(){let[e,t]=(0,a.useState)(!1),[o,s]=(0,a.useState)(!1),l=(0,f.usePathname)(),c=(0,r.c3)(),{open:d}=function(){let{open:e,close:t,isOpen:o,setIsOpen:n}=L();return{open:e,close:t,isOpen:o,setIsOpen:n}}(),u=e=>l===e||l===e.replace(/\/$/,""),h=[{href:"/",label:c.navigation.home},{href:"/libri",label:c.navigation.books},{href:"/games",label:c.navigation.games},{href:"/about",label:c.navigation.about}];return(0,a.useEffect)(()=>{let e=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.P.nav,{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500\n          ".concat(e?"bg-white/80 backdrop-blur-lg shadow-lg":"bg-transparent"),initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:[.25,.1,.25,1]},children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,n.jsx)(i(),{href:"/",className:"flex items-center gap-2",children:(0,n.jsx)("span",{className:"text-2xl font-display font-bold text-onde-ocean",children:"Onde"})}),(0,n.jsx)("div",{className:"hidden md:flex items-center gap-1",children:h.map(e=>(0,n.jsx)(i(),{href:e.href,children:(0,n.jsxs)(m.P.span,{className:"relative px-4 py-2 font-medium transition-colors duration-300\n                      ".concat(u(e.href)?"text-onde-coral":"text-onde-ocean/70 hover:text-onde-ocean"),whileHover:{y:-2},transition:{duration:.2},children:[e.label,u(e.href)&&(0,n.jsx)(m.P.div,{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-0.5 bg-gradient-to-r from-onde-coral to-onde-gold",layoutId:"navIndicator",transition:{duration:.3}})]})},e.href))}),(0,n.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,n.jsxs)(m.P.button,{onClick:d,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-onde-cream/50 hover:bg-onde-cream text-onde-ocean/60 hover:text-onde-ocean transition-all duration-200 border border-onde-ocean/10",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Search"}),(0,n.jsx)("kbd",{className:"hidden lg:inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs  text-onde-ocean/40 bg-white rounded border border-onde-ocean/10",children:"⌘K"})]}),(0,n.jsx)(D.Ay,{}),(0,n.jsx)(g,{}),(0,n.jsx)(k,{}),(0,n.jsx)(i(),{href:"/libri",children:(0,n.jsxs)(m.P.span,{className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-onde-coral to-onde-coral-light text-white font-semibold shadow-lg shadow-onde-coral/30 transition-all duration-300",whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(255, 127, 127, 0.4)"},whileTap:{scale:.98},children:[c.navigation.explore,(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),(0,n.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[(0,n.jsx)(m.P.button,{onClick:d,className:"p-2 text-onde-ocean/60 hover:text-onde-ocean",whileTap:{scale:.95},"aria-label":"Search",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,n.jsx)(D.RN,{}),(0,n.jsx)(g,{}),(0,n.jsx)(k,{}),(0,n.jsx)(m.P.button,{className:"p-2 text-onde-ocean",onClick:()=>s(!o),whileTap:{scale:.95},"aria-label":o?"Close menu":"Open menu","aria-expanded":o,children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o?(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})})}),(0,n.jsx)(x.N,{children:o&&(0,n.jsxs)(m.P.div,{className:"fixed inset-0 z-40 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,n.jsx)(m.P.div,{className:"absolute inset-0 bg-onde-ocean/20 backdrop-blur-sm",onClick:()=>s(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),(0,n.jsx)(m.P.div,{className:"absolute top-20 left-4 right-4 bg-white rounded-3xl shadow-xl overflow-hidden",initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3},children:(0,n.jsx)("div",{className:"p-6 space-y-2",children:h.map((e,t)=>(0,n.jsx)(m.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:(0,n.jsx)(i(),{href:e.href,onClick:()=>s(!1),className:"block px-4 py-3 rounded-xl font-medium transition-colors\n                        ".concat(u(e.href)?"bg-onde-coral/10 text-onde-coral":"text-onde-ocean/70 hover:bg-onde-cream"),children:e.label})},e.href))})})]})})]})}let z={coral:"rgba(255, 127, 127, 0.35)",teal:"rgba(72, 201, 176, 0.3)",gold:"rgba(244, 208, 63, 0.3)",blue:"rgba(93, 173, 226, 0.25)"};function H(e){let{color:t,size:o,mobileSize:r,x:s,y:i}=e,[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>c(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=l?r:o;return(0,n.jsx)("div",{className:"absolute rounded-full pointer-events-none",style:{width:d,height:d,left:s,top:i,background:z[t],filter:"blur(60px)",opacity:.4,transform:"translate3d(0,0,0)"}})}function P(){return(0,n.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",style:{contain:"strict",willChange:"auto"},"aria-hidden":"true",children:[(0,n.jsx)("div",{className:"absolute inset-0",style:{background:"\n            linear-gradient(180deg,\n              rgba(253, 246, 227, 1) 0%,\n              rgba(255, 255, 255, 0.9) 50%,\n              rgba(253, 246, 227, 0.8) 100%\n            )\n          "}}),(0,n.jsx)(H,{color:"coral",size:400,mobileSize:200,x:"5%",y:"10%"}),(0,n.jsx)(H,{color:"teal",size:350,mobileSize:180,x:"70%",y:"60%"}),(0,n.jsx)(H,{color:"gold",size:300,mobileSize:150,x:"50%",y:"30%"}),(0,n.jsx)(H,{color:"blue",size:280,mobileSize:140,x:"75%",y:"10%"}),(0,n.jsx)(H,{color:"coral",size:250,mobileSize:120,x:"20%",y:"70%"}),(0,n.jsx)(H,{color:"teal",size:200,mobileSize:100,x:"10%",y:"50%"}),(0,n.jsx)("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E\")"}})]})}function B(){if(!window.location.hostname.includes("vercel.app"))return null;try{let{Analytics:e}=o(69554);return(0,n.jsx)(e,{})}catch(e){return null}}class R extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){var o,n;console.error("\uD83D\uDEA8 ErrorBoundary caught an error:",{error:e.message,stack:e.stack,componentStack:t.componentStack}),this.setState({errorInfo:t}),null==(o=(n=this.props).onError)||o.call(n,e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,n.jsx)("div",{className:"min-h-[50vh] flex items-center justify-center p-8",children:(0,n.jsxs)("div",{className:"max-w-md text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF0A"}),(0,n.jsx)("h2",{className:"text-2xl font-display font-bold text-onde-ocean mb-4",children:"Oops, qualcosa \xe8 andato storto"}),(0,n.jsx)("p",{className:"text-onde-ocean/60 mb-6",children:"Abbiamo incontrato un'onda anomala. Prova a ricaricare la pagina."}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center flex-wrap",children:[(0,n.jsx)("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-onde-ocean/10 text-onde-ocean font-semibold hover:bg-onde-ocean/20 transition-colors",children:"Riprova"}),(0,n.jsx)("button",{onClick:this.handleReload,className:"px-6 py-3 rounded-xl bg-onde-ocean text-white font-semibold hover:bg-onde-ocean/90 transition-colors",children:"\uD83D\uDD04 Ricarica Pagina"}),(0,n.jsx)("a",{href:"/",className:"px-6 py-3 rounded-xl bg-onde-coral/10 text-onde-coral font-semibold hover:bg-onde-coral/20 transition-colors",children:"\uD83C\uDFE0 Torna alla Home"})]}),!1]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}}a.Component;var O=o(49202);let T=(0,a.createContext)(null),Y="onde-ai-companion",W={"/":["Welcome! I'm Bubbles, your reading buddy! \uD83C\uDF89","Check out the latest books in our library!","Did you know you can set reading goals?","Try a game to take a fun break!"],"/libri":["Looking for something to read? I can help!","Tap the ❤️ to save books you love!","Use the search to find specific books!","Books are sorted by reading level!"],"/libreria":["Here are all your saved books!","Keep building your collection!","Your reading progress is saved automatically!"],"/games":["Ready to play? Let's go! \uD83C\uDFAE","Games help your brain grow stronger!","Try to beat your high score!","Each game teaches different skills!"],"/games/memory":["Match the pairs as fast as you can!","Tip: Remember where cards are!","Start with the corners!"],"/games/puzzle":["Puzzles improve spatial thinking!","Try the easier levels first!","Take your time, no rush!"],"/games/math":["Math is like a superpower! ➕","Practice makes perfect!","Start with easy sums!"],"/games/typing":["Typing fast is so useful!","Keep your fingers on home row!","Accuracy first, then speed!"],"/games/quiz":["Test your knowledge!","Learn something new every day!","Don't worry if you get some wrong!"],"/profile":["This is YOUR space!","Customize your avatar!","Check your achievements!"],"/daily":["New challenge every day!","Daily streaks earn bonus XP!","Come back tomorrow for more!"]},X={win:["YAY! You did it! \uD83C\uDF89","AMAZING! You're a superstar! ⭐","Incredible work! \uD83C\uDFC6","You're on fire! \uD83D\uDD25","WOOHOO! Victory! \uD83C\uDF8A"],lose:["Don't give up! You've got this! \uD83D\uDCAA","Almost there! Try again! \uD83C\uDF1F","Practice makes perfect! ✨","I believe in you! \uD83D\uDE4C","Next time for sure! \uD83C\uDF40"],achievement:["WOW! New achievement unlocked! \uD83C\uDFC5","You're collecting achievements like a pro! \uD83C\uDF1F","Look at you go! So proud! \uD83C\uDF96️"],levelUp:["LEVEL UP! You're getting stronger! \uD83D\uDCC8","New level! New adventures! \uD83D\uDE80","Rising star alert! ⭐"],hint:["Psst... need a hint? \uD83E\uDD14","Here's a little tip... \uD83D\uDCA1","Let me help you out! \uD83D\uDE4B"],welcome:["Hey there, friend! \uD83D\uDC4B","So happy to see you! \uD83C\uDF89","Ready for an adventure? \uD83C\uDF08"]},J=["*hums quietly* \uD83C\uDFB5","*looks around curiously* \uD83D\uDC40","*does a little dance* \uD83D\uDC83","*yawns* Getting sleepy... \uD83D\uDE34","*bounces happily* ✨","*thinks about snacks* \uD83C\uDF6A","*admires the view* \uD83C\uDF38","*practices magic tricks* ✨"];function G(e){let{mood:t,isBlinking:o,lookDirection:a}=e;return(0,n.jsxs)("svg",{viewBox:"0 0 64 64",className:"w-full h-full",children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("radialGradient",{id:"companionGradient",cx:"30%",cy:"30%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#a8e6cf"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#7dd3c0"})]}),(0,n.jsx)("filter",{id:"companionShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:(0,n.jsx)("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodOpacity:"0.2"})})]}),(0,n.jsx)("ellipse",{cx:"32",cy:"36",rx:"28",ry:"26",fill:"url(#companionGradient)",filter:"url(#companionShadow)",className:"transition-transform duration-300",style:{transform:"excited"===t?"scale(1.05)":"sad"===t?"scale(0.95)":"scale(1)",transformOrigin:"center"}}),(0,n.jsx)("ellipse",{cx:"26",cy:"28",rx:"12",ry:"10",fill:"white",opacity:"0.3"}),(0,n.jsxs)("g",{className:"face text-onde-ocean",children:[(()=>{if(o||"sleeping"===t)return(0,n.jsxs)("g",{className:"eyes",children:[(0,n.jsx)("path",{d:"M18 28 Q22 26 26 28",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M38 28 Q42 26 46 28",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"})]});let e={x:Math.min(Math.max(3*a.x,-3),3),y:Math.min(Math.max(3*a.y,-3),3)};return"happy"===t||"excited"===t||"celebrating"===t?(0,n.jsxs)("g",{className:"eyes",children:[(0,n.jsx)("ellipse",{cx:22+e.x,cy:28+e.y,rx:"5",ry:"6",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:42+e.x,cy:28+e.y,rx:"5",ry:"6",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:23+e.x,cy:26+e.y,rx:"2",ry:"2",fill:"white"}),(0,n.jsx)("ellipse",{cx:43+e.x,cy:26+e.y,rx:"2",ry:"2",fill:"white"})]}):"sad"===t?(0,n.jsxs)("g",{className:"eyes",children:[(0,n.jsx)("ellipse",{cx:22,cy:30,rx:"4",ry:"5",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:42,cy:30,rx:"4",ry:"5",fill:"currentColor"}),(0,n.jsx)("path",{d:"M17 25 Q22 28 27 25",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,n.jsx)("path",{d:"M37 25 Q42 28 47 25",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}):"thinking"===t?(0,n.jsxs)("g",{className:"eyes",children:[(0,n.jsx)("ellipse",{cx:24+e.x,cy:28,rx:"5",ry:"6",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:44+e.x,cy:28,rx:"5",ry:"6",fill:"currentColor"}),(0,n.jsx)("path",{d:"M18 24 L28 24",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,n.jsx)("path",{d:"M38 24 L48 24",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}):(0,n.jsxs)("g",{className:"eyes",children:[(0,n.jsx)("ellipse",{cx:22+e.x,cy:28+e.y,rx:"5",ry:"6",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:42+e.x,cy:28+e.y,rx:"5",ry:"6",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:23+e.x,cy:26+e.y,rx:"2",ry:"2",fill:"white"}),(0,n.jsx)("ellipse",{cx:43+e.x,cy:26+e.y,rx:"2",ry:"2",fill:"white"})]})})(),"happy"===t||"celebrating"===t?(0,n.jsx)("path",{d:"M25 40 Q32 50 39 40",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}):"excited"===t?(0,n.jsxs)("g",{children:[(0,n.jsx)("ellipse",{cx:"32",cy:"44",rx:"6",ry:"5",fill:"currentColor"}),(0,n.jsx)("ellipse",{cx:"32",cy:"42",rx:"4",ry:"3",fill:"#ff9eb5"})]}):"sad"===t?(0,n.jsx)("path",{d:"M25 46 Q32 38 39 46",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}):"thinking"===t?(0,n.jsx)("ellipse",{cx:"38",cy:"42",rx:"3",ry:"2",fill:"currentColor"}):"sleeping"===t?(0,n.jsx)("path",{d:"M28 42 Q32 44 36 42",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round"}):"waving"===t?(0,n.jsx)("path",{d:"M26 42 Q32 48 38 42",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}):(0,n.jsx)("path",{d:"M27 42 Q32 46 37 42",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),"happy"===t||"excited"===t||"celebrating"===t?(0,n.jsxs)("g",{className:"blush",opacity:"0.4",children:[(0,n.jsx)("ellipse",{cx:"14",cy:"36",rx:"5",ry:"3",fill:"#ff9eb5"}),(0,n.jsx)("ellipse",{cx:"50",cy:"36",rx:"5",ry:"3",fill:"#ff9eb5"})]}):null,"sleeping"===t?(0,n.jsxs)("g",{className:"zzz",children:[(0,n.jsx)("text",{x:"52",y:"20",fontSize:"12",fill:"currentColor",opacity:"0.6",children:"z"}),(0,n.jsx)("text",{x:"56",y:"14",fontSize:"10",fill:"currentColor",opacity:"0.4",children:"z"}),(0,n.jsx)("text",{x:"60",y:"10",fontSize:"8",fill:"currentColor",opacity:"0.3",children:"z"})]}):"celebrating"===t?(0,n.jsxs)("g",{className:"sparkles",children:[(0,n.jsx)("text",{x:"0",y:"10",fontSize:"10",children:"✨"}),(0,n.jsx)("text",{x:"50",y:"8",fontSize:"8",children:"⭐"}),(0,n.jsx)("text",{x:"55",y:"50",fontSize:"10",children:"\uD83C\uDF89"})]}):"thinking"===t?(0,n.jsxs)("g",{className:"thought-bubbles",opacity:"0.5",children:[(0,n.jsx)("circle",{cx:"55",cy:"15",r:"3",fill:"currentColor"}),(0,n.jsx)("circle",{cx:"58",cy:"10",r:"2",fill:"currentColor"}),(0,n.jsx)("circle",{cx:"60",cy:"6",r:"1.5",fill:"currentColor"})]}):null]})]})}function V(e){let{message:t,position:o}=e;return t?(0,n.jsxs)("div",{className:"\n        absolute ".concat({left:"right-full mr-3 top-1/2 -translate-y-1/2",right:"left-full ml-3 top-1/2 -translate-y-1/2",top:"bottom-full mb-3 left-1/2 -translate-x-1/2"}[o],"\n        bg-onde-cream text-onde-ocean\n        px-4 py-2 rounded-2xl\n        shadow-lg\n        min-w-[120px] max-w-[200px]\n        text-sm font-medium text-center\n        animate-in fade-in slide-in-from-bottom-2 duration-300\n        z-50\n      "),children:[t,(0,n.jsx)("div",{className:"absolute w-0 h-0 border-8 ".concat({left:"right-0 top-1/2 -translate-y-1/2 translate-x-full border-l-onde-cream border-y-transparent border-r-transparent",right:"left-0 top-1/2 -translate-y-1/2 -translate-x-full border-r-onde-cream border-y-transparent border-l-transparent",top:"bottom-0 left-1/2 -translate-x-1/2 translate-y-full border-t-onde-cream border-x-transparent border-b-transparent"}[o])})]}):null}function q(e){let{isVisible:t,onClick:o}=e;return(0,n.jsx)("button",{onClick:o,className:"\n        fixed bottom-4 left-4 z-40\n        w-12 h-12 rounded-full\n        flex items-center justify-center\n        shadow-lg\n        transition-all duration-300\n        ".concat(t?"bg-onde-coral hover:bg-onde-coral/80":"bg-onde-teal hover:bg-onde-teal/80","\n        text-white\n        hover:scale-110 active:scale-95\n      "),"aria-label":t?"Hide AI companion":"Show AI companion",title:t?"Hide Bubbles":"Show Bubbles",children:t?(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,n.jsx)("span",{className:"text-2xl",children:"\uD83E\uDEE7"})})}function K(e){let{mood:t,message:o,position:r,size:s,isDragging:i,onDragStart:l}=e,[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)({x:0,y:0}),m=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=setInterval(()=>{"sleeping"!==t&&(d(!0),setTimeout(()=>d(!1),150))},3e3+2e3*Math.random());return()=>clearInterval(e)},[t]),(0,a.useEffect)(()=>{let e=e=>{if(m.current){let t=m.current.getBoundingClientRect(),o=t.left+t.width/2,n=t.top+t.height/2;h({x:(e.clientX-o)/window.innerWidth,y:(e.clientY-n)/window.innerHeight})}};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,n.jsxs)("div",{ref:m,className:"\n        fixed z-50\n        ".concat({small:"w-14 h-14",medium:"w-20 h-20",large:"w-24 h-24"}[s],"\n        ").concat((()=>{switch(t){case"excited":return"animate-bounce";case"happy":case"sleeping":return"animate-pulse";case"celebrating":return"animate-spin-slow";case"sad":return"";case"waving":return"animate-wiggle";default:return"animate-float"}})(),"\n        ").concat(i?"cursor-grabbing scale-110":"cursor-grab","\n        transition-transform duration-200\n        select-none\n        touch-none\n      "),style:{left:r.x,top:r.y,transform:"translate(-50%, -50%)"},onMouseDown:l,onTouchStart:l,role:"img","aria-label":"AI companion Bubbles feeling ".concat(t),children:[(0,n.jsx)(G,{mood:t,isBlinking:c,lookDirection:u}),(0,n.jsx)(V,{message:o,position:r.x>window.innerWidth/2?"left":"right"})]})}function _(e){let{children:t}=e,o=(0,f.usePathname)(),{profile:r}=(0,O.sb)(),[s,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)("idle"),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)({x:100,y:500}),[x,p]=(0,a.useState)(!1),[g]=(0,a.useState)("medium"),[b,y]=(0,a.useState)(!1),v=(0,a.useRef)(null),j=(0,a.useRef)(null),w=(0,a.useRef)(Date.now());(0,a.useEffect)(()=>{let e={x:100,y:window.innerHeight-150};try{let o=localStorage.getItem(Y);if(o){var t;let n=JSON.parse(o);i(null!=(t=n.isVisible)&&t),n.position&&1?m({x:Math.min(n.position.x,window.innerWidth-50),y:Math.min(n.position.y,window.innerHeight-50)}):m(e)}else m(e)}catch(t){console.warn("Failed to load companion state:",t),m(e)}y(!0)},[]),(0,a.useEffect)(()=>{if(b)try{localStorage.setItem(Y,JSON.stringify({isVisible:s,position:h}))}catch(e){console.warn("Failed to save companion state:",e)}},[s,h,b]),(0,a.useEffect)(()=>{if(s&&b){let e=r.username||"",t=e?"Hi ".concat(e,"! \uD83D\uDC4B"):"Hi there, friend! \uD83D\uDC4B";setTimeout(()=>{k(t,"waving",3e3)},500)}},[s,b,r.username]),(0,a.useEffect)(()=>{if(!s||!b)return;let e=W[o]||W["/"],t=setInterval(()=>{Date.now()-w.current>2e4&&k(e[Math.floor(Math.random()*e.length)],"thinking",5e3)},3e4+3e4*Math.random());return()=>clearInterval(t)},[o,s,b]),(0,a.useEffect)(()=>{if(s)return j.current=setInterval(()=>{let e=Date.now()-w.current;e>12e4?c("sleeping"):e>6e4&&Math.random()>.5&&k(J[Math.floor(Math.random()*J.length)],"idle",4e3)},3e4),()=>{j.current&&clearInterval(j.current)}},[s]);let k=(0,a.useCallback)(function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;v.current&&clearTimeout(v.current),w.current=Date.now(),u(e),t&&c(t),v.current=setTimeout(()=>{u(null),c("idle")},o)},[]),N=(0,a.useCallback)(e=>{let t=X[e];k(t[Math.floor(Math.random()*t.length)],{win:"celebrating",lose:"sad",achievement:"excited",levelUp:"excited",hint:"thinking",welcome:"waving"}[e],"win"===e?5e3:4e3)},[k]),C=(0,a.useCallback)(()=>{i(e=>!e)},[]),S=(0,a.useCallback)(e=>{e.preventDefault(),p(!0),w.current=Date.now(),"sleeping"===l&&(c("idle"),k("Hmm? I'm awake! \uD83D\uDE0A","happy",2e3));let t=e=>{let t="touches"in e?e.touches[0].clientX:e.clientX,o="touches"in e?e.touches[0].clientY:e.clientY;m({x:Math.max(50,Math.min(window.innerWidth-50,t)),y:Math.max(50,Math.min(window.innerHeight-50,o))})},o=()=>{p(!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",o),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",o)};window.addEventListener("mousemove",t),window.addEventListener("mouseup",o),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",o)},[l,k]),E={isVisible:s,toggleCompanion:C,showMessage:k,triggerReaction:N,setMood:c};return b?(0,n.jsxs)(T.Provider,{value:E,children:[t,(0,n.jsx)(q,{isVisible:s,onClick:C}),s&&(0,n.jsx)(K,{mood:l,message:d,position:h,size:g,isDragging:x,onDragStart:S})]}):(0,n.jsx)(T.Provider,{value:E,children:t})}var Q=o(13067),U=o(45158);function Z(){let{allChests:e,isChestFound:t,findChest:o,mounted:n}=(0,U.qM)(),[r,s]=(0,a.useState)([]),i=e.filter(e=>"sequence"===e.triggerType&&"/"===e.location&&!t(e.id));return(0,a.useEffect)(()=>{if(!n||0===i.length)return;let e=e=>{let t=e.key.toLowerCase(),n={arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",enter:"enter"," ":"space"}[t]||t;s(e=>{let t=[...e,n].slice(-10);for(let e of i){var a;let n=(null==(a=e.triggerData)?void 0:a.sequence)||[],r=t.slice(-n.length);if(r.length===n.length&&r.every((e,t)=>e===n[t]))return o(e.id),[]}return t})};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,i,o]),null}var $=o(52478);function ee(){let e=(0,r.c3)();return(0,n.jsx)("footer",{className:"relative z-10 mt-24 border-t border-onde-ocean/10",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-3 mb-4",children:(0,n.jsx)("span",{className:"text-xl font-display font-bold text-onde-ocean",children:"Onde"})}),(0,n.jsx)("p",{className:"text-onde-ocean/60 max-w-sm leading-relaxed",children:e.footer.description})]}),(0,n.jsxs)("nav",{"aria-label":"Footer navigation",children:[(0,n.jsx)("h2",{className:"font-display font-semibold text-onde-ocean mb-4 text-base",children:e.footer.explore}),(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(i(),{href:"/libri",className:"text-onde-ocean/60 hover:text-onde-coral transition-colors",children:e.navigation.books})}),(0,n.jsx)("li",{children:(0,n.jsx)(i(),{href:"/about",className:"text-onde-ocean/60 hover:text-onde-coral transition-colors",children:e.navigation.about})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"font-display font-semibold text-onde-ocean mb-4 text-base",children:e.footer.followUs}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("a",{href:"https://twitter.com/Onde_FRH",target:"_blank",rel:"noopener noreferrer","aria-label":"Follow us on X (Twitter)",className:"w-10 h-10 rounded-full bg-onde-ocean/5 flex items-center justify-center text-onde-ocean/60 hover:bg-onde-coral hover:text-white transition-all",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,n.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,n.jsx)("a",{href:"https://youtube.com/@Onde",target:"_blank",rel:"noopener noreferrer","aria-label":"Subscribe on YouTube",className:"w-10 h-10 rounded-full bg-onde-ocean/5 flex items-center justify-center text-onde-ocean/60 hover:bg-onde-coral hover:text-white transition-all",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,n.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]})]}),(0,n.jsxs)("div",{className:"mt-12 pt-8 border-t border-onde-ocean/10 flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,n.jsx)("p",{className:"text-sm text-onde-ocean/40",children:e.footer.copyright}),(0,n.jsxs)("div",{className:"flex gap-6 text-sm text-onde-ocean/40",children:[(0,n.jsx)(i(),{href:"/privacy",className:"hover:text-onde-ocean transition-colors",children:e.footer.privacy}),(0,n.jsx)(i(),{href:"/terms",className:"hover:text-onde-ocean transition-colors",children:e.footer.terms})]})]})]})})}function et(){var e;let t=(0,r.c3)();return(0,n.jsx)("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-onde-ocean focus:text-white focus:rounded-lg focus:font-medium focus:shadow-lg focus:ring-2 focus:ring-onde-gold focus:ring-offset-2 transition-all",children:(null==(e=t.accessibility)?void 0:e.skipToContent)||"Skip to main content"})}function eo(e){let{children:t}=e;return!function(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{var e,o;(null==(o=window.Capacitor)||null==(e=o.isNativePlatform)?void 0:e.call(o))&&t(!0)},[]),e}()?(0,n.jsx)(h,{children:(0,n.jsx)($.bp,{children:(0,n.jsxs)(_,{children:[(0,n.jsx)(et,{}),(0,n.jsx)(P,{}),(0,n.jsx)(F,{}),(0,n.jsx)("main",{id:"main-content",className:"relative z-10 pt-20",tabIndex:-1,children:(0,n.jsx)(R,{children:t})}),(0,n.jsx)(ee,{}),(0,n.jsx)(I,{}),(0,n.jsx)(Q.bE,{}),(0,n.jsx)(Z,{}),(0,n.jsx)(B,{})]})})}):(0,n.jsx)(h,{children:(0,n.jsx)($.bp,{children:(0,n.jsx)("main",{id:"main-content",className:"relative z-10",tabIndex:-1,children:(0,n.jsx)(R,{children:t})})})})}},74411:(e,t,o)=>{"use strict";function n(e){return{pages:e.pages||32,time:e.readingTime||"~10 min"}}o.d(t,{FP:()=>r,b7:()=>a,eg:()=>n});let a=[{id:"meditations-en",title:"Meditations",author:"Marcus Aurelius",category:"filosofia-adulti",lang:"en",source:"onde-studio",pages:120,readingTime:"~2 hours",coverImage:"/images/books/meditations-cover.jpg",epubUrl:"/books/epub/meditations-en.epub"},{id:"meditations-it",title:"Meditazioni",author:"Marco Aurelio",category:"filosofia-adulti",lang:"it",source:"onde-studio",pages:120,readingTime:"~2 ore",coverImage:"/images/books/meditations-cover.jpg",epubUrl:"/books/epub/meditations-it.epub"},{id:"shepherds-promise",title:"The Shepherd's Promise",author:"Onde",category:"spiritualita",lang:"en",source:"onde-studio",pages:32,readingTime:"~10 min",coverImage:"/books/shepherds-promise-cover.jpg",epubUrl:"/books/epub/the-shepherds-promise.epub"}],r=a.length},79355:(e,t,o)=>{"use strict";o.d(t,{c3:()=>n.c3});var n=o(18701);o(40637),o(19664),o(27541)},86549:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,8761,23)),Promise.resolve().then(o.bind(o,53555)),Promise.resolve().then(o.bind(o,18701)),Promise.resolve().then(o.t.bind(o,45165,23))}},e=>{e.O(0,[65,9950,9664,5206,1542,8701,2478,3067,1262,587,18,7358],()=>e(e.s=86549)),_N_E=e.O()}]);