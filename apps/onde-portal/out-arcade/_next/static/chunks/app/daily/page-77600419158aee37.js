(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2284],{59850:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(54568),s=a(7620),l=a(19664),i=a.n(l),n=a(85206),o=a(91085);let d="onde-daily-challenges",c=[{type:"reading",title:"Bookworm Sprint",description:"Read 10 pages of any book",icon:"\uD83D\uDCD6",target:10,unit:"pages",xpReward:50},{type:"reading",title:"Deep Reader",description:"Read for 15 minutes",icon:"\uD83D\uDCDA",target:15,unit:"minutes",xpReward:60},{type:"reading",title:"Library Explorer",description:"Browse 5 different books",icon:"\uD83D\uDD0D",target:5,unit:"books",xpReward:40},{type:"reading",title:"Story Time",description:"Start a new book",icon:"✨",target:1,unit:"book",xpReward:75,badgeReward:"\uD83D\uDCD8"},{type:"reading",title:"Page Turner",description:"Read 20 pages",icon:"\uD83D\uDCC4",target:20,unit:"pages",xpReward:80},{type:"games",title:"Game On!",description:"Play 2 different games",icon:"\uD83C\uDFAE",target:2,unit:"games",xpReward:50},{type:"games",title:"Arcade Master",description:"Play 3 games",icon:"\uD83D\uDC7E",target:3,unit:"games",xpReward:70},{type:"games",title:"Pet Caretaker",description:"Visit Moonlight House",icon:"\uD83D\uDC31",target:1,unit:"visit",xpReward:40},{type:"games",title:"Creative Chef",description:"Play Kids Chef Studio",icon:"\uD83D\uDC68‍\uD83C\uDF73",target:1,unit:"session",xpReward:45},{type:"games",title:"Fortune Seeker",description:"Open 3 fortune cookies",icon:"\uD83E\uDD60",target:3,unit:"cookies",xpReward:35},{type:"explore",title:"Curious Explorer",description:"Visit 3 different sections",icon:"\uD83D\uDDFA️",target:3,unit:"sections",xpReward:45},{type:"explore",title:"Island Hopper",description:"Visit Gaming Island",icon:"\uD83C\uDFDD️",target:1,unit:"visit",xpReward:30},{type:"explore",title:"VR Pioneer",description:"Try a VR experience",icon:"\uD83E\uDD7D",target:1,unit:"experience",xpReward:60,badgeReward:"\uD83C\uDF1F"},{type:"explore",title:"Library Card",description:"Browse the book catalog",icon:"\uD83D\uDCCB",target:1,unit:"visit",xpReward:25},{type:"social",title:"Sharing is Caring",description:"Share a book with someone",icon:"\uD83D\uDC9D",target:1,unit:"share",xpReward:55,badgeReward:"\uD83E\uDD1D"},{type:"social",title:"Favorite Finder",description:"Add 2 books to favorites",icon:"❤️",target:2,unit:"favorites",xpReward:40},{type:"creative",title:"Skin Designer",description:"Create a Minecraft skin",icon:"\uD83C\uDFA8",target:1,unit:"skin",xpReward:65,badgeReward:"\uD83D\uDD8C️"},{type:"creative",title:"Profile Perfectionist",description:"Customize your profile",icon:"\uD83C\uDFAD",target:1,unit:"update",xpReward:35}],x={3:{emoji:"\uD83D\uDD25",name:"3-Day Streak"},7:{emoji:"⚡",name:"Week Warrior"},14:{emoji:"\uD83D\uDCAB",name:"Two Week Champion"},30:{emoji:"\uD83C\uDFC6",name:"Monthly Master"},50:{emoji:"\uD83D\uDC51",name:"Streak Royalty"},100:{emoji:"\uD83C\uDF1F",name:"Century Legend"}},m=[{level:1,xp:0,title:"Newcomer"},{level:2,xp:100,title:"Apprentice"},{level:3,xp:300,title:"Explorer"},{level:4,xp:600,title:"Adventurer"},{level:5,xp:1e3,title:"Champion"},{level:6,xp:1500,title:"Hero"},{level:7,xp:2500,title:"Legend"},{level:8,xp:4e3,title:"Master"},{level:9,xp:6e3,title:"Grand Master"},{level:10,xp:1e4,title:"Ultimate Reader"}],p={currentStreak:0,longestStreak:0,totalXP:0,totalCompleted:0,badges:[],history:[]};function h(e){let t=e.split("-").reduce((e,t)=>e+parseInt(t,10),0)*parseInt(e.replace(/-/g,""),10),a=(e=>{let a=1e4*Math.sin(t);return Math.floor((a-Math.floor(a))*e)})(c.length);return{...c[a],id:"challenge-".concat(e),date:e}}function u(e){let t=new Date;return t.setDate(t.getDate()-1),t.toISOString().split("T")[0]===e}function g(){let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"];t(Array.from({length:50},(t,a)=>({id:a,x:100*Math.random(),color:e[a%e.length],delay:.5*Math.random()})))},[]),(0,r.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-50",children:e.map(e=>(0,r.jsx)(n.P.div,{className:"absolute w-3 h-3 rounded-full",style:{left:"".concat(e.x,"%"),backgroundColor:e.color},initial:{y:-20,opacity:1,rotate:0},animate:{y:"100vh",opacity:0,rotate:720},transition:{duration:2.5,delay:e.delay,ease:"easeIn"}},e.id))})}function b(e){let{progress:t,size:a=120,strokeWidth:s=8}=e,l=(a-s)/2,i=2*l*Math.PI,o=i-t/100*i;return(0,r.jsxs)("svg",{width:a,height:a,className:"transform -rotate-90",children:[(0,r.jsx)("circle",{cx:a/2,cy:a/2,r:l,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:s}),(0,r.jsx)(n.P.circle,{cx:a/2,cy:a/2,r:l,fill:"none",stroke:"url(#progressGradient)",strokeWidth:s,strokeLinecap:"round",strokeDasharray:i,initial:{strokeDashoffset:i},animate:{strokeDashoffset:o},transition:{duration:1,ease:"easeOut"}}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#5EEAD4"}),(0,r.jsx)("stop",{offset:"50%",stopColor:"#67E8F9"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#FDE68A"})]})})]})}function f(e){let{streak:t}=e;if(0===t)return null;let a=Math.min(2*t+16,40);return(0,r.jsx)(n.P.div,{className:"relative",animate:{scale:[1,1.1,1],rotate:[-2,2,-2]},transition:{duration:.5,repeat:1/0},children:(0,r.jsx)("span",{style:{fontSize:a},className:"filter drop-shadow-[0_0_10px_rgba(255,165,0,0.8)]",children:"\uD83D\uDD25"})})}function j(){let{state:e,mounted:t,todayChallenge:a,todayProgress:l,updateProgress:c,setProgress:j,claimReward:w,getLevel:y,getHistory:v,getLeaderboard:N,shareCompletion:k}=function(){let[e,t]=(0,s.useState)(p),[a,r]=(0,s.useState)(!1),l=new Date().toISOString().split("T")[0],i=(0,s.useMemo)(()=>h(l),[l]),n=(0,s.useMemo)(()=>e.history.find(e=>e.date===l)||{challengeId:i.id,date:l,progress:0,completed:!1,claimed:!1},[e.history,l,i.id]);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(d);if(e){let a=JSON.parse(e),r=a.currentStreak;a.lastCompletedDate&&!u(a.lastCompletedDate)&&a.lastCompletedDate!==l&&(r=0),t({...a,currentStreak:r})}}catch(e){console.error("Error loading daily challenge state:",e)}r(!0)},[l]),(0,s.useEffect)(()=>{if(a)try{localStorage.setItem(d,JSON.stringify(e))}catch(e){console.error("Error saving daily challenge state:",e)}},[e,a]);let o=(0,s.useCallback)(e=>{t(t=>{let a=t.history.findIndex(e=>e.date===l),r=a>=0?t.history[a]:null,s=Math.min(((null==r?void 0:r.progress)||0)+e,i.target),n=s>=i.target,o={challengeId:i.id,date:l,progress:s,completed:n,completedAt:!n||(null==r?void 0:r.completed)?null==r?void 0:r.completedAt:new Date().toISOString(),claimed:(null==r?void 0:r.claimed)||!1},d=r?t.history.map((e,t)=>t===a?o:e):[...t.history,o];return{...t,history:d}})},[l,i.id,i.target]),c=(0,s.useCallback)(e=>{t(t=>{let a=t.history.findIndex(e=>e.date===l),r=a>=0?t.history[a]:null,s=Math.min(e,i.target),n=s>=i.target,o={challengeId:i.id,date:l,progress:s,completed:n,completedAt:!n||(null==r?void 0:r.completed)?null==r?void 0:r.completedAt:new Date().toISOString(),claimed:(null==r?void 0:r.claimed)||!1},d=r?t.history.map((e,t)=>t===a?o:e):[...t.history,o];return{...t,history:d}})},[l,i.id,i.target]),g=(0,s.useCallback)(()=>{if(!n.completed||n.claimed)return null;let e={xp:i.xpReward,badge:i.badgeReward,streakBadge:null};return t(t=>{let a=t.history.findIndex(e=>e.date===l);if(a<0)return t;let r=t.history.map((e,t)=>t===a?{...e,claimed:!0}:e),s=t.lastCompletedDate&&(u(t.lastCompletedDate)||t.lastCompletedDate===l)?t.currentStreak+1:1,n=Math.max(s,t.longestStreak),o=x[s];o&&!t.badges.includes(o.emoji)&&(e.streakBadge=o.emoji);let d=[...t.badges];return i.badgeReward&&!d.includes(i.badgeReward)&&d.push(i.badgeReward),e.streakBadge&&!d.includes(e.streakBadge)&&d.push(e.streakBadge),{...t,currentStreak:s,longestStreak:n,totalXP:t.totalXP+i.xpReward,totalCompleted:t.totalCompleted+1,badges:d,history:r,lastCompletedDate:l}}),e},[l,n,i]),b=(0,s.useCallback)(()=>{let t=m.slice().reverse().find(t=>e.totalXP>=t.xp)||m[0],a=m.find(t=>t.xp>e.totalXP),r=a?a.xp-e.totalXP:0,s=a?e.totalXP-t.xp:e.totalXP,l=a?a.xp-t.xp:1;return{...t,nextLevel:a,xpToNext:r,xpInLevel:s,xpForLevel:l,progress:Math.min(s/l*100,100)}},[e.totalXP]),f=(0,s.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,a=[];for(let r=0;r<t;r++){let t=new Date;t.setDate(t.getDate()-r);let s=t.toISOString().split("T")[0],l=h(s),i=e.history.find(e=>e.date===s)||null;a.push({date:s,challenge:l,progress:i})}return a},[e.history]),j=(0,s.useCallback)(()=>{let t=[{username:"StarReader",avatar:"⭐",streak:15,totalXP:2500},{username:"BookDragon",avatar:"\uD83D\uDC09",streak:12,totalXP:1800},{username:"PageTurner",avatar:"\uD83D\uDCD6",streak:10,totalXP:1500},{username:"StorySeeker",avatar:"\uD83D\uDD2E",streak:8,totalXP:1200},{username:"AdventureKid",avatar:"\uD83D\uDE80",streak:7,totalXP:1e3}];if(e.totalCompleted>0){let a=localStorage.getItem("onde-user-profile"),r=a?JSON.parse(a):{username:"You",avatar:"\uD83E\uDD8A"};t.push({username:r.username||"You",avatar:r.avatar||"\uD83E\uDD8A",streak:e.currentStreak,totalXP:e.totalXP})}return t.sort((e,t)=>t.totalXP-e.totalXP).map((e,t)=>({...e,rank:t+1}))},[e.currentStreak,e.totalXP,e.totalCompleted]),w=(0,s.useCallback)(()=>{if(!n.completed)return null;let t=e.currentStreak>1?"\uD83D\uDD25 ".concat(e.currentStreak," day streak!"):"";return"I completed today's Onde challenge: ".concat(i.title," ").concat(i.icon,"\n").concat(t,"\nEarned ").concat(i.xpReward," XP! ✨\n\n#OndeChallenge #DailyReading")},[n.completed,i,e.currentStreak]),y=(0,s.useCallback)(async()=>{let e=w();if(!e)return!1;if(navigator.share)try{return await navigator.share({title:"Onde Daily Challenge",text:e,url:window.location.origin+"/daily"}),!0}catch(e){}try{return await navigator.clipboard.writeText(e),!0}catch(e){return!1}},[w]);return{state:e,mounted:a,todayChallenge:i,todayProgress:n,updateProgress:o,setProgress:c,claimReward:g,getLevel:b,getHistory:f,getLeaderboard:j,generateShareText:w,shareCompletion:y,resetState:(0,s.useCallback)(()=>{t(p),localStorage.removeItem(d)},[])}}(),[C,D]=(0,s.useState)(!1),[S,P]=(0,s.useState)(null),[R,E]=(0,s.useState)("challenge"),[I,M]=(0,s.useState)(null),X=y(),B=v(7),F=N(),O=l.progress/a.target*100,T=async()=>{M(await k()?"Copied to clipboard!":"Could not share"),setTimeout(()=>M(null),2e3)};return t?(0,r.jsxs)("div",{className:"min-h-screen pb-24",children:[C&&(0,r.jsx)(g,{}),(0,r.jsx)("div",{className:"sticky top-0 z-40 backdrop-blur-xl bg-[var(--onde-dark)]/80 border-b border-white/10",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)(i(),{href:"/",className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[(0,r.jsx)("span",{children:"←"}),(0,r.jsx)("span",{className:"font-medium",children:"Home"})]}),(0,r.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-teal-300 via-cyan-300 to-amber-300 bg-clip-text text-transparent",children:"Daily Challenge"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{streak:e.currentStreak}),(0,r.jsx)("span",{className:"text-white font-bold",children:e.currentStreak})]})]})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 pt-6",children:(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-4 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-2xl",children:"⭐"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-white font-bold",children:["Level ",X.level]}),(0,r.jsx)("p",{className:"text-white/60 text-sm",children:X.title})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-amber-300 font-bold",children:[e.totalXP," XP"]}),X.nextLevel&&(0,r.jsxs)("p",{className:"text-white/50 text-sm",children:[X.xpToNext," XP to next level"]})]})]}),(0,r.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,r.jsx)(n.P.div,{className:"h-full bg-gradient-to-r from-amber-400 via-amber-300 to-yellow-300",initial:{width:0},animate:{width:"".concat(X.progress,"%")},transition:{duration:1,ease:"easeOut"}})})]})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 pt-6",children:(0,r.jsx)("div",{className:"flex gap-2 bg-white/5 p-1 rounded-xl",children:["challenge","history","leaderboard"].map(e=>(0,r.jsxs)("button",{onClick:()=>E(e),className:"flex-1 py-2 px-4 rounded-lg font-medium transition-all ".concat(R===e?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg":"text-white/60 hover:text-white hover:bg-white/5"),children:["challenge"===e&&"\uD83C\uDFAF Today","history"===e&&"\uD83D\uDCC5 History","leaderboard"===e&&"\uD83C\uDFC6 Leaders"]},e))})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 pt-6",children:(0,r.jsxs)(o.N,{mode:"wait",children:["challenge"===R&&(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,r.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-sm rounded-3xl border border-white/20 p-6",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-500/20 to-transparent rounded-full blur-2xl"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-amber-500/20 to-transparent rounded-full blur-2xl"}),(0,r.jsx)("div",{className:"inline-flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full text-sm mb-4",children:(0,r.jsx)("span",{className:"capitalize text-white/80",children:a.type})}),(0,r.jsxs)("div",{className:"flex items-start gap-6",children:[(0,r.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,r.jsx)(b,{progress:O,size:120}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-4xl",children:a.icon})})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:a.title}),(0,r.jsx)("p",{className:"text-white/70 mb-4",children:a.description}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("span",{className:"text-3xl font-bold text-teal-300",children:l.progress}),(0,r.jsx)("span",{className:"text-white/50",children:"/"}),(0,r.jsxs)("span",{className:"text-xl text-white/70",children:[a.target," ",a.unit]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-amber-500/20 px-3 py-1 rounded-full",children:[(0,r.jsx)("span",{children:"✨"}),(0,r.jsxs)("span",{className:"text-amber-300 font-bold",children:[a.xpReward," XP"]})]}),a.badgeReward&&(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-purple-500/20 px-3 py-1 rounded-full",children:[(0,r.jsx)("span",{className:"text-lg",children:a.badgeReward}),(0,r.jsx)("span",{className:"text-purple-300 text-sm",children:"Badge"})]})]})]})]}),(0,r.jsx)("div",{className:"mt-6 flex flex-wrap gap-3",children:l.completed&&!l.claimed?(0,r.jsx)(n.P.button,{onClick:()=>{let e=w();e&&(P(e),D(!0),setTimeout(()=>D(!1),3e3))},className:"flex-1 py-3 px-6 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl shadow-lg shadow-amber-500/30 hover:shadow-amber-500/50 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83C\uDF81 Claim Reward!"}):l.claimed?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex-1 py-3 px-6 bg-green-500/20 text-green-300 font-bold rounded-xl text-center border border-green-500/30",children:"✅ Completed!"}),(0,r.jsx)(n.P.button,{onClick:T,className:"py-3 px-6 bg-white/10 text-white font-medium rounded-xl hover:bg-white/20 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83D\uDCE4 Share"})]}):(0,r.jsx)(n.P.button,{onClick:()=>{c(1)},className:"flex-1 py-3 px-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold rounded-xl shadow-lg shadow-teal-500/30 hover:shadow-teal-500/50 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"➕ Add Progress"})}),(0,r.jsx)(o.N,{children:I&&(0,r.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 text-center text-green-300",children:I})})]}),(0,r.jsx)(o.N,{children:S&&(0,r.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>P(null),children:(0,r.jsxs)(n.P.div,{initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},className:"bg-gradient-to-br from-[var(--onde-dark-surface)] to-[var(--onde-dark)] rounded-3xl p-8 max-w-sm w-full text-center border border-white/20",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Reward Claimed!"}),(0,r.jsxs)("div",{className:"space-y-3 my-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-amber-300 text-xl",children:[(0,r.jsx)("span",{children:"✨"}),(0,r.jsxs)("span",{className:"font-bold",children:["+",S.xp," XP"]})]}),S.badge&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[(0,r.jsx)("span",{className:"text-2xl",children:S.badge}),(0,r.jsx)("span",{children:"New Badge!"})]}),S.streakBadge&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-orange-300",children:[(0,r.jsx)("span",{className:"text-2xl",children:S.streakBadge}),(0,r.jsx)("span",{children:"Streak Badge!"})]})]}),(0,r.jsx)("button",{onClick:()=>P(null),className:"w-full py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold rounded-xl",children:"Awesome!"})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-300",children:e.currentStreak}),(0,r.jsx)("p",{className:"text-white/60 text-sm",children:"Current Streak"})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-purple-300",children:e.longestStreak}),(0,r.jsx)("p",{className:"text-white/60 text-sm",children:"Best Streak"})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-teal-300",children:e.totalCompleted}),(0,r.jsx)("p",{className:"text-white/60 text-sm",children:"Completed"})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-cyan-300",children:e.badges.length}),(0,r.jsx)("p",{className:"text-white/60 text-sm",children:"Badges"})]})]}),e.badges.length>0&&(0,r.jsxs)("div",{className:"mt-6 bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[(0,r.jsx)("h3",{className:"text-white font-bold mb-3",children:"\uD83C\uDFC5 Your Badges"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:e.badges.map((e,t)=>(0,r.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1*t},className:"text-3xl p-2 bg-white/10 rounded-lg",children:e},e))})]})]},"challenge"),"history"===R&&(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-3",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-white mb-4",children:"\uD83D\uDCC5 Last 7 Days"}),B.map((e,t)=>{let{date:a,challenge:s,progress:l}=e,i=a===new Date().toISOString().split("T")[0],o=(null==l?void 0:l.completed)||!1,d=(null==l?void 0:l.claimed)||!1;return(0,r.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-center gap-4 p-4 rounded-xl border transition-all ".concat(i?"bg-gradient-to-r from-teal-500/20 to-cyan-500/20 border-teal-500/30":o?"bg-green-500/10 border-green-500/20":"bg-white/5 border-white/10"),children:[(0,r.jsx)("div",{className:"text-2xl",children:d?"✅":o?"\uD83C\uDF81":i?"\uD83C\uDFAF":"⭕"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:s.icon}),(0,r.jsx)("span",{className:"text-white font-medium",children:s.title}),i&&(0,r.jsx)("span",{className:"text-xs bg-teal-500/30 text-teal-300 px-2 py-0.5 rounded-full",children:"Today"})]}),(0,r.jsx)("p",{className:"text-white/50 text-sm",children:new Date(a).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-bold ".concat(o?"text-green-300":"text-white/60"),children:[l?l.progress:0,"/",s.target]}),d&&(0,r.jsxs)("p",{className:"text-amber-300 text-sm",children:["+",s.xpReward," XP"]})]})]},a)})]},"history"),"leaderboard"===R&&(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-white mb-4",children:"\uD83C\uDFC6 Top Readers"}),(0,r.jsx)("div",{className:"space-y-3",children:F.map((e,a)=>{let s=t?localStorage.getItem("onde-user-profile"):null,l=s?JSON.parse(s):null,i=l&&e.username===l.username||"You"===e.username;return(0,r.jsxs)(n.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.05*a},className:"flex items-center gap-4 p-4 rounded-xl border transition-all ".concat(i?"bg-gradient-to-r from-amber-500/20 to-orange-500/20 border-amber-500/30":e.rank<=3?"bg-white/10 border-white/20":"bg-white/5 border-white/10"),children:[(0,r.jsxs)("div",{className:"w-10 text-center",children:[1===e.rank&&(0,r.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD47"}),2===e.rank&&(0,r.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD48"}),3===e.rank&&(0,r.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD49"}),e.rank>3&&(0,r.jsxs)("span",{className:"text-white/60 font-bold",children:["#",e.rank]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,r.jsx)("span",{className:"text-2xl",children:e.avatar}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium ".concat(i?"text-amber-300":"text-white"),children:[e.username,i&&(0,r.jsx)("span",{className:"text-sm ml-1",children:"(You)"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-orange-300 text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDD25"}),(0,r.jsxs)("span",{children:[e.streak," day streak"]})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-amber-300 font-bold",children:e.totalXP.toLocaleString()}),(0,r.jsx)("p",{className:"text-white/50 text-sm",children:"XP"})]})]},e.username)})}),0===e.totalCompleted&&(0,r.jsxs)("div",{className:"mt-6 text-center py-8 bg-white/5 rounded-xl border border-white/10",children:[(0,r.jsx)("p",{className:"text-4xl mb-3",children:"\uD83D\uDE80"}),(0,r.jsx)("p",{className:"text-white/70",children:"Complete your first challenge to join the leaderboard!"})]})]},"leaderboard")]})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 mt-8",children:(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[(0,r.jsx)("h3",{className:"text-white font-bold mb-3",children:"\uD83C\uDFC6 Streak Milestones"}),(0,r.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:Object.entries(x).map(t=>{let[a,s]=t,l=e.longestStreak>=parseInt(a);return(0,r.jsxs)("div",{className:"text-center p-2 rounded-lg transition-all ".concat(l?"bg-amber-500/20":"bg-white/5 opacity-50"),children:[(0,r.jsx)("div",{className:"text-2xl ".concat(l?"":"grayscale"),children:s.emoji}),(0,r.jsxs)("p",{className:"text-white/80 text-xs mt-1",children:[a," days"]})]},a)})})]})})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin text-4xl",children:"\uD83C\uDF1F"})})}},87360:(e,t,a)=>{Promise.resolve().then(a.bind(a,59850))},91085:(e,t,a)=>{"use strict";a.d(t,{N:()=>b});var r=a(54568),s=a(7620),l=a(97966),i=a(33546),n=a(39536),o=a(37929);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:a}=e,l=(0,s.useId)(),i=(0,s.useRef)(null),n=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,s.useContext)(o.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:s}=n.current;if(a||!i.current||!e||!t)return;i.current.dataset.motionPopId=l;let o=document.createElement("style");return c&&(o.nonce=c),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[a]),(0,r.jsx)(d,{isPresent:a,childRef:i,sizeRef:n,children:s.cloneElement(t,{ref:i})})}let x=e=>{let{children:t,initial:a,isPresent:l,onExitComplete:o,custom:d,presenceAffectsLayout:x,mode:p}=e,h=(0,i.M)(m),u=(0,s.useId)(),g=(0,s.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;o&&o()},[h,o]),b=(0,s.useMemo)(()=>({id:u,initial:a,isPresent:l,custom:d,onExitComplete:g,register:e=>(h.set(e,!1),()=>h.delete(e))}),x?[Math.random(),g]:[l,g]);return(0,s.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[l]),s.useEffect(()=>{l||h.size||!o||o()},[l]),"popLayout"===p&&(t=(0,r.jsx)(c,{isPresent:l,children:t})),(0,r.jsx)(n.t.Provider,{value:b,children:t})};function m(){return new Map}var p=a(98647);let h=e=>e.key||"";function u(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var g=a(76451);let b=e=>{let{children:t,custom:a,initial:n=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:c="sync",propagate:m=!1}=e,[b,f]=(0,p.xQ)(m),j=(0,s.useMemo)(()=>u(t),[t]),w=m&&!b?[]:j.map(h),y=(0,s.useRef)(!0),v=(0,s.useRef)(j),N=(0,i.M)(()=>new Map),[k,C]=(0,s.useState)(j),[D,S]=(0,s.useState)(j);(0,g.E)(()=>{y.current=!1,v.current=j;for(let e=0;e<D.length;e++){let t=h(D[e]);w.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[D,w.length,w.join("-")]);let P=[];if(j!==k){let e=[...j];for(let t=0;t<D.length;t++){let a=D[t],r=h(a);w.includes(r)||(e.splice(t,0,a),P.push(a))}"wait"===c&&P.length&&(e=P),S(u(e)),C(j);return}let{forceRender:R}=(0,s.useContext)(l.L);return(0,r.jsx)(r.Fragment,{children:D.map(e=>{let t=h(e),s=(!m||!!b)&&(j===D||w.includes(t));return(0,r.jsx)(x,{isPresent:s,initial:(!y.current||!!n)&&void 0,custom:s?void 0:a,presenceAffectsLayout:d,mode:c,onExitComplete:s?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),S(v.current),m&&(null==f||f()),o&&o())},children:e},t)})})}}},e=>{e.O(0,[9664,5206,587,18,7358],()=>e(e.s=87360)),_N_E=e.O()}]);