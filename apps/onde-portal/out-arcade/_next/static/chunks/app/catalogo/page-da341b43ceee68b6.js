(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5411],{9405:(e,t,s)=>{Promise.resolve().then(s.bind(s,64894))},27541:(e,t,s)=>{"use strict";var o=s(43041);s.o(o,"useParams")&&s.d(t,{useParams:function(){return o.useParams}}),s.o(o,"usePathname")&&s.d(t,{usePathname:function(){return o.usePathname}}),s.o(o,"useRouter")&&s.d(t,{useRouter:function(){return o.useRouter}}),s.o(o,"useSearchParams")&&s.d(t,{useSearchParams:function(){return o.useSearchParams}})},64894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var o=s(54568),a=s(19664),r=s.n(a),l=s(7620),n=s(27541),i=s(74411),d=s(79355);let c=i.b7.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{}),u=Object.keys(c).sort(),g=Object.entries(c).sort((e,t)=>t[1]-e[1]).slice(0,8).map(e=>{let[t]=e;return t});function h(){return(0,o.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12 animate-pulse",children:[(0,o.jsx)("div",{className:"h-20 bg-stone-200 dark:bg-stone-700 rounded-2xl mb-8"}),(0,o.jsx)("div",{className:"h-10 w-48 bg-stone-200 dark:bg-stone-700 rounded mb-4"}),(0,o.jsx)("div",{className:"h-6 w-32 bg-stone-200 dark:bg-stone-700 rounded mb-8"}),(0,o.jsx)("div",{className:"h-12 bg-stone-200 dark:bg-stone-700 rounded-lg mb-6"}),(0,o.jsx)("div",{className:"flex gap-2 mb-4",children:[1,2,3,4,5].map(e=>(0,o.jsx)("div",{className:"h-8 w-20 bg-stone-200 dark:bg-stone-700 rounded-full"},e))}),(0,o.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:[1,2,3,4,5,6,7,8].map(e=>(0,o.jsx)("div",{className:"aspect-[3/4] bg-stone-200 dark:bg-stone-700 rounded-lg"},e))})]})}function m(){var e,t,s,a;let h=(0,d.c3)(),m=(0,n.useRouter)(),x=(0,n.usePathname)(),p=(0,n.useSearchParams)(),[b,j]=(0,l.useState)(p.get("q")||""),[v,f]=(0,l.useState)(p.get("category")),[k,N]=(0,l.useState)(p.get("lang")),[y,w]=(0,l.useState)(p.get("sort")||"title"),C=e=>{let t=new URLSearchParams(p.toString());Object.entries(e).forEach(e=>{let[s,o]=e;o?t.set(s,o):t.delete(s)});let s=t.toString()?"".concat(x,"?").concat(t.toString()):x;m.replace(s,{scroll:!1})};(0,l.useEffect)(()=>{if(!p.get("sort")){let e=localStorage.getItem("catalog-sort");e&&["title","author","shortest","longest"].includes(e)&&w(e)}},[p]);let S=e=>{f(e),C({category:e})},P=(0,l.useMemo)(()=>{let e=i.b7.filter(e=>{if(b){let t=b.toLowerCase(),s=e.title.toLowerCase().includes(t),o=e.author.toLowerCase().includes(t);if(!s&&!o)return!1}return(!v||e.category===v)&&(!k||(e.lang||"en")===k)&&!0});return e.sort((e,t)=>{switch(y){case"title":return e.title.localeCompare(t.title);case"author":return e.author.localeCompare(t.author);case"shortest":return(0,i.eg)(e).pages-(0,i.eg)(t).pages;case"longest":return(0,i.eg)(t).pages-(0,i.eg)(e).pages;default:return 0}}),e},[b,v,k,y]),L=()=>{j(""),f(null),N(null),m.replace(x,{scroll:!1})},M=b||v||k;return(0,o.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,o.jsx)("div",{className:"mb-8 p-4 rounded-2xl bg-gradient-to-r from-emerald-500/20 to-teal-500/20 border border-emerald-500/30",children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("span",{className:"text-3xl",children:"\uD83D\uDE80"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-bold text-emerald-400",children:h.catalog.launchBanner.title}),(0,o.jsx)("p",{className:"text-sm opacity-70",children:h.catalog.launchBanner.subtitle})]})]})}),(0,o.jsx)("h1",{className:"text-4xl font-bold mb-4",children:h.catalog.title}),(0,o.jsxs)("p",{className:"opacity-70 mb-8",children:[i.FP," ",h.catalog.subtitle]}),(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)("input",{type:"text",placeholder:h.catalog.search.placeholder,value:b,onChange:e=>{var t;j(t=e.target.value),C({q:t||null})},className:"w-full px-4 py-3 rounded-lg border border-stone-300 dark:border-stone-600 bg-white dark:bg-stone-800 focus:outline-none focus:ring-2 focus:ring-onde-gold focus:border-transparent"})}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,o.jsx)("button",{onClick:()=>S(null),className:"px-3 py-1.5 rounded-full text-sm transition-all ".concat(v?"bg-stone-100 dark:bg-stone-800 hover:bg-stone-200 dark:hover:bg-stone-700":"bg-onde-gold text-white shadow-md"),children:h.catalog.filters.allCategories}),g.map(e=>(0,o.jsxs)("button",{onClick:()=>S(v===e?null:e),className:"px-3 py-1.5 rounded-full text-sm transition-all ".concat(v===e?"bg-onde-gold text-white shadow-md":"bg-stone-100 dark:bg-stone-800 hover:bg-stone-200 dark:hover:bg-stone-700"),children:[e,(0,o.jsxs)("span",{className:"ml-1 opacity-60",children:["(",c[e],")"]})]},e))]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,o.jsxs)("select",{value:v||"",onChange:e=>S(e.target.value||null),className:"px-4 py-2 rounded-lg border border-stone-300 dark:border-stone-600 bg-white dark:bg-stone-800 focus:outline-none focus:ring-2 focus:ring-onde-gold",children:[(0,o.jsx)("option",{value:"",children:h.catalog.filters.allCategories}),u.map(e=>(0,o.jsxs)("option",{value:e,children:[e," (",c[e],")"]},e))]}),(0,o.jsxs)("select",{value:k||"",onChange:e=>{var t;N(t=e.target.value||null),C({lang:t})},className:"px-4 py-2 rounded-lg border border-stone-300 dark:border-stone-600 bg-white dark:bg-stone-800 focus:outline-none focus:ring-2 focus:ring-onde-gold",children:[(0,o.jsx)("option",{value:"",children:h.catalog.filters.allLanguages}),(0,o.jsx)("option",{value:"en",children:"English"}),(0,o.jsx)("option",{value:"it",children:"Italiano"}),(0,o.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,o.jsx)("option",{value:"de",children:"Deutsch"}),(0,o.jsx)("option",{value:"es",children:"Espa\xf1ol"})]}),(0,o.jsxs)("select",{value:y,onChange:e=>{var t;w(t=e.target.value),localStorage.setItem("catalog-sort",t),C({sort:"title"===t?null:t})},className:"px-4 py-2 rounded-lg border border-stone-300 dark:border-stone-600 bg-white dark:bg-stone-800 focus:outline-none focus:ring-2 focus:ring-onde-gold",children:[(0,o.jsx)("option",{value:"title",children:(null==(e=h.catalog.sort)?void 0:e.title)||"Title (A-Z)"}),(0,o.jsx)("option",{value:"author",children:(null==(t=h.catalog.sort)?void 0:t.author)||"Author (A-Z)"}),(0,o.jsx)("option",{value:"shortest",children:(null==(s=h.catalog.sort)?void 0:s.shortest)||"Shortest first"}),(0,o.jsx)("option",{value:"longest",children:(null==(a=h.catalog.sort)?void 0:a.longest)||"Longest first"})]}),M&&(0,o.jsx)("button",{onClick:L,className:"px-4 py-2 rounded-lg bg-stone-200 dark:bg-stone-700 hover:bg-stone-300 dark:hover:bg-stone-600 transition-colors",children:h.catalog.filters.reset})]}),v&&(0,o.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-sm opacity-60",children:"Filtering:"}),(0,o.jsx)("span",{className:"px-2 py-1 bg-onde-gold/20 text-onde-gold rounded text-sm font-medium",children:v}),(0,o.jsx)("button",{onClick:()=>S(null),className:"text-stone-400 hover:text-stone-600 dark:hover:text-stone-300",children:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsx)("p",{className:"text-sm opacity-60 mb-6",children:P.length===i.b7.length?h.catalog.results.showingAll.replace("{count}",String(i.b7.length)):h.catalog.results.found.replace("{count}",String(P.length))}),P.length>0?(0,o.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:P.map(e=>{let t=(0,i.eg)(e);return(0,o.jsxs)(r(),{href:"/libro/"+e.id,className:"book-card group",children:[(0,o.jsx)("div",{className:"aspect-[3/4] bg-gradient-to-br from-stone-100 to-stone-200 dark:from-stone-700 dark:to-stone-800 rounded-lg mb-3 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-3xl md:text-4xl opacity-30",children:"\uD83D\uDCD6"})}),(0,o.jsx)("h3",{className:"font-bold text-sm md:text-base mb-1 line-clamp-2 group-hover:text-onde-gold transition-colors",children:e.title}),(0,o.jsx)("p",{className:"text-xs md:text-sm opacity-60 mb-1",children:e.author}),(0,o.jsxs)("div",{className:"flex items-center gap-2 text-xs text-stone-500 dark:text-stone-400 mb-2",children:[(0,o.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,o.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.pages,"p"]}),(0,o.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,o.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.time]})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("span",{className:"text-xs bg-onde-gold/20 text-onde-gold px-2 py-1 rounded",children:e.category}),e.lang&&"en"!==e.lang&&(0,o.jsx)("span",{className:"text-xs bg-stone-200 dark:bg-stone-700 px-2 py-1 rounded uppercase",children:e.lang})]})]},e.id)})}):(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("p",{className:"text-xl opacity-60 mb-4",children:h.catalog.noResults.title}),(0,o.jsx)("button",{onClick:L,className:"px-6 py-3 rounded-lg bg-onde-gold text-white hover:bg-onde-gold/90 transition-colors",children:h.catalog.noResults.showAll})]})]})}function x(){return(0,o.jsx)(l.Suspense,{fallback:(0,o.jsx)(h,{}),children:(0,o.jsx)(m,{})})}},74411:(e,t,s)=>{"use strict";function o(e){return{pages:e.pages||32,time:e.readingTime||"~10 min"}}s.d(t,{FP:()=>r,b7:()=>a,eg:()=>o});let a=[{id:"meditations-en",title:"Meditations",author:"Marcus Aurelius",category:"filosofia-adulti",lang:"en",source:"onde-studio",pages:120,readingTime:"~2 hours",coverImage:"/images/books/meditations-cover.jpg",epubUrl:"/books/epub/meditations-en.epub"},{id:"meditations-it",title:"Meditazioni",author:"Marco Aurelio",category:"filosofia-adulti",lang:"it",source:"onde-studio",pages:120,readingTime:"~2 ore",coverImage:"/images/books/meditations-cover.jpg",epubUrl:"/books/epub/meditations-it.epub"},{id:"shepherds-promise",title:"The Shepherd's Promise",author:"Onde",category:"spiritualita",lang:"en",source:"onde-studio",pages:32,readingTime:"~10 min",coverImage:"/books/shepherds-promise-cover.jpg",epubUrl:"/books/epub/the-shepherds-promise.epub"}],r=a.length},79355:(e,t,s)=>{"use strict";s.d(t,{c3:()=>o.c3});var o=s(18701);s(40637),s(19664),s(27541)}},e=>{e.O(0,[9664,8701,587,18,7358],()=>e(e.s=9405)),_N_E=e.O()}]);