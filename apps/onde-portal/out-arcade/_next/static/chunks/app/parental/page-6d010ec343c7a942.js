(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4414],{37858:(e,t,i)=>{Promise.resolve().then(i.bind(i,66152))},66152:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var n=i(54568),s=i(7620),l=i(85206),a=i(91085),r=i(19664),o=i.n(r);let d="onde-parental-controls",c="onde-activity-log",m="onde-pin-verified",h={enabled:!1,dailyMinutes:120,weekdayMinutes:60,weekendMinutes:180,bedtimeStart:"21:00",bedtimeEnd:"07:00",bedtimeEnabled:!1},u={enabled:!1,maxAgeRating:12,hideViolent:!0,hideScary:!1,safeSearchEnabled:!0},x={pinHash:null,kidsMode:!1,timeLimit:h,contentFilter:u,restrictedContent:[],allowedContent:[],useWhitelist:!1,lastPinChange:null,setupComplete:!1};async function b(e){let t=new TextEncoder().encode(e+"onde-salt-2024");return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}async function p(e,t){return await b(e)===t}function g(){return new Date().toISOString().split("T")[0]}let f=[{value:3,label:"3+",description:"Toddlers"},{value:6,label:"6+",description:"Early readers"},{value:9,label:"9+",description:"Kids"},{value:12,label:"12+",description:"Pre-teens"},{value:16,label:"16+",description:"Teens"},{value:18,label:"18+",description:"Adults only"}];function w(e){let{title:t,subtitle:i,onSubmit:a,onCancel:r,error:o,isSetup:d=!1}=e,[c,m]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[x,b]=(0,s.useState)("enter"),p=e=>{if("enter"===x&&c.length<4){let t=c+e;m(t),4!==t.length||d?4===t.length&&d&&b("confirm"):a(t)}else if("confirm"===x&&h.length<4){let t=h+e;u(t),4===t.length&&(t===c?a(c):(u(""),m(""),b("enter")))}},g="confirm"===x?h:c;return(0,n.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-onde-dark/95 backdrop-blur-lg",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,n.jsxs)("div",{className:"w-full max-w-sm p-8",children:[(0,n.jsxs)(l.P.div,{className:"text-center mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:[(0,n.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDD10"}),(0,n.jsx)("h2",{className:"text-2xl font-display font-bold text-white mb-2",children:"confirm"===x?"Confirm PIN":t}),(0,n.jsx)("p",{className:"text-white/60",children:"confirm"===x?"Enter the PIN again to confirm":i})]}),(0,n.jsx)("div",{className:"flex justify-center gap-4 mb-8",children:[0,1,2,3].map(e=>(0,n.jsx)(l.P.div,{className:"w-4 h-4 rounded-full border-2 ".concat(e<g.length?"bg-onde-teal border-onde-teal":"border-white/30"),animate:e===g.length-1?{scale:[1,1.3,1]}:{},transition:{duration:.2}},e))}),o&&(0,n.jsx)(l.P.p,{className:"text-red-400 text-center mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:o}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[[1,2,3,4,5,6,7,8,9].map(e=>(0,n.jsx)(l.P.button,{onClick:()=>p(e.toString()),className:"w-16 h-16 rounded-full bg-white/10 text-white text-2xl font-bold hover:bg-white/20 active:bg-onde-teal/50 transition-colors mx-auto",whileTap:{scale:.95},children:e},e)),(0,n.jsx)(l.P.button,{onClick:r,className:"w-16 h-16 rounded-full bg-white/5 text-white/60 text-sm hover:bg-white/10 transition-colors mx-auto",whileTap:{scale:.95},children:"Cancel"}),(0,n.jsx)(l.P.button,{onClick:()=>p("0"),className:"w-16 h-16 rounded-full bg-white/10 text-white text-2xl font-bold hover:bg-white/20 active:bg-onde-teal/50 transition-colors mx-auto",whileTap:{scale:.95},children:"0"}),(0,n.jsx)(l.P.button,{onClick:()=>{"confirm"===x?u(e=>e.slice(0,-1)):m(e=>e.slice(0,-1))},className:"w-16 h-16 rounded-full bg-white/5 text-white/60 text-xl hover:bg-white/10 transition-colors mx-auto",whileTap:{scale:.95},children:"⌫"})]})]})})}function v(e){let{enabled:t,onChange:i,label:s,description:l,disabled:a=!1}=e;return(0,n.jsxs)("div",{className:"flex items-center justify-between py-4 ".concat(a?"opacity-50":""),children:[(0,n.jsxs)("div",{className:"flex-1 pr-4",children:[(0,n.jsx)("p",{className:"text-white font-medium",children:s}),l&&(0,n.jsx)("p",{className:"text-white/50 text-sm mt-1",children:l})]}),(0,n.jsxs)("button",{role:"switch","aria-checked":t,onClick:()=>!a&&i(!t),disabled:a,className:"\n          relative inline-flex h-7 w-12 shrink-0 cursor-pointer rounded-full \n          border-2 border-transparent transition-colors duration-200 ease-in-out\n          focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-onde-gold focus-visible:ring-offset-2\n          ".concat(t?"bg-onde-teal":"bg-white/20","\n          ").concat(a?"cursor-not-allowed":"","\n        "),children:[(0,n.jsx)("span",{className:"sr-only",children:s}),(0,n.jsx)("span",{className:"\n            pointer-events-none inline-block h-6 w-6 transform rounded-full \n            bg-white shadow-lg ring-0 transition duration-200 ease-in-out\n            ".concat(t?"translate-x-5":"translate-x-0","\n          ")})]})]})}function j(e){let{icon:t,title:i,children:s,locked:a=!1}=e;return(0,n.jsxs)(l.P.div,{className:"card-3d p-6 mb-6 ".concat(a?"opacity-50 pointer-events-none":""),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10",children:[(0,n.jsx)("span",{className:"text-2xl",children:t}),(0,n.jsx)("h2",{className:"text-xl font-display font-bold text-white",children:i}),a&&(0,n.jsx)("span",{className:"text-white/40 text-sm ml-auto",children:"\uD83D\uDD12 PIN required"})]}),(0,n.jsx)("div",{className:"divide-y divide-white/5",children:s})]})}function y(e){let{value:t,onChange:i,label:s,min:l=15,max:a=480,step:r=15}=e,o=e=>{if(e>=60){let t=Math.floor(e/60),i=e%60;return i>0?"".concat(t,"h ").concat(i,"m"):"".concat(t,"h")}return"".concat(e,"m")};return(0,n.jsxs)("div",{className:"py-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,n.jsx)("span",{className:"text-white/70",children:s}),(0,n.jsx)("span",{className:"text-onde-teal font-bold",children:o(t)})]}),(0,n.jsx)("input",{type:"range",min:l,max:a,step:r,value:t,onChange:e=>i(Number(e.target.value)),className:"w-full h-2 bg-white/10 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5  [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full  [&::-webkit-slider-thumb]:bg-onde-teal [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg"}),(0,n.jsxs)("div",{className:"flex justify-between text-xs text-white/40 mt-1",children:[(0,n.jsx)("span",{children:o(l)}),(0,n.jsx)("span",{children:o(a)})]})]})}function N(e){let{report:t}=e,i=Math.max(...t.dailyBreakdown.map(e=>e.minutes),60);return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold text-onde-teal",children:[Math.floor(t.totalMinutes/60),"h ",t.totalMinutes%60,"m"]}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Total Time"})]}),(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-onde-purple",children:t.bookOpened}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Books Opened"})]}),(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-onde-gold",children:t.booksCompleted}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Completed"})]}),(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-onde-coral",children:t.gamesPlayed}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Games Played"})]})]}),(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,n.jsx)("h4",{className:"text-white font-medium mb-4",children:"Daily Usage (Last 7 Days)"}),(0,n.jsx)("div",{className:"flex items-end justify-between gap-2 h-32",children:t.dailyBreakdown.map(e=>{let t=i>0?e.minutes/i*100:0,s=new Date(e.date).toLocaleDateString("en",{weekday:"short"});return(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,n.jsx)("div",{className:"w-full flex items-end justify-center h-24",children:(0,n.jsx)(l.P.div,{className:"w-full max-w-[40px] bg-gradient-to-t from-onde-teal to-onde-purple rounded-t-md",initial:{height:0},animate:{height:"".concat(Math.max(t,4),"%")},transition:{duration:.5,delay:.1}})}),(0,n.jsx)("span",{className:"text-xs text-white/50",children:s})]},e.date)})})]}),t.recentActivity.length>0&&(0,n.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,n.jsx)("h4",{className:"text-white font-medium mb-4",children:"Recent Activity"}),(0,n.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.recentActivity.map(e=>{let t="book_opened"===e.type?"\uD83D\uDCD6":"book_completed"===e.type?"✅":"game_played"===e.type?"\uD83C\uDFAE":"session_start"===e.type?"▶️":"⏹️",i=new Date(e.timestamp).toLocaleString("en",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,n.jsxs)("div",{className:"flex items-center gap-3 py-2 border-b border-white/5 last:border-0",children:[(0,n.jsx)("span",{className:"text-lg",children:t}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-white text-sm truncate",children:e.contentTitle||e.type.replace("_"," ")}),(0,n.jsx)("p",{className:"text-white/40 text-xs",children:i})]}),e.durationMinutes&&(0,n.jsxs)("span",{className:"text-white/50 text-xs",children:[e.durationMinutes,"m"]})]},e.id)})})]})]})}function k(){let{controls:e,mounted:t,isPinVerified:i,hasPin:r,setPin:k,verifyPinCode:C,lockParentalControls:S,removePin:D,toggleKidsMode:M,updateTimeLimit:P,getTodayUsage:E,getRemainingTime:I,updateContentFilter:L,getActivityReport:A,clearActivityLog:R,resetAllControls:T}=function(){let[e,t]=(0,s.useState)(x),[i,n]=(0,s.useState)([]),[l,a]=(0,s.useState)({}),[r,o]=(0,s.useState)(!1),[f,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(d);if(e){let i=JSON.parse(e);t({...x,...i,timeLimit:{...h,...i.timeLimit},contentFilter:{...u,...i.contentFilter}})}let i=localStorage.getItem(c);if(i){let e=JSON.parse(i);n(e.log||[]),a(e.usage||{})}let s=sessionStorage.getItem(m);"true"===s&&o(!0)}catch(e){console.error("Error loading parental controls:",e)}w(!0)},[]),(0,s.useEffect)(()=>{if(f)try{localStorage.setItem(d,JSON.stringify(e))}catch(e){console.error("Error saving parental controls:",e)}},[e,f]),(0,s.useEffect)(()=>{if(f)try{localStorage.setItem(c,JSON.stringify({log:i.slice(-500),usage:l}))}catch(e){console.error("Error saving activity log:",e)}},[i,l,f]),(0,s.useEffect)(()=>{if(f&&e.kidsMode&&e.timeLimit.enabled)return j(new Date),U({type:"session_start",timestamp:new Date().toISOString()}),()=>{if(v){let e=Math.floor((Date.now()-v.getTime())/6e4);U({type:"session_end",timestamp:new Date().toISOString(),durationMinutes:e})}}},[f,e.kidsMode,e.timeLimit.enabled]);let y=(0,s.useCallback)(async e=>{if(!/^\d{4}$/.test(e))return!1;let i=await b(e);return t(e=>({...e,pinHash:i,lastPinChange:new Date().toISOString(),setupComplete:!0})),o(!0),sessionStorage.setItem(m,"true"),!0},[]),N=(0,s.useCallback)(async t=>{if(!e.pinHash)return!1;let i=await p(t,e.pinHash);return i&&(o(!0),sessionStorage.setItem(m,"true")),i},[e.pinHash]),k=(0,s.useCallback)(()=>{o(!1),sessionStorage.removeItem(m)},[]),C=(0,s.useCallback)(()=>{t(e=>({...e,pinHash:null,lastPinChange:null}))},[]),S=null!==e.pinHash,D=(0,s.useCallback)(()=>{t(e=>({...e,kidsMode:!0}))},[]),M=(0,s.useCallback)(()=>(!!r||!S)&&(t(e=>({...e,kidsMode:!1})),!0),[r,S]),P=(0,s.useCallback)(()=>e.kidsMode?M():(D(),!0),[e.kidsMode,D,M]),E=(0,s.useCallback)(e=>{t(t=>({...t,timeLimit:{...t.timeLimit,...e}}))},[]),I=(0,s.useCallback)(()=>{var e;return(null==(e=l[g()])?void 0:e.minutes)||0},[l]),L=(0,s.useCallback)(()=>e.timeLimit.enabled?Math.max(0,(!function(){let e=new Date().getDay();return 0===e||6===e}()?e.timeLimit.weekdayMinutes:e.timeLimit.weekendMinutes)-I()):1/0,[e.timeLimit,I]),A=(0,s.useCallback)(()=>0>=L(),[L]),R=(0,s.useCallback)(()=>!!e.timeLimit.bedtimeEnabled&&function(e,t){let i=new Date,n=60*i.getHours()+i.getMinutes(),[s,l]=e.split(":").map(Number),[a,r]=t.split(":").map(Number),o=60*s+l,d=60*a+r;return o>d?n>=o||n<d:n>=o&&n<d}(e.timeLimit.bedtimeStart,e.timeLimit.bedtimeEnd),[e.timeLimit]),T=(0,s.useCallback)(()=>{if(!e.kidsMode)return{allowed:!0};if(e.timeLimit.enabled){if(A())return{allowed:!1,reason:"time_limit"};if(R())return{allowed:!1,reason:"bedtime"}}return{allowed:!0}},[e.kidsMode,e.timeLimit.enabled,A,R]),F=(0,s.useCallback)(e=>{let t=g();a(i=>{var n,s;return{...i,[t]:{date:t,minutes:((null==(n=i[t])?void 0:n.minutes)||0)+e,sessions:(null==(s=i[t])?void 0:s.sessions)||[]}}})},[]),O=(0,s.useCallback)(e=>{t(t=>({...t,contentFilter:{...t.contentFilter,...e}}))},[]),_=(0,s.useCallback)((t,i)=>!e.kidsMode||!e.restrictedContent.includes(t)&&(e.useWhitelist&&e.allowedContent.length>0?e.allowedContent.includes(t):!e.contentFilter.enabled||void 0===i||!(i>e.contentFilter.maxAgeRating)),[e]),H=(0,s.useCallback)(e=>{t(t=>({...t,restrictedContent:[...new Set([...t.restrictedContent,e])]}))},[]),B=(0,s.useCallback)(e=>{t(t=>({...t,restrictedContent:t.restrictedContent.filter(t=>t!==e)}))},[]),V=(0,s.useCallback)(e=>{t(t=>({...t,allowedContent:[...new Set([...t.allowedContent,e])]}))},[]),z=(0,s.useCallback)(e=>{t(t=>({...t,allowedContent:t.allowedContent.filter(t=>t!==e)}))},[]),W=(0,s.useCallback)(e=>{t(t=>({...t,useWhitelist:e}))},[]),U=(0,s.useCallback)(e=>{let t={...e,id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))};n(e=>[...e,t])},[]),J=(0,s.useCallback)((e,t)=>{U({type:"book_opened",contentId:e,contentTitle:t,timestamp:new Date().toISOString()})},[U]),K=(0,s.useCallback)((e,t)=>{U({type:"book_completed",contentId:e,contentTitle:t,timestamp:new Date().toISOString()})},[U]),Q=(0,s.useCallback)((e,t,i)=>{U({type:"game_played",contentId:e,contentTitle:t,timestamp:new Date().toISOString(),durationMinutes:i})},[U]),q=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=new Date;t.setDate(t.getDate()-e);let n=i.filter(e=>new Date(e.timestamp)>=t),s=[];for(let t=0;t<e;t++){var a;let e=new Date;e.setDate(e.getDate()-t);let i=e.toISOString().split("T")[0];s.push({date:i,minutes:(null==(a=l[i])?void 0:a.minutes)||0})}return{totalMinutes:s.reduce((e,t)=>e+t.minutes,0),bookOpened:n.filter(e=>"book_opened"===e.type).length,booksCompleted:n.filter(e=>"book_completed"===e.type).length,gamesPlayed:n.filter(e=>"game_played"===e.type).length,dailyBreakdown:s.reverse(),recentActivity:n.slice(-20).reverse()}},[i,l]),G=(0,s.useCallback)(()=>{n([]),a({})},[]),$=(0,s.useCallback)(()=>{t(x),n([]),a({}),o(!1),sessionStorage.removeItem(m)},[]),X=(0,s.useCallback)(()=>({controls:e,activityLog:i,dailyUsage:l,exportedAt:new Date().toISOString()}),[e,i,l]);return{controls:e,mounted:f,isPinVerified:r,hasPin:S,setPin:y,verifyPinCode:N,lockParentalControls:k,removePin:C,enableKidsMode:D,disableKidsMode:M,toggleKidsMode:P,updateTimeLimit:E,getTodayUsage:I,getRemainingTime:L,isTimeLimitExceeded:A,isBedtime:R,canUseApp:T,addUsageTime:F,updateContentFilter:O,isContentAllowed:_,restrictContent:H,unrestrictContent:B,allowContent:V,disallowContent:z,setWhitelistMode:W,logBookOpened:J,logBookCompleted:K,logGamePlayed:Q,getActivityReport:q,clearActivityLog:G,resetAllControls:$,exportParentalData:X}}(),[F,O]=(0,s.useState)(!1),[_,H]=(0,s.useState)(),[B,V]=(0,s.useState)("verify"),[z,W]=(0,s.useState)("controls"),[U,J]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&r&&!i&&(O(!0),V("verify"))},[t,r,i]);let K=async e=>{H(void 0),"verify"===B?await C(e)?O(!1):H("Incorrect PIN. Try again."):("setup"===B||"change"===B)&&(await k(e)?O(!1):H("Invalid PIN format"))},Q=A(7);return t?(0,n.jsxs)("div",{className:"relative min-h-screen",children:[(0,n.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,n.jsx)(l.P.div,{className:"floating-orb w-[400px] h-[400px] -top-40 -right-40",style:{background:"var(--onde-purple)"},animate:{x:[0,-20,0],y:[0,30,0],scale:[1,1.05,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),(0,n.jsx)(l.P.div,{className:"floating-orb w-[300px] h-[300px] bottom-40 -left-20",style:{background:"var(--onde-teal)"},animate:{x:[0,20,0],y:[0,-20,0],scale:[1,1.1,1]},transition:{duration:18,repeat:1/0,ease:"easeInOut",delay:2}})]}),(0,n.jsx)(a.N,{children:F&&(0,n.jsx)(w,{title:"setup"===B?"Create PIN":"change"===B?"Set New PIN":"Enter PIN",subtitle:"setup"===B?"Create a 4-digit PIN to protect parental controls":"change"===B?"Enter a new 4-digit PIN":"Enter your 4-digit parental PIN",onSubmit:K,onCancel:()=>{"verify"!==B&&O(!1)},error:_,isSetup:"setup"===B||"change"===B})}),(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10",children:[(0,n.jsxs)(l.P.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,n.jsx)(o(),{href:"/settings",className:"inline-block text-white/50 hover:text-white mb-4 transition-colors",children:"← Back to Settings"}),(0,n.jsx)(l.P.div,{className:"text-5xl mb-4",animate:{rotate:[0,5,0,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"}),(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-2",children:"Parental Controls"}),(0,n.jsx)("p",{className:"text-white/60",children:"Keep your child's reading experience safe and balanced"})]}),(0,n.jsxs)(l.P.div,{className:"mb-8 p-4 rounded-2xl flex items-center justify-between ".concat(e.kidsMode?"bg-gradient-to-r from-onde-teal/20 to-onde-purple/20 border border-onde-teal/30":"bg-white/5 border border-white/10"),initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"text-4xl ".concat(e.kidsMode?"animate-bounce":""),children:e.kidsMode?"\uD83E\uDDF8":"\uD83D\uDD13"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-white font-bold text-lg",children:["Kids Mode ",e.kidsMode?"Active":"Inactive"]}),(0,n.jsx)("p",{className:"text-white/50 text-sm",children:e.kidsMode?"".concat(I()," minutes remaining today"):"Enable to apply all parental restrictions"})]})]}),(0,n.jsx)("button",{onClick:()=>{e.kidsMode&&r&&!i?(O(!0),V("verify")):M()},className:"px-6 py-2 rounded-full font-bold transition-all ".concat(e.kidsMode?"bg-white/10 text-white hover:bg-white/20":"bg-onde-teal text-onde-dark hover:bg-onde-teal/80"),children:e.kidsMode?"Disable":"Enable"})]}),(0,n.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,n.jsx)("button",{onClick:()=>W("controls"),className:"flex-1 py-3 px-4 rounded-xl font-medium transition-all ".concat("controls"===z?"bg-onde-teal text-onde-dark":"bg-white/5 text-white/70 hover:bg-white/10"),children:"⚙️ Controls"}),(0,n.jsx)("button",{onClick:()=>W("activity"),className:"flex-1 py-3 px-4 rounded-xl font-medium transition-all ".concat("activity"===z?"bg-onde-teal text-onde-dark":"bg-white/5 text-white/70 hover:bg-white/10"),children:"\uD83D\uDCCA Activity"})]}),"controls"===z?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{icon:"\uD83D\uDD10",title:"PIN Security",children:r?(0,n.jsxs)("div",{className:"py-4 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-white",children:"PIN Protection"}),(0,n.jsx)("span",{className:"text-onde-teal",children:"✓ Enabled"})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:()=>{V("change"),O(!0),H(void 0)},className:"flex-1 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Change PIN"}),(0,n.jsx)("button",{onClick:()=>{i?D():(O(!0),V("verify"))},className:"flex-1 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Remove PIN"})]}),i&&(0,n.jsx)("button",{onClick:S,className:"w-full py-2 bg-white/5 text-white/70 rounded-lg hover:bg-white/10 transition-colors",children:"\uD83D\uDD12 Lock Settings"})]}):(0,n.jsxs)("div",{className:"py-4",children:[(0,n.jsx)("p",{className:"text-white/70 mb-4",children:"Set up a 4-digit PIN to protect parental control settings from being changed."}),(0,n.jsx)("button",{onClick:()=>{V("setup"),O(!0),H(void 0)},className:"w-full py-3 bg-onde-teal text-onde-dark font-bold rounded-xl hover:bg-onde-teal/80 transition-colors",children:"Set Up PIN"})]})}),(0,n.jsxs)(j,{icon:"⏰",title:"Time Limits",locked:r&&!i,children:[(0,n.jsx)(v,{enabled:e.timeLimit.enabled,onChange:e=>P({enabled:e}),label:"Enable Time Limits",description:"Set daily screen time limits"}),e.timeLimit.enabled&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{value:e.timeLimit.weekdayMinutes,onChange:e=>P({weekdayMinutes:e}),label:"Weekday Limit (Mon-Fri)"}),(0,n.jsx)(y,{value:e.timeLimit.weekendMinutes,onChange:e=>P({weekendMinutes:e}),label:"Weekend Limit (Sat-Sun)"}),(0,n.jsxs)("div",{className:"py-4 border-t border-white/10",children:[(0,n.jsx)(v,{enabled:e.timeLimit.bedtimeEnabled,onChange:e=>P({bedtimeEnabled:e}),label:"Bedtime Mode",description:"Block access during bedtime hours"}),e.timeLimit.bedtimeEnabled&&(0,n.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("label",{className:"text-white/50 text-sm",children:"Bedtime starts"}),(0,n.jsx)("input",{type:"time",value:e.timeLimit.bedtimeStart,onChange:e=>P({bedtimeStart:e.target.value}),className:"w-full mt-1 bg-onde-dark-surface border border-white/10 rounded-lg px-3 py-2 text-white"})]}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("label",{className:"text-white/50 text-sm",children:"Bedtime ends"}),(0,n.jsx)("input",{type:"time",value:e.timeLimit.bedtimeEnd,onChange:e=>P({bedtimeEnd:e.target.value}),className:"w-full mt-1 bg-onde-dark-surface border border-white/10 rounded-lg px-3 py-2 text-white"})]})]})]}),(0,n.jsxs)("div",{className:"py-4 bg-white/5 rounded-xl p-4 mt-2",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-white/70",children:"Today's usage"}),(0,n.jsxs)("span",{className:"text-onde-teal font-bold",children:[E()," min"]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsx)("span",{className:"text-white/70",children:"Remaining"}),(0,n.jsxs)("span",{className:"text-onde-gold font-bold",children:[I()," min"]})]})]})]})]}),(0,n.jsxs)(j,{icon:"\uD83D\uDEE1️",title:"Content Filters",locked:r&&!i,children:[(0,n.jsx)(v,{enabled:e.contentFilter.enabled,onChange:e=>L({enabled:e}),label:"Enable Content Filtering",description:"Filter content based on age appropriateness"}),e.contentFilter.enabled&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"py-4",children:[(0,n.jsx)("label",{className:"text-white/70 block mb-3",children:"Maximum Age Rating"}),(0,n.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:f.map(t=>(0,n.jsxs)("button",{onClick:()=>L({maxAgeRating:t.value}),className:"py-2 px-3 rounded-lg text-center transition-all ".concat(e.contentFilter.maxAgeRating===t.value?"bg-onde-teal text-onde-dark font-bold":"bg-white/10 text-white hover:bg-white/20"),children:[(0,n.jsx)("div",{className:"font-bold",children:t.label}),(0,n.jsx)("div",{className:"text-xs opacity-70",children:t.description})]},t.value))})]}),(0,n.jsx)(v,{enabled:e.contentFilter.hideViolent,onChange:e=>L({hideViolent:e}),label:"Hide Violent Content",description:"Filter out books/games with violence"}),(0,n.jsx)(v,{enabled:e.contentFilter.hideScary,onChange:e=>L({hideScary:e}),label:"Hide Scary Content",description:"Filter out horror and scary themes"}),(0,n.jsx)(v,{enabled:e.contentFilter.safeSearchEnabled,onChange:e=>L({safeSearchEnabled:e}),label:"Safe Search",description:"Filter search results for age-appropriate content"})]})]}),(0,n.jsx)(j,{icon:"✨",title:"Quick Presets",locked:r&&!i,children:(0,n.jsxs)("div",{className:"py-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,n.jsxs)("button",{onClick:()=>{P({enabled:!0,weekdayMinutes:30,weekendMinutes:60,bedtimeEnabled:!0}),L({enabled:!0,maxAgeRating:6,hideViolent:!0,hideScary:!0})},className:"p-4 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-xl text-left hover:from-pink-500/30 hover:to-purple-500/30 transition-all",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDC76"}),(0,n.jsx)("div",{className:"text-white font-bold",children:"Toddler Mode"}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Ages 3-6, strict limits"})]}),(0,n.jsxs)("button",{onClick:()=>{P({enabled:!0,weekdayMinutes:60,weekendMinutes:120,bedtimeEnabled:!0}),L({enabled:!0,maxAgeRating:9,hideViolent:!0,hideScary:!1})},className:"p-4 bg-gradient-to-r from-teal-500/20 to-blue-500/20 rounded-xl text-left hover:from-teal-500/30 hover:to-blue-500/30 transition-all",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDDD2"}),(0,n.jsx)("div",{className:"text-white font-bold",children:"Kid Mode"}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Ages 6-9, balanced limits"})]}),(0,n.jsxs)("button",{onClick:()=>{P({enabled:!0,weekdayMinutes:90,weekendMinutes:180,bedtimeEnabled:!0}),L({enabled:!0,maxAgeRating:12,hideViolent:!1,hideScary:!1})},className:"p-4 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-xl text-left hover:from-yellow-500/30 hover:to-orange-500/30 transition-all",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDDD1"}),(0,n.jsx)("div",{className:"text-white font-bold",children:"Pre-Teen Mode"}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Ages 9-12, relaxed limits"})]}),(0,n.jsxs)("button",{onClick:()=>{P({enabled:!1}),L({enabled:!1})},className:"p-4 bg-white/5 rounded-xl text-left hover:bg-white/10 transition-all",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDD13"}),(0,n.jsx)("div",{className:"text-white font-bold",children:"No Restrictions"}),(0,n.jsx)("div",{className:"text-white/50 text-sm",children:"Disable all filters"})]})]})}),(0,n.jsx)(j,{icon:"⚠️",title:"Reset Options",locked:r&&!i,children:(0,n.jsxs)("div",{className:"py-4 space-y-3",children:[(0,n.jsx)("button",{onClick:()=>R(),className:"w-full py-3 bg-white/5 text-white/70 rounded-xl hover:bg-white/10 transition-colors",children:"Clear Activity History"}),(0,n.jsx)("button",{onClick:()=>J(!0),className:"w-full py-3 bg-red-500/20 text-red-400 rounded-xl hover:bg-red-500/30 transition-colors",children:"Reset All Parental Controls"})]})})]}):(0,n.jsx)(j,{icon:"\uD83D\uDCCA",title:"Activity Report",locked:r&&!i,children:(0,n.jsx)("div",{className:"py-4",children:(0,n.jsx)(N,{report:Q})})}),(0,n.jsx)(a.N,{children:U&&(0,n.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,n.jsxs)(l.P.div,{className:"bg-onde-dark-surface rounded-2xl p-6 max-w-sm w-full",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,n.jsx)("div",{className:"text-4xl text-center mb-4",children:"⚠️"}),(0,n.jsx)("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Reset All Controls?"}),(0,n.jsx)("p",{className:"text-white/60 text-center mb-6",children:"This will remove your PIN, all settings, and activity history. This cannot be undone."}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:()=>J(!1),className:"flex-1 py-3 bg-white/10 text-white rounded-xl hover:bg-white/20 transition-colors",children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>{T(),J(!1)},className:"flex-1 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors",children:"Reset"})]})]})})})]})]}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-white/50",children:"Loading..."})})}},91085:(e,t,i)=>{"use strict";i.d(t,{N:()=>g});var n=i(54568),s=i(7620),l=i(97966),a=i(33546),r=i(39536),o=i(37929);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:i}=e,l=(0,s.useId)(),a=(0,s.useRef)(null),r=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,s.useContext)(o.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:s}=r.current;if(i||!a.current||!e||!t)return;a.current.dataset.motionPopId=l;let o=document.createElement("style");return c&&(o.nonce=c),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[i]),(0,n.jsx)(d,{isPresent:i,childRef:a,sizeRef:r,children:s.cloneElement(t,{ref:a})})}let m=e=>{let{children:t,initial:i,isPresent:l,onExitComplete:o,custom:d,presenceAffectsLayout:m,mode:u}=e,x=(0,a.M)(h),b=(0,s.useId)(),p=(0,s.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},[x,o]),g=(0,s.useMemo)(()=>({id:b,initial:i,isPresent:l,custom:d,onExitComplete:p,register:e=>(x.set(e,!1),()=>x.delete(e))}),m?[Math.random(),p]:[l,p]);return(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),s.useEffect(()=>{l||x.size||!o||o()},[l]),"popLayout"===u&&(t=(0,n.jsx)(c,{isPresent:l,children:t})),(0,n.jsx)(r.t.Provider,{value:g,children:t})};function h(){return new Map}var u=i(98647);let x=e=>e.key||"";function b(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var p=i(76451);let g=e=>{let{children:t,custom:i,initial:r=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:c="sync",propagate:h=!1}=e,[g,f]=(0,u.xQ)(h),w=(0,s.useMemo)(()=>b(t),[t]),v=h&&!g?[]:w.map(x),j=(0,s.useRef)(!0),y=(0,s.useRef)(w),N=(0,a.M)(()=>new Map),[k,C]=(0,s.useState)(w),[S,D]=(0,s.useState)(w);(0,p.E)(()=>{j.current=!1,y.current=w;for(let e=0;e<S.length;e++){let t=x(S[e]);v.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[S,v.length,v.join("-")]);let M=[];if(w!==k){let e=[...w];for(let t=0;t<S.length;t++){let i=S[t],n=x(i);v.includes(n)||(e.splice(t,0,i),M.push(i))}"wait"===c&&M.length&&(e=M),D(b(e)),C(w);return}let{forceRender:P}=(0,s.useContext)(l.L);return(0,n.jsx)(n.Fragment,{children:S.map(e=>{let t=x(e),s=(!h||!!g)&&(w===S||v.includes(t));return(0,n.jsx)(m,{isPresent:s,initial:(!j.current||!!r)&&void 0,custom:s?void 0:i,presenceAffectsLayout:d,mode:c,onExitComplete:s?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),D(y.current),h&&(null==f||f()),o&&o())},children:e},t)})})}}},e=>{e.O(0,[9664,5206,587,18,7358],()=>e(e.s=37858)),_N_E=e.O()}]);