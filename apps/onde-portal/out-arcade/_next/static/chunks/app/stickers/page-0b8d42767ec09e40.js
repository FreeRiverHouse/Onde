(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{48913:(e,t,r)=>{Promise.resolve().then(r.bind(r,82816))},82816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(54568),i=r(7620),a=r(85206),n=r(91085),o=r(19664),c=r.n(o);let l=[{id:"ocean-friends",name:"Ocean Friends",description:"Collect all the friendly sea creatures!",icon:"\uD83D\uDC20",gradient:"from-cyan-400 to-blue-500",totalStickers:12,reward:{type:"coins",amount:500,name:"500 Coins"}},{id:"forest-animals",name:"Forest Animals",description:"Woodland creatures await!",icon:"\uD83E\uDD8A",gradient:"from-green-400 to-emerald-600",totalStickers:12,reward:{type:"pet",itemId:"forest-fox",name:"Forest Fox Pet"}},{id:"space-explorers",name:"Space Explorers",description:"Reach for the stars!",icon:"\uD83D\uDE80",gradient:"from-purple-500 to-indigo-600",totalStickers:10,reward:{type:"badge",itemId:"astronaut",name:"Astronaut Badge"}},{id:"magical-creatures",name:"Magical Creatures",description:"Mythical beings from enchanted lands",icon:"\uD83E\uDD84",gradient:"from-pink-400 to-purple-500",totalStickers:8,reward:{type:"coins",amount:1e3,name:"1000 Coins"}},{id:"food-fiesta",name:"Food Fiesta",description:"Delicious treats and snacks!",icon:"\uD83C\uDF55",gradient:"from-amber-400 to-orange-500",totalStickers:15,reward:{type:"coins",amount:300,name:"300 Coins"}},{id:"sports-stars",name:"Sports Stars",description:"Champions of every game!",icon:"⚽",gradient:"from-red-400 to-rose-600",totalStickers:10,reward:{type:"badge",itemId:"champion",name:"Champion Badge"}}],d=[{id:"ocean-1",name:"Happy Fish",emoji:"\uD83D\uDC1F",description:"A cheerful little fish",setId:"ocean-friends",rarity:"common",number:1},{id:"ocean-2",name:"Tropical Fish",emoji:"\uD83D\uDC20",description:"Colorful and bright",setId:"ocean-friends",rarity:"common",number:2},{id:"ocean-3",name:"Blowfish",emoji:"\uD83D\uDC21",description:"Puffy when surprised",setId:"ocean-friends",rarity:"common",number:3},{id:"ocean-4",name:"Friendly Shark",emoji:"\uD83E\uDD88",description:"Not as scary as you think!",setId:"ocean-friends",rarity:"uncommon",number:4},{id:"ocean-5",name:"Octopus",emoji:"\uD83D\uDC19",description:"Eight arms to hug with",setId:"ocean-friends",rarity:"uncommon",number:5},{id:"ocean-6",name:"Squid",emoji:"\uD83E\uDD91",description:"Master of ink",setId:"ocean-friends",rarity:"uncommon",number:6},{id:"ocean-7",name:"Crab",emoji:"\uD83E\uDD80",description:"Pinchy friend",setId:"ocean-friends",rarity:"common",number:7},{id:"ocean-8",name:"Lobster",emoji:"\uD83E\uDD9E",description:"Fancy sea dweller",setId:"ocean-friends",rarity:"rare",number:8},{id:"ocean-9",name:"Shrimp",emoji:"\uD83E\uDD90",description:"Tiny but mighty",setId:"ocean-friends",rarity:"common",number:9},{id:"ocean-10",name:"Dolphin",emoji:"\uD83D\uDC2C",description:"Playful and smart",setId:"ocean-friends",rarity:"rare",number:10},{id:"ocean-11",name:"Whale",emoji:"\uD83D\uDC0B",description:"Gentle giant of the sea",setId:"ocean-friends",rarity:"epic",number:11},{id:"ocean-12",name:"Mermaid",emoji:"\uD83E\uDDDC‍♀️",description:"Legendary sea princess",setId:"ocean-friends",rarity:"legendary",number:12},{id:"forest-1",name:"Red Fox",emoji:"\uD83E\uDD8A",description:"Clever and quick",setId:"forest-animals",rarity:"common",number:1},{id:"forest-2",name:"Brown Bear",emoji:"\uD83D\uDC3B",description:"Loves honey",setId:"forest-animals",rarity:"uncommon",number:2},{id:"forest-3",name:"Bunny",emoji:"\uD83D\uDC30",description:"Fluffy and fast",setId:"forest-animals",rarity:"common",number:3},{id:"forest-4",name:"Deer",emoji:"\uD83E\uDD8C",description:"Graceful forest spirit",setId:"forest-animals",rarity:"uncommon",number:4},{id:"forest-5",name:"Squirrel",emoji:"\uD83D\uDC3F️",description:"Acorn collector",setId:"forest-animals",rarity:"common",number:5},{id:"forest-6",name:"Hedgehog",emoji:"\uD83E\uDD94",description:"Prickly pal",setId:"forest-animals",rarity:"common",number:6},{id:"forest-7",name:"Owl",emoji:"\uD83E\uDD89",description:"Wise night watcher",setId:"forest-animals",rarity:"rare",number:7},{id:"forest-8",name:"Beaver",emoji:"\uD83E\uDDAB",description:"Builder extraordinaire",setId:"forest-animals",rarity:"uncommon",number:8},{id:"forest-9",name:"Badger",emoji:"\uD83E\uDDA1",description:"Tough little one",setId:"forest-animals",rarity:"rare",number:9},{id:"forest-10",name:"Raccoon",emoji:"\uD83E\uDD9D",description:"Masked adventurer",setId:"forest-animals",rarity:"uncommon",number:10},{id:"forest-11",name:"Wolf",emoji:"\uD83D\uDC3A",description:"Leader of the pack",setId:"forest-animals",rarity:"epic",number:11},{id:"forest-12",name:"Forest Spirit",emoji:"\uD83C\uDF33",description:"Ancient guardian",setId:"forest-animals",rarity:"legendary",number:12},{id:"space-1",name:"Rocket",emoji:"\uD83D\uDE80",description:"Ready for launch!",setId:"space-explorers",rarity:"common",number:1},{id:"space-2",name:"Moon",emoji:"\uD83C\uDF19",description:"Lighting the night",setId:"space-explorers",rarity:"common",number:2},{id:"space-3",name:"Star",emoji:"⭐",description:"Shining bright",setId:"space-explorers",rarity:"common",number:3},{id:"space-4",name:"Planet",emoji:"\uD83E\uDE90",description:"Saturn's rings",setId:"space-explorers",rarity:"uncommon",number:4},{id:"space-5",name:"Astronaut",emoji:"\uD83D\uDC68‍\uD83D\uDE80",description:"Space explorer",setId:"space-explorers",rarity:"uncommon",number:5},{id:"space-6",name:"Satellite",emoji:"\uD83D\uDEF8",description:"Orbiting friend",setId:"space-explorers",rarity:"rare",number:6},{id:"space-7",name:"Meteor",emoji:"☄️",description:"Shooting star",setId:"space-explorers",rarity:"rare",number:7},{id:"space-8",name:"Alien",emoji:"\uD83D\uDC7D",description:"Friendly visitor",setId:"space-explorers",rarity:"epic",number:8},{id:"space-9",name:"Nebula",emoji:"\uD83C\uDF0C",description:"Cosmic wonder",setId:"space-explorers",rarity:"epic",number:9},{id:"space-10",name:"Black Hole",emoji:"\uD83D\uDD73️",description:"Mystery of space",setId:"space-explorers",rarity:"legendary",number:10},{id:"magic-1",name:"Unicorn",emoji:"\uD83E\uDD84",description:"Rainbow magic",setId:"magical-creatures",rarity:"common",number:1},{id:"magic-2",name:"Fairy",emoji:"\uD83E\uDDDA",description:"Sprinkles magic dust",setId:"magical-creatures",rarity:"uncommon",number:2},{id:"magic-3",name:"Mage",emoji:"\uD83E\uDDD9‍♂️",description:"Master of spells",setId:"magical-creatures",rarity:"uncommon",number:3},{id:"magic-4",name:"Genie",emoji:"\uD83E\uDDDE",description:"Grants wishes",setId:"magical-creatures",rarity:"rare",number:4},{id:"magic-5",name:"Elf",emoji:"\uD83E\uDDDD",description:"Woodland magic",setId:"magical-creatures",rarity:"rare",number:5},{id:"magic-6",name:"Dragon",emoji:"\uD83D\uDC09",description:"Fire breather",setId:"magical-creatures",rarity:"epic",number:6},{id:"magic-7",name:"Phoenix",emoji:"\uD83D\uDD25",description:"Rises from ashes",setId:"magical-creatures",rarity:"epic",number:7},{id:"magic-8",name:"Celestial",emoji:"✨",description:"Made of stardust",setId:"magical-creatures",rarity:"legendary",number:8},{id:"food-1",name:"Pizza",emoji:"\uD83C\uDF55",description:"Cheesy goodness",setId:"food-fiesta",rarity:"common",number:1},{id:"food-2",name:"Burger",emoji:"\uD83C\uDF54",description:"Stacked high",setId:"food-fiesta",rarity:"common",number:2},{id:"food-3",name:"Taco",emoji:"\uD83C\uDF2E",description:"Crunchy delight",setId:"food-fiesta",rarity:"common",number:3},{id:"food-4",name:"Sushi",emoji:"\uD83C\uDF63",description:"Fresh and tasty",setId:"food-fiesta",rarity:"uncommon",number:4},{id:"food-5",name:"Ice Cream",emoji:"\uD83C\uDF66",description:"Sweet treat",setId:"food-fiesta",rarity:"common",number:5},{id:"food-6",name:"Cake",emoji:"\uD83C\uDF82",description:"Celebration time!",setId:"food-fiesta",rarity:"uncommon",number:6},{id:"food-7",name:"Donut",emoji:"\uD83C\uDF69",description:"Sprinkles included",setId:"food-fiesta",rarity:"common",number:7},{id:"food-8",name:"Cookie",emoji:"\uD83C\uDF6A",description:"Fresh from oven",setId:"food-fiesta",rarity:"common",number:8},{id:"food-9",name:"Cupcake",emoji:"\uD83E\uDDC1",description:"Mini cake magic",setId:"food-fiesta",rarity:"uncommon",number:9},{id:"food-10",name:"Candy",emoji:"\uD83C\uDF6C",description:"Sweet wrapper",setId:"food-fiesta",rarity:"common",number:10},{id:"food-11",name:"Popcorn",emoji:"\uD83C\uDF7F",description:"Movie time!",setId:"food-fiesta",rarity:"common",number:11},{id:"food-12",name:"Ramen",emoji:"\uD83C\uDF5C",description:"Noodle soup",setId:"food-fiesta",rarity:"rare",number:12},{id:"food-13",name:"Pancakes",emoji:"\uD83E\uDD5E",description:"Breakfast stack",setId:"food-fiesta",rarity:"rare",number:13},{id:"food-14",name:"Bento",emoji:"\uD83C\uDF71",description:"Perfectly packed",setId:"food-fiesta",rarity:"epic",number:14},{id:"food-15",name:"Golden Apple",emoji:"\uD83C\uDF4E",description:"Legendary fruit",setId:"food-fiesta",rarity:"legendary",number:15},{id:"sports-1",name:"Soccer Ball",emoji:"⚽",description:"The beautiful game",setId:"sports-stars",rarity:"common",number:1},{id:"sports-2",name:"Basketball",emoji:"\uD83C\uDFC0",description:"Slam dunk!",setId:"sports-stars",rarity:"common",number:2},{id:"sports-3",name:"Football",emoji:"\uD83C\uDFC8",description:"Touchdown!",setId:"sports-stars",rarity:"common",number:3},{id:"sports-4",name:"Tennis",emoji:"\uD83C\uDFBE",description:"Perfect serve",setId:"sports-stars",rarity:"uncommon",number:4},{id:"sports-5",name:"Baseball",emoji:"⚾",description:"Home run!",setId:"sports-stars",rarity:"uncommon",number:5},{id:"sports-6",name:"Volleyball",emoji:"\uD83C\uDFD0",description:"Spike it!",setId:"sports-stars",rarity:"uncommon",number:6},{id:"sports-7",name:"Bowling",emoji:"\uD83C\uDFB3",description:"Strike!",setId:"sports-stars",rarity:"rare",number:7},{id:"sports-8",name:"Skateboard",emoji:"\uD83D\uDEF9",description:"Rad moves",setId:"sports-stars",rarity:"rare",number:8},{id:"sports-9",name:"Trophy",emoji:"\uD83C\uDFC6",description:"Victory!",setId:"sports-stars",rarity:"epic",number:9},{id:"sports-10",name:"Gold Medal",emoji:"\uD83E\uDD47",description:"Number one!",setId:"sports-stars",rarity:"legendary",number:10}],m=[{id:"starter-pack",name:"Starter Pack",description:"5 random stickers to begin your collection",icon:"\uD83D\uDCE6",gradient:"from-blue-400 to-cyan-500",price:50,stickersCount:5,setIds:["ocean-friends","forest-animals","food-fiesta"]},{id:"ocean-pack",name:"Ocean Pack",description:"3 stickers from the ocean!",icon:"\uD83C\uDF0A",gradient:"from-cyan-400 to-blue-600",price:75,stickersCount:3,setIds:["ocean-friends"]},{id:"forest-pack",name:"Forest Pack",description:"3 stickers from the forest!",icon:"\uD83C\uDF32",gradient:"from-green-400 to-emerald-600",price:75,stickersCount:3,setIds:["forest-animals"]},{id:"space-pack",name:"Space Pack",description:"3 stickers from outer space!",icon:"\uD83C\uDF0C",gradient:"from-purple-500 to-indigo-600",price:100,stickersCount:3,setIds:["space-explorers"]},{id:"magic-pack",name:"Magic Pack",description:"3 magical creature stickers!",icon:"✨",gradient:"from-pink-400 to-purple-500",price:100,stickersCount:3,setIds:["magical-creatures"]},{id:"premium-pack",name:"Premium Pack",description:"5 stickers with 1 guaranteed rare or better!",icon:"\uD83D\uDC8E",gradient:"from-amber-400 to-orange-500",price:200,stickersCount:5,guaranteedRarity:"rare",setIds:["ocean-friends","forest-animals","space-explorers","magical-creatures","food-fiesta","sports-stars"]},{id:"legendary-pack",name:"Legendary Pack",description:"3 stickers with 1 guaranteed epic or better!",icon:"\uD83D\uDC51",gradient:"from-purple-600 to-pink-600",price:500,stickersCount:3,guaranteedRarity:"epic",setIds:["ocean-friends","forest-animals","space-explorers","magical-creatures","food-fiesta","sports-stars"]}],p={common:{label:"Common",color:"text-gray-600",bgColor:"bg-gray-100",borderColor:"border-gray-300",gradient:"from-gray-200 to-gray-300",dropRate:.5},uncommon:{label:"Uncommon",color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-400",gradient:"from-green-200 to-green-400",dropRate:.3},rare:{label:"Rare",color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-500",gradient:"from-blue-300 to-blue-500",dropRate:.13},epic:{label:"Epic",color:"text-purple-600",bgColor:"bg-purple-100",borderColor:"border-purple-500",gradient:"from-purple-400 to-purple-600",dropRate:.05},legendary:{label:"Legendary",color:"text-amber-600",bgColor:"bg-amber-100",borderColor:"border-amber-500",gradient:"from-amber-400 to-orange-500",dropRate:.02}},x="onde-sticker-collection",u={ownedStickers:[],completedSets:[],totalStickersCollected:0,packsOpened:0,tradesCompleted:0,pendingPack:null,revealedStickers:[]};function h(e){let{sticker:t,isOwned:r,count:i,isNew:n,onClick:o,size:c="normal"}=e,l=p[t.rarity];return(0,s.jsxs)(a.P.button,{whileHover:{scale:r?1.05:1.02},whileTap:{scale:.95},onClick:o,disabled:!r&&!o,className:"relative ".concat({small:"w-16 h-16 text-2xl",normal:"w-20 h-20 text-4xl",large:"w-28 h-28 text-6xl"}[c]," rounded-xl flex items-center justify-center transition-all ").concat(r?"bg-gradient-to-br ".concat(l.gradient," border-2 ").concat(l.borderColor," shadow-lg cursor-pointer"):"bg-gray-200/50 border-2 border-gray-300 border-dashed cursor-default"),children:[(0,s.jsx)("span",{className:r?"":"grayscale opacity-30",children:t.emoji}),i>1&&(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 text-white text-xs font-bold rounded-full flex items-center justify-center shadow-md",children:i}),n&&(0,s.jsx)(a.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -left-2 px-1.5 py-0.5 bg-green-500 text-white text-[10px] font-bold rounded-full shadow-md",children:"NEW"}),(0,s.jsxs)("div",{className:"absolute bottom-0.5 right-1 text-[10px] font-medium ".concat(r?"text-white/80":"text-gray-400"),children:["#",t.number]})]})}function g(e){let{pack:t,onBuy:r,canAfford:i}=e;return(0,s.jsxs)(a.P.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},className:"relative bg-gradient-to-br ".concat(t.gradient," rounded-2xl p-5 shadow-lg overflow-hidden cursor-pointer"),onClick:i?r:void 0,children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-white/10 animate-pulse"}),(0,s.jsx)("div",{className:"text-5xl mb-3 text-center filter drop-shadow-lg",children:t.icon}),(0,s.jsx)("h3",{className:"font-bold text-white text-lg text-center mb-1",children:t.name}),(0,s.jsx)("p",{className:"text-white/80 text-xs text-center mb-3",children:t.description}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg px-3 py-1.5 text-center mb-3",children:(0,s.jsxs)("span",{className:"text-white text-sm font-medium",children:[t.stickersCount," stickers",t.guaranteedRarity&&(0,s.jsxs)("span",{className:"ml-1",children:["• 1 ",p[t.guaranteedRarity].label,"+"]})]})}),(0,s.jsxs)("button",{disabled:!i,className:"w-full py-2 rounded-xl font-bold flex items-center justify-center gap-2 transition-all ".concat(i?"bg-white text-gray-800 hover:bg-white/90 shadow-md":"bg-white/30 text-white/60 cursor-not-allowed"),children:[(0,s.jsx)("span",{children:"\uD83E\uDE99"}),(0,s.jsx)("span",{children:t.price})]})]})}function f(e){let{set:t,progress:r,isCompleted:i,onClick:n}=e;return(0,s.jsxs)(a.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"relative p-4 rounded-2xl text-left transition-all w-full ".concat(i?"bg-gradient-to-br ".concat(t.gradient," shadow-xl border-4 border-amber-400"):"bg-white/80 backdrop-blur-xl border-2 border-gray-200 hover:border-gray-300 shadow-md"),children:[i&&(0,s.jsxs)("div",{className:"absolute -top-2 -right-2 bg-amber-400 text-amber-900 rounded-full px-2 py-0.5 text-xs font-bold shadow-md flex items-center gap-1",children:[(0,s.jsx)("span",{children:"✓"})," Complete!"]}),(0,s.jsx)("div",{className:"text-4xl mb-2",children:t.icon}),(0,s.jsx)("h3",{className:"font-bold text-lg ".concat(i?"text-white":"text-gray-800"),children:t.name}),(0,s.jsx)("p",{className:"text-sm mb-3 ".concat(i?"text-white/80":"text-gray-500"),children:t.description}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden mb-2",children:(0,s.jsx)(a.P.div,{className:"h-full bg-gradient-to-r ".concat(t.gradient),initial:{width:0},animate:{width:"".concat(r.percentage,"%")},transition:{duration:.5}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm ".concat(i?"text-white":"text-gray-600"),children:[(0,s.jsxs)("span",{children:[r.owned,"/",r.total," stickers"]}),(0,s.jsxs)("span",{className:"font-medium",children:[r.percentage,"%"]})]}),(0,s.jsx)("div",{className:"mt-3 p-2 rounded-lg ".concat(i?"bg-white/20":"bg-gray-100"),children:(0,s.jsxs)("span",{className:"text-xs font-medium ".concat(i?"text-white":"text-gray-600"),children:["\uD83C\uDF81 Reward: ",t.reward.name]})})]})}function b(e){let{pack:t,stickers:r,onClose:n,onConfirm:o}=e,[c,l]=(0,i.useState)(0),[d,m]=(0,i.useState)(!1),x=(0,i.useCallback)(()=>{c<r.length?l(e=>e+1):m(!0)},[c,r.length]);return(0,s.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:d?()=>{o(),n()}:void 0,children:(0,s.jsxs)(a.P.div,{initial:{scale:.8,opacity:0,rotateY:-180},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-gradient-to-br ".concat(t.gradient," rounded-3xl p-6 max-w-lg w-full shadow-2xl"),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)(a.P.div,{animate:{rotate:d?0:[0,-10,10,0],scale:d?1.2:[1,1.1,1]},transition:{duration:.5,repeat:d?0:1/0,repeatDelay:1},className:"text-6xl mb-4 filter drop-shadow-lg",children:t.icon}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:t.name}),(0,s.jsx)("p",{className:"text-white/80",children:d?"You got:":"Tap to reveal! (".concat(c,"/").concat(r.length,")")})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3 mb-6",children:r.map((e,t)=>{let r=t<c,i=p[e.rarity];return(0,s.jsx)(a.P.div,{initial:{rotateY:180,opacity:0},animate:r?{rotateY:0,opacity:1}:{},transition:{delay:.1,type:"spring"},onClick:r||d?void 0:x,className:"perspective-1000",children:(0,s.jsx)(a.P.div,{className:"w-full aspect-square rounded-xl flex items-center justify-center cursor-pointer relative ".concat(r?"bg-gradient-to-br ".concat(i.gradient," border-2 ").concat(i.borderColor," shadow-lg"):"bg-white/30 border-2 border-white/50"),whileHover:r?{}:{scale:1.1},whileTap:r?{}:{scale:.9},children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-3xl",children:e.emoji}),(0,s.jsx)("div",{className:"absolute bottom-0.5 left-0.5 right-0.5 text-center text-[8px] font-bold ".concat(i.color),children:i.label})]}):(0,s.jsx)("span",{className:"text-2xl text-white/60",children:"?"})})},"".concat(e.id,"-").concat(t))})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[!d&&(0,s.jsx)("button",{onClick:()=>{l(r.length),m(!0)},className:"flex-1 py-3 bg-white/20 hover:bg-white/30 text-white font-bold rounded-xl transition-colors",children:"Reveal All"}),(0,s.jsx)("button",{onClick:()=>{o(),n()},className:"flex-1 py-3 bg-white text-gray-800 font-bold rounded-xl hover:bg-white/90 transition-colors shadow-lg ".concat(!d&&"opacity-50"),children:d?"Awesome! \uD83C\uDF89":"Collect All"})]})]})})}function y(e){let{set:t,progress:r,isCompleted:i,onClose:n}=e;return(0,s.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,s.jsxs)(a.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-3xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br ".concat(t.gradient," flex items-center justify-center text-4xl shadow-lg"),children:t.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:t.name}),(0,s.jsx)("p",{className:"text-gray-500",children:t.description})]})]}),(0,s.jsx)("button",{onClick:n,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 transition-colors",children:"✕"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-gray-600 font-medium",children:[r.owned,"/",r.total," Collected"]}),(0,s.jsxs)("span",{className:"font-bold text-lg",children:[r.percentage,"%"]})]}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)(a.P.div,{className:"h-full bg-gradient-to-r ".concat(t.gradient),initial:{width:0},animate:{width:"".concat(r.percentage,"%")},transition:{duration:.5}})})]}),(0,s.jsx)("div",{className:"p-4 rounded-xl mb-6 ".concat(i?"bg-gradient-to-r from-amber-100 to-yellow-100 border-2 border-amber-300":"bg-gray-100"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF81"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-800",children:"Set Reward"}),(0,s.jsx)("p",{className:"text-sm ".concat(i?"text-amber-700":"text-gray-500"),children:t.reward.name})]})]}),i&&(0,s.jsx)("div",{className:"px-3 py-1 bg-amber-400 text-amber-900 font-bold rounded-full text-sm",children:"✓ Claimed"})]})}),(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:r.stickers.map(e=>(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(h,{sticker:e,isOwned:e.owned,count:e.count,size:"normal"}),(0,s.jsx)("p",{className:"text-xs mt-1 font-medium truncate ".concat(e.owned?"text-gray-700":"text-gray-400"),children:e.owned?e.name:"???"})]},e.id))})]})})}function j(e){let{duplicates:t,getStickerDefinition:r,onTrade:i,onClose:n}=e;return(0,s.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,s.jsxs)(a.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-3xl p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\uD83D\uDD04 Trade Stickers"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Exchange duplicates for coins!"})]}),(0,s.jsx)("button",{onClick:n,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 transition-colors",children:"✕"})]}),(0,s.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-4 mb-6",children:[(0,s.jsx)("h3",{className:"font-bold text-amber-800 mb-2",children:"\uD83D\uDCB0 Trade Rates"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Common:"}),(0,s.jsx)("span",{className:"font-medium",children:"5 coins"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Uncommon:"}),(0,s.jsx)("span",{className:"font-medium",children:"10 coins"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Rare:"}),(0,s.jsx)("span",{className:"font-medium",children:"25 coins"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Epic:"}),(0,s.jsx)("span",{className:"font-medium",children:"50 coins"})]})]})]}),0===t.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-4xl mb-2",children:"\uD83D\uDCED"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No duplicates to trade!"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Keep opening packs to find more."})]}):(0,s.jsx)("div",{className:"space-y-3",children:t.map(e=>{let{stickerId:t,count:a}=e,n=r(t);if(!n)return null;let o=p[n.rarity],c={common:5,uncommon:10,rare:25,epic:50,legendary:100}[n.rarity];return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br ".concat(o.gradient," flex items-center justify-center text-2xl border ").concat(o.borderColor),children:n.emoji}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-800",children:n.name}),(0,s.jsxs)("p",{className:"text-sm ".concat(o.color),children:[o.label," • \xd7",a," extra"]})]})]}),(0,s.jsxs)("button",{onClick:()=>i(t,1),className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-lg transition-colors flex items-center gap-1",children:[(0,s.jsx)("span",{children:"Trade"}),(0,s.jsxs)("span",{className:"text-xs",children:["+",c,"\uD83E\uDE99"]})]})]},t)})})]})})}function k(){let{mounted:e,state:t,collectionStats:r,allSets:o,allPacks:k,getStickerDefinition:w,getSetProgress:N,ownsSticker:v,getOwnedSticker:C,getDuplicateCount:S,openPack:I,confirmPackOpening:D,tradeDuplicates:P}=function(){let[e,t]=(0,i.useState)(u),[r,s]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=localStorage.getItem(x);if(e)try{let r=JSON.parse(e);t({...u,...r})}catch(e){t(u)}s(!0)},[]),(0,i.useEffect)(()=>{r&&localStorage.setItem(x,JSON.stringify(e))},[e,r]);let a=(0,i.useCallback)(e=>d.find(t=>t.id===e),[]),n=(0,i.useCallback)(e=>l.find(t=>t.id===e),[]),o=(0,i.useCallback)(t=>e.ownedStickers.some(e=>e.stickerId===t),[e.ownedStickers]),c=(0,i.useCallback)(t=>e.ownedStickers.find(e=>e.stickerId===t),[e.ownedStickers]),h=(0,i.useCallback)(t=>{let r=e.ownedStickers.find(e=>e.stickerId===t);return r?Math.max(0,r.count-1):0},[e.ownedStickers]),g=(0,i.useMemo)(()=>e.ownedStickers.reduce((e,t)=>e+Math.max(0,t.count-1),0),[e.ownedStickers]),f=(0,i.useCallback)(e=>{let t=d.filter(t=>t.setId===e),r=t.filter(e=>o(e.id));return{owned:r.length,total:t.length,percentage:Math.round(r.length/t.length*100),isComplete:r.length===t.length,stickers:t.map(e=>{var t;return{...e,owned:o(e.id),count:(null==(t=c(e.id))?void 0:t.count)||0}})}},[o,c]),b=(0,i.useCallback)((e,t)=>{let r=d.filter(t=>e.includes(t.setId));if(t){let e=["common","uncommon","rare","epic","legendary"],s=e.indexOf(t),i=r.filter(t=>e.indexOf(t.rarity)>=s);if(i.length>0)return i[Math.floor(Math.random()*i.length)]}let s=Math.random(),i=0,a="common";for(let[e,t]of Object.entries(p))if(s<=(i+=t.dropRate)){a=e;break}let n=r.filter(e=>e.rarity===a);return 0===n.length?r[Math.floor(Math.random()*r.length)]:n[Math.floor(Math.random()*n.length)]},[]),y=(0,i.useCallback)(e=>{let r=[];for(let t=0;t<e.stickersCount;t++){let s=t===e.stickersCount-1?e.guaranteedRarity:void 0;r.push(b(e.setIds,s))}return t(t=>({...t,pendingPack:e,revealedStickers:r})),r},[b]),j=(0,i.useCallback)(()=>{t(e=>{let t=[...e.ownedStickers];e.revealedStickers.forEach(e=>{let r=t.findIndex(t=>t.stickerId===e.id);r>=0?t[r]={...t[r],count:t[r].count+1}:t.push({stickerId:e.id,count:1,obtainedAt:new Date().toISOString(),isNew:!0})});let r=[...e.completedSets];return l.forEach(e=>{!r.includes(e.id)&&d.filter(t=>t.setId===e.id).every(e=>t.some(t=>t.stickerId===e.id))&&r.push(e.id)}),{...e,ownedStickers:t,completedSets:r,totalStickersCollected:e.totalStickersCollected+e.revealedStickers.length,packsOpened:e.packsOpened+1,pendingPack:null,revealedStickers:[]}})},[]),k=(0,i.useCallback)(e=>{let r=a(e);r&&t(t=>{let s=[...t.ownedStickers],i=s.findIndex(t=>t.stickerId===e);i>=0?s[i]={...s[i],count:s[i].count+1}:s.push({stickerId:e,count:1,obtainedAt:new Date().toISOString(),isNew:!0});let a=[...t.completedSets],n=l.find(e=>e.id===r.setId);return n&&!a.includes(n.id)&&d.filter(e=>e.setId===n.id).every(e=>s.some(t=>t.stickerId===e.id))&&a.push(n.id),{...t,ownedStickers:s,completedSets:a,totalStickersCollected:t.totalStickersCollected+1}})},[a]),w=(0,i.useCallback)(()=>{t(e=>({...e,ownedStickers:e.ownedStickers.map(e=>({...e,isNew:!1}))}))},[]),N=(0,i.useCallback)((r,s)=>{let i=e.ownedStickers.find(e=>e.stickerId===r);return!!i&&!(i.count<=s)&&(t(e=>({...e,ownedStickers:e.ownedStickers.map(e=>e.stickerId===r?{...e,count:e.count-s}:e),tradesCompleted:e.tradesCompleted+1})),!0)},[e.ownedStickers]),v=(0,i.useMemo)(()=>{let t=d.length,r=e.ownedStickers.length,s={common:{owned:0,total:0},uncommon:{owned:0,total:0},rare:{owned:0,total:0},epic:{owned:0,total:0},legendary:{owned:0,total:0}};return d.forEach(e=>{s[e.rarity].total++,o(e.id)&&s[e.rarity].owned++}),{totalStickers:t,ownedUnique:r,percentage:Math.round(r/t*100),completedSets:e.completedSets.length,totalSets:l.length,totalDuplicates:g,byRarity:s}},[e.ownedStickers,e.completedSets,o,g]);return{mounted:r,state:e,collectionStats:v,allStickers:d,allSets:l,allPacks:m,rarityConfig:p,getStickerDefinition:a,getSetDefinition:n,getSetProgress:f,ownsSticker:o,getOwnedSticker:c,getDuplicateCount:h,getTotalDuplicates:g,openPack:y,confirmPackOpening:j,awardSticker:k,markAllSeen:w,tradeDuplicates:N}}(),[F,E]=(0,i.useState)("album"),[M,R]=(0,i.useState)(null),[B,A]=(0,i.useState)(!1),[O,T]=(0,i.useState)(500),L=t.ownedStickers.filter(e=>e.count>1).map(e=>({stickerId:e.stickerId,count:e.count-1}));return e?(0,s.jsxs)("div",{className:"min-h-screen py-8 px-4",style:{background:"linear-gradient(180deg, #F0F9FF 0%, #E0F2FE 50%, #BAE6FD 100%)"},children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)(c(),{href:"/",className:"inline-flex items-center gap-2 text-sky-600 hover:text-sky-800 transition-colors mb-6",children:[(0,s.jsx)("span",{children:"←"}),(0,s.jsx)("span",{children:"Back to Home"})]}),(0,s.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-sky-800 mb-2",children:"\uD83C\uDFB4 Sticker Album \uD83C\uDFB4"}),(0,s.jsx)("p",{className:"text-sky-600",children:"Collect, trade, and complete sets for rewards!"})]}),(0,s.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/80 backdrop-blur-xl rounded-3xl p-4 border-2 border-sky-200 shadow-xl mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-black text-sky-700",children:r.ownedUnique}),(0,s.jsxs)("p",{className:"text-xs text-sky-500",children:["/ ",r.totalStickers]})]}),(0,s.jsx)("div",{className:"h-12 w-px bg-sky-200"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("p",{className:"text-2xl font-black text-purple-600",children:[r.percentage,"%"]}),(0,s.jsx)("p",{className:"text-xs text-purple-500",children:"Complete"})]}),(0,s.jsx)("div",{className:"h-12 w-px bg-sky-200"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-black text-amber-600",children:r.completedSets}),(0,s.jsxs)("p",{className:"text-xs text-amber-500",children:["/ ",r.totalSets," Sets"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-orange-100 hover:bg-orange-200 text-orange-700 font-medium rounded-xl transition-colors flex items-center gap-2",children:[(0,s.jsx)("span",{children:"\uD83D\uDD04"}),(0,s.jsxs)("span",{children:["Trade (",r.totalDuplicates,")"]})]}),(0,s.jsxs)("div",{className:"px-4 py-2 bg-amber-100 rounded-xl flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83E\uDE99"}),(0,s.jsx)("span",{className:"font-bold text-amber-700",children:O})]})]})]})}),(0,s.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{id:"album",label:"\uD83D\uDCD6 Album",icon:"\uD83D\uDCD6"},{id:"packs",label:"\uD83D\uDCE6 Packs",icon:"\uD83D\uDCE6"},{id:"sets",label:"\uD83C\uDFC6 Sets",icon:"\uD83C\uDFC6"}].map(e=>(0,s.jsx)("button",{onClick:()=>E(e.id),className:"px-5 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ".concat(F===e.id?"bg-sky-500 text-white shadow-lg shadow-sky-500/30":"bg-white/80 text-sky-700 hover:bg-white border border-sky-200"),children:e.label},e.id))}),(0,s.jsxs)(n.N,{mode:"wait",children:["album"===F&&(0,s.jsx)(a.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:(0,s.jsx)("div",{className:"space-y-8",children:o.map(e=>{let r=N(e.id),i=t.completedSets.includes(e.id);return(0,s.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 border-2 border-sky-200 shadow-xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(e.gradient," flex items-center justify-center text-2xl shadow-md"),children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[e.name,i&&(0,s.jsx)("span",{className:"text-amber-500",children:"⭐"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[r.owned,"/",r.total," collected"]})]})]}),(0,s.jsx)("button",{onClick:()=>R(e),className:"px-3 py-1.5 bg-sky-100 hover:bg-sky-200 text-sky-700 text-sm font-medium rounded-lg transition-colors",children:"View All"})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden mb-4",children:(0,s.jsx)(a.P.div,{className:"h-full bg-gradient-to-r ".concat(e.gradient),initial:{width:0},animate:{width:"".concat(r.percentage,"%")}})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.stickers.slice(0,8).map(e=>{var t;return(0,s.jsx)(h,{sticker:e,isOwned:e.owned,count:e.count,isNew:null==(t=C(e.id))?void 0:t.isNew,size:"small"},e.id)}),r.stickers.length>8&&(0,s.jsxs)("button",{onClick:()=>R(e),className:"w-16 h-16 rounded-xl bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 font-medium transition-colors",children:["+",r.stickers.length-8]})]})]},e.id)})})},"album"),"packs"===F&&(0,s.jsxs)(a.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-6 border-2 border-sky-200 shadow-xl mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"\uD83D\uDCE6 Sticker Packs"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:"Buy packs with coins to expand your collection!"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:k.map((e,t)=>(0,s.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,s.jsx)(g,{pack:e,onBuy:()=>{O>=e.price&&(T(t=>t-e.price),I(e))},canAfford:O>=e.price})},e.id))})]}),(0,s.jsx)("div",{className:"bg-white/60 rounded-2xl p-4 text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["\uD83D\uDCCA ",(0,s.jsx)("span",{className:"font-medium",children:t.packsOpened})," packs opened •",(0,s.jsx)("span",{className:"font-medium ml-1",children:t.totalStickersCollected})," stickers collected"]})})]},"packs"),"sets"===F&&(0,s.jsx)(a.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((e,r)=>{let i=N(e.id),n=t.completedSets.includes(e.id);return(0,s.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},children:(0,s.jsx)(f,{set:e,progress:i,isCompleted:n,onClick:()=>R(e)})},e.id)})})},"sets")]}),(0,s.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 bg-white/80 backdrop-blur-xl rounded-3xl p-6 border-2 border-sky-200 shadow-xl",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"\uD83C\uDF81 How to Get Stickers"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl",children:[(0,s.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFAE"}),(0,s.jsx)("h3",{className:"font-bold text-blue-800 mt-2",children:"Win Games"}),(0,s.jsx)("p",{className:"text-sm text-blue-600",children:"Complete games to earn random stickers!"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl",children:[(0,s.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCE6"}),(0,s.jsx)("h3",{className:"font-bold text-amber-800 mt-2",children:"Buy Packs"}),(0,s.jsx)("p",{className:"text-sm text-amber-600",children:"Spend coins on sticker packs!"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl",children:[(0,s.jsx)("span",{className:"text-3xl",children:"\uD83D\uDD04"}),(0,s.jsx)("h3",{className:"font-bold text-green-800 mt-2",children:"Trade"}),(0,s.jsx)("p",{className:"text-sm text-green-600",children:"Exchange duplicates for coins!"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl",children:[(0,s.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFC6"}),(0,s.jsx)("h3",{className:"font-bold text-purple-800 mt-2",children:"Complete Sets"}),(0,s.jsx)("p",{className:"text-sm text-purple-600",children:"Finish sets for exclusive rewards!"})]})]})]}),(0,s.jsx)("div",{className:"text-center text-sky-500 text-sm py-8",children:(0,s.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{children:"\uD83C\uDFB4"}),"Collect them all!",(0,s.jsx)("span",{children:"\uD83C\uDFB4"})]})})]}),(0,s.jsx)(n.N,{children:t.pendingPack&&t.revealedStickers.length>0&&(0,s.jsx)(b,{pack:t.pendingPack,stickers:t.revealedStickers,onClose:()=>D(),onConfirm:D})}),(0,s.jsx)(n.N,{children:M&&(0,s.jsx)(y,{set:M,progress:N(M.id),isCompleted:t.completedSets.includes(M.id),onClose:()=>R(null)})}),(0,s.jsx)(n.N,{children:B&&(0,s.jsx)(j,{duplicates:L,getStickerDefinition:w,onTrade:(e,t)=>{let r=w(e);if(!r)return;let s={common:5,uncommon:10,rare:25,epic:50,legendary:100}[r.rarity];P(e,t)&&T(e=>e+s)},onClose:()=>A(!1)})})]}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(180deg, #F0F9FF 0%, #E0F2FE 50%, #BAE6FD 100%)"},children:(0,s.jsx)(a.P.div,{className:"text-6xl",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0},children:"\uD83C\uDFB4"})})}},91085:(e,t,r)=>{"use strict";r.d(t,{N:()=>f});var s=r(54568),i=r(7620),a=r(97966),n=r(33546),o=r(39536),c=r(37929);class l extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,a=(0,i.useId)(),n=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,i.useContext)(c.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:i}=o.current;if(r||!n.current||!e||!t)return;n.current.dataset.motionPopId=a;let c=document.createElement("style");return d&&(c.nonce=d),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[r]),(0,s.jsx)(l,{isPresent:r,childRef:n,sizeRef:o,children:i.cloneElement(t,{ref:n})})}let m=e=>{let{children:t,initial:r,isPresent:a,onExitComplete:c,custom:l,presenceAffectsLayout:m,mode:x}=e,u=(0,n.M)(p),h=(0,i.useId)(),g=(0,i.useCallback)(e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;c&&c()},[u,c]),f=(0,i.useMemo)(()=>({id:h,initial:r,isPresent:a,custom:l,onExitComplete:g,register:e=>(u.set(e,!1),()=>u.delete(e))}),m?[Math.random(),g]:[a,g]);return(0,i.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[a]),i.useEffect(()=>{a||u.size||!c||c()},[a]),"popLayout"===x&&(t=(0,s.jsx)(d,{isPresent:a,children:t})),(0,s.jsx)(o.t.Provider,{value:f,children:t})};function p(){return new Map}var x=r(98647);let u=e=>e.key||"";function h(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var g=r(76451);let f=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:c,presenceAffectsLayout:l=!0,mode:d="sync",propagate:p=!1}=e,[f,b]=(0,x.xQ)(p),y=(0,i.useMemo)(()=>h(t),[t]),j=p&&!f?[]:y.map(u),k=(0,i.useRef)(!0),w=(0,i.useRef)(y),N=(0,n.M)(()=>new Map),[v,C]=(0,i.useState)(y),[S,I]=(0,i.useState)(y);(0,g.E)(()=>{k.current=!1,w.current=y;for(let e=0;e<S.length;e++){let t=u(S[e]);j.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[S,j.length,j.join("-")]);let D=[];if(y!==v){let e=[...y];for(let t=0;t<S.length;t++){let r=S[t],s=u(r);j.includes(s)||(e.splice(t,0,r),D.push(r))}"wait"===d&&D.length&&(e=D),I(h(e)),C(y);return}let{forceRender:P}=(0,i.useContext)(a.L);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let t=u(e),i=(!p||!!f)&&(y===S||j.includes(t));return(0,s.jsx)(m,{isPresent:i,initial:(!k.current||!!o)&&void 0,custom:i?void 0:r,presenceAffectsLayout:l,mode:d,onExitComplete:i?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),I(w.current),p&&(null==b||b()),c&&c())},children:e},t)})})}}},e=>{e.O(0,[9664,5206,587,18,7358],()=>e(e.s=48913)),_N_E=e.O()}]);