(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5378],{7826:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var o=a(54568),s=a(85206);let n={coral:"from-onde-coral to-onde-coral-light",gold:"from-onde-gold to-onde-gold-light",teal:"from-onde-teal to-onde-teal-light",sunset:"from-onde-coral via-onde-gold to-onde-teal"};function r(e){let{badge:t,title:a,subtitle:r,align:i="center",gradient:l="coral"}=e;return(0,o.jsxs)(s.P.div,{className:"mb-12 md:mb-16 ".concat("center"===i?"text-center":"text-left"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t&&(0,o.jsx)(s.P.span,{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold mb-6 bg-gradient-to-r from-onde-coral/10 to-onde-gold/10 text-onde-coral border border-onde-coral/20",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:.1},children:t}),(0,o.jsx)("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold text-onde-ocean mb-4",children:(0,o.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r ".concat(n[l]),children:a})}),r&&(0,o.jsx)(s.P.p,{className:"text-lg md:text-xl text-onde-ocean/60 leading-relaxed\n                      ".concat("center"===i?"max-w-2xl mx-auto":"max-w-xl"),initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.2},children:r}),(0,o.jsx)(s.P.div,{className:"h-1 w-24 rounded-full mt-6\n                    bg-gradient-to-r ".concat(n[l],"\n                    ").concat("center"===i?"mx-auto":""),initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.6,delay:.3}})]})}},27541:(e,t,a)=>{"use strict";var o=a(43041);a.o(o,"useParams")&&a.d(t,{useParams:function(){return o.useParams}}),a.o(o,"usePathname")&&a.d(t,{usePathname:function(){return o.usePathname}}),a.o(o,"useRouter")&&a.d(t,{useRouter:function(){return o.useRouter}}),a.o(o,"useSearchParams")&&a.d(t,{useSearchParams:function(){return o.useSearchParams}})},50212:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var o=a(54568),s=a(85206),n=a(19664),r=a.n(n),i=a(32536),l=a(7826),d=a(79355),c=a(7620);let m="onde-reading-list",u="onde-download-stats";function x(){try{let e=localStorage.getItem(u);return e?JSON.parse(e):{}}catch(e){return{}}}let h=[{id:"meditations",title:"Meditations",subtitle:"Thoughts to Himself",author:"Marcus Aurelius",description:"Personal notes of a Roman Emperor. Stoic philosophy. George Long translation (1862).",category:"Philosophy",coverImage:"/books/meditations-cover.jpg",pdfLink:"/books/meditations-en.pdf",epubLink:"/books/epub/meditations-en.epub",price:"Free",isFree:!0,pages:112,readingTime:"~3h"},{id:"shepherds-promise",title:"The Shepherd's Promise",subtitle:"Psalm 23 Illustrated",author:"Biblical Tradition",description:"Psalm 23 with watercolor illustrations.",category:"Spirituality",coverImage:"/books/shepherds-promise-cover.jpg",pdfLink:"/books/the-shepherds-promise.pdf",epubLink:"/books/epub/the-shepherds-promise.epub",price:"Free",isFree:!0,pages:12,readingTime:"~5 min"}];function p(){(0,d.c3)();let{getReadingList:e,removeFromReadingList:t,clearReadingList:a,mounted:n}=function(){let[e,t]=(0,c.useState)({items:[],version:1}),[a,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o(!0);try{let e=localStorage.getItem(m);if(e){let a=JSON.parse(e);t(a)}}catch(e){console.error("Failed to load reading list:",e)}},[]),(0,c.useEffect)(()=>{if(a)try{localStorage.setItem(m,JSON.stringify(e))}catch(e){console.error("Failed to save reading list:",e)}},[e,a]);let s=(0,c.useCallback)(e=>{t(t=>{if(t.items.some(t=>t.bookId===e))return t;if("gtag"in window)try{window.gtag("event","add_to_reading_list",{book_id:e,event_category:"engagement"})}catch(e){}return{...t,items:[...t.items,{bookId:e,addedAt:new Date().toISOString()}]}})},[]),n=(0,c.useCallback)(e=>{t(t=>({...t,items:t.items.filter(t=>t.bookId!==e)}))},[]),r=(0,c.useCallback)(e=>{i(e)?n(e):s(e)},[s,n]),i=(0,c.useCallback)(t=>e.items.some(e=>e.bookId===t),[e.items]),l=(0,c.useCallback)(()=>e.items,[e.items]);return{addToReadingList:s,removeFromReadingList:n,toggleBookmark:r,isBookmarked:i,getReadingList:l,getReadingListCount:(0,c.useCallback)(()=>e.items.length,[e.items]),clearReadingList:(0,c.useCallback)(()=>{t({items:[],version:1})},[]),mounted:a}}(),{trackDownload:p,getBookStats:g}=function(){let[e,t]=(0,c.useState)({});(0,c.useEffect)(()=>{t(x())},[]);let a=(0,c.useCallback)((e,a)=>{let o=x(),s=o[e]||{count:0,lastDownload:"",formats:{pdf:0,epub:0}};s.count+=1,s.lastDownload=new Date().toISOString(),s.formats[a]+=1,o[e]=s;try{localStorage.setItem(u,JSON.stringify(o))}catch(e){}if(t(o),"gtag"in window)try{window.gtag("event","book_download",{book_id:e,book_format:a,event_category:"engagement",event_label:"".concat(e,"_").concat(a)})}catch(e){}if("undefined"!=typeof navigator&&navigator.sendBeacon)try{let t={event:"download",bookId:e,format:a,timestamp:new Date().toISOString()},o=new Blob([JSON.stringify(t)],{type:"application/json"});navigator.sendBeacon("/api/analytics/track",o)}catch(e){}return s.count},[]),o=(0,c.useCallback)(t=>e[t]||{count:0,lastDownload:"",formats:{pdf:0,epub:0}},[e]);return{trackDownload:a,getBookStats:o,getPopularBooks:(0,c.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Object.entries(e).map(e=>{let[t,a]=e;return{bookId:t,count:a.count}}).sort((e,t)=>t.count-e.count).slice(0,t)},[e]),getTotalDownloads:(0,c.useCallback)(()=>Object.values(e).reduce((e,t)=>e+t.count,0),[e]),stats:e}}(),[b,f]=(0,c.useState)(!1);(0,c.useEffect)(()=>{f(!0)},[]);let v=e(),w=h.filter(e=>v.some(t=>t.bookId===e.id)),j=(e,t)=>{p(e,t)};return b&&n?(0,o.jsxs)("div",{className:"min-h-screen py-12",children:[(0,o.jsx)("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-16",children:(0,o.jsxs)("div",{className:"text-center mb-16",children:[(0,o.jsx)(s.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center justify-center w-24 h-24 rounded-3xl bg-gradient-to-br from-amber-500 to-amber-600 shadow-xl shadow-amber-500/30 mb-8",children:(0,o.jsx)("span",{className:"text-5xl",children:"\uD83D\uDCD6"})}),(0,o.jsx)(l.A,{badge:"Your Collection",title:"My Reading List",subtitle:w.length>0?"".concat(w.length," book").concat(1!==w.length?"s":""," saved for later"):"Save books you want to read later",gradient:"coral"}),(0,o.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[(0,o.jsxs)(r(),{href:"/libri",className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-onde-ocean/10 text-onde-ocean text-sm font-medium hover:bg-onde-ocean/20 transition-colors",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Browse Library"]}),w.length>0&&(0,o.jsxs)("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-red-100 text-red-700 text-sm font-medium hover:bg-red-200 transition-colors",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear List"]})]})]})}),(0,o.jsx)("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-24",children:0===w.length?(0,o.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[(0,o.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCDA"}),(0,o.jsx)("h3",{className:"text-xl font-display font-semibold text-gray-900 mb-3",children:"Your reading list is empty"}),(0,o.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Browse our library and click the bookmark icon on any book to save it for later."}),(0,o.jsxs)(r(),{href:"/libri",className:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 text-white font-semibold shadow-lg shadow-amber-500/30 hover:shadow-xl hover:shadow-amber-500/40 transition-all duration-300 hover:scale-[1.02]",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Explore Our Books"]})]}):(0,o.jsx)("div",{className:"grid md:grid-cols-2 gap-8",children:w.map((e,a)=>(0,o.jsxs)(s.P.div,{className:"bg-white/90 backdrop-blur-sm rounded-3xl border border-amber-200/50 shadow-xl overflow-hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.15*a},children:[(0,o.jsxs)("div",{className:"relative aspect-[4/3] bg-gradient-to-br from-amber-50 to-amber-100",children:[(0,o.jsx)(i.default,{src:e.coverImage,alt:e.title,fill:!0,className:"object-contain p-4",priority:0===a}),(0,o.jsx)("span",{className:"absolute top-4 left-4 px-3 py-1.5 rounded-xl text-xs font-semibold bg-amber-900/80 text-amber-100 backdrop-blur-md shadow-lg",children:e.category}),(0,o.jsx)("button",{onClick:()=>t(e.id),"aria-label":"Remove from reading list",className:"absolute top-4 right-4 p-2 rounded-xl shadow-lg backdrop-blur-md bg-amber-500 text-white hover:bg-red-500 transition-all duration-300",children:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]}),(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-display font-bold text-amber-900 mb-1",children:e.title}),(0,o.jsx)("p",{className:"text-amber-900 mb-1",children:e.subtitle}),(0,o.jsxs)("p",{className:"text-gray-700 text-sm mb-2",children:["by ",e.author]}),(e.pages||e.readingTime)&&(0,o.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-4",children:[e.pages&&(0,o.jsxs)("span",{className:"flex items-center gap-1",children:[(0,o.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.pages," pages"]}),e.readingTime&&(0,o.jsxs)("span",{className:"flex items-center gap-1",children:[(0,o.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.readingTime]})]}),(0,o.jsx)("p",{className:"text-gray-800 text-sm leading-relaxed mb-6 line-clamp-3",children:e.description}),(0,o.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3",children:[(0,o.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),g(e.id).count>0?(0,o.jsxs)("span",{children:[g(e.id).count," download",1!==g(e.id).count?"s":""]}):(0,o.jsx)("span",{children:"Not downloaded yet"})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,o.jsxs)("a",{href:e.pdfLink,download:!0,onClick:()=>j(e.id,"pdf"),className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 text-white font-semibold text-sm shadow-lg shadow-amber-500/30 hover:shadow-xl hover:shadow-amber-500/40 transition-all duration-300 hover:scale-[1.02]",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]}),e.epubLink&&(0,o.jsxs)("a",{href:e.epubLink,download:!0,onClick:()=>j(e.id,"epub"),className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl bg-onde-ocean/10 text-onde-ocean font-semibold text-sm hover:bg-onde-ocean/20 transition-all duration-300",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"EPUB"]})]}),e.isFree&&(0,o.jsxs)("p",{className:"mt-4 text-xs text-green-600 flex items-center gap-1.5",children:[(0,o.jsx)("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Free illustrated edition"]})]})]},e.id))})})]}):(0,o.jsx)("div",{className:"min-h-screen py-12 flex items-center justify-center",children:(0,o.jsx)("div",{className:"animate-pulse text-gray-500",children:"Loading..."})})}},79355:(e,t,a)=>{"use strict";a.d(t,{c3:()=>o.c3});var o=a(18701);a(40637),a(19664),a(27541)},89058:(e,t,a)=>{Promise.resolve().then(a.bind(a,50212))}},e=>{e.O(0,[9664,5206,2536,8701,587,18,7358],()=>e(e.s=89058)),_N_E=e.O()}]);