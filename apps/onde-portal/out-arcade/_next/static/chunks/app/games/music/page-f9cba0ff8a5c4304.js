(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7646],{169:()=>{},35652:(e,t,r)=>{"use strict";var a=r(77011);r(169);var n=r(7620),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),l=void 0!==a&&a.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,a=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,s=void 0===n?l:n;c(i(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o=document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(i(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed){var r=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(a){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},r.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},r.cssRules=function(){var e=this;return this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(i(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(a,r):n.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function m(e,t){if(!t)return"jsx-"+e;var r=String(t),a=e+r;return u[a]||(u[a]="jsx-"+d(e+"-"+r)),u[a]}function h(e,t){var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var x=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,a=void 0===r?null:r,n=t.optimizeForSpeed,s=void 0!==n&&n;this._sheet=a||new o({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),a&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),a=r.styleId,n=r.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var s=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=s,this._instancesCounts[a]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var a=this._fromServer&&this._fromServer[r];a?(a.parentNode.removeChild(a),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],a=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,a=e.id;if(r){var n=m(a,r);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return h(n,e)}):[h(n,t)]}}return{styleId:m(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),b=n.createContext(null);b.displayName="StyleSheetContext";var p=s.default.useInsertionEffect||s.default.useLayoutEffect,f=new x;function g(e){var t=f||n.useContext(b);return t&&p(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}g.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},t.style=g},55633:(e,t,r)=>{"use strict";e.exports=r(35652).style},72180:(e,t,r)=>{Promise.resolve().then(r.bind(r,82169))},82169:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(54568),n=r(55633),s=r.n(n),l=r(7620),i=r(19664),o=r.n(i);let c=[{note:"C4",freq:261.63,key:"a",label:"C",color:"white"},{note:"C#4",freq:277.18,key:"w",label:"C#",color:"black"},{note:"D4",freq:293.66,key:"s",label:"D",color:"white"},{note:"D#4",freq:311.13,key:"e",label:"D#",color:"black"},{note:"E4",freq:329.63,key:"d",label:"E",color:"white"},{note:"F4",freq:349.23,key:"f",label:"F",color:"white"},{note:"F#4",freq:369.99,key:"t",label:"F#",color:"black"},{note:"G4",freq:392,key:"g",label:"G",color:"white"},{note:"G#4",freq:415.3,key:"y",label:"G#",color:"black"},{note:"A4",freq:440,key:"h",label:"A",color:"white"},{note:"A#4",freq:466.16,key:"u",label:"A#",color:"black"},{note:"B4",freq:493.88,key:"j",label:"B",color:"white"},{note:"C5",freq:523.25,key:"k",label:"C",color:"white"}],d=[{id:"E2",freq:82.41,label:"E",color:"from-red-400 to-red-600"},{id:"A2",freq:110,label:"A",color:"from-orange-400 to-orange-600"},{id:"D3",freq:146.83,label:"D",color:"from-yellow-400 to-yellow-600"},{id:"G3",freq:196,label:"G",color:"from-green-400 to-green-600"},{id:"B3",freq:246.94,label:"B",color:"from-blue-400 to-blue-600"},{id:"E4",freq:329.63,label:"e",color:"from-purple-400 to-purple-600"}],u=[{id:"X_C5",freq:523.25,label:"C",color:"bg-red-500"},{id:"X_D5",freq:587.33,label:"D",color:"bg-orange-500"},{id:"X_E5",freq:659.25,label:"E",color:"bg-yellow-500"},{id:"X_F5",freq:698.46,label:"F",color:"bg-green-500"},{id:"X_G5",freq:783.99,label:"G",color:"bg-teal-500"},{id:"X_A5",freq:880,label:"A",color:"bg-blue-500"},{id:"X_B5",freq:987.77,label:"B",color:"bg-indigo-500"},{id:"X_C6",freq:1046.5,label:"C",color:"bg-purple-500"}],m=[{id:"kick",label:"\uD83E\uDD41",name:"Kick",key:"1",color:"from-red-500 to-red-700"},{id:"snare",label:"\uD83E\uDE98",name:"Snare",key:"2",color:"from-orange-500 to-orange-700"},{id:"hihat",label:"\uD83C\uDFB5",name:"Hi-Hat",key:"3",color:"from-yellow-500 to-yellow-700"},{id:"hihat-open",label:"\uD83D\uDD14",name:"Open HH",key:"4",color:"from-lime-500 to-lime-700"},{id:"tom",label:"\uD83D\uDD0A",name:"Tom",key:"5",color:"from-green-500 to-green-700"},{id:"tom-low",label:"\uD83D\uDCEF",name:"Low Tom",key:"6",color:"from-teal-500 to-teal-700"},{id:"crash",label:"\uD83D\uDCA5",name:"Crash",key:"7",color:"from-blue-500 to-blue-700"},{id:"ride",label:"\uD83D\uDD14",name:"Ride",key:"8",color:"from-indigo-500 to-indigo-700"},{id:"clap",label:"\uD83D\uDC4F",name:"Clap",key:"9",color:"from-purple-500 to-purple-700"},{id:"rim",label:"\uD83E\uDD62",name:"Rim",key:"0",color:"from-pink-500 to-pink-700"},{id:"cowbell",label:"\uD83D\uDD14",name:"Cowbell",key:"-",color:"from-amber-500 to-amber-700"},{id:"shaker",label:"\uD83C\uDFB6",name:"Shaker",key:"=",color:"from-rose-500 to-rose-700"}];function h(){let[e,t]=(0,l.useState)(new Set),[r,n]=(0,l.useState)(new Set),[i,h]=(0,l.useState)(new Set),[x,b]=(0,l.useState)(new Set),[p,f]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[y,w]=(0,l.useState)([]),[v,N]=(0,l.useState)([]),[T,k]=(0,l.useState)(""),[S,C]=(0,l.useState)(!1),[_,D]=(0,l.useState)(!1),[R,A]=(0,l.useState)(""),[q,F]=(0,l.useState)(.5),[V,E]=(0,l.useState)("piano"),[B,z]=(0,l.useState)(()=>{let e={};return m.forEach(t=>{e[t.id]=Array(16).fill(!1)}),e}),[O,I]=(0,l.useState)(!1),[G,M]=(0,l.useState)(0),[P,L]=(0,l.useState)(120),[X,H]=(0,l.useState)([]),[J,K]=(0,l.useState)(!1),[Q,U]=(0,l.useState)(!1),[Y,W]=(0,l.useState)(4e3),[Z,$]=(0,l.useState)([]),ee=(0,l.useRef)(B);(0,l.useEffect)(()=>{ee.current=B},[B]);let et=(0,l.useRef)(null),er=(0,l.useRef)(0),ea=(0,l.useRef)([]),en=(0,l.useRef)(null),es=(0,l.useRef)(null),el=(0,l.useRef)(null),ei=(0,l.useRef)(0),eo=(0,l.useCallback)(()=>(et.current||(et.current=new(window.AudioContext||window.webkitAudioContext),en.current=et.current.createGain(),en.current.connect(et.current.destination),en.current.gain.value=q),"suspended"===et.current.state&&et.current.resume(),et.current),[q]);(0,l.useEffect)(()=>{en.current&&(en.current.gain.value=q)},[q]),(0,l.useEffect)(()=>{let e=localStorage.getItem("onde-music-recordings");if(e)try{N(JSON.parse(e))}catch(e){console.error("Failed to load recordings")}let t=new URLSearchParams(window.location.search).get("r");if(t)try{let e=JSON.parse(atob(t));w(e.notes||[])}catch(e){console.error("Failed to load shared recording")}},[]);let ec=(0,l.useCallback)((e,r)=>{let a=eo(),n=en.current,s=a.createOscillator(),l=a.createGain();if(s.type="sine",s.frequency.setValueAtTime(e,a.currentTime),l.gain.setValueAtTime(.3,a.currentTime),l.gain.exponentialRampToValueAtTime(.01,a.currentTime+.8),s.connect(l),l.connect(n),s.start(),s.stop(a.currentTime+.8),t(e=>new Set(e).add(r)),setTimeout(()=>{t(e=>{let t=new Set(e);return t.delete(r),t})},150),p){let e=Date.now()-er.current;w(t=>[...t,{type:"piano",id:r,time:e}])}if(J){let e=Date.now()-ei.current;$(t=>[...t,{type:"piano",id:r,time:e}])}},[eo,p,J]),ed=(0,l.useCallback)((e,t)=>{let r=eo(),a=en.current,n=r.createGain();n.connect(a),n.gain.setValueAtTime(.4,r.currentTime),n.gain.exponentialRampToValueAtTime(.01,r.currentTime+1.5);let s=r.createOscillator();s.type="triangle",s.frequency.setValueAtTime(e,r.currentTime);let l=r.createOscillator();l.type="sine",l.frequency.setValueAtTime(2*e,r.currentTime);let i=r.createOscillator();i.type="sine",i.frequency.setValueAtTime(3*e,r.currentTime);let o=r.createGain();if(o.gain.value=.05,s.connect(n),l.connect(o),i.connect(o),o.connect(n),s.start(),l.start(),i.start(),s.stop(r.currentTime+1.5),l.stop(r.currentTime+1.5),i.stop(r.currentTime+1.5),h(e=>new Set(e).add(t)),setTimeout(()=>{h(e=>{let r=new Set(e);return r.delete(t),r})},200),p){let e=Date.now()-er.current;w(r=>[...r,{type:"guitar",id:t,time:e}])}if(J){let e=Date.now()-ei.current;$(r=>[...r,{type:"guitar",id:t,time:e}])}},[eo,p,J]),eu=(0,l.useCallback)((e,t)=>{let r=eo(),a=en.current,n=r.createOscillator(),s=r.createGain(),l=r.createBiquadFilter();n.type="sine",n.frequency.setValueAtTime(e,r.currentTime),l.type="bandpass",l.frequency.setValueAtTime(e,r.currentTime),l.Q.value=10,s.gain.setValueAtTime(.5,r.currentTime),s.gain.exponentialRampToValueAtTime(.01,r.currentTime+.6);let i=r.createOscillator();i.type="sine",i.frequency.setValueAtTime(4.2*e,r.currentTime);let o=r.createGain();if(o.gain.setValueAtTime(.1,r.currentTime),o.gain.exponentialRampToValueAtTime(.001,r.currentTime+.3),n.connect(l),l.connect(s),s.connect(a),i.connect(o),o.connect(a),n.start(),i.start(),n.stop(r.currentTime+.6),i.stop(r.currentTime+.3),b(e=>new Set(e).add(t)),setTimeout(()=>{b(e=>{let r=new Set(e);return r.delete(t),r})},150),p){let e=Date.now()-er.current;w(r=>[...r,{type:"xylophone",id:t,time:e}])}if(J){let e=Date.now()-ei.current;$(r=>[...r,{type:"xylophone",id:t,time:e}])}},[eo,p,J]),em=(0,l.useCallback)(e=>{let t=eo(),r=en.current,a=t.createGain();switch(a.connect(r),e){case"kick":{let e=t.createOscillator();e.type="sine",e.frequency.setValueAtTime(150,t.currentTime),e.frequency.exponentialRampToValueAtTime(40,t.currentTime+.1),a.gain.setValueAtTime(.8,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.connect(a),e.start(),e.stop(t.currentTime+.3);break}case"snare":{let e=t.createBufferSource(),r=t.createBuffer(1,.2*t.sampleRate,t.sampleRate),n=r.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=2*Math.random()-1;e.buffer=r;let s=t.createBiquadFilter();s.type="highpass",s.frequency.value=1e3,a.gain.setValueAtTime(.5,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.connect(s),s.connect(a),e.start();break}case"hihat":{let e=t.createBufferSource(),r=t.createBuffer(1,.1*t.sampleRate,t.sampleRate),n=r.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=2*Math.random()-1;e.buffer=r;let s=t.createBiquadFilter();s.type="highpass",s.frequency.value=5e3,a.gain.setValueAtTime(.3,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.05),e.connect(s),s.connect(a),e.start();break}case"hihat-open":{let e=t.createBufferSource(),r=t.createBuffer(1,.3*t.sampleRate,t.sampleRate),n=r.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=2*Math.random()-1;e.buffer=r;let s=t.createBiquadFilter();s.type="highpass",s.frequency.value=4e3,a.gain.setValueAtTime(.35,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.connect(s),s.connect(a),e.start();break}case"tom":{let e=t.createOscillator();e.type="sine",e.frequency.setValueAtTime(200,t.currentTime),e.frequency.exponentialRampToValueAtTime(80,t.currentTime+.15),a.gain.setValueAtTime(.6,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.connect(a),e.start(),e.stop(t.currentTime+.2);break}case"tom-low":{let e=t.createOscillator();e.type="sine",e.frequency.setValueAtTime(120,t.currentTime),e.frequency.exponentialRampToValueAtTime(50,t.currentTime+.2),a.gain.setValueAtTime(.7,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.connect(a),e.start(),e.stop(t.currentTime+.3);break}case"crash":{let e=t.createBufferSource(),r=t.createBuffer(1,.5*t.sampleRate,t.sampleRate),n=r.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=2*Math.random()-1;e.buffer=r;let s=t.createBiquadFilter();s.type="highpass",s.frequency.value=3e3,a.gain.setValueAtTime(.4,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),e.connect(s),s.connect(a),e.start();break}case"ride":{let e=t.createBufferSource(),r=t.createBuffer(1,.4*t.sampleRate,t.sampleRate),n=r.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=2*Math.random()-1;e.buffer=r;let s=t.createBiquadFilter();s.type="bandpass",s.frequency.value=6e3,s.Q.value=2,a.gain.setValueAtTime(.25,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),e.connect(s),s.connect(a),e.start();break}case"clap":for(let e=0;e<3;e++)setTimeout(()=>{let e=t.createBufferSource(),a=t.createBuffer(1,.03*t.sampleRate,t.sampleRate),n=a.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=2*Math.random()-1;e.buffer=a;let s=t.createGain();s.gain.setValueAtTime(.4,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.08),e.connect(s),s.connect(r),e.start()},15*e);break;case"rim":{let e=t.createOscillator();e.type="square",e.frequency.setValueAtTime(1800,t.currentTime),a.gain.setValueAtTime(.2,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.03),e.connect(a),e.start(),e.stop(t.currentTime+.03);break}case"cowbell":{let e=t.createOscillator();e.type="square",e.frequency.setValueAtTime(800,t.currentTime);let r=t.createOscillator();r.type="square",r.frequency.setValueAtTime(540,t.currentTime),a.gain.setValueAtTime(.2,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),e.connect(a),r.connect(a),e.start(),r.start(),e.stop(t.currentTime+.15),r.stop(t.currentTime+.15);break}case"shaker":{let e=t.createBufferSource(),r=t.createBuffer(1,.08*t.sampleRate,t.sampleRate),n=r.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=(2*Math.random()-1)*Math.sin(e/n.length*Math.PI);e.buffer=r;let s=t.createBiquadFilter();s.type="bandpass",s.frequency.value=8e3,a.gain.setValueAtTime(.2,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.08),e.connect(s),s.connect(a),e.start()}}if(n(t=>new Set(t).add(e)),setTimeout(()=>{n(t=>{let r=new Set(t);return r.delete(e),r})},150),p){let t=Date.now()-er.current;w(r=>[...r,{type:"drum",id:e,time:t}])}if(J){let t=Date.now()-ei.current;$(r=>[...r,{type:"drum",id:e,time:t}])}},[eo,p,J]),eh=(0,l.useCallback)(e=>{if("piano"===e.type){let t=c.find(t=>t.note===e.id);t&&ec(t.freq,t.note)}else if("guitar"===e.type){let t=d.find(t=>t.id===e.id);t&&ed(t.freq,t.id)}else if("xylophone"===e.type){let t=u.find(t=>t.id===e.id);t&&eu(t.freq,t.id)}else em(e.id)},[ec,ed,eu,em]);(0,l.useEffect)(()=>{let e=e=>{if(e.repeat||S||_)return;let t=c.find(t=>t.key===e.key.toLowerCase());if(t)return void ec(t.freq,t.note);let r=m.find(t=>t.key===e.key);r&&em(r.id)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[ec,em,S,_]);let ex=(0,l.useCallback)(()=>{if(0===y.length||g)return;j(!0),ea.current=[],y.forEach(e=>{let t=setTimeout(()=>{eh(e)},e.time);ea.current.push(t)});let e=setTimeout(()=>{j(!1)},Math.max(...y.map(e=>e.time),0)+500);ea.current.push(e)},[y,g,eh]),eb=(0,l.useCallback)(()=>{I(!0),M(0);let e=0;es.current=setInterval(()=>{M(e);let t=ee.current;m.forEach(r=>{t[r.id][e]&&em(r.id)}),e=(e+1)%16},60/P/4*1e3)},[P,em]),ep=()=>{if(K(!1),Z.length>0){let e={id:Date.now().toString(),notes:Z.map(e=>({...e,time:e.time%Y})),muted:!1,volume:1};H(t=>[...t,e]),$([])}},ef=(0,l.useCallback)(()=>{if(Q)el.current&&(clearInterval(el.current),el.current=null),ea.current.forEach(e=>clearTimeout(e)),ea.current=[],U(!1);else{U(!0);let e=()=>{X.forEach(e=>{e.muted||e.notes.forEach(e=>{let t=setTimeout(()=>{eh(e)},e.time);ea.current.push(t)})})};e(),el.current=setInterval(e,Y)}},[Q,X,Y,eh]);(0,l.useEffect)(()=>()=>{es.current&&clearInterval(es.current),el.current&&clearInterval(el.current),ea.current.forEach(e=>clearTimeout(e))},[]);let eg=async()=>{try{await navigator.clipboard.writeText(R)}catch(t){let e=document.createElement("textarea");e.value=R,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},ej=c.filter(e=>"white"===e.color),ey=c.filter(e=>"black"===e.color);return(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 p-4 overflow-x-hidden",children:[(0,a.jsxs)(o(),{href:"/games/arcade/",className:"fixed top-4 left-4 z-50 flex items-center gap-2 bg-black/70 hover:bg-black/90 text-white px-4 py-2 rounded-full backdrop-blur-sm border border-white/20 transition-all active:scale-95 touch-manipulation",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-lg",children:"←"}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 font-mono text-sm",children:"Arcade"})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex items-center justify-between mb-6",children:[(0,a.jsx)(o(),{href:"/games/arcade/",className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105 backdrop-blur-sm",children:"← Back"}),(0,a.jsxs)("h1",{className:"jsx-d9b2395182c3a7d5 text-3xl md:text-4xl font-black text-white drop-shadow-lg text-center flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 animate-bounce",children:"\uD83C\uDFB9"}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5",children:"Music Maker"}),(0,a.jsx)("span",{style:{animationDelay:"0.1s"},className:"jsx-d9b2395182c3a7d5 animate-bounce",children:"\uD83C\uDFB5"})]}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 w-20"})," "]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white text-xl",children:"\uD83D\uDD08"}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:q,onChange:e=>F(parseFloat(e.target.value)),className:"jsx-d9b2395182c3a7d5 w-32 accent-white"}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white text-xl",children:"\uD83D\uDD0A"})]}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex justify-center gap-2 mb-6 flex-wrap",children:["piano","guitar","xylophone","drums"].map(e=>(0,a.jsxs)("button",{onClick:()=>E(e),className:"jsx-d9b2395182c3a7d5 "+"px-4 py-2 rounded-full font-bold transition-all ".concat(V===e?"bg-white text-purple-600 scale-105 shadow-lg":"bg-white/20 text-white hover:bg-white/30"),children:["piano"===e&&"\uD83C\uDFB9 Piano","guitar"===e&&"\uD83C\uDFB8 Guitar","xylophone"===e&&"\uD83C\uDFB5 Xylophone","drums"===e&&"\uD83E\uDD41 Drums"]},e))}),"piano"===V&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83C\uDFB9 Piano"}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 relative flex justify-center",children:[(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex gap-1",children:ej.map((t,r)=>(0,a.jsxs)("button",{onClick:()=>ec(t.freq,t.note),style:{zIndex:1},className:"jsx-d9b2395182c3a7d5 "+"\n                      w-10 md:w-14 h-32 md:h-44 rounded-b-lg shadow-lg transition-all duration-75\n                      ".concat(e.has(t.note)?"bg-gradient-to-b from-yellow-200 to-yellow-400 transform scale-95":"bg-gradient-to-b from-white to-gray-100 hover:from-gray-50 hover:to-gray-200","\n                      border-2 border-gray-200 relative\n                    "),children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 absolute bottom-2 left-1/2 -translate-x-1/2 text-xs md:text-sm text-gray-500 font-bold",children:t.label}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 absolute bottom-8 left-1/2 -translate-x-1/2 text-[10px] text-gray-400 uppercase",children:t.key})]},t.note))}),(0,a.jsx)("div",{style:{width:"calc(100% - 0.25rem)"},className:"jsx-d9b2395182c3a7d5 absolute top-0 left-1/2 -translate-x-1/2 flex",children:ej.slice(0,-1).map((t,r)=>{if(![0,1,3,4,5].includes(r))return(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 w-10 md:w-14"},r);let n=ey[[0,1,3,4,5].indexOf(r)];return n?(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 relative w-10 md:w-14",children:(0,a.jsx)("button",{onClick:()=>ec(n.freq,n.note),style:{zIndex:2,transform:"translateX(-50%)"},className:"jsx-d9b2395182c3a7d5 "+"\n                          absolute left-1/2 w-6 md:w-9 h-20 md:h-28 rounded-b-md shadow-lg transition-all duration-75\n                          ".concat(e.has(n.note)?"bg-gradient-to-b from-yellow-500 to-yellow-700 transform scale-95":"bg-gradient-to-b from-gray-700 to-gray-900 hover:from-gray-600 hover:to-gray-800","\n                          border border-gray-800\n                        "),children:(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 absolute bottom-1 left-1/2 -translate-x-1/2 text-[8px] md:text-[10px] text-gray-400 uppercase",children:n.key})})},r):(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 w-10 md:w-14"},r)})})]})]}),"guitar"===V&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83C\uDFB8 Guitar"}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex flex-col gap-2 max-w-md mx-auto",children:d.map(e=>(0,a.jsxs)("button",{onClick:()=>ed(e.freq,e.id),className:"jsx-d9b2395182c3a7d5 "+"\n                    h-10 rounded-full shadow-lg transition-all duration-100\n                    bg-gradient-to-r ".concat(e.color,"\n                    ").concat(i.has(e.id)?"scale-y-150 brightness-150 ring-2 ring-white":"hover:scale-y-110 hover:brightness-110","\n                    flex items-center justify-between px-4\n                    border-2 border-white/30\n                  "),children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold text-lg",children:e.label}),(0,a.jsxs)("span",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-sm",children:[e.freq.toFixed(0)," Hz"]})]},e.id))}),(0,a.jsx)("p",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-center mt-4 text-sm",children:"Click strings to strum!"})]}),"xylophone"===V&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83C\uDFB5 Xylophone"}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex justify-center gap-1 md:gap-2",children:u.map((e,t)=>(0,a.jsx)("button",{onClick:()=>eu(e.freq,e.id),style:{width:"".concat(60-3*t,"px"),height:"".concat(140-10*t,"px")},className:"jsx-d9b2395182c3a7d5 "+"\n                    ".concat(e.color," rounded-lg shadow-lg transition-all duration-75\n                    ").concat(x.has(e.id)?"transform scale-95 brightness-150 ring-2 ring-white":"hover:scale-105 hover:brightness-110","\n                    flex flex-col items-center justify-end p-2 md:p-3\n                    border-2 border-white/30\n                  "),children:(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold text-sm md:text-base",children:e.label})},e.id))}),(0,a.jsx)("p",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-center mt-4 text-sm",children:"Tap the bars to play!"})]}),"drums"===V&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83E\uDD41 Drum Pads"}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 grid grid-cols-4 md:grid-cols-6 gap-2 md:gap-3",children:m.map(e=>(0,a.jsxs)("button",{onClick:()=>em(e.id),className:"jsx-d9b2395182c3a7d5 "+"\n                    aspect-square rounded-2xl shadow-lg transition-all duration-75\n                    bg-gradient-to-br ".concat(e.color,"\n                    ").concat(r.has(e.id)?"transform scale-90 brightness-150 ring-4 ring-white":"hover:scale-105 hover:brightness-110","\n                    flex flex-col items-center justify-center gap-0.5 p-1 md:p-2\n                    border-2 border-white/30\n                  "),children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-2xl md:text-3xl",children:e.label}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold text-[10px] md:text-xs",children:e.name}),(0,a.jsxs)("span",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-[8px] md:text-[10px]",children:["[",e.key,"]"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83C\uDF9B️ Beat Sequencer"}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold",children:"BPM:"}),(0,a.jsx)("input",{type:"range",min:"60",max:"180",value:P,onChange:e=>L(parseInt(e.target.value)),className:"jsx-d9b2395182c3a7d5 w-32 accent-white"}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-mono w-12",children:P})]}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 overflow-x-auto pb-2",children:(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 min-w-max",children:m.slice(0,8).map(e=>(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex items-center gap-1 mb-1",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 w-16 text-white text-xs font-bold truncate",children:e.name}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex gap-0.5",children:Array(16).fill(0).map((t,r)=>(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void z(e=>({...e,[t]:e[t].map((e,t)=>t===r?!e:e)}))},className:"jsx-d9b2395182c3a7d5 "+"\n                          w-6 h-6 md:w-8 md:h-8 rounded transition-all\n                          ".concat(B[e.id][r]?"bg-gradient-to-br ".concat(e.color," ring-1 ring-white"):"bg-white/10 hover:bg-white/20","\n                          ").concat(G===r&&O?"ring-2 ring-yellow-400":"","\n                          ").concat(r%4==0?"ml-1":"","\n                        ")},r))})]},e.id))})}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex justify-center gap-3 mt-4",children:[O?(0,a.jsx)("button",{onClick:()=>{es.current&&(clearInterval(es.current),es.current=null),I(!1),M(0)},className:"jsx-d9b2395182c3a7d5 bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105",children:"⏹️ Stop"}):(0,a.jsx)("button",{onClick:eb,className:"jsx-d9b2395182c3a7d5 bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105",children:"▶️ Play"}),(0,a.jsx)("button",{onClick:()=>{let e={};m.forEach(t=>{e[t.id]=Array(16).fill(!1)}),z(e)},className:"jsx-d9b2395182c3a7d5 bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105",children:"\uD83D\uDDD1️ Clear"})]})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83D\uDD01 Looper"}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold",children:"Loop:"}),[2e3,4e3,8e3].map(e=>(0,a.jsxs)("button",{onClick:()=>W(e),className:"jsx-d9b2395182c3a7d5 "+"px-3 py-1 rounded-full font-bold transition-all ".concat(Y===e?"bg-white text-purple-600":"bg-white/20 text-white hover:bg-white/30"),children:[e/1e3,"s"]},e))]}),X.length>0&&(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 mb-4 space-y-2",children:X.map((e,t)=>(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 "+"flex items-center gap-3 p-2 rounded-xl ".concat(e.muted?"bg-white/5":"bg-white/15"),children:[(0,a.jsxs)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold",children:["Layer ",t+1]}),(0,a.jsxs)("span",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-sm",children:[e.notes.length," notes"]}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex-1"}),(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void H(e=>e.map(e=>e.id===t?{...e,muted:!e.muted}:e))},className:"jsx-d9b2395182c3a7d5 "+"px-3 py-1 rounded-full text-sm font-bold transition-all ".concat(e.muted?"bg-red-500/50 text-white":"bg-green-500 text-white"),children:e.muted?"\uD83D\uDD07":"\uD83D\uDD0A"}),(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void H(e=>e.filter(e=>e.id!==t))},className:"jsx-d9b2395182c3a7d5 bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-full text-sm font-bold transition-all",children:"✕"})]},e.id))}),J&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 text-white font-bold",children:"Recording loop..."})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex justify-center gap-3",children:[J?(0,a.jsx)("button",{onClick:ep,className:"jsx-d9b2395182c3a7d5 bg-gray-700 hover:bg-gray-800 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105 animate-pulse ring-2 ring-red-500",children:"⏹️ Stop"}):(0,a.jsxs)("button",{onClick:()=>{$([]),ei.current=Date.now(),K(!0),setTimeout(()=>{ep()},Y)},className:"jsx-d9b2395182c3a7d5 bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 w-3 h-3 bg-white rounded-full"}),"Add Layer"]}),X.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:ef,className:"jsx-d9b2395182c3a7d5 "+"".concat(Q?"bg-yellow-500 hover:bg-yellow-600":"bg-green-500 hover:bg-green-600"," text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105"),children:Q?"⏹️ Stop":"▶️ Play Loop"}),(0,a.jsx)("button",{onClick:()=>{el.current&&(clearInterval(el.current),el.current=null),ea.current.forEach(e=>clearTimeout(e)),H([]),U(!1)},className:"jsx-d9b2395182c3a7d5 bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-full font-bold shadow-lg transition-all hover:scale-105",children:"\uD83D\uDDD1️ Clear All"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83C\uDF99️ Recording Studio"}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex flex-wrap justify-center gap-3 mb-4",children:[p?(0,a.jsxs)("button",{onClick:()=>{f(!1),y.length>0&&C(!0)},className:"jsx-d9b2395182c3a7d5 bg-gray-700 hover:bg-gray-800 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2 animate-pulse ring-2 ring-red-500",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 w-3 h-3 bg-red-500 rounded"}),"Stop Recording"]}):(0,a.jsxs)("button",{onClick:()=>{w([]),er.current=Date.now(),f(!0)},className:"jsx-d9b2395182c3a7d5 bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"jsx-d9b2395182c3a7d5 w-3 h-3 bg-white rounded-full animate-pulse"}),"Record"]}),y.length>0&&!p&&(0,a.jsxs)(a.Fragment,{children:[g?(0,a.jsx)("button",{onClick:()=>{ea.current.forEach(e=>clearTimeout(e)),ea.current=[],j(!1)},className:"jsx-d9b2395182c3a7d5 bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:"⏹️ Stop"}):(0,a.jsx)("button",{onClick:ex,className:"jsx-d9b2395182c3a7d5 bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:"▶️ Play"}),(0,a.jsx)("button",{onClick:()=>C(!0),className:"jsx-d9b2395182c3a7d5 bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:"\uD83D\uDCBE Save"}),(0,a.jsx)("button",{onClick:()=>{if(0===y.length)return;let e=btoa(JSON.stringify({notes:y}));A("".concat(window.location.origin).concat(window.location.pathname,"?r=").concat(e)),D(!0)},className:"jsx-d9b2395182c3a7d5 bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:"\uD83D\uDCE4 Share"}),(0,a.jsx)("button",{onClick:()=>w([]),className:"jsx-d9b2395182c3a7d5 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:"\uD83D\uDDD1️ Clear"})]})]}),y.length>0&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-black/30 rounded-xl p-3 overflow-hidden",children:[(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 flex gap-1 overflow-x-auto pb-2",children:y.slice(-50).map((e,t)=>(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 "+"\n                      flex-shrink-0 w-6 h-8 rounded flex items-center justify-center text-xs font-bold\n                      ".concat("piano"===e.type?"bg-gradient-to-b from-yellow-400 to-orange-500 text-white":"guitar"===e.type?"bg-gradient-to-b from-amber-400 to-amber-600 text-white":"xylophone"===e.type?"bg-gradient-to-b from-cyan-400 to-cyan-600 text-white":"bg-gradient-to-b from-pink-500 to-purple-600 text-white","\n                    "),children:"piano"===e.type?"♪":"guitar"===e.type?"\uD83C\uDFB8":"xylophone"===e.type?"✨":"●"},t))}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-xs text-center mt-2",children:[y.length," notes recorded"]})]})]}),v.length>0&&(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 mb-6 shadow-2xl border border-white/20",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-4 text-center",children:"\uD83D\uDCC1 My Recordings"}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 grid gap-3",children:v.map(e=>(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 rounded-xl p-3 flex items-center justify-between gap-3 hover:bg-white/20 transition-all",children:[(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"jsx-d9b2395182c3a7d5 text-white font-bold truncate",children:e.name}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5 text-white/60 text-sm",children:[e.notes.length," notes • ",Math.round(e.duration/1e3),"s"]})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{w(e.notes)},className:"jsx-d9b2395182c3a7d5 bg-green-500 hover:bg-green-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold transition-all",children:"Load"}),(0,a.jsx)("button",{onClick:()=>(e=>{let t=v.filter(t=>t.id!==e);N(t),localStorage.setItem("onde-music-recordings",JSON.stringify(t))})(e.id),className:"jsx-d9b2395182c3a7d5 bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold transition-all",children:"\uD83D\uDDD1️"})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white/10 backdrop-blur-md rounded-3xl p-4 md:p-6 shadow-2xl border border-white/20 text-center",children:[(0,a.jsx)("h2",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-white mb-3",children:"\uD83C\uDFAE How to Play"}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 text-white/80 text-sm md:text-base space-y-2",children:[(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83C\uDFB9 ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Piano:"})," Click keys or use keyboard (A-K for white, W-E-T-Y-U for black)"]}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83C\uDFB8 ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Guitar:"})," Click strings to strum different notes"]}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83C\uDFB5 ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Xylophone:"})," Tap the colorful bars for metallic tones"]}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83E\uDD41 ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Drums:"})," Click pads or use keys 1-0, -, ="]}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83C\uDF9B️ ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Sequencer:"})," Click grid to program beats, then play!"]}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83D\uDD01 ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Looper:"})," Record multiple layers and play them together"]}),(0,a.jsxs)("p",{className:"jsx-d9b2395182c3a7d5",children:["\uD83C\uDF99️ ",(0,a.jsx)("strong",{className:"jsx-d9b2395182c3a7d5",children:"Record:"})," Capture your performance to save or share!"]})]})]})]}),S&&(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-bounce-in",children:[(0,a.jsx)("h3",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-gray-800 mb-4 text-center",children:"\uD83D\uDCBE Save Recording"}),(0,a.jsx)("input",{type:"text",value:T,onChange:e=>k(e.target.value),placeholder:"Enter a name...",autoFocus:!0,className:"jsx-d9b2395182c3a7d5 w-full px-4 py-3 rounded-xl border-2 border-purple-300 focus:border-purple-500 focus:outline-none text-gray-800 mb-4"}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>C(!1),className:"jsx-d9b2395182c3a7d5 flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-xl font-bold transition-all",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!T.trim()||0===y.length)return;let e=Math.max(...y.map(e=>e.time),0),t=[...v,{id:Date.now().toString(),name:T.trim(),notes:y,duration:e,createdAt:Date.now()}];N(t),localStorage.setItem("onde-music-recordings",JSON.stringify(t)),C(!1),k("")},disabled:!T.trim(),className:"jsx-d9b2395182c3a7d5 flex-1 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-300 text-white px-4 py-2 rounded-xl font-bold transition-all disabled:cursor-not-allowed",children:"Save"})]})]})}),_&&(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl animate-bounce-in",children:[(0,a.jsx)("h3",{className:"jsx-d9b2395182c3a7d5 text-xl font-bold text-gray-800 mb-4 text-center",children:"\uD83D\uDCE4 Share Your Music!"}),(0,a.jsx)("div",{className:"jsx-d9b2395182c3a7d5 bg-gray-100 rounded-xl p-3 mb-4 break-all text-sm text-gray-600",children:R}),(0,a.jsxs)("div",{className:"jsx-d9b2395182c3a7d5 flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>D(!1),className:"jsx-d9b2395182c3a7d5 flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-xl font-bold transition-all",children:"Close"}),(0,a.jsx)("button",{onClick:eg,className:"jsx-d9b2395182c3a7d5 flex-1 bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-xl font-bold transition-all",children:"\uD83D\uDCCB Copy Link"})]})]})}),(0,a.jsx)(s(),{id:"d9b2395182c3a7d5",children:"@keyframes bounce-in{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.05)}100%{transform:scale(1);opacity:1}}.animate-bounce-in.jsx-d9b2395182c3a7d5{animation:bounce-in.3s ease-out forwards}"})]})}}},e=>{e.O(0,[9664,587,18,7358],()=>e(e.s=72180)),_N_E=e.O()}]);