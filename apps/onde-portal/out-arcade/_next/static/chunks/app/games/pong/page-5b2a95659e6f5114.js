(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2769],{57169:(e,t,r)=>{Promise.resolve().then(r.bind(r,59068))},59068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(54568),a=r(7620),l=r(19664),s=r.n(l);let c={background:"#0a0a12",court:"#0f0f1a",paddle1:"#00ff88",paddle2:"#ff4488",ball:"#ffffff",text:"#00ff88",centerLine:"#1a2a3a",accent:"#ff00aa"},i={easy:{reactionSpeed:.02,errorMargin:40,predictionAccuracy:.6},medium:{reactionSpeed:.05,errorMargin:20,predictionAccuracy:.8},hard:{reactionSpeed:.1,errorMargin:5,predictionAccuracy:.95}};function o(){let[e,t]=(0,a.useState)("menu"),[r,l]=(0,a.useState)("1p"),[o,u]=(0,a.useState)("medium"),[d,m]=(0,a.useState)(!0),[f,x]=(0,a.useState)({x:400,y:250,vx:0,vy:0,speed:6}),[p,h]=(0,a.useState)({y:210,score:0}),[y,g]=(0,a.useState)({y:210,score:0}),[v,b]=(0,a.useState)([]),[k,T]=(0,a.useState)(null),[w,S]=(0,a.useState)(0),[j,N]=(0,a.useState)(0),M=(0,a.useRef)(null),A=(0,a.useRef)(),R=(0,a.useRef)(new Set),E=(0,a.useRef)({paddle1Y:null,paddle2Y:null}),C=(0,a.useRef)(250),P=(0,a.useRef)(0),Y=(0,a.useRef)(f),L=(0,a.useRef)(p),q=(0,a.useRef)(y),D=(0,a.useRef)(w),{playSound:I,toggleSound:V}=function(){let e=(0,a.useRef)(null),t=(0,a.useRef)(!0),r=(0,a.useCallback)(()=>(e.current||(e.current=new(window.AudioContext||window.webkitAudioContext)),e.current),[]);return{playSound:(0,a.useCallback)(e=>{if(t.current)try{let t=r(),n=t.createOscillator(),a=t.createGain();switch(n.connect(a),a.connect(t.destination),e){case"paddle":n.type="square",n.frequency.value=440,a.gain.value=.15,n.start(),n.frequency.exponentialRampToValueAtTime(660,t.currentTime+.05),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),n.stop(t.currentTime+.1);break;case"wall":n.type="triangle",n.frequency.value=220,a.gain.value=.1,n.start(),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.08),n.stop(t.currentTime+.08);break;case"score":n.type="sine",n.frequency.value=330,a.gain.value=.2,n.start(),n.frequency.exponentialRampToValueAtTime(165,t.currentTime+.3),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),n.stop(t.currentTime+.4);break;case"start":n.type="square",n.frequency.value=440,a.gain.value=.15,n.start(),n.frequency.setValueAtTime(550,t.currentTime+.1),n.frequency.setValueAtTime(660,t.currentTime+.2),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.stop(t.currentTime+.3);break;case"win":n.type="sine",n.frequency.value=523,a.gain.value=.2,n.start(),setTimeout(()=>{let e=t.createOscillator(),r=t.createGain();e.connect(r),r.connect(t.destination),e.type="sine",e.frequency.value=659,r.gain.value=.2,e.start(),r.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.stop(t.currentTime+.3)},150),setTimeout(()=>{let e=t.createOscillator(),r=t.createGain();e.connect(r),r.connect(t.destination),e.type="sine",e.frequency.value=784,r.gain.value=.2,e.start(),r.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),e.stop(t.currentTime+.4)},300),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),n.stop(t.currentTime+.2)}}catch(e){}},[r]),toggleSound:(0,a.useCallback)(()=>(t.current=!t.current,t.current),[]),isSoundEnabled:()=>t.current}}();(0,a.useEffect)(()=>{Y.current=f},[f]),(0,a.useEffect)(()=>{L.current=p},[p]),(0,a.useEffect)(()=>{q.current=y},[y]),(0,a.useEffect)(()=>{D.current=w},[w]);let B=(0,a.useCallback)(e=>{let t=(Math.random()-.5)*Math.PI/3;x({x:400,y:250,vx:6*(1===e?1:2===e?-1:Math.random()>.5?1:-1)*Math.cos(t),vy:6*Math.sin(t),speed:6}),S(0),D.current=0},[]),O=(0,a.useCallback)(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=[];for(let l=0;l<n;l++)a.push({id:Date.now()+l,x:e,y:t,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8,life:1,color:r});b(e=>[...e,...a])},[]),W=(0,a.useCallback)(()=>{if("1p"!==r||"playing"!==e)return;let t=i[o],n=Y.current,a=q.current;if(n.vx>0){let e=(758-n.x)/n.vx,r=n.y+n.vy*e*t.predictionAccuracy;for(;r<0||r>500;)r<0&&(r=-r),r>500&&(r=1e3-r);C.current=r+=(Math.random()-.5)*t.errorMargin}let l=(C.current-40-a.y)*t.reactionSpeed*2;g(e=>({...e,y:Math.max(0,Math.min(420,e.y+l))}))},[r,e,o]),F=(0,a.useCallback)(()=>{(R.current.has("w")||R.current.has("W"))&&h(e=>({...e,y:Math.max(0,e.y-8)})),(R.current.has("s")||R.current.has("S"))&&h(e=>({...e,y:Math.min(420,e.y+8)})),"2p"===r&&(R.current.has("ArrowUp")&&g(e=>({...e,y:Math.max(0,e.y-8)})),R.current.has("ArrowDown")&&g(e=>({...e,y:Math.min(420,e.y+8)})))},[r]),G=(0,a.useCallback)(n=>{if("playing"===e){if(n-P.current<16){A.current=requestAnimationFrame(G);return}P.current=n,F(),W(),null!==E.current.paddle1Y&&h(e=>({...e,y:Math.max(0,Math.min(420,E.current.paddle1Y-40))})),"2p"===r&&null!==E.current.paddle2Y&&g(e=>({...e,y:Math.max(0,Math.min(420,E.current.paddle2Y-40))})),x(e=>{let{x:r,y:n,vx:a,vy:l,speed:s}=e,i=L.current,o=q.current;if(r+=a,((n+=l)<=6||n>=494)&&(l=-l,n=n<=6?6:494,I("wall"),O(r,n,c.ball,5)),r-6<=42&&r+6>=30&&n>=i.y&&n<=i.y+80&&a<0){let e=((n-i.y)/80-.5)*Math.PI/2;a=(s=Math.min(15,s+.3))*Math.cos(e),l=s*Math.sin(e),r=48,I("paddle"),O(r,n,c.paddle1,8),S(e=>{let t=e+1;return N(e=>Math.max(e,t)),t}),D.current++}if(r+6>=758&&r-6<=770&&n>=o.y&&n<=o.y+80&&a>0){let e=((n-o.y)/80-.5)*Math.PI/2;a=-(s=Math.min(15,s+.3))*Math.cos(e),l=s*Math.sin(e),r=752,I("paddle"),O(r,n,c.paddle2,8),S(e=>{let t=e+1;return N(e=>Math.max(e,t)),t}),D.current++}return r<-12?(I("score"),O(0,n,c.paddle2,20),g(e=>{let r=e.score+1;return r>=11&&(T(2),t("gameover"),I("win")),{...e,score:r}}),setTimeout(()=>B(2),1e3),{...e,x:400,y:250,vx:0,vy:0}):r>812?(I("score"),O(800,n,c.paddle1,20),h(e=>{let r=e.score+1;return r>=11&&(T(1),t("gameover"),I("win")),{...e,score:r}}),setTimeout(()=>B(1),1e3),{...e,x:400,y:250,vx:0,vy:0}):{x:r,y:n,vx:a,vy:l,speed:s}}),b(e=>e.map(e=>({...e,x:e.x+e.vx,y:e.y+e.vy,life:e.life-.03,vx:.95*e.vx,vy:.95*e.vy})).filter(e=>e.life>0)),A.current=requestAnimationFrame(G)}},[e,r,F,W,I,O,B]);(0,a.useEffect)(()=>("playing"===e&&(P.current=performance.now(),A.current=requestAnimationFrame(G)),()=>{A.current&&cancelAnimationFrame(A.current)}),[e,G]),(0,a.useEffect)(()=>{let r=r=>{R.current.add(r.key),"Escape"===r.key&&("playing"===e?t("paused"):"paused"===e&&t("playing"))," "===r.key&&("menu"===e||"gameover"===e)&&U()},n=e=>{R.current.delete(e.key)};return window.addEventListener("keydown",r),window.addEventListener("keyup",n),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",n)}},[e]),(0,a.useEffect)(()=>{let e=M.current;if(!e)return;let t=t=>{let r=e.getBoundingClientRect(),n=500/r.height;return(t-r.top)*n},n=t=>{let r=e.getBoundingClientRect(),n=800/r.width;return(t-r.left)*n},a=e=>{e.preventDefault(),Array.from(e.touches).forEach(e=>{let a=n(e.clientX),l=t(e.clientY);a<400?E.current.paddle1Y=l:"2p"===r&&(E.current.paddle2Y=l)})},l=e=>{e.preventDefault(),Array.from(e.touches).forEach(e=>{let a=n(e.clientX),l=t(e.clientY);a<400?E.current.paddle1Y=l:"2p"===r&&(E.current.paddle2Y=l)})},s=e=>{if(0===e.touches.length)E.current.paddle1Y=null,E.current.paddle2Y=null;else{let t=Array.from(e.touches).map(e=>n(e.clientX));t.some(e=>e<400)||(E.current.paddle1Y=null),t.some(e=>e>=400)||(E.current.paddle2Y=null)}};return e.addEventListener("touchstart",a,{passive:!1}),e.addEventListener("touchmove",l,{passive:!1}),e.addEventListener("touchend",s),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",s)}},[r]),(0,a.useEffect)(()=>{let t=M.current;if(!t)return;let r=t.getContext("2d");if(!r)return;r.fillStyle=c.background,r.fillRect(0,0,800,500),r.fillStyle=c.court,r.fillRect(10,10,780,480),r.strokeStyle=c.centerLine,r.lineWidth=4,r.setLineDash([20,15]),r.beginPath(),r.moveTo(400,20),r.lineTo(400,480),r.stroke(),r.setLineDash([]),r.strokeStyle=c.centerLine,r.lineWidth=2,r.beginPath(),r.arc(400,250,50,0,2*Math.PI),r.stroke(),r.font="bold 72px monospace",r.textAlign="center",r.fillStyle=c.paddle1+"40",r.fillText(p.score.toString(),200,90),r.fillStyle=c.paddle2+"40",r.fillText(y.score.toString(),600,90),w>0&&(r.font="bold 24px monospace",r.fillStyle=c.text+"80",r.fillText("Rally: ".concat(w),400,40));let n=(e,t,n)=>{r.shadowColor=n,r.shadowBlur=20,r.fillStyle=n,r.fillRect(e,t,12,80),r.shadowBlur=0,r.fillStyle="#ffffff40",r.fillRect(e+2,t+2,8,76)};if(n(30,p.y,c.paddle1),n(758,y.y,c.paddle2),0!==f.vx||0!==f.vy)for(let e=5;e>0;e--){let t=(1-e/5)*.3;r.fillStyle=c.ball+Math.floor(255*t).toString(16).padStart(2,"0"),r.beginPath(),r.arc(f.x-f.vx*e*.5,f.y-f.vy*e*.5,6*(1-e/5*.3),0,2*Math.PI),r.fill()}r.shadowColor=c.ball,r.shadowBlur=15,r.fillStyle=c.ball,r.beginPath(),r.arc(f.x,f.y,6,0,2*Math.PI),r.fill(),r.shadowBlur=0,v.forEach(e=>{r.fillStyle=e.color+Math.floor(255*e.life).toString(16).padStart(2,"0"),r.beginPath(),r.arc(e.x,e.y,3*e.life,0,2*Math.PI),r.fill()});let a=(f.speed-6)/9*100;a>0&&"playing"===e&&(r.fillStyle=c.accent+"60",r.fillRect(350,475,a,8),r.strokeStyle=c.accent,r.lineWidth=1,r.strokeRect(350,475,100,8)),"paused"===e&&(r.fillStyle="rgba(0, 0, 0, 0.7)",r.fillRect(0,0,800,500),r.font="bold 48px monospace",r.fillStyle=c.text,r.textAlign="center",r.fillText("PAUSED",400,230),r.font="20px monospace",r.fillStyle=c.text+"80",r.fillText("Press ESC to resume",400,280))},[f,p,y,v,e,w]);let U=(0,a.useCallback)(()=>{h({y:210,score:0}),g({y:210,score:0}),T(null),S(0),N(0),b([]),B(),t("playing"),I("start")},[B,I]);return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex flex-col items-center justify-center p-4",children:[(0,n.jsxs)("div",{className:"w-full max-w-4xl flex items-center justify-between mb-4",children:[(0,n.jsxs)(s(),{href:"/games",className:"flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors",children:[(0,n.jsx)("span",{className:"text-2xl",children:"←"}),(0,n.jsx)("span",{className:"font-mono",children:"Back"})]}),(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white font-mono tracking-wider",children:"\uD83C\uDFD3 PONG"}),(0,n.jsx)("button",{onClick:()=>{m(V())},className:"text-2xl hover:scale-110 transition-transform","aria-label":"Toggle sound",children:d?"\uD83D\uDD0A":"\uD83D\uDD07"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("canvas",{ref:M,width:800,height:500,className:"border-4 border-green-500/30 rounded-lg shadow-lg shadow-green-500/20 max-w-full h-auto touch-none",style:{imageRendering:"pixelated"}}),"menu"===e&&(0,n.jsxs)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center rounded-lg",children:[(0,n.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-green-400 font-mono mb-8 tracking-widest",children:"PONG"}),(0,n.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,n.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,n.jsx)("button",{onClick:()=>l("1p"),className:"px-6 py-3 rounded-lg font-mono text-lg transition-all ".concat("1p"===r?"bg-green-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:"\uD83E\uDD16 1 Player"}),(0,n.jsx)("button",{onClick:()=>l("2p"),className:"px-6 py-3 rounded-lg font-mono text-lg transition-all ".concat("2p"===r?"bg-green-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:"\uD83D\uDC65 2 Players"})]}),"1p"===r&&(0,n.jsx)("div",{className:"flex gap-2 justify-center",children:["easy","medium","hard"].map(e=>(0,n.jsxs)("button",{onClick:()=>u(e),className:"px-4 py-2 rounded font-mono transition-all ".concat(o===e?"bg-pink-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:["easy"===e?"\uD83D\uDE0A":"medium"===e?"\uD83D\uDE10":"\uD83D\uDE08"," ",e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),(0,n.jsx)("button",{onClick:U,className:"px-8 py-4 bg-green-500 hover:bg-green-400 text-black font-bold text-xl rounded-lg font-mono transition-all hover:scale-105 active:scale-95",children:"START GAME"}),(0,n.jsxs)("div",{className:"mt-8 text-gray-400 font-mono text-sm text-center",children:[(0,n.jsx)("p",{className:"mb-2",children:"Controls:"}),(0,n.jsx)("p",{children:"Player 1: W/S keys or touch left side"}),"2p"===r&&(0,n.jsx)("p",{children:"Player 2: ↑/↓ arrows or touch right side"}),(0,n.jsxs)("p",{className:"mt-2 text-gray-500",children:["First to ",11," wins!"]})]})]}),"gameover"===e&&(0,n.jsxs)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center rounded-lg",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:1===k?"\uD83C\uDFC6":"\uD83E\uDD16"}),(0,n.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white font-mono mb-2",children:"1p"===r?1===k?"YOU WIN!":"AI WINS!":"PLAYER ".concat(k," WINS!")}),(0,n.jsxs)("div",{className:"text-xl text-gray-400 font-mono mb-8",children:[(0,n.jsxs)("p",{children:["Final Score: ",p.score," - ",y.score]}),j>0&&(0,n.jsxs)("p",{className:"text-green-400",children:["Best Rally: ",j]})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{onClick:U,className:"px-6 py-3 bg-green-500 hover:bg-green-400 text-black font-bold rounded-lg font-mono transition-all hover:scale-105",children:"PLAY AGAIN"}),(0,n.jsx)("button",{onClick:()=>t("menu"),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-lg font-mono transition-all hover:scale-105",children:"MENU"})]})]})]}),"playing"===e&&(0,n.jsxs)("div",{className:"mt-4 flex gap-8 text-gray-400 font-mono text-sm",children:[(0,n.jsx)("span",{children:"ESC to pause"}),"1p"===r&&(0,n.jsxs)("span",{className:"text-pink-400",children:["AI: ",o.charAt(0).toUpperCase()+o.slice(1)]})]}),(0,n.jsxs)("div",{className:"mt-4 text-gray-500 font-mono text-xs text-center md:hidden",children:["Touch left side for Player 1","2p"===r&&", right side for Player 2"]})]})}}},e=>{e.O(0,[9664,587,18,7358],()=>e(e.s=57169)),_N_E=e.O()}]);