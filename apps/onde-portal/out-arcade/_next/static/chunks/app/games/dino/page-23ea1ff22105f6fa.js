(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3359],{63138:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>f});var i=l(54568),a=l(7620),s=l(19664),c=l.n(s);let r={dayBg:"#f7f7f7",nightBg:"#1a1a2e",ground:"#535353",dino:"#535353",dinoNight:"#c0c0c0",obstacle:"#535353",obstacleNight:"#c0c0c0",cloud:"#c0c0c0",cloudNight:"#2a2a4a",text:"#535353",textNight:"#ffffff",moon:"#fffacd"},n=e=>{try{let t=new AudioContext,l=t.createOscillator(),i=t.createGain();switch(l.connect(i),i.connect(t.destination),e){case"jump":l.frequency.value=600,l.type="square",i.gain.value=.1,l.start(),l.frequency.exponentialRampToValueAtTime(400,t.currentTime+.1),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),l.stop(t.currentTime+.1);break;case"score":l.frequency.value=880,l.type="sine",i.gain.value=.1,l.start(),setTimeout(()=>{l.frequency.value=1100},50),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),l.stop(t.currentTime+.15);break;case"hit":l.frequency.value=200,l.type="sawtooth",i.gain.value=.15,l.start(),l.frequency.exponentialRampToValueAtTime(50,t.currentTime+.3),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),l.stop(t.currentTime+.3);break;case"milestone":[523.25,659.25,783.99,1046.5].forEach((e,l)=>{setTimeout(()=>{let l=t.createOscillator(),i=t.createGain();l.connect(i),i.connect(t.destination),l.frequency.value=e,i.gain.value=.15,l.start(),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),l.stop(t.currentTime+.1)},60*l)}),l.stop(0)}}catch(e){}},o=(e,t,l,i,a,s,c)=>{let n=c?r.dinoNight:r.dino;e.fillStyle=n,i?(e.fillRect(t,l+20,55,16),e.fillRect(t+35,l+12,20,18),e.fillStyle=c?r.nightBg:r.dayBg,e.fillRect(t+47,l+16,4,4),e.fillStyle=n,s%2==0?(e.fillRect(t+10,l+36,6,10),e.fillRect(t+30,l+36,6,10)):(e.fillRect(t+5,l+36,6,10),e.fillRect(t+25,l+36,6,10))):(e.fillRect(t+10,l,30,35),e.fillRect(t,l+10,15,10),e.fillRect(t-5,l+15,10,5),e.fillRect(t+25,l-15,22,25),e.fillRect(t+35,l-20,12,10),e.fillStyle=c?r.nightBg:r.dayBg,e.fillRect(t+39,l-12,5,5),e.fillStyle=n,e.fillRect(t+30,l+15,8,12),e.fillRect(t+26,l+22,6,5),a||s%2!=0?a?(e.fillRect(t+12,l+35,8,12),e.fillRect(t+28,l+35,8,12)):(e.fillRect(t+12,l+35,8,8),e.fillRect(t+28,l+35,8,14)):(e.fillRect(t+12,l+35,8,14),e.fillRect(t+28,l+35,8,8)))},d=(e,t,l)=>{e.fillStyle=r.moon,e.beginPath(),e.arc(t,l,25,0,2*Math.PI),e.fill(),e.fillStyle="#e6e0a0",e.beginPath(),e.arc(t-8,l-5,5,0,2*Math.PI),e.arc(t+10,l+8,4,0,2*Math.PI),e.arc(t+5,l-10,3,0,2*Math.PI),e.fill()},u=(e,t,l)=>{t.forEach(t=>{let i=.5*Math.sin((l+t.twinkle)*.1)+.5;e.fillStyle="rgba(255, 255, 255, ".concat(.3+.7*i,")"),e.fillRect(t.x,t.y,t.size,t.size)})};function f(){let e=(0,a.useRef)(null),[t,l]=(0,a.useState)("idle"),[s,f]=(0,a.useState)(0),[h,x]=(0,a.useState)(0),[m,g]=(0,a.useState)("day"),[p,y]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!0),w=(0,a.useRef)({dinoY:193,dinoVelocity:0,isDucking:!1,isJumping:!1,obstacles:[],clouds:[],stars:[],speed:6,score:0,frame:0,groundOffset:0,lastObstacleX:1e3,nextObstacleId:0,lastMilestone:0}),R=(0,a.useRef)(),S=(0,a.useRef)(new Set);(0,a.useEffect)(()=>{w.current.stars=Array.from({length:50},()=>({x:800*Math.random(),y:190*Math.random(),size:2*Math.random()+1,twinkle:100*Math.random()}))},[]),(0,a.useEffect)(()=>{try{let e=localStorage.getItem("dino-runner-highscore");if(e){let t=JSON.parse(e);x(t.score)}}catch(e){}},[]);let N=(0,a.useCallback)(e=>{if(e>h){x(e);try{localStorage.setItem("dino-runner-highscore",JSON.stringify({score:e,date:new Date().toISOString()}))}catch(e){}}},[h]),j=(0,a.useCallback)(()=>{let e,t,l,i=["cactus-small","cactus-large","cactus-group","bird-low","bird-high"],a=[30,25,20,12,13],s=w.current.score>200?i:i.slice(0,3),c=w.current.score>200?a:a.slice(0,3),r=Math.random()*c.reduce((e,t)=>e+t,0),n=0;for(let e=0;e<c.length;e++)if((r-=c[e])<=0){n=e;break}let o=s[n];switch(o){case"cactus-small":default:e=26,l=240-(t=40);break;case"cactus-large":e=34,l=240-(t=55);break;case"cactus-group":e=46,l=240-(t=45);break;case"bird-low":e=58,t=25,l=190;break;case"bird-high":e=58,t=25,l=140}return{id:w.current.nextObstacleId++,type:o,x:850,width:e,height:t,y:l}},[]),k=(0,a.useCallback)((e,t,l)=>{let i=t?26:47,a=t?240-i:e,s={left:55,right:50+(t?55:44)-5,top:a+5,bottom:a+i-5};for(let e of l){let t={left:e.x+5,right:e.x+e.width-5,top:e.y+5,bottom:e.y+e.height-5};if(s.right>t.left&&s.left<t.right&&s.bottom>t.top&&s.top<t.bottom)return!0}return!1},[]),T=(0,a.useCallback)(()=>{var t;let i=e.current,a=null==i?void 0:i.getContext("2d");if(!i||!a)return;let s=w.current,c="night"===m;a.fillStyle=c?r.nightBg:r.dayBg,a.fillRect(0,0,800,300),c&&(u(a,s.stars,s.frame),d(a,700,50)),s.clouds.forEach(e=>{a.fillStyle=c?r.cloudNight:r.cloud,a.beginPath(),a.arc(e.x,e.y,15,0,2*Math.PI),a.arc(e.x+20,e.y-5,18,0,2*Math.PI),a.arc(e.x+40,e.y,15,0,2*Math.PI),a.arc(e.x+25,e.y+5,12,0,2*Math.PI),a.fill()}),a.strokeStyle=c?r.obstacleNight:r.ground,a.lineWidth=2,a.beginPath(),a.moveTo(0,242),a.lineTo(800,242),a.stroke(),a.lineWidth=1;for(let e=0;e<820;e+=20){let t=e-s.groundOffset%20;a.beginPath(),a.moveTo(t,248),a.lineTo(t+5,248),a.stroke(),a.beginPath(),a.moveTo(t+10,252),a.lineTo(t+13,252),a.stroke()}let x=S.current.has("ArrowDown")||S.current.has("KeyS");if((S.current.has("ArrowUp")||S.current.has("Space")||S.current.has("KeyW"))&&s.dinoY>=193&&!s.isJumping&&(s.dinoVelocity=-13,s.isJumping=!0,p&&n("jump")),s.isJumping||s.dinoY<193){let e=x?2:1;s.dinoVelocity+=.6*e,s.dinoY+=s.dinoVelocity,s.dinoY>=193&&(s.dinoY=193,s.dinoVelocity=0,s.isJumping=!1)}s.isDucking=x&&!s.isJumping,o(a,50,s.isDucking?214:s.dinoY,s.isDucking,s.isJumping,s.frame,c),s.obstacles=s.obstacles.filter(e=>e.x>-100),s.obstacles.forEach(e=>{e.x-=s.speed;var t=s.frame;switch(a.fillStyle=c?r.obstacleNight:r.obstacle,e.type){case"cactus-small":a.fillRect(e.x+8,e.y,10,e.height),a.fillRect(e.x,e.y+10,8,8),a.fillRect(e.x+18,e.y+15,8,8);break;case"cactus-large":a.fillRect(e.x+10,e.y,14,e.height),a.fillRect(e.x,e.y+15,10,10),a.fillRect(e.x,e.y+25,6,15),a.fillRect(e.x+24,e.y+10,10,10),a.fillRect(e.x+28,e.y+20,6,20);break;case"cactus-group":a.fillRect(e.x+5,e.y+5,8,e.height-5),a.fillRect(e.x+18,e.y,10,e.height),a.fillRect(e.x+33,e.y+8,8,e.height-8),a.fillRect(e.x,e.y+20,5,6),a.fillRect(e.x+28,e.y+12,5,6),a.fillRect(e.x+41,e.y+22,5,6);break;case"bird-low":case"bird-high":let l=t%2==0?-5:5;a.fillRect(e.x+15,e.y+10,25,12),a.fillRect(e.x+35,e.y+8,15,8),a.fillRect(e.x+45,e.y+10,10,4),a.fillRect(e.x+50,e.y+12,8,3),a.fillRect(e.x+5,e.y+l+8,20,6),a.fillRect(e.x,e.y+l+6,8,4),a.fillStyle=c?r.nightBg:r.dayBg,a.fillRect(e.x+42,e.y+10,3,3)}});let y=Math.max(300,500-10*s.speed),b=Math.max(400,700-10*s.speed);if((0===s.obstacles.length||800-((null==(t=s.obstacles[s.obstacles.length-1])?void 0:t.x)||0)>y+Math.random()*(b-y))&&s.obstacles.push(j()),s.clouds=s.clouds.filter(e=>e.x>-60),s.clouds.forEach(e=>{e.x-=e.speed}),s.clouds.length<5&&.01>Math.random()&&s.clouds.push({id:Date.now(),x:850,y:30+60*Math.random(),speed:1+.5*Math.random()}),s.groundOffset+=s.speed,k(s.dinoY,s.isDucking,s.obstacles)){p&&n("hit"),N(Math.floor(s.score)),f(Math.floor(s.score)),l("gameover");return}s.score+=.15,f(Math.floor(s.score));let v=100*Math.floor(s.score/100);v>s.lastMilestone&&v>0&&(s.lastMilestone=v,p&&n("milestone"));let D=Math.floor(s.score/700)%2==1;D&&"day"===m?g("night"):D||"night"!==m||g("day"),s.speed=Math.min(16,6+.001*s.score),s.frame++,a.fillStyle=c?r.textNight:r.text,a.font="bold 20px monospace",a.textAlign="right",a.fillText("HI ".concat(String(h).padStart(5,"0"),"  ").concat(String(Math.floor(s.score)).padStart(5,"0")),780,30),R.current=requestAnimationFrame(T)},[m,p,h,k,j,N]),D=(0,a.useCallback)(()=>{let e=w.current;e.dinoY=193,e.dinoVelocity=0,e.isDucking=!1,e.isJumping=!1,e.obstacles=[],e.speed=6,e.score=0,e.frame=0,e.groundOffset=0,e.lastMilestone=0,e.clouds=[{id:1,x:200,y:50,speed:1.2},{id:2,x:450,y:70,speed:.8},{id:3,x:650,y:40,speed:1}],f(0),g("day"),l("playing"),v(!1),R.current=requestAnimationFrame(T)},[T]);(0,a.useEffect)(()=>()=>{R.current&&cancelAnimationFrame(R.current)},[]),(0,a.useEffect)(()=>{let e=e=>{["ArrowUp","ArrowDown","Space"].includes(e.code)&&e.preventDefault(),S.current.add(e.code),("idle"===t||"gameover"===t)&&("Space"===e.code||"ArrowUp"===e.code)&&D()},l=e=>{S.current.delete(e.code)};return window.addEventListener("keydown",e),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",l)}},[t,D]);let M=(0,a.useCallback)(l=>{var i;l.preventDefault();let a=l.touches[0],s=null==(i=e.current)?void 0:i.getBoundingClientRect();if(!s)return;let c=a.clientY-s.top;if("idle"===t||"gameover"===t)return void D();c<s.height/2?S.current.add("Space"):S.current.add("ArrowDown")},[t,D]),E=(0,a.useCallback)(()=>{S.current.delete("Space"),S.current.delete("ArrowDown")},[]);return(0,a.useEffect)(()=>{if("playing"!==t){let l=e.current,i=null==l?void 0:l.getContext("2d");if(!l||!i)return;let a="night"===m;i.fillStyle=a?r.nightBg:r.dayBg,i.fillRect(0,0,800,300),a&&(u(i,w.current.stars,0),d(i,700,50)),i.strokeStyle=a?r.obstacleNight:r.ground,i.lineWidth=2,i.beginPath(),i.moveTo(0,242),i.lineTo(800,242),i.stroke(),o(i,50,193,!1,!1,0,a),i.fillStyle=a?r.textNight:r.text,i.font="bold 24px monospace",i.textAlign="center","gameover"===t&&(i.fillText("GAME OVER",400,100),i.font="bold 20px monospace",i.fillText("Score: ".concat(s),400,135),s>=h&&s>0&&(i.fillStyle="#ffd700",i.fillText("\uD83C\uDFC6 NEW HIGH SCORE! \uD83C\uDFC6",400,165))),i.fillStyle=a?r.textNight:r.text,i.font="16px monospace",i.fillText("Press SPACE or tap to start",400,200),i.font="bold 20px monospace",i.textAlign="right",i.fillText("HI ".concat(String(h).padStart(5,"0")),780,30)}},[t,s,h,m]),(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 flex flex-col items-center justify-center p-4",children:[(0,i.jsx)("div",{className:"w-full max-w-4xl mb-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(c(),{href:"/games",className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[(0,i.jsx)("span",{className:"text-2xl",children:"←"}),(0,i.jsx)("span",{children:"Back to Games"})]}),(0,i.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-4xl",children:"\uD83E\uDD96"}),"Dino Runner"]}),(0,i.jsx)("button",{onClick:()=>y(!p),className:"text-2xl p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",title:p?"Mute":"Unmute",children:p?"\uD83D\uDD0A":"\uD83D\uDD07"})]})}),(0,i.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,i.jsx)("canvas",{ref:e,width:800,height:300,className:"block cursor-pointer",onTouchStart:M,onTouchEnd:E,onClick:()=>{("idle"===t||"gameover"===t)&&D()}}),b&&"idle"===t&&(0,i.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"bg-white rounded-xl p-6 mx-4 text-center max-w-md",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\uD83E\uDD96 How to Play"}),(0,i.jsxs)("div",{className:"space-y-3 text-left mb-6",children:[(0,i.jsxs)("p",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"⬆️"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"SPACE / ↑ / W"})," - Jump over obstacles"]})]}),(0,i.jsxs)("p",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"⬇️"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"↓ / S"})," - Duck under birds"]})]}),(0,i.jsxs)("p",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCF1"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"Touch"})," - Top half = jump, Bottom = duck"]})]}),(0,i.jsxs)("p",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF19"}),(0,i.jsx)("span",{children:"Day and night cycle every 700 points!"})]})]}),(0,i.jsx)("button",{onClick:D,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all transform hover:scale-105",children:"Start Running! \uD83C\uDFC3"})]})})]}),(0,i.jsxs)("div",{className:"mt-6 flex gap-8 text-white",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-3xl font-bold font-mono",children:String(s).padStart(5,"0")}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Score"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-3xl font-bold font-mono text-yellow-400",children:String(h).padStart(5,"0")}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"High Score"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-3xl",children:"day"===m?"☀️":"\uD83C\uDF19"}),(0,i.jsx)("div",{className:"text-white/60 text-sm capitalize",children:m})]})]}),(0,i.jsxs)("div",{className:"mt-8 text-white/50 text-sm text-center max-w-md",children:[(0,i.jsx)("p",{children:"\uD83D\uDCA1 Hold down to duck while in the air for a fast fall!"}),(0,i.jsx)("p",{className:"mt-1",children:"\uD83E\uDD85 Birds appear after 200 points - duck under low ones, jump over high ones!"})]})]})}},99392:(e,t,l)=>{Promise.resolve().then(l.bind(l,63138))}},e=>{e.O(0,[9664,587,18,7358],()=>e(e.s=99392)),_N_E=e.O()}]);