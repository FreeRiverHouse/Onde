(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{169:()=>{},35652:(e,t,r)=>{"use strict";var n=r(77011);r(169);var a=r(7620),o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),s=void 0!==n&&n.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,a=t.optimizeForSpeed,o=void 0===a?s:a;c(i(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",c("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l=document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(s||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(i(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return s||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed){var r=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){s||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];c(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},r.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},r.cssRules=function(){var e=this;return this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(i(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return r?a.insertBefore(n,r):a.appendChild(n),n},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},d={};function f(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return d[n]||(d[n]="jsx-"+u(e+"-"+r)),d[n]}function h(e,t){var r=e+t;return d[r]||(d[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[r]}var m=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,n=void 0===r?null:r,a=t.optimizeForSpeed,o=void 0!==a&&a;this._sheet=n||new l({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),n&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),n=r.styleId,a=r.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var o=a.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=o,this._instancesCounts[n]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],n=e[1];return o.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,n=e.id;if(r){var a=f(n,r);return{styleId:a,rules:Array.isArray(t)?t.map(function(e){return h(a,e)}):[h(a,t)]}}return{styleId:f(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=a.createContext(null);p.displayName="StyleSheetContext";var x=o.default.useInsertionEffect||o.default.useLayoutEffect,y=new m;function b(e){var t=y||a.useContext(p);return t&&x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}b.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},t.style=b},55633:(e,t,r)=>{"use strict";e.exports=r(35652).style},72836:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(54568),a=r(55633),o=r.n(a),s=r(7620),i=r(19664),l=r.n(i);let c={background:"#0a0a0f",player:"#00ff88",playerGlow:"#00ffcc",alien1:"#ff4466",alien2:"#ffaa00",alien3:"#aa55ff",boss:"#ff0066",bullet:"#00ffff",enemyBullet:"#ff6600",shield:"#44ff44",text:"#00ff88",neonBlue:"#00ccff",neonPurple:"#aa00ff"},u={basic:{emoji:"\uD83D\uDC7E",health:1,points:10,color:c.alien1},medium:{emoji:"\uD83D\uDC7D",health:2,points:20,color:c.alien2},strong:{emoji:"\uD83D\uDEF8",health:3,points:30,color:c.alien3},boss:{emoji:"\uD83D\uDC79",health:20,points:500,color:c.boss}},d={rapid:{emoji:"⚡",duration:8e3,color:"#ffff00",name:"Rapid Fire"},spread:{emoji:"\uD83D\uDD31",duration:1e4,color:"#00aaff",name:"Spread Shot"},shield:{emoji:"\uD83D\uDEE1️",duration:15e3,color:"#44ff44",name:"Shield"},laser:{emoji:"⚔️",duration:6e3,color:"#ff00ff",name:"Laser Beam"},bomb:{emoji:"\uD83D\uDCA3",duration:0,color:"#ff6600",name:"Smart Bomb"},slow:{emoji:"\uD83D\uDD50",duration:8e3,color:"#88ffff",name:"Slow Motion"}},f=e=>{try{let t=new AudioContext,r=t.createOscillator(),n=t.createGain();switch(r.connect(n),n.connect(t.destination),e){case"shoot":r.type="square",r.frequency.value=880,n.gain.value=.1,r.start(),r.frequency.exponentialRampToValueAtTime(440,t.currentTime+.1),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),r.stop(t.currentTime+.1);break;case"hit":r.type="square",r.frequency.value=200,n.gain.value=.15,r.start(),r.frequency.exponentialRampToValueAtTime(100,t.currentTime+.1),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),r.stop(t.currentTime+.1);break;case"explosion":r.type="sawtooth",r.frequency.value=150,n.gain.value=.2,r.start(),r.frequency.exponentialRampToValueAtTime(30,t.currentTime+.3),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),r.stop(t.currentTime+.3);break;case"powerup":r.type="sine",r.frequency.value=600,n.gain.value=.15,r.start(),r.frequency.exponentialRampToValueAtTime(1200,t.currentTime+.2),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.25),r.stop(t.currentTime+.25);break;case"playerHit":r.type="sawtooth",r.frequency.value=200,n.gain.value=.25,r.start(),r.frequency.exponentialRampToValueAtTime(50,t.currentTime+.4),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),r.stop(t.currentTime+.4);break;case"boss":r.type="square",r.frequency.value=100,n.gain.value=.2,r.start(),r.frequency.exponentialRampToValueAtTime(50,t.currentTime+.5),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),r.stop(t.currentTime+.5);break;case"victory":[523.25,659.25,783.99,1046.5].forEach((e,r)=>{setTimeout(()=>{let r=t.createOscillator(),n=t.createGain();r.connect(n),n.connect(t.destination),r.type="square",r.frequency.value=e,n.gain.value=.15,r.start(),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),r.stop(t.currentTime+.2)},100*r)});break;case"bomb":r.type="sawtooth",r.frequency.value=80,n.gain.value=.3,r.start(),r.frequency.exponentialRampToValueAtTime(20,t.currentTime+.5),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),r.stop(t.currentTime+.5)}}catch(e){}},h=e=>{let{active:t}=e;if(!t)return null;let r=["#00ff88","#ff0066","#00ccff","#ffff00","#ff6600","#aa00ff"],a=Array.from({length:80},(e,t)=>({id:t,left:100*Math.random(),delay:1.5*Math.random(),duration:2+2*Math.random(),color:r[Math.floor(Math.random()*r.length)],rotation:360*Math.random(),size:6+6*Math.random()}));return(0,n.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:a.map(e=>(0,n.jsx)("div",{className:"absolute animate-confetti",style:{left:"".concat(e.left,"%"),top:"-20px",width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),backgroundColor:e.color,animationDelay:"".concat(e.delay,"s"),animationDuration:"".concat(e.duration,"s"),transform:"rotate(".concat(e.rotation,"deg)"),boxShadow:"0 0 ".concat(e.size,"px ").concat(e.color)}},e.id))})},m=e=>{let{particles:t}=e;return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)("div",{className:"absolute rounded-full pointer-events-none",style:{left:e.x,top:e.y,width:e.size,height:e.size,backgroundColor:e.color,opacity:e.life,boxShadow:"0 0 ".concat(2*e.size,"px ").concat(e.color),transform:"translate(-50%, -50%)"}},e.id))})},p=e=>{let{explosions:t}=e;return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)("div",{className:"absolute rounded-full pointer-events-none",style:{left:e.x-e.radius,top:e.y-e.radius,width:2*e.radius,height:2*e.radius,backgroundColor:"transparent",border:"3px solid ".concat(e.color),boxShadow:"0 0 ".concat(e.radius,"px ").concat(e.color,", inset 0 0 ").concat(e.radius/2,"px ").concat(e.color),opacity:1-e.radius/e.maxRadius}},e.id))})},x=e=>{let{powerUps:t,now:r}=e;return(0,n.jsx)("div",{className:"flex flex-wrap gap-2 justify-center mb-2",children:t.map((e,t)=>{let a=Math.max(0,Math.ceil((e.expiresAt-r)/1e3)),o=d[e.type];return(0,n.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1 animate-pulse",style:{backgroundColor:o.color+"30",color:o.color,border:"1px solid ".concat(o.color),boxShadow:"0 0 10px ".concat(o.color,"40")},children:[e.emoji," ",a>0?"".concat(a,"s"):"∞"]},t)})})},y=e=>{let{x:t,hasShield:r}=e;return(0,n.jsxs)("div",{className:"absolute transition-all duration-50",style:{left:t-20,bottom:20,width:40,height:30},children:[r&&(0,n.jsx)("div",{className:"absolute rounded-full animate-pulse",style:{left:-10,top:-10,width:60,height:50,border:"2px solid ".concat(c.shield),boxShadow:"0 0 15px ".concat(c.shield,", inset 0 0 10px ").concat(c.shield,"40")}}),(0,n.jsx)("div",{className:"absolute",style:{left:"50%",bottom:0,transform:"translateX(-50%)",width:0,height:0,borderLeft:"".concat(20,"px solid transparent"),borderRight:"".concat(20,"px solid transparent"),borderBottom:"".concat(30,"px solid ").concat(c.player),filter:"drop-shadow(0 0 10px ".concat(c.playerGlow,")")}}),(0,n.jsx)("div",{className:"absolute",style:{left:"50%",bottom:5,transform:"translateX(-50%)",width:8,height:10,backgroundColor:c.playerGlow,borderRadius:"50% 50% 0 0",boxShadow:"0 0 10px ".concat(c.playerGlow)}})]})},b=e=>{let{alien:t,isHit:r}=e,a=u[t.type],o=t.health/t.maxHealth;return(0,n.jsxs)("div",{className:"absolute flex items-center justify-center transition-all duration-100 ".concat(r?"scale-125":""),style:{left:t.x-16,top:t.y-16,width:"boss"===t.type?64:32,height:"boss"===t.type?64:32,fontSize:"boss"===t.type?"40px":"24px",filter:r?"brightness(2) drop-shadow(0 0 10px ".concat(a.color,")"):"drop-shadow(0 0 5px ".concat(a.color,")")},children:[t.emoji,"boss"===t.type&&(0,n.jsx)("div",{className:"absolute bottom-0 left-0 h-1 rounded-full",style:{width:"".concat(100*o,"%"),backgroundColor:o>.5?"#44ff44":o>.25?"#ffaa00":"#ff4444",boxShadow:"0 0 5px ".concat(o>.5?"#44ff44":o>.25?"#ffaa00":"#ff4444")}})]})},g=e=>{let{bullet:t}=e;return(0,n.jsx)("div",{className:"absolute ".concat(t.isLaser?"":"rounded-full"),style:{left:t.x-(t.isLaser?2:3),top:t.y-(t.isLaser?20:3),width:t.isLaser?4:6,height:t.isLaser?40:6,backgroundColor:t.isEnemy?c.enemyBullet:t.isLaser?"#ff00ff":c.bullet,boxShadow:"0 0 ".concat(t.isLaser?15:10,"px ").concat(t.isEnemy?c.enemyBullet:t.isLaser?"#ff00ff":c.bullet)}})},v=e=>{let{shield:t,cellSize:r}=e;return(0,n.jsx)("div",{className:"absolute",style:{left:t.x,bottom:80,width:60,height:40},children:t.segments.map((e,t)=>e.map((e,a)=>e?(0,n.jsx)("div",{className:"absolute",style:{left:a*r,top:t*r,width:r,height:r,backgroundColor:c.shield,boxShadow:"0 0 3px ".concat(c.shield)}},"".concat(t,"-").concat(a)):null))})},j=e=>{let{powerUp:t}=e,r=d[t.type];return(0,n.jsx)("div",{className:"absolute flex items-center justify-center animate-bounce",style:{left:t.x-15,top:t.y-15,width:30,height:30,fontSize:"20px",backgroundColor:r.color+"30",borderRadius:"50%",border:"2px solid ".concat(r.color),boxShadow:"0 0 15px ".concat(r.color)},children:t.emoji})},S=()=>{let e=(0,s.useRef)(Array.from({length:50},()=>({x:100*Math.random(),y:100*Math.random(),size:2*Math.random()+1,opacity:.5*Math.random()+.3})));return(0,n.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.current.map((e,t)=>(0,n.jsx)("div",{className:"absolute rounded-full bg-white animate-twinkle",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),width:e.size,height:e.size,opacity:e.opacity,animationDelay:"".concat(2*Math.random(),"s")}},t))})};function w(){let[e,t]=(0,s.useState)("idle"),[r,a]=(0,s.useState)(0),[i,w]=(0,s.useState)(0),[_,k]=(0,s.useState)(3),[R,T]=(0,s.useState)(1),[C,N]=(0,s.useState)(200),[A,E]=(0,s.useState)([]),[z,F]=(0,s.useState)([]),[M,D]=(0,s.useState)([]),[q,L]=(0,s.useState)([]),[P,O]=(0,s.useState)([]),[V,I]=(0,s.useState)([]),[B,H]=(0,s.useState)([]),[G,U]=(0,s.useState)(1),[X,W]=(0,s.useState)(.8),[J,K]=(0,s.useState)(!0),[Q,Y]=(0,s.useState)(!1),[Z,$]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(new Set),[er,en]=(0,s.useState)(Date.now()),ea=(0,s.useRef)(null),eo=(0,s.useRef)(0),es=(0,s.useRef)(new Set),ei=(0,s.useRef)(null),el=(0,s.useRef)(0),ec=(0,s.useRef)(null),eu=(0,s.useRef)(A),ed=(0,s.useRef)(z),ef=(0,s.useRef)(C),eh=(0,s.useRef)(P),em=(0,s.useRef)(M),ep=(0,s.useRef)(q),ex=(0,s.useRef)(r),ey=(0,s.useRef)(_),eb=(0,s.useRef)(G),eg=(0,s.useRef)(X),ev=(0,s.useRef)(R);(0,s.useEffect)(()=>{eu.current=A},[A]),(0,s.useEffect)(()=>{ed.current=z},[z]),(0,s.useEffect)(()=>{ef.current=C},[C]),(0,s.useEffect)(()=>{eh.current=P},[P]),(0,s.useEffect)(()=>{em.current=M},[M]),(0,s.useEffect)(()=>{ep.current=q},[q]),(0,s.useEffect)(()=>{ex.current=r},[r]),(0,s.useEffect)(()=>{ey.current=_},[_]),(0,s.useEffect)(()=>{eb.current=G},[G]),(0,s.useEffect)(()=>{eg.current=X},[X]),(0,s.useEffect)(()=>{ev.current=R},[R]),(0,s.useEffect)(()=>{let e=setInterval(()=>en(Date.now()),100);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{let e=localStorage.getItem("invaders-high-score");e&&w(parseInt(e))},[]);let ej=(0,s.useCallback)(e=>{e>i&&(w(e),localStorage.setItem("invaders-high-score",e.toString()))},[i]),eS=(0,s.useCallback)(e=>eh.current.some(t=>t.type===e&&t.expiresAt>Date.now()),[]),ew=(0,s.useCallback)(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=Array.from({length:n},(n,a)=>({id:Date.now()+a+Math.random(),x:e,y:t,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8,color:r,life:1,size:3+4*Math.random()}));I(e=>[...e,...a])},[]),e_=(0,s.useCallback)(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;H(a=>[...a,{id:Date.now()+Math.random(),x:e,y:t,radius:5,maxRadius:n,color:r}])},[]),ek=(0,s.useCallback)(()=>{$(!0),setTimeout(()=>$(!1),200)},[]),eR=(0,s.useCallback)(()=>{let e=Math.floor(10),t=Math.floor(40/6);return Array.from({length:4},(r,n)=>({id:n,x:80*(n+1)-30,segments:Array.from({length:t},(r,n)=>Array.from({length:e},(r,a)=>{let o=Math.abs(a-e/2);return!(n>.6*t)||!(o<.3*e)}))}))},[]),eT=(0,s.useCallback)(e=>{let t=[],r=0;if(e%5==0){let n=u.boss;return t.push({id:r++,x:200,y:60,type:"boss",health:n.health+e/5*10,maxHealth:n.health+e/5*10,points:n.points,emoji:n.emoji}),t}let n=Math.min(5,3+Math.floor(e/3)),a=Math.min(11,7+Math.floor(e/4)),o=(400-40*a)/2+16;for(let e=0;e<n;e++){let n=0===e?"strong":e<=1?"medium":"basic",s=u[n];for(let i=0;i<a;i++)t.push({id:r++,x:o+40*i,y:50+36*e,type:n,health:s.health,maxHealth:s.health,points:s.points,emoji:s.emoji})}return t},[]),eC=(0,s.useCallback)(()=>{a(0),k(3),T(1),N(200),E(eT(1)),F([]),D(eR()),L([]),O([]),I([]),H([]),U(1),W(.8),t("playing"),Y(!1),et(new Set)},[eT,eR]),eN=(0,s.useCallback)(()=>{let e=ev.current+1;T(e),E(eT(e)),F([]),U(1),W(.8+.2*e),et(new Set),D(eR()),J&&e%5==0&&f("boss")},[eT,eR,J]),eA=(0,s.useCallback)(()=>{let e=Date.now(),t=eS("rapid")?100:250;if(e-eo.current<t)return;eo.current=e,el.current++,J&&f("shoot");let r=eS("laser"),n=eS("spread"),a=[];n?[-20,0,20].forEach(e=>{a.push({id:el.current++,x:ef.current+e,y:440,isEnemy:!1,speed:8,isLaser:r})}):a.push({id:el.current++,x:ef.current,y:440,isEnemy:!1,speed:8,isLaser:r}),F(e=>[...e,...a])},[eS,J]),eE=(0,s.useCallback)(e=>{let t=d[e.type];J&&f("powerup"),ew(e.x,e.y,t.color,15),"bomb"===e.type?(J&&f("bomb"),ek(),E(e=>(e.forEach(e=>{e_(e.x,e.y,u[e.type].color,30),ew(e.x,e.y,u[e.type].color,8),a(t=>t+e.points)}),[]))):O(r=>[...r.filter(t=>t.type!==e.type),{type:e.type,expiresAt:Date.now()+t.duration,emoji:e.emoji}])},[J,ew,e_,ek]);return(0,s.useEffect)(()=>{if("playing"!==e)return;let r=()=>{let n=Date.now(),o=eh.current.some(e=>"slow"===e.type&&e.expiresAt>n)?.4:1;if(O(e=>e.filter(e=>e.expiresAt>n)),(es.current.has("ArrowLeft")||es.current.has("a"))&&N(e=>Math.max(20,e-6)),(es.current.has("ArrowRight")||es.current.has("d"))&&N(e=>Math.min(380,e+6)),(es.current.has(" ")||es.current.has("ArrowUp"))&&eA(),F(e=>e.map(e=>({...e,y:e.y+(e.isEnemy?e.speed:-e.speed)*o})).filter(e=>e.y>-20&&e.y<520)),E(e=>{if(0===e.length)return e;let t=!1,r=eb.current,n=Math.min(...e.map(e=>e.x));return Math.max(...e.map(e=>e.x))>=380&&1===eb.current?(t=!0,r=-1):n<=20&&-1===eb.current&&(t=!0,r=1),r!==eb.current&&U(r),e.map(e=>({...e,x:e.x+eg.current*r*o,y:t?e.y+15:e.y}))}),Math.random()<.02*o&&eu.current.length>0){let e=eu.current[Math.floor(Math.random()*eu.current.length)];F(t=>[...t,{id:el.current++,x:e.x,y:e.y+16,isEnemy:!0,speed:4*(1+.1*ev.current)}])}L(e=>e.map(e=>({...e,y:e.y+2*o})).filter(e=>e.y<520));let s=ed.current,i=eu.current;s.filter(e=>!e.isEnemy).forEach(e=>{i.forEach(t=>{let r="boss"===t.type?64:32;if(e.x>t.x-r/2&&e.x<t.x+r/2&&e.y>t.y-r/2&&e.y<t.y+r/2){let r=e.isLaser?3:1;E(e=>e.map(e=>{if(e.id===t.id){let t=e.health-r;if(t<=0){if(J&&f("explosion"),e_(e.x,e.y,u[e.type].color),ew(e.x,e.y,u[e.type].color,15),a(t=>t+e.points),.15>Math.random()){let t=["rapid","spread","shield","laser","bomb","slow"],r=t[Math.floor(Math.random()*t.length)],n=d[r];L(t=>[...t,{id:Date.now(),x:e.x,y:e.y,type:r,emoji:n.emoji}])}return null}return J&&f("hit"),et(t=>new Set(t).add(e.id)),setTimeout(()=>et(t=>{let r=new Set(t);return r.delete(e.id),r}),100),{...e,health:t}}return e}).filter(e=>null!==e)),e.isLaser||F(t=>t.filter(t=>t.id!==e.id))}})}),s.forEach(e=>{em.current.forEach(t=>{let r=t.segments[0].length,n=t.segments.length;for(let a=0;a<n;a++)for(let n=0;n<r;n++){if(!t.segments[a][n])continue;let r=t.x+6*n,o=380+6*a;e.x>r&&e.x<r+6&&e.y>o&&e.y<o+6&&(D(e=>e.map(e=>{if(e.id!==t.id)return e;let r=e.segments.map((e,t)=>e.map((e,r)=>(t!==a||r!==n)&&e));return{...e,segments:r}})),F(t=>t.filter(t=>t.id!==e.id)),ew(r+3,o+3,c.shield,5))}})});let l=eh.current.some(e=>"shield"===e.type&&e.expiresAt>n);s.filter(e=>e.isEnemy).forEach(e=>{if(e.x>ef.current-20&&e.x<ef.current+20&&e.y>450&&e.y<480){if(l){ew(e.x,e.y,c.shield,10),F(t=>t.filter(t=>t.id!==e.id));return}J&&f("playerHit"),ek(),e_(ef.current,465,c.player,50),ew(ef.current,465,c.player,20),F(t=>t.filter(t=>t.id!==e.id)),k(e=>{let r=e-1;return r<=0&&(t("gameover"),ej(ex.current)),r}),N(200)}}),ep.current.forEach(e=>{e.x>ef.current-20-15&&e.x<ef.current+20+15&&e.y>435&&e.y<495&&(eE(e),L(t=>t.filter(t=>t.id!==e.id)))}),Math.max(...eu.current.map(e=>e.y+16),0)>400&&(t("gameover"),ej(ex.current)),0===eu.current.length&&"playing"===e&&(J&&f("victory"),eN()),I(e=>e.map(e=>({...e,x:e.x+e.vx,y:e.y+e.vy,vy:e.vy+.2,life:e.life-.03})).filter(e=>e.life>0)),H(e=>e.map(e=>({...e,radius:e.radius+3})).filter(e=>e.radius<e.maxRadius)),ea.current=requestAnimationFrame(r)};return ea.current=requestAnimationFrame(r),()=>{ea.current&&cancelAnimationFrame(ea.current)}},[e,eA,eN,J,ew,e_,ek,eE,ej]),(0,s.useEffect)(()=>{let r=r=>{if(("idle"===e||"gameover"===e||"victory"===e)&&(" "===r.key||"Enter"===r.key)){r.preventDefault(),eC();return}"playing"===e&&(es.current.add(r.key),("p"===r.key||"Escape"===r.key)&&t("paused")," "===r.key&&r.preventDefault()),"paused"===e&&("p"===r.key||"Escape"===r.key||" "===r.key)&&t("playing")},n=e=>{es.current.delete(e.key)};return window.addEventListener("keydown",r),window.addEventListener("keyup",n),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",n)}},[e,eC]),(0,n.jsxs)("div",{style:{backgroundColor:c.background},className:"jsx-618c905106a5fb9f min-h-screen flex flex-col items-center p-4 overflow-hidden",children:[(0,n.jsx)(h,{active:Q}),(0,n.jsx)(l(),{href:"/games/arcade",className:"absolute top-4 left-4 bg-gray-900 px-4 py-2 rounded-full font-bold shadow-lg hover:scale-105 transition-all z-10 border border-green-500/30",style:{color:c.text},children:"← Arcade"}),(0,n.jsx)("button",{onClick:()=>K(!J),className:"jsx-618c905106a5fb9f absolute top-4 right-4 bg-gray-900 px-4 py-2 rounded-full font-bold shadow-lg hover:scale-105 transition-all z-10 border border-green-500/30",children:J?"\uD83D\uDD0A":"\uD83D\uDD07"}),(0,n.jsx)("h1",{style:{color:c.text,textShadow:"0 0 20px ".concat(c.player,", 0 0 40px ").concat(c.player,"60")},className:"jsx-618c905106a5fb9f text-4xl md:text-5xl font-black mb-1 mt-16 text-center font-mono tracking-wider",children:"\uD83D\uDC7E INVADERS"}),(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f text-gray-500 mb-2 text-center font-mono text-xs",children:"DEFEND EARTH"}),P.length>0&&(0,n.jsx)(x,{powerUps:P,now:er}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f flex flex-wrap gap-2 mb-2 justify-center text-sm",children:[(0,n.jsxs)("div",{style:{backgroundColor:"#111",color:c.text,borderColor:c.player+"40",textShadow:"0 0 10px ".concat(c.player)},className:"jsx-618c905106a5fb9f px-3 py-1 rounded-full font-bold font-mono shadow-lg border",children:["\uD83C\uDFAF ",r]}),(0,n.jsxs)("div",{style:{backgroundColor:"#111",color:"#ffd700",borderColor:"#ffd70040",textShadow:"0 0 10px #ffd700"},className:"jsx-618c905106a5fb9f px-3 py-1 rounded-full font-bold font-mono shadow-lg border",children:["\uD83C\uDFC6 ",i]}),(0,n.jsxs)("div",{style:{backgroundColor:"#111",color:"#ff6b6b",borderColor:"#ff6b6b40",textShadow:"0 0 10px #ff6b6b"},className:"jsx-618c905106a5fb9f px-3 py-1 rounded-full font-bold font-mono shadow-lg border",children:["❤️ ",_]}),(0,n.jsxs)("div",{style:{backgroundColor:"#111",color:c.neonPurple,borderColor:c.neonPurple+"40",textShadow:"0 0 10px ".concat(c.neonPurple)},className:"jsx-618c905106a5fb9f px-3 py-1 rounded-full font-bold font-mono shadow-lg border",children:["\uD83C\uDF0A Wave ",R]})]}),(0,n.jsxs)("div",{ref:ei,style:{width:400,height:500,backgroundColor:"#050510",border:"4px solid ".concat(c.neonBlue,"30"),boxShadow:"0 0 40px ".concat(c.player,"20, inset 0 0 60px rgba(0,0,0,0.8)")},onTouchStart:e=>{ec.current=e.touches[0].clientX},onTouchMove:t=>{if("playing"!==e||!ei.current)return;let r=ei.current.getBoundingClientRect();N(Math.max(20,Math.min(380,(t.touches[0].clientX-r.left)/r.width*400)))},onTouchEnd:()=>{"playing"===e?eA():("idle"===e||"gameover"===e)&&eC(),ec.current=null},className:"jsx-618c905106a5fb9f "+"relative rounded-lg overflow-hidden shadow-2xl transition-transform ".concat(Z?"animate-shake":""),children:[(0,n.jsx)(S,{}),(0,n.jsx)(m,{particles:V}),(0,n.jsx)(p,{explosions:B}),M.map(e=>(0,n.jsx)(v,{shield:e,cellSize:6},e.id)),A.map(e=>(0,n.jsx)(b,{alien:e,isHit:ee.has(e.id)},e.id)),q.map(e=>(0,n.jsx)(j,{powerUp:e},e.id)),z.map(e=>(0,n.jsx)(g,{bullet:e},e.id)),"gameover"!==e&&(0,n.jsx)(y,{x:C,hasShield:eS("shield")}),"idle"===e&&(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 p-4",children:[(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-6xl mb-4 animate-bounce",children:"\uD83D\uDC7E"}),(0,n.jsx)("h2",{style:{color:c.text,textShadow:"0 0 15px ".concat(c.player)},className:"jsx-618c905106a5fb9f text-2xl font-black mb-4 font-mono text-center",children:"SPACE INVADERS"}),(0,n.jsx)("button",{onClick:eC,style:{backgroundColor:c.player,color:"#000",boxShadow:"0 0 30px ".concat(c.player,", 0 0 60px ").concat(c.player,"60")},className:"jsx-618c905106a5fb9f px-8 py-3 rounded-xl font-black text-lg font-mono transition-all hover:scale-110 mb-4",children:"START GAME"}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f text-gray-400 text-xs font-mono text-center space-y-1",children:[(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f",children:"← → or A D to move"}),(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f",children:"SPACE or ↑ to shoot"}),(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f",children:"P to pause"})]}),(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f mt-4 grid grid-cols-3 gap-2 text-xs text-gray-500",children:Object.entries(d).map(e=>{let[,t]=e;return(0,n.jsxs)("span",{className:"jsx-618c905106a5fb9f",children:[t.emoji," ",t.name]},t.name)})})]}),"paused"===e&&(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-20",children:[(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-4xl mb-4",children:"⏸️"}),(0,n.jsx)("p",{style:{color:c.text},className:"jsx-618c905106a5fb9f text-2xl font-bold font-mono animate-pulse",children:"PAUSED"}),(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f text-gray-400 mt-2 text-sm font-mono",children:"Press P or ESC to continue"})]}),"gameover"===e&&(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 p-4",children:[(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-6xl mb-4",children:"\uD83D\uDC80"}),(0,n.jsx)("h2",{style:{color:"#ff4444",textShadow:"0 0 15px #ff4444"},className:"jsx-618c905106a5fb9f text-3xl font-black mb-2 font-mono",children:"GAME OVER"}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f flex gap-6 mb-4",children:[(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f text-center",children:[(0,n.jsx)("div",{style:{color:c.text},className:"jsx-618c905106a5fb9f text-3xl font-bold font-mono",children:r}),(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-xs text-gray-400",children:"Score"})]}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f text-center",children:[(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-3xl font-bold font-mono text-yellow-400",children:i}),(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-xs text-gray-400",children:"Best"})]}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f text-center",children:[(0,n.jsx)("div",{style:{color:c.neonPurple},className:"jsx-618c905106a5fb9f text-3xl font-bold font-mono",children:R}),(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-xs text-gray-400",children:"Wave"})]})]}),r>=i&&r>0&&(0,n.jsx)("div",{className:"jsx-618c905106a5fb9f text-yellow-400 text-xl mb-4 animate-pulse",children:"⭐ New High Score! ⭐"}),(0,n.jsx)("button",{onClick:eC,style:{backgroundColor:c.player,color:"#000",boxShadow:"0 0 30px ".concat(c.player)},className:"jsx-618c905106a5fb9f px-8 py-3 rounded-xl font-black text-lg font-mono transition-all hover:scale-110",children:"\uD83C\uDFAE Play Again"})]})]}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f mt-4 flex gap-4 md:hidden",children:[(0,n.jsx)("button",{onTouchStart:()=>es.current.add("ArrowLeft"),onTouchEnd:()=>es.current.delete("ArrowLeft"),style:{backgroundColor:"#222",color:c.text,border:"2px solid ".concat(c.player,"40")},className:"jsx-618c905106a5fb9f w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold transition-all active:scale-95",children:"◀"}),(0,n.jsx)("button",{onTouchStart:eA,style:{backgroundColor:c.player+"40",color:c.text,border:"2px solid ".concat(c.player)},className:"jsx-618c905106a5fb9f w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold transition-all active:scale-95",children:"\uD83D\uDD2B"}),(0,n.jsx)("button",{onTouchStart:()=>es.current.add("ArrowRight"),onTouchEnd:()=>es.current.delete("ArrowRight"),style:{backgroundColor:"#222",color:c.text,border:"2px solid ".concat(c.player,"40")},className:"jsx-618c905106a5fb9f w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold transition-all active:scale-95",children:"▶"})]}),(0,n.jsxs)("div",{className:"jsx-618c905106a5fb9f mt-4 max-w-md text-center text-gray-500 text-xs font-mono hidden md:block",children:[(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f",children:"Arrow keys or WASD to move • Space to shoot • P to pause"}),(0,n.jsx)("p",{className:"jsx-618c905106a5fb9f mt-1",children:"Collect power-ups • Destroy all aliens • Survive!"})]}),(0,n.jsx)(o(),{id:"618c905106a5fb9f",children:"@keyframes confetti{0%{transform:translatey(0)rotate(0deg);opacity:1}100%{transform:translatey(100vh)rotate(720deg);opacity:0}}.animate-confetti{animation:confetti linear forwards}@keyframes shake{0%,100%{transform:translatex(0)}25%{transform:translatex(-5px)}75%{transform:translatex(5px)}}.animate-shake{animation:shake.1s linear 2}@keyframes twinkle{0%,100%{opacity:.3}50%{opacity:1}}.animate-twinkle{animation:twinkle 2s ease-in-out infinite}"})]})}},94025:(e,t,r)=>{Promise.resolve().then(r.bind(r,72836))}},e=>{e.O(0,[9664,587,18,7358],()=>e(e.s=94025)),_N_E=e.O()}]);