(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3341],{6441:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(54568),s=a(7620),n=a(85206),i=a(91085),o=a(19664),r=a.n(o);let c="onde-reading-goals",d={activeGoal:null,history:[],streak:{current:0,longest:0,lastCompletedDate:"",weeklyCompletions:0,monthlyCompletions:0},totalPagesRead:0,totalBooksCompleted:0};function x(e){let{delay:t,color:a}=e;return(0,l.jsx)(n.P.div,{initial:{y:-20,x:0,opacity:1,rotate:0},animate:{y:400,x:200*Math.random()-100,opacity:0,rotate:720*Math.random()-360},transition:{duration:2,delay:t,ease:"easeOut"},className:"absolute w-3 h-3 rounded-sm",style:{backgroundColor:a,left:"".concat(100*Math.random(),"%")}})}function m(e){let{milestone:t,onClose:a}=e,s={25:{emoji:"\uD83C\uDF31",title:"Great Start!",subtitle:"You're 25% of the way there!"},50:{emoji:"\uD83D\uDD25",title:"Halfway There!",subtitle:"Keep up the momentum!"},75:{emoji:"⚡",title:"Almost Done!",subtitle:"The finish line is in sight!"},100:{emoji:"\uD83C\uDF89",title:"Goal Complete!",subtitle:"You did it! Amazing work!"}},o=s[t]||s[25],r=["#14B8A6","#F59E0B","#8B5CF6","#EC4899","#3B82F6","#10B981"];return(0,l.jsx)(i.N,{children:(0,l.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:a,children:[(0,l.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:50}).map((e,t)=>(0,l.jsx)(x,{delay:.5*Math.random(),color:r[t%r.length]},t))}),(0,l.jsxs)(n.P.div,{initial:{scale:.5,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:15},className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl text-center relative",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)(n.P.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"text-7xl mb-4",children:o.emoji}),(0,l.jsx)("h2",{className:"text-3xl font-bold text-teal-800 mb-2",children:o.title}),(0,l.jsx)("p",{className:"text-teal-600 text-lg mb-6",children:o.subtitle}),(0,l.jsx)("div",{className:"flex justify-center gap-4",children:(0,l.jsx)("button",{onClick:a,className:"px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all",children:"Keep Going!"})})]})]})})}function u(e){let{isOpen:t,onClose:a,onSubmit:o}=e,[r,c]=(0,s.useState)("weekly"),[d,x]=(0,s.useState)("pages"),[m,u]=(0,s.useState)("");return t?(0,l.jsx)(i.N,{children:(0,l.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:a,children:(0,l.jsxs)(n.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-teal-800 mb-6 text-center",children:"\uD83D\uDCDA Set Your Reading Goal"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-teal-700 mb-2",children:"Goal Period"}),(0,l.jsx)("div",{className:"flex bg-teal-100 rounded-xl p-1",children:["weekly","monthly"].map(e=>(0,l.jsx)("button",{onClick:()=>c(e),className:"flex-1 py-3 rounded-lg font-medium transition-all ".concat(r===e?"bg-teal-500 text-white shadow-md":"text-teal-700 hover:bg-teal-200"),children:"weekly"===e?"\uD83D\uDCC5 Weekly":"\uD83D\uDDD3️ Monthly"},e))})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-teal-700 mb-2",children:"Goal Type"}),(0,l.jsx)("div",{className:"flex bg-teal-100 rounded-xl p-1",children:["pages","books"].map(e=>(0,l.jsx)("button",{onClick:()=>{x(e),u("")},className:"flex-1 py-3 rounded-lg font-medium transition-all ".concat(d===e?"bg-teal-500 text-white shadow-md":"text-teal-700 hover:bg-teal-200"),children:"pages"===e?"\uD83D\uDCC4 Pages":"\uD83D\uDCD6 Books"},e))})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-teal-700 mb-2",children:["Target (","pages"===d?"pages":"books",")"]}),(0,l.jsx)("input",{type:"number",value:m,onChange:e=>u(e.target.value),placeholder:"Enter number of ".concat(d,"..."),className:"w-full px-4 py-3 rounded-xl border-2 border-teal-200 focus:border-teal-500 focus:outline-none text-lg",min:1})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-teal-600 mb-2",children:"Quick presets:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:({pages:{weekly:[50,100,200,500],monthly:[200,500,1e3,2e3]},books:{weekly:[1,2,3,5],monthly:[2,4,6,10]}})[d][r].map(e=>(0,l.jsxs)("button",{onClick:()=>u(e.toString()),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(m===e.toString()?"bg-teal-500 text-white":"bg-teal-100 text-teal-700 hover:bg-teal-200"),children:[e," ",d]},e))})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:a,className:"flex-1 py-3 text-teal-600 font-medium rounded-xl hover:bg-teal-50 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{let e=parseInt(m,10);e>0&&(o(r,d,e),a(),u(""))},disabled:!m||0>=parseInt(m,10),className:"flex-1 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Set Goal \uD83C\uDFAF"})]})]})})}):null}function h(e){let{percentage:t,size:a=200,strokeWidth:s=12}=e,i=(a-s)/2,o=2*i*Math.PI,r=o-t/100*o;return(0,l.jsxs)("div",{className:"relative",style:{width:a,height:a},children:[(0,l.jsxs)("svg",{width:a,height:a,className:"transform -rotate-90",children:[(0,l.jsx)("circle",{cx:a/2,cy:a/2,r:i,fill:"none",stroke:"#E5E7EB",strokeWidth:s}),(0,l.jsx)(n.P.circle,{cx:a/2,cy:a/2,r:i,fill:"none",stroke:"url(#gradient)",strokeWidth:s,strokeLinecap:"round",initial:{strokeDashoffset:o},animate:{strokeDashoffset:r},transition:{duration:1,ease:"easeOut"},style:{strokeDasharray:o}}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#14B8A6"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#06B6D4"})]})})]}),(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,l.jsxs)("span",{className:"text-4xl font-bold text-teal-800",children:[t,"%"]}),(0,l.jsx)("span",{className:"text-sm text-teal-600",children:"Complete"})]})]})}function p(e){let{goal:t}=e,a=new Date(t.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}),s=new Date(t.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}),i="pages"===t.type?"pages":"books";return(0,l.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border-2 ".concat(t.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:t.completed?"✅":t.percentage>=50?"\uD83D\uDCD6":"\uD83D\uDCD5"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-semibold text-gray-800",children:[t.achieved,"/",t.target," ",i]}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[a," - ",s," • ",t.period]})]})]}),(0,l.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(t.completed?"bg-green-200 text-green-800":"bg-gray-200 text-gray-600"),children:[t.percentage,"%"]})]})})}function g(e){let{current:t,longest:a}=e,s=Math.min(t,7);return(0,l.jsxs)(n.P.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-orange-100 to-amber-100 rounded-2xl p-6 border-2 border-orange-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-orange-600 mb-1",children:"Current Streak"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-4xl font-bold text-orange-800",children:t}),(0,l.jsx)("span",{className:"text-orange-600",children:"goals"})]})]}),(0,l.jsxs)("div",{className:"text-4xl",children:[Array.from({length:s}).map((e,t)=>(0,l.jsx)(n.P.span,{initial:{scale:0},animate:{scale:1},transition:{delay:.1*t},children:"\uD83D\uDD25"},t)),0===s&&"\uD83D\uDCA4"]})]}),(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-orange-200",children:(0,l.jsxs)("p",{className:"text-sm text-orange-600",children:[(0,l.jsx)("span",{className:"font-medium",children:"Longest streak:"})," ",a," goals \uD83C\uDFC6"]})})]})}function f(e){let{isOpen:t,shareText:a,onClose:o,onShared:r}=e,[c,d]=(0,s.useState)(!1);if(!t)return null;let x=async()=>{try{await navigator.clipboard.writeText(a),d(!0),r(),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy")}},m=async()=>{if(navigator.share)try{await navigator.share({text:a}),r()}catch(e){}};return(0,l.jsx)(i.N,{children:(0,l.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:o,children:(0,l.jsxs)(n.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-teal-800 mb-4 text-center",children:"\uD83D\uDCE4 Share Your Progress"}),(0,l.jsx)("div",{className:"bg-gray-100 rounded-xl p-4 mb-6",children:(0,l.jsx)("p",{className:"text-gray-800 text-sm",children:a})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:["undefined"!=typeof navigator&&navigator.share&&(0,l.jsxs)("button",{onClick:m,className:"w-full py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCF1"})," Share"]}),(0,l.jsx)("button",{onClick:x,className:"w-full py-3 font-semibold rounded-xl transition-all flex items-center justify-center gap-2 ".concat(c?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"✓"})," Copied!"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\uD83D\uDCCB"})," Copy to Clipboard"]})}),(0,l.jsx)("button",{onClick:o,className:"w-full py-3 text-teal-600 font-medium hover:bg-teal-50 rounded-xl transition-colors",children:"Close"})]})]})})})}function b(e){let{isOpen:t,goalType:a,currentProgress:o,target:r,onClose:c,onUpdate:d}=e,[x,m]=(0,s.useState)(""),u="pages"===a?"pages":"books";return t?(0,l.jsx)(i.N,{children:(0,l.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:c,children:(0,l.jsxs)(n.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-teal-800 mb-2 text-center",children:"\uD83D\uDCDD Log Reading Progress"}),(0,l.jsxs)("p",{className:"text-sm text-teal-600 text-center mb-6",children:["Current: ",o,"/",r," ",u]}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("input",{type:"number",value:x,onChange:e=>m(e.target.value),placeholder:"".concat(u," read..."),className:"w-full px-4 py-3 rounded-xl border-2 border-teal-200 focus:border-teal-500 focus:outline-none text-lg text-center",min:1,autoFocus:!0})}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:("pages"===a?[10,25,50,100]:[1,2]).map(e=>(0,l.jsxs)("button",{onClick:()=>m(e.toString()),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(x===e.toString()?"bg-teal-500 text-white":"bg-teal-100 text-teal-700 hover:bg-teal-200"),children:["+",e]},e))}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:c,className:"flex-1 py-3 text-teal-600 font-medium rounded-xl hover:bg-teal-50 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{let e=parseInt(x,10);e>0&&(d(e),c(),m(""))},disabled:!x||0>=parseInt(x,10),className:"flex-1 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:"Add"})]})]})})}):null}function y(){let{mounted:e,activeGoal:t,recentHistory:a,streak:i,stats:o,percentage:x,daysRemaining:y,celebratingMilestone:v,justCompleted:j,createGoal:N,updateProgress:D,deleteGoal:k,markAsShared:C,generateShareText:w}=function(){var e,t;let[a,l]=(0,s.useState)(d),[n,i]=(0,s.useState)(!1),[o,r]=(0,s.useState)(null),[x,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(c);if(e){let t=JSON.parse(e);l(t)}}catch(e){console.error("Failed to load reading goals:",e)}i(!0)},[]),(0,s.useEffect)(()=>{if(n)try{localStorage.setItem(c,JSON.stringify(a))}catch(e){console.error("Failed to save reading goals:",e)}},[a,n]),(0,s.useEffect)(()=>{if(n&&a.activeGoal)new Date>new Date(a.activeGoal.endDate)&&f()},[n,a.activeGoal]);let u=(0,s.useCallback)((e,t,a)=>{let s=new Date,n="weekly"===e?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0);let a=new Date(t);return a.setDate(t.getDate()+6),a.setHours(23,59,59,999),{start:t,end:a}}(s):function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e.getFullYear(),e.getMonth(),1);t.setHours(0,0,0,0);let a=new Date(e.getFullYear(),e.getMonth()+1,0);return a.setHours(23,59,59,999),{start:t,end:a}}(s),i={id:"goal_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),period:e,type:t,target:a,progress:0,startDate:n.start.toISOString(),endDate:n.end.toISOString(),milestones:{25:!1,50:!1,75:!1,100:!1}};return l(e=>{let t=e.activeGoal?[...e.history,{id:e.activeGoal.id,period:e.activeGoal.period,type:e.activeGoal.type,target:e.activeGoal.target,achieved:e.activeGoal.progress,startDate:e.activeGoal.startDate,endDate:e.activeGoal.endDate,completed:void 0!==e.activeGoal.completedAt,percentage:Math.min(100,Math.round(e.activeGoal.progress/e.activeGoal.target*100))}]:e.history;return{...e,activeGoal:i,history:t}}),i},[]),h=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l(a=>{if(!a.activeGoal)return a;let l=Math.max(0,t?e:a.activeGoal.progress+e),s=l/a.activeGoal.target*100,n={...a.activeGoal.milestones},i=null;for(let e of[25,50,75,100])s>=e&&!n[e]&&(n[e]=!0,i=e);null!==i&&(r(i),setTimeout(()=>r(null),3e3));let o=l>=a.activeGoal.target&&!a.activeGoal.completedAt;o&&(m(!0),setTimeout(()=>m(!1),5e3));let c={...a.streak};if(o){let e=new Date().toDateString(),t=a.streak.lastCompletedDate,l=t?new Date(t).toDateString():"";if(l===e);else{let t=new Date;t.setDate(t.getDate()-1),l===t.toDateString()?c.current+=1:c.current=1,c.longest=Math.max(c.longest,c.current),c.lastCompletedDate=e,"weekly"===a.activeGoal.period?c.weeklyCompletions+=1:c.monthlyCompletions+=1}}let d=l-a.activeGoal.progress,x="pages"===a.activeGoal.type?a.totalPagesRead+Math.max(0,d):a.totalPagesRead,u="books"===a.activeGoal.type?a.totalBooksCompleted+Math.max(0,d):a.totalBooksCompleted;return{...a,activeGoal:{...a.activeGoal,progress:l,milestones:n,completedAt:o?new Date().toISOString():a.activeGoal.completedAt},streak:c,totalPagesRead:x,totalBooksCompleted:u}})},[]),p=(0,s.useCallback)(e=>{var t;(null==(t=a.activeGoal)?void 0:t.type)==="pages"?h(e):l(t=>({...t,totalPagesRead:t.totalPagesRead+e}))},[null==(e=a.activeGoal)?void 0:e.type,h]),g=(0,s.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(null==(e=a.activeGoal)?void 0:e.type)==="books"?h(t):l(e=>({...e,totalBooksCompleted:e.totalBooksCompleted+t}))},[null==(t=a.activeGoal)?void 0:t.type,h]),f=(0,s.useCallback)(()=>{l(e=>{if(!e.activeGoal)return e;let t={id:e.activeGoal.id,period:e.activeGoal.period,type:e.activeGoal.type,target:e.activeGoal.target,achieved:e.activeGoal.progress,startDate:e.activeGoal.startDate,endDate:e.activeGoal.endDate,completed:void 0!==e.activeGoal.completedAt,percentage:Math.min(100,Math.round(e.activeGoal.progress/e.activeGoal.target*100))};return{...e,activeGoal:null,history:[...e.history,t]}})},[]),b=(0,s.useCallback)(()=>{l(e=>({...e,activeGoal:null}))},[]),y=(0,s.useCallback)(()=>{l(e=>({...e,history:[]}))},[]),v=(0,s.useCallback)(()=>{l(e=>e.activeGoal?{...e,activeGoal:{...e.activeGoal,shared:!0}}:e)},[]),j=(0,s.useCallback)(()=>{if(!a.activeGoal)return"";let{type:e,target:t,progress:l,period:s,milestones:n}=a.activeGoal,i="pages"===e?"pages":"books",o="weekly"===s?"this week":"this month";if(n[100])return"\uD83C\uDF89 I completed my reading goal! Read ".concat(t," ").concat(i," ").concat(o," on Onde! \uD83D\uDCDA #ReadingGoals #Onde");let r=n[75]?75:n[50]?50:25*!!n[25];return r>0?"\uD83D\uDCD6 ".concat(r,"% of my reading goal done! ").concat(l,"/").concat(t," ").concat(i," ").concat(o," on Onde! \uD83D\uDD25 #ReadingGoals #Onde"):"\uD83D\uDCDA Working on my reading goal: ".concat(l,"/").concat(t," ").concat(i," ").concat(o," on Onde! #ReadingGoals #Onde")},[a.activeGoal]),N=(0,s.useMemo)(()=>a.activeGoal?Math.min(100,Math.round(a.activeGoal.progress/a.activeGoal.target*100)):0,[a.activeGoal]),D=(0,s.useMemo)(()=>{if(!a.activeGoal)return 0;let e=new Date;return Math.max(0,Math.ceil((new Date(a.activeGoal.endDate).getTime()-e.getTime())/864e5))},[a.activeGoal]),k=(0,s.useMemo)(()=>[...a.history].reverse().slice(0,10),[a.history]),C=(0,s.useMemo)(()=>{let e=a.history.length+ +!!a.activeGoal,t=a.history.filter(e=>e.completed).length,l=e>0?Math.round(t/a.history.length*100):0;return{totalGoals:e,completedGoals:t,successRate:l,totalPagesRead:a.totalPagesRead,totalBooksCompleted:a.totalBooksCompleted,currentStreak:a.streak.current,longestStreak:a.streak.longest,weeklyCompletions:a.streak.weeklyCompletions,monthlyCompletions:a.streak.monthlyCompletions}},[a]),w=(0,s.useCallback)(()=>{l(d)},[]);return{mounted:n,activeGoal:a.activeGoal,history:a.history,recentHistory:k,streak:a.streak,stats:C,percentage:N,daysRemaining:D,celebratingMilestone:o,justCompleted:x,createGoal:u,updateProgress:h,addPagesRead:p,addBooksCompleted:g,archiveGoal:f,deleteGoal:b,clearHistory:y,markAsShared:v,generateShareText:j,resetAll:w}}(),[G,S]=(0,s.useState)(!1),[P,E]=(0,s.useState)(!1),[M,R]=(0,s.useState)(!1),[A,F]=(0,s.useState)(null);if((0,s.useEffect)(()=>{v&&F(v)},[v]),!e)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(180deg, #E8F4F8 0%, #D4EEF2 30%, #B8E0E8 60%, #A8D8E0 100%)"},children:(0,l.jsx)("div",{className:"text-4xl animate-pulse",children:"\uD83D\uDCDA"})});let B=(null==t?void 0:t.type)==="pages"?"pages":"books";return(0,l.jsxs)("div",{className:"min-h-screen py-8 px-4",style:{background:"linear-gradient(180deg, #E8F4F8 0%, #D4EEF2 30%, #B8E0E8 60%, #A8D8E0 100%)"},children:[(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)(r(),{href:"/",className:"inline-flex items-center gap-2 text-teal-600 hover:text-teal-800 transition-colors mb-6",children:[(0,l.jsx)("span",{children:"←"}),(0,l.jsx)("span",{children:"Back to Home"})]}),(0,l.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-teal-800 mb-2",children:"\uD83D\uDCDA Reading Goals"}),(0,l.jsx)("p",{className:"text-teal-600",children:"Set targets, track progress, celebrate achievements"})]}),t?(0,l.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-xl rounded-3xl p-8 border-2 border-teal-200 shadow-xl mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full bg-teal-100 text-teal-700 text-sm font-medium mb-2",children:"weekly"===t.period?"\uD83D\uDCC5 Weekly Goal":"\uD83D\uDDD3️ Monthly Goal"}),(0,l.jsxs)("h2",{className:"text-2xl font-bold text-teal-800",children:[t.progress," / ",t.target," ",B]}),(0,l.jsxs)("p",{className:"text-teal-600",children:[y," days remaining"]})]}),(0,l.jsx)(h,{percentage:x})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:(0,l.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat(x,"%")},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full"})}),(0,l.jsx)("div",{className:"relative mt-2",children:(0,l.jsx)("div",{className:"flex justify-between text-xs text-gray-500",children:[0,25,50,75,100].map(e=>(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("span",{className:t.milestones[e]?"text-teal-600 font-medium":"",children:0===e?"Start":100===e?"\uD83C\uDF89":"".concat(e,"%")}),e>0&&e<100&&t.milestones[e]&&(0,l.jsx)("span",{className:"text-green-500",children:"✓"})]},e))})})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>R(!0),className:"flex-1 min-w-[140px] py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[(0,l.jsx)("span",{children:"➕"})," Log Progress"]}),(0,l.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E(!0),className:"py-3 px-6 bg-purple-100 text-purple-700 font-semibold rounded-xl hover:bg-purple-200 transition-all flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCE4"})," Share"]}),(0,l.jsx)("button",{onClick:k,className:"py-3 px-4 text-gray-500 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",title:"Delete goal",children:"\uD83D\uDDD1️"})]}),j&&(0,l.jsxs)(n.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-6 p-4 bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl border-2 border-green-300 text-center",children:[(0,l.jsx)("p",{className:"text-2xl mb-2",children:"\uD83C\uDF89\uD83C\uDF8A\uD83C\uDF89"}),(0,l.jsx)("p",{className:"font-bold text-green-800",children:"Goal Completed!"}),(0,l.jsx)("p",{className:"text-green-600 text-sm",children:"Amazing work! You did it!"})]})]}):(0,l.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-xl rounded-3xl p-12 border-2 border-teal-200 shadow-xl mb-8 text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFAF"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-2",children:"No Active Goal"}),(0,l.jsx)("p",{className:"text-teal-600 mb-6",children:"Set a reading goal to start tracking your progress!"}),(0,l.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!0),className:"px-8 py-4 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all text-lg",children:"Create Reading Goal \uD83D\uDCDA"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,l.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,l.jsx)(g,{current:i.current,longest:i.longest})}),(0,l.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border-2 border-teal-200",children:[(0,l.jsxs)("h3",{className:"font-bold text-teal-800 mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCCA"})," All-Time Stats"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-teal-800",children:o.totalPagesRead}),(0,l.jsx)("p",{className:"text-sm text-teal-600",children:"Pages Read"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-teal-800",children:o.totalBooksCompleted}),(0,l.jsx)("p",{className:"text-sm text-teal-600",children:"Books Completed"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-teal-800",children:o.completedGoals}),(0,l.jsx)("p",{className:"text-sm text-teal-600",children:"Goals Completed"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-teal-800",children:[o.successRate,"%"]}),(0,l.jsx)("p",{className:"text-sm text-teal-600",children:"Success Rate"})]})]})]})]}),(0,l.jsxs)(n.P.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-teal-800 mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCDC"})," Goal History"]}),a.length>0?(0,l.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,l.jsx)(p,{goal:e},e.id))}):(0,l.jsx)("div",{className:"bg-white/60 rounded-xl p-8 text-center",children:(0,l.jsx)("p",{className:"text-gray-500",children:"No completed goals yet. Start your first goal above!"})})]}),t&&(0,l.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mb-8",children:(0,l.jsx)("button",{onClick:()=>S(!0),className:"text-teal-600 hover:text-teal-800 font-medium transition-colors",children:"+ Create New Goal (will archive current)"})}),(0,l.jsx)("div",{className:"text-center text-teal-500 text-sm pb-8",children:(0,l.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83C\uDF0A"}),"Onde - Crafted by Code, Touched by Soul",(0,l.jsx)("span",{children:"☀️"})]})})]}),(0,l.jsx)(u,{isOpen:G,onClose:()=>S(!1),onSubmit:(e,t,a)=>N(e,t,a)}),(0,l.jsx)(f,{isOpen:P,shareText:w(),onClose:()=>E(!1),onShared:C}),t&&(0,l.jsx)(b,{isOpen:M,goalType:t.type,currentProgress:t.progress,target:t.target,onClose:()=>R(!1),onUpdate:e=>D(e)}),A&&(0,l.jsx)(m,{milestone:A,onClose:()=>F(null)})]})}},12995:(e,t,a)=>{Promise.resolve().then(a.bind(a,6441))},91085:(e,t,a)=>{"use strict";a.d(t,{N:()=>f});var l=a(54568),s=a(7620),n=a(97966),i=a(33546),o=a(39536),r=a(37929);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:a}=e,n=(0,s.useId)(),i=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,s.useContext)(r.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:l,left:s}=o.current;if(a||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;let r=document.createElement("style");return d&&(r.nonce=d),document.head.appendChild(r),r.sheet&&r.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(l,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(r)}},[a]),(0,l.jsx)(c,{isPresent:a,childRef:i,sizeRef:o,children:s.cloneElement(t,{ref:i})})}let x=e=>{let{children:t,initial:a,isPresent:n,onExitComplete:r,custom:c,presenceAffectsLayout:x,mode:u}=e,h=(0,i.M)(m),p=(0,s.useId)(),g=(0,s.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;r&&r()},[h,r]),f=(0,s.useMemo)(()=>({id:p,initial:a,isPresent:n,custom:c,onExitComplete:g,register:e=>(h.set(e,!1),()=>h.delete(e))}),x?[Math.random(),g]:[n,g]);return(0,s.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),s.useEffect(()=>{n||h.size||!r||r()},[n]),"popLayout"===u&&(t=(0,l.jsx)(d,{isPresent:n,children:t})),(0,l.jsx)(o.t.Provider,{value:f,children:t})};function m(){return new Map}var u=a(98647);let h=e=>e.key||"";function p(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var g=a(76451);let f=e=>{let{children:t,custom:a,initial:o=!0,onExitComplete:r,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1}=e,[f,b]=(0,u.xQ)(m),y=(0,s.useMemo)(()=>p(t),[t]),v=m&&!f?[]:y.map(h),j=(0,s.useRef)(!0),N=(0,s.useRef)(y),D=(0,i.M)(()=>new Map),[k,C]=(0,s.useState)(y),[w,G]=(0,s.useState)(y);(0,g.E)(()=>{j.current=!1,N.current=y;for(let e=0;e<w.length;e++){let t=h(w[e]);v.includes(t)?D.delete(t):!0!==D.get(t)&&D.set(t,!1)}},[w,v.length,v.join("-")]);let S=[];if(y!==k){let e=[...y];for(let t=0;t<w.length;t++){let a=w[t],l=h(a);v.includes(l)||(e.splice(t,0,a),S.push(a))}"wait"===d&&S.length&&(e=S),G(p(e)),C(y);return}let{forceRender:P}=(0,s.useContext)(n.L);return(0,l.jsx)(l.Fragment,{children:w.map(e=>{let t=h(e),s=(!m||!!f)&&(y===w||v.includes(t));return(0,l.jsx)(x,{isPresent:s,initial:(!j.current||!!o)&&void 0,custom:s?void 0:a,presenceAffectsLayout:c,mode:d,onExitComplete:s?void 0:()=>{if(!D.has(t))return;D.set(t,!0);let e=!0;D.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),G(N.current),m&&(null==b||b()),r&&r())},children:e},t)})})}}},e=>{e.O(0,[9664,5206,587,18,7358],()=>e(e.s=12995)),_N_E=e.O()}]);