(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();var Lu={exports:{}},Pa={},Iu={exports:{}},Re={};var qh;function ny(){if(qh)return Re;qh=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function k(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function C(B,Z,be){this.props=B,this.context=Z,this.refs=j,this.updater=be||N}C.prototype.isReactComponent={},C.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function R(){}R.prototype=C.prototype;function A(B,Z,be){this.props=B,this.context=Z,this.refs=j,this.updater=be||N}var S=A.prototype=new R;S.constructor=A,L(S,C.prototype),S.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,V={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function O(B,Z,be){var Te,Pe={},Ee=null,we=null;if(Z!=null)for(Te in Z.ref!==void 0&&(we=Z.ref),Z.key!==void 0&&(Ee=""+Z.key),Z)M.call(Z,Te)&&!z.hasOwnProperty(Te)&&(Pe[Te]=Z[Te]);var Ae=arguments.length-2;if(Ae===1)Pe.children=be;else if(1<Ae){for(var Ve=Array(Ae),Et=0;Et<Ae;Et++)Ve[Et]=arguments[Et+2];Pe.children=Ve}if(B&&B.defaultProps)for(Te in Ae=B.defaultProps,Ae)Pe[Te]===void 0&&(Pe[Te]=Ae[Te]);return{$$typeof:n,type:B,key:Ee,ref:we,props:Pe,_owner:V.current}}function U(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function W(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function ce(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(be){return Z[be]})}var X=/\/+/g;function ae(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?ce(""+B.key):Z.toString(36)}function ee(B,Z,be,Te,Pe){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var we=!1;if(B===null)we=!0;else switch(Ee){case"string":case"number":we=!0;break;case"object":switch(B.$$typeof){case n:case i:we=!0}}if(we)return we=B,Pe=Pe(we),B=Te===""?"."+ae(we,0):Te,I(Pe)?(be="",B!=null&&(be=B.replace(X,"$&/")+"/"),ee(Pe,Z,be,"",function(Et){return Et})):Pe!=null&&(W(Pe)&&(Pe=U(Pe,be+(!Pe.key||we&&we.key===Pe.key?"":(""+Pe.key).replace(X,"$&/")+"/")+B)),Z.push(Pe)),1;if(we=0,Te=Te===""?".":Te+":",I(B))for(var Ae=0;Ae<B.length;Ae++){Ee=B[Ae];var Ve=Te+ae(Ee,Ae);we+=ee(Ee,Z,be,Ve,Pe)}else if(Ve=k(B),typeof Ve=="function")for(B=Ve.call(B),Ae=0;!(Ee=B.next()).done;)Ee=Ee.value,Ve=Te+ae(Ee,Ae++),we+=ee(Ee,Z,be,Ve,Pe);else if(Ee==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return we}function le(B,Z,be){if(B==null)return B;var Te=[],Pe=0;return ee(B,Te,"","",function(Ee){return Z.call(be,Ee,Pe++)}),Te}function se(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(be){(B._status===0||B._status===-1)&&(B._status=1,B._result=be)},function(be){(B._status===0||B._status===-1)&&(B._status=2,B._result=be)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var _={current:null},Q={transition:null},Y={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:Q,ReactCurrentOwner:V};function J(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:le,forEach:function(B,Z,be){le(B,function(){Z.apply(this,arguments)},be)},count:function(B){var Z=0;return le(B,function(){Z++}),Z},toArray:function(B){return le(B,function(Z){return Z})||[]},only:function(B){if(!W(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=C,Re.Fragment=a,Re.Profiler=c,Re.PureComponent=A,Re.StrictMode=l,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Re.act=J,Re.cloneElement=function(B,Z,be){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Te=L({},B.props),Pe=B.key,Ee=B.ref,we=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Ee=Z.ref,we=V.current),Z.key!==void 0&&(Pe=""+Z.key),B.type&&B.type.defaultProps)var Ae=B.type.defaultProps;for(Ve in Z)M.call(Z,Ve)&&!z.hasOwnProperty(Ve)&&(Te[Ve]=Z[Ve]===void 0&&Ae!==void 0?Ae[Ve]:Z[Ve])}var Ve=arguments.length-2;if(Ve===1)Te.children=be;else if(1<Ve){Ae=Array(Ve);for(var Et=0;Et<Ve;Et++)Ae[Et]=arguments[Et+2];Te.children=Ae}return{$$typeof:n,type:B.type,key:Pe,ref:Ee,props:Te,_owner:we}},Re.createContext=function(B){return B={$$typeof:p,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:u,_context:B},B.Consumer=B},Re.createElement=O,Re.createFactory=function(B){var Z=O.bind(null,B);return Z.type=B,Z},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:m,render:B}},Re.isValidElement=W,Re.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:se}},Re.memo=function(B,Z){return{$$typeof:g,type:B,compare:Z===void 0?null:Z}},Re.startTransition=function(B){var Z=Q.transition;Q.transition={};try{B()}finally{Q.transition=Z}},Re.unstable_act=J,Re.useCallback=function(B,Z){return _.current.useCallback(B,Z)},Re.useContext=function(B){return _.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return _.current.useDeferredValue(B)},Re.useEffect=function(B,Z){return _.current.useEffect(B,Z)},Re.useId=function(){return _.current.useId()},Re.useImperativeHandle=function(B,Z,be){return _.current.useImperativeHandle(B,Z,be)},Re.useInsertionEffect=function(B,Z){return _.current.useInsertionEffect(B,Z)},Re.useLayoutEffect=function(B,Z){return _.current.useLayoutEffect(B,Z)},Re.useMemo=function(B,Z){return _.current.useMemo(B,Z)},Re.useReducer=function(B,Z,be){return _.current.useReducer(B,Z,be)},Re.useRef=function(B){return _.current.useRef(B)},Re.useState=function(B){return _.current.useState(B)},Re.useSyncExternalStore=function(B,Z,be){return _.current.useSyncExternalStore(B,Z,be)},Re.useTransition=function(){return _.current.useTransition()},Re.version="18.3.1",Re}var Hh;function Rd(){return Hh||(Hh=1,Iu.exports=ny()),Iu.exports}var Wh;function iy(){if(Wh)return Pa;Wh=1;var n=Rd(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function p(m,f,g){var y,v={},k=null,N=null;g!==void 0&&(k=""+g),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(N=f.ref);for(y in f)l.call(f,y)&&!u.hasOwnProperty(y)&&(v[y]=f[y]);if(m&&m.defaultProps)for(y in f=m.defaultProps,f)v[y]===void 0&&(v[y]=f[y]);return{$$typeof:i,type:m,key:k,ref:N,props:v,_owner:c.current}}return Pa.Fragment=a,Pa.jsx=p,Pa.jsxs=p,Pa}var Gh;function oy(){return Gh||(Gh=1,Lu.exports=iy()),Lu.exports}var r=oy(),x=Rd(),Al={},zu={exports:{}},Ut={},Du={exports:{}},Fu={};var Yh;function ry(){return Yh||(Yh=1,(function(n){function i(Q,Y){var J=Q.length;Q.push(Y);e:for(;0<J;){var B=J-1>>>1,Z=Q[B];if(0<c(Z,Y))Q[B]=Y,Q[J]=Z,J=B;else break e}}function a(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var Y=Q[0],J=Q.pop();if(J!==Y){Q[0]=J;e:for(var B=0,Z=Q.length,be=Z>>>1;B<be;){var Te=2*(B+1)-1,Pe=Q[Te],Ee=Te+1,we=Q[Ee];if(0>c(Pe,J))Ee<Z&&0>c(we,Pe)?(Q[B]=we,Q[Ee]=J,B=Ee):(Q[B]=Pe,Q[Te]=J,B=Te);else if(Ee<Z&&0>c(we,J))Q[B]=we,Q[Ee]=J,B=Ee;else break e}}return Y}function c(Q,Y){var J=Q.sortIndex-Y.sortIndex;return J!==0?J:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var p=Date,m=p.now();n.unstable_now=function(){return p.now()-m}}var f=[],g=[],y=1,v=null,k=3,N=!1,L=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var Y=a(g);Y!==null;){if(Y.callback===null)l(g);else if(Y.startTime<=Q)l(g),Y.sortIndex=Y.expirationTime,i(f,Y);else break;Y=a(g)}}function I(Q){if(j=!1,S(Q),!L)if(a(f)!==null)L=!0,se(M);else{var Y=a(g);Y!==null&&_(I,Y.startTime-Q)}}function M(Q,Y){L=!1,j&&(j=!1,R(O),O=-1),N=!0;var J=k;try{for(S(Y),v=a(f);v!==null&&(!(v.expirationTime>Y)||Q&&!ce());){var B=v.callback;if(typeof B=="function"){v.callback=null,k=v.priorityLevel;var Z=B(v.expirationTime<=Y);Y=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===a(f)&&l(f),S(Y)}else l(f);v=a(f)}if(v!==null)var be=!0;else{var Te=a(g);Te!==null&&_(I,Te.startTime-Y),be=!1}return be}finally{v=null,k=J,N=!1}}var V=!1,z=null,O=-1,U=5,W=-1;function ce(){return!(n.unstable_now()-W<U)}function X(){if(z!==null){var Q=n.unstable_now();W=Q;var Y=!0;try{Y=z(!0,Q)}finally{Y?ae():(V=!1,z=null)}}else V=!1}var ae;if(typeof A=="function")ae=function(){A(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=X,ae=function(){le.postMessage(null)}}else ae=function(){C(X,0)};function se(Q){z=Q,V||(V=!0,ae())}function _(Q,Y){O=C(function(){Q(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){L||N||(L=!0,se(M))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return a(f)},n.unstable_next=function(Q){switch(k){case 1:case 2:case 3:var Y=3;break;default:Y=k}var J=k;k=Y;try{return Q()}finally{k=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=k;k=Q;try{return Y()}finally{k=J}},n.unstable_scheduleCallback=function(Q,Y,J){var B=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?B+J:B):J=B,Q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,Q={id:y++,callback:Y,priorityLevel:Q,startTime:J,expirationTime:Z,sortIndex:-1},J>B?(Q.sortIndex=J,i(g,Q),a(f)===null&&Q===a(g)&&(j?(R(O),O=-1):j=!0,_(I,J-B))):(Q.sortIndex=Z,i(f,Q),L||N||(L=!0,se(M))),Q},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(Q){var Y=k;return function(){var J=k;k=Y;try{return Q.apply(this,arguments)}finally{k=J}}}})(Fu)),Fu}var Xh;function ay(){return Xh||(Xh=1,Du.exports=ry()),Du.exports}var Kh;function sy(){if(Kh)return Ut;Kh=1;var n=Rd(),i=ay();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function k(e){return f.call(v,e)?!0:f.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function N(e,t,o,s){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,t,o,s){if(t===null||typeof t>"u"||N(e,t,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,o,s,d,h,b){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,A);C[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,A);C[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,A);C[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,o,s){var d=C.hasOwnProperty(t)?C[t]:null;(d!==null?d.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L(t,o,d,s)&&(o=null),s||d===null?k(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):d.mustUseProperty?e[d.propertyName]=o===null?d.type===3?!1:"":o:(t=d.attributeName,s=d.attributeNamespace,o===null?e.removeAttribute(t):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,s?e.setAttributeNS(s,t,o):e.setAttribute(t,o))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),ce=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,B;function Z(e){if(B===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return`
`+B+e}var be=!1;function Te(e,t){if(!e||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(K){var s=K}Reflect.construct(e,[],t)}else{try{t.call()}catch(K){s=K}e.call(t.prototype)}else{try{throw Error()}catch(K){s=K}e()}}catch(K){if(K&&s&&typeof K.stack=="string"){for(var d=K.stack.split(`
`),h=s.stack.split(`
`),b=d.length-1,E=h.length-1;1<=b&&0<=E&&d[b]!==h[E];)E--;for(;1<=b&&0<=E;b--,E--)if(d[b]!==h[E]){if(b!==1||E!==1)do if(b--,E--,0>E||d[b]!==h[E]){var D=`
`+d[b].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=b&&0<=E);break}}}finally{be=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?Z(e):""}function Pe(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=Te(e.type,!1),e;case 11:return e=Te(e.type.render,!1),e;case 1:return e=Te(e.type,!0),e;default:return""}}function Ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case V:return"Portal";case U:return"Profiler";case O:return"StrictMode";case ae:return"Suspense";case ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ce:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Et(e){var t=Ve(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(b){s=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qt(e){e._valueTracker||(e._valueTracker=Et(e))}function Ya(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),s="";return e&&(s=Ve(e)?e.checked?"true":"false":e.value),e=s,e!==o?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eo(e,t){var o=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Ge(e,t){var o=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;o=Ae(t.value!=null?t.value:o),e._wrapperState={initialChecked:s,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xa(e,t){t=t.checked,t!=null&&S(e,"checked",t,!1)}function Ao(e,t){Xa(e,t);var o=Ae(t.value),s=t.type;if(o!=null)s==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ht(e,t.type,o):t.hasOwnProperty("defaultValue")&&ht(e,t.type,Ae(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wn(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ht(e,t,o){(t!=="number"||hi(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Rn=Array.isArray;function gn(e,t,o,s){if(e=e.options,t){t={};for(var d=0;d<o.length;d++)t["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=t.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Ae(o),t=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ka(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(a(92));if(Rn(o)){if(1<o.length)throw Error(a(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:Ae(o)}}function Mr(e,t){var o=Ae(t.value),s=Ae(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),s!=null&&(e.defaultValue=""+s)}function Pr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gn,Dt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,s,d){MSApp.execUnsafeLocalFunction(function(){return e(t,o,s,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ye(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lo=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){Lo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function Yn(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function Io(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var s=o.indexOf("--")===0,d=Yn(o,t[o],s);o==="float"&&(o="cssFloat"),s?e.setProperty(o,d):e[o]=d}}var Ja=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zo(e,t){if(t){if(Ja[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Do(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=null;function Ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lr=null,Le=null,yn=null;function Za(e){if(e=ma(e)){if(typeof Lr!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Gs(t),Lr(e.stateNode,e.type,t))}}function Ir(e){Le?yn?yn.push(e):yn=[e]:Le=e}function Jt(){if(Le){var e=Le,t=yn;if(yn=Le=null,Za(e),t)for(e=0;e<t.length;e++)Za(t[e])}}function zr(e,t){return e(t)}function Fo(){}var Dr=!1;function es(e,t,o){if(Dr)return e(t,o);Dr=!0;try{return zr(e,t,o)}finally{Dr=!1,(Le!==null||yn!==null)&&(Fo(),Jt())}}function mi(e,t){var o=e.stateNode;if(o===null)return null;var s=Gs(o);if(s===null)return null;o=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,t,typeof o));return o}var Zt=!1;if(m)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Zt=!1}function oc(e,t,o,s,d,h,b,E,D){var K=Array.prototype.slice.call(arguments,3);try{t.apply(o,K)}catch(ne){this.onError(ne)}}var An=!1,yt=null,Ki=!1,Bo=null,ts={onError:function(e){An=!0,yt=e}};function rc(e,t,o,s,d,h,b,E,D){An=!1,yt=null,oc.apply(ts,arguments)}function ns(e,t,o,s,d,h,b,E,D){if(rc.apply(this,arguments),An){if(An){var K=yt;An=!1,yt=null}else throw Error(a(198));Ki||(Ki=!0,Bo=K)}}function Xn(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Fr(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function is(e){if(Xn(e)!==e)throw Error(a(188))}function Br(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var o=e,s=t;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return is(d),e;if(h===s)return is(d),t;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var b=!1,E=d.child;E;){if(E===o){b=!0,o=d,s=h;break}if(E===s){b=!0,s=d,o=h;break}E=E.sibling}if(!b){for(E=h.child;E;){if(E===o){b=!0,o=h,s=d;break}if(E===s){b=!0,s=h,o=d;break}E=E.sibling}if(!b)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:t}function os(e){return e=Br(e),e!==null?rs(e):null}function rs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rs(e);if(t!==null)return t;e=e.sibling}return null}var as=i.unstable_scheduleCallback,Vr=i.unstable_cancelCallback,gi=i.unstable_shouldYield,ac=i.unstable_requestPaint,_e=i.unstable_now,sc=i.unstable_getCurrentPriorityLevel,Or=i.unstable_ImmediatePriority,$r=i.unstable_UserBlockingPriority,xn=i.unstable_NormalPriority,_r=i.unstable_LowPriority,ss=i.unstable_IdlePriority,Qi=null,en=null;function lc(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Qi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:cc,ls=Math.log,tn=Math.LN2;function cc(e){return e>>>=0,e===0?32:31-(ls(e)/tn|0)|0}var Vo=64,yi=4194304;function Ln(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var o=e.pendingLanes;if(o===0)return 0;var s=0,d=e.suspendedLanes,h=e.pingedLanes,b=o&268435455;if(b!==0){var E=b&~d;E!==0?s=Ln(E):(h&=b,h!==0&&(s=Ln(h)))}else b=o&~d,b!==0?s=Ln(b):h!==0&&(s=Ln(h));if(s===0)return 0;if(t!==0&&t!==s&&(t&d)===0&&(d=s&-s,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((s&4)!==0&&(s|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)o=31-Ht(t),d=1<<o,s|=e[o],t&=~d;return s}function Ur(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(e,t){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var b=31-Ht(h),E=1<<b,D=d[b];D===-1?((E&o)===0||(E&s)!==0)&&(d[b]=Ur(E,t)):D<=t&&(e.expiredLanes|=E),h&=~E}}function Ji(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cs(){var e=Vo;return Vo<<=1,(Vo&4194240)===0&&(Vo=64),e}function Oo(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Zi(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=o}function qr(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<o;){var d=31-Ht(o),h=1<<d;t[d]=0,s[d]=-1,e[d]=-1,o&=~h}}function Hr(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var s=31-Ht(o),d=1<<s;d&t|e[s]&t&&(e[s]|=t),o&=~d}}var Ie=0;function us(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ds,xt,ps,hs,$o,Wt=!1,_o=[],In=null,nn=null,on=null,eo=new Map,zn=new Map,vn=[],dc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wr(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function Je(e,t,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},t!==null&&(t=ma(t),t!==null&&xt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function pc(e,t,o,s,d){switch(t){case"focusin":return In=Je(In,e,t,o,s,d),!0;case"dragenter":return nn=Je(nn,e,t,o,s,d),!0;case"mouseover":return on=Je(on,e,t,o,s,d),!0;case"pointerover":var h=d.pointerId;return eo.set(h,Je(eo.get(h)||null,e,t,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,zn.set(h,Je(zn.get(h)||null,e,t,o,s,d)),!0}return!1}function ms(e){var t=ho(e.target);if(t!==null){var o=Xn(t);if(o!==null){if(t=o.tag,t===13){if(t=Fr(o),t!==null){e.blockedOn=t,$o(e.priority,function(){ps(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Er=s,o.target.dispatchEvent(s),Er=null}else return t=ma(o),t!==null&&xt(t),e.blockedOn=o,!1;t.shift()}return!0}function Gt(e,t,o){vi(e)&&o.delete(t)}function fs(){Wt=!1,In!==null&&vi(In)&&(In=null),nn!==null&&vi(nn)&&(nn=null),on!==null&&vi(on)&&(on=null),eo.forEach(Gt),zn.forEach(Gt)}function Dn(e,t){e.blockedOn===t&&(e.blockedOn=null,Wt||(Wt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fs)))}function Kn(e){function t(d){return Dn(d,e)}if(0<_o.length){Dn(_o[0],e);for(var o=1;o<_o.length;o++){var s=_o[o];s.blockedOn===e&&(s.blockedOn=null)}}for(In!==null&&Dn(In,e),nn!==null&&Dn(nn,e),on!==null&&Dn(on,e),eo.forEach(t),zn.forEach(t),o=0;o<vn.length;o++)s=vn[o],s.blockedOn===e&&(s.blockedOn=null);for(;0<vn.length&&(o=vn[0],o.blockedOn===null);)ms(o),o.blockedOn===null&&vn.shift()}var wi=I.ReactCurrentBatchConfig,bi=!0;function Uo(e,t,o,s){var d=Ie,h=wi.transition;wi.transition=null;try{Ie=1,wn(e,t,o,s)}finally{Ie=d,wi.transition=h}}function gs(e,t,o,s){var d=Ie,h=wi.transition;wi.transition=null;try{Ie=4,wn(e,t,o,s)}finally{Ie=d,wi.transition=h}}function wn(e,t,o,s){if(bi){var d=qo(e,t,o,s);if(d===null)vt(e,t,s,ki,o),Wr(e,s);else if(pc(d,e,t,o,s))s.stopPropagation();else if(Wr(e,s),t&4&&-1<dc.indexOf(e)){for(;d!==null;){var h=ma(d);if(h!==null&&ds(h),h=qo(e,t,o,s),h===null&&vt(e,t,s,ki,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else vt(e,t,s,null,o)}}var ki=null;function qo(e,t,o,s){if(ki=null,e=Ar(s),e=ho(e),e!==null)if(t=Xn(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Fr(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ki=e,null}function Gr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sc()){case Or:return 1;case $r:return 4;case xn:case _r:return 16;case ss:return 536870912;default:return 16}default:return 16}}var rn=null,Yr=null,jt=null;function to(){if(jt)return jt;var e,t=Yr,o=t.length,s,d="value"in rn?rn.value:rn.textContent,h=d.length;for(e=0;e<o&&t[e]===d[e];e++);var b=o-e;for(s=1;s<=b&&t[o-s]===d[h-s];s++);return jt=d.slice(e,1<s?1-s:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function no(){return!1}function Ct(e){function t(o,s,d,h,b){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Qn:no,this.isPropagationStopped=no,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),t}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Ct(ji),Ci=J({},ji,{view:0,detail:0}),io=Ct(Ci),Xr,Wo,Ni,Go=J({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(Xr=e.screenX-Ni.screenX,Wo=e.screenY-Ni.screenY):Wo=Xr=0,Ni=e),Xr)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Kr=Ct(Go),ys=J({},Go,{dataTransfer:0}),Qr=Ct(ys),xs=J({},Ci,{relatedTarget:0}),Jr=Ct(xs),vs=J({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=Ct(vs),hc=J({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zr=Ct(hc),bs=J({},ji,{data:0}),ks=Ct(bs),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},js={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=js[e])?!!t[e]:!1}function oo(){return mc}var fc=J({},Ci,{key:function(e){if(e.key){var t=Ss[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ti[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ea=Ct(fc),Mi=J({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ta=Ct(Mi),gc=J({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),Cs=Ct(gc),Jn=J({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ns=Ct(Jn),yc=J({},Go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ts=Ct(yc),an=[9,13,27,32],Fn=m&&"CompositionEvent"in window,ro=null;m&&"documentMode"in document&&(ro=document.documentMode);var ao=m&&"TextEvent"in window&&!ro,na=m&&(!Fn||ro&&8<ro&&11>=ro),Ms=" ",ia=!1;function lt(e,t){switch(e){case"keyup":return an.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rt=!1;function so(e,t){switch(e){case"compositionend":return ct(t);case"keypress":return t.which!==32?null:(ia=!0,Ms);case"textInput":return e=t.data,e===Ms&&ia?null:e;default:return null}}function xc(e,t){if(rt)return e==="compositionend"||!Fn&&lt(e,t)?(e=to(),jt=Yr=rn=null,rt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return na&&t.locale!=="ko"?null:t.data;default:return null}}var vc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vc[e.type]:t==="textarea"}function oa(e,t,o,s){Ir(s),t=er(t,"onChange"),0<t.length&&(o=new Ho("onChange","change",null,o,s),e.push({event:o,listeners:t}))}var Zn=null,lo=null;function wc(e){Me(e,0)}function ra(e){var t=nr(e);if(Ya(t))return e}function bc(e,t){if(e==="change")return t}var Rs=!1;if(m){var aa;if(m){var Yo="oninput"in document;if(!Yo){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),Yo=typeof Xo.oninput=="function"}aa=Yo}else aa=!1;Rs=aa&&(!document.documentMode||9<document.documentMode)}function Es(){Zn&&(Zn.detachEvent("onpropertychange",sa),lo=Zn=null)}function sa(e){if(e.propertyName==="value"&&ra(lo)){var t=[];oa(t,lo,e,Ar(e)),es(wc,t)}}function As(e,t,o){e==="focusin"?(Es(),Zn=t,lo=o,Zn.attachEvent("onpropertychange",sa)):e==="focusout"&&Es()}function Ls(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ra(lo)}function la(e,t){if(e==="click")return ra(t)}function Oe(e,t){if(e==="input"||e==="change")return ra(t)}function Is(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:Is;function co(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!f.call(t,d)||!Ft(e[d],t[d]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bn(e,t){var o=ca(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=t&&s>=t)return{node:o,offset:t-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ca(o)}}function zs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ds(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=hi(e.document)}return t}function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kc(e){var t=Ds(),o=e.focusedElem,s=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&zs(o.ownerDocument.documentElement,o)){if(s!==null&&Ko(o)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=o.textContent.length,h=Math.min(s.start,d);s=s.end===void 0?h:Math.min(s.end,d),!e.extend&&h>s&&(d=s,s=h,h=d),d=bn(o,h);var b=bn(o,s);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>s?(e.addRange(t),e.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sc=m&&"documentMode"in document&&11>=document.documentMode,Pi=null,ua=null,uo=null,da=!1;function Fs(e,t,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;da||Pi==null||Pi!==hi(s)||(s=Pi,"selectionStart"in s&&Ko(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),uo&&co(uo,s)||(uo=s,s=er(ua,"onSelect"),0<s.length&&(t=new Ho("onSelect","select",null,t,o),e.push({event:t,listeners:s}),t.target=Pi)))}function Qo(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Ri={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Jo={},Bs={};m&&(Bs=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Zo(e){if(Jo[e])return Jo[e];if(!Ri[e])return e;var t=Ri[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in Bs)return Jo[e]=t[o];return e}var Vs=Zo("animationend"),pa=Zo("animationiteration"),Os=Zo("animationstart"),$s=Zo("transitionend"),_s=new Map,Us="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){_s.set(e,t),u(t,[e])}for(var w=0;w<Us.length;w++){var T=Us[w],F=T.toLowerCase(),G=T[0].toUpperCase()+T.slice(1);Bn(F,"on"+G)}Bn(Vs,"onAnimationEnd"),Bn(pa,"onAnimationIteration"),Bn(Os,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn($s,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ue="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),de=new Set("cancel close invalid load scroll toggle".split(" ").concat(ue));function ve(e,t,o){var s=e.type||"unknown-event";e.currentTarget=o,ns(s,t,void 0,e),e.currentTarget=null}function Me(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var b=s.length-1;0<=b;b--){var E=s[b],D=E.instance,K=E.currentTarget;if(E=E.listener,D!==h&&d.isPropagationStopped())break e;ve(d,E,K),h=D}else for(b=0;b<s.length;b++){if(E=s[b],D=E.instance,K=E.currentTarget,E=E.listener,D!==h&&d.isPropagationStopped())break e;ve(d,E,K),h=D}}}if(Ki)throw e=Bo,Ki=!1,Bo=null,e}function je(e,t){var o=t[Pc];o===void 0&&(o=t[Pc]=new Set);var s=e+"__bubble";o.has(s)||(qs(t,e,2,!1),o.add(s))}function Fe(e,t,o){var s=0;t&&(s|=4),qs(o,e,s,t)}var xe="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[xe]){e[xe]=!0,l.forEach(function(o){o!=="selectionchange"&&(de.has(o)||Fe(o,!1,e),Fe(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xe]||(t[xe]=!0,Fe("selectionchange",!1,t))}}function qs(e,t,o,s){switch(Gr(t)){case 1:var d=Uo;break;case 4:d=gs;break;default:d=wn}o=d.bind(null,t,o,e),d=void 0,!Zt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,o,{capture:!0,passive:d}):e.addEventListener(t,o,!0):d!==void 0?e.addEventListener(t,o,{passive:d}):e.addEventListener(t,o,!1)}function vt(e,t,o,s,d){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var E=s.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(b===4)for(b=s.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;b=b.return}for(;E!==null;){if(b=ho(E),b===null)return;if(D=b.tag,D===5||D===6){s=h=b;continue e}E=E.parentNode}}s=s.return}es(function(){var K=h,ne=Ar(o),oe=[];e:{var te=_s.get(e);if(te!==void 0){var pe=Ho,me=e;switch(e){case"keypress":if(Si(o)===0)break e;case"keydown":case"keyup":pe=ea;break;case"focusin":me="focus",pe=Jr;break;case"focusout":me="blur",pe=Jr;break;case"beforeblur":case"afterblur":pe=Jr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Qr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Cs;break;case Vs:case pa:case Os:pe=ws;break;case $s:pe=Ns;break;case"scroll":pe=io;break;case"wheel":pe=Ts;break;case"copy":case"cut":case"paste":pe=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=ta}var ge=(t&4)!==0,it=!ge&&e==="scroll",q=ge?te!==null?te+"Capture":null:te;ge=[];for(var $=K,H;$!==null;){H=$;var re=H.stateNode;if(H.tag===5&&re!==null&&(H=re,q!==null&&(re=mi($,q),re!=null&&ge.push(po($,re,H)))),it)break;$=$.return}0<ge.length&&(te=new pe(te,me,null,o,ne),oe.push({event:te,listeners:ge}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",te&&o!==Er&&(me=o.relatedTarget||o.fromElement)&&(ho(me)||me[ti]))break e;if((pe||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,pe?(me=o.relatedTarget||o.toElement,pe=K,me=me?ho(me):null,me!==null&&(it=Xn(me),me!==it||me.tag!==5&&me.tag!==6)&&(me=null)):(pe=null,me=K),pe!==me)){if(ge=Kr,re="onMouseLeave",q="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(ge=ta,re="onPointerLeave",q="onPointerEnter",$="pointer"),it=pe==null?te:nr(pe),H=me==null?te:nr(me),te=new ge(re,$+"leave",pe,o,ne),te.target=it,te.relatedTarget=H,re=null,ho(ne)===K&&(ge=new ge(q,$+"enter",me,o,ne),ge.target=H,ge.relatedTarget=it,re=ge),it=re,pe&&me)t:{for(ge=pe,q=me,$=0,H=ge;H;H=ei(H))$++;for(H=0,re=q;re;re=ei(re))H++;for(;0<$-H;)ge=ei(ge),$--;for(;0<H-$;)q=ei(q),H--;for(;$--;){if(ge===q||q!==null&&ge===q.alternate)break t;ge=ei(ge),q=ei(q)}ge=null}else ge=null;pe!==null&&kn(oe,te,pe,ge,!1),me!==null&&it!==null&&kn(oe,it,me,ge,!0)}}e:{if(te=K?nr(K):window,pe=te.nodeName&&te.nodeName.toLowerCase(),pe==="select"||pe==="input"&&te.type==="file")var ye=bc;else if(Ps(te))if(Rs)ye=Oe;else{ye=Ls;var ke=As}else(pe=te.nodeName)&&pe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=la);if(ye&&(ye=ye(e,K))){oa(oe,ye,o,ne);break e}ke&&ke(e,te,K),e==="focusout"&&(ke=te._wrapperState)&&ke.controlled&&te.type==="number"&&ht(te,"number",te.value)}switch(ke=K?nr(K):window,e){case"focusin":(Ps(ke)||ke.contentEditable==="true")&&(Pi=ke,ua=K,uo=null);break;case"focusout":uo=ua=Pi=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,Fs(oe,o,ne);break;case"selectionchange":if(Sc)break;case"keydown":case"keyup":Fs(oe,o,ne)}var Se;if(Fn)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else rt?lt(e,o)&&(Ce="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(na&&o.locale!=="ko"&&(rt||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&rt&&(Se=to()):(rn=ne,Yr="value"in rn?rn.value:rn.textContent,rt=!0)),ke=er(K,Ce),0<ke.length&&(Ce=new ks(Ce,e,null,o,ne),oe.push({event:Ce,listeners:ke}),Se?Ce.data=Se:(Se=ct(o),Se!==null&&(Ce.data=Se)))),(Se=ao?so(e,o):xc(e,o))&&(K=er(K,"onBeforeInput"),0<K.length&&(ne=new ks("onBeforeInput","beforeinput",null,o,ne),oe.push({event:ne,listeners:K}),ne.data=Se))}Me(oe,t)})}function po(e,t,o){return{instance:e,listener:t,currentTarget:o}}function er(e,t){for(var o=t+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=mi(e,o),h!=null&&s.unshift(po(e,h,d)),h=mi(e,t),h!=null&&s.push(po(e,h,d))),e=e.return}return s}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kn(e,t,o,s,d){for(var h=t._reactName,b=[];o!==null&&o!==s;){var E=o,D=E.alternate,K=E.stateNode;if(D!==null&&D===s)break;E.tag===5&&K!==null&&(E=K,d?(D=mi(o,h),D!=null&&b.unshift(po(o,D,E))):d||(D=mi(o,h),D!=null&&b.push(po(o,D,E)))),o=o.return}b.length!==0&&e.push({event:t,listeners:b})}var Ze=/\r\n?/g,f0=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(Ze,`
`).replace(f0,"")}function Hs(e,t,o){if(t=cp(t),cp(e)!==t&&o)throw Error(a(425))}function Ws(){}var jc=null,Cc=null;function Nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,g0=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,y0=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(e){return up.resolve(null).then(e).catch(x0)}:Tc;function x0(e){setTimeout(function(){throw e})}function Mc(e,t){var o=t,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(s===0){e.removeChild(d),Kn(t);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=d}while(o);Kn(t)}function Ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),On="__reactFiber$"+tr,ha="__reactProps$"+tr,ti="__reactContainer$"+tr,Pc="__reactEvents$"+tr,v0="__reactListeners$"+tr,w0="__reactHandles$"+tr;function ho(e){var t=e[On];if(t)return t;for(var o=e.parentNode;o;){if(t=o[ti]||o[On]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=dp(e);e!==null;){if(o=e[On])return o;e=dp(e)}return t}e=o,o=e.parentNode}return null}function ma(e){return e=e[On]||e[ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Gs(e){return e[ha]||null}var Rc=[],ir=-1;function Ai(e){return{current:e}}function Ue(e){0>ir||(e.current=Rc[ir],Rc[ir]=null,ir--)}function $e(e,t){ir++,Rc[ir]=e.current,e.current=t}var Li={},Nt=Ai(Li),Bt=Ai(!1),mo=Li;function or(e,t){var o=e.type.contextTypes;if(!o)return Li;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in o)d[h]=t[h];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Vt(e){return e=e.childContextTypes,e!=null}function Ys(){Ue(Bt),Ue(Nt)}function pp(e,t,o){if(Nt.current!==Li)throw Error(a(168));$e(Nt,t),$e(Bt,o)}function hp(e,t,o){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var d in s)if(!(d in t))throw Error(a(108,we(e)||"Unknown",d));return J({},o,s)}function Xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,mo=Nt.current,$e(Nt,e),$e(Bt,Bt.current),!0}function mp(e,t,o){var s=e.stateNode;if(!s)throw Error(a(169));o?(e=hp(e,t,mo),s.__reactInternalMemoizedMergedChildContext=e,Ue(Bt),Ue(Nt),$e(Nt,e)):Ue(Bt),$e(Bt,o)}var ni=null,Ks=!1,Ec=!1;function fp(e){ni===null?ni=[e]:ni.push(e)}function b0(e){Ks=!0,fp(e)}function Ii(){if(!Ec&&ni!==null){Ec=!0;var e=0,t=Ie;try{var o=ni;for(Ie=1;e<o.length;e++){var s=o[e];do s=s(!0);while(s!==null)}ni=null,Ks=!1}catch(d){throw ni!==null&&(ni=ni.slice(e+1)),as(Or,Ii),d}finally{Ie=t,Ec=!1}}return null}var rr=[],ar=0,Qs=null,Js=0,sn=[],ln=0,fo=null,ii=1,oi="";function go(e,t){rr[ar++]=Js,rr[ar++]=Qs,Qs=e,Js=t}function gp(e,t,o){sn[ln++]=ii,sn[ln++]=oi,sn[ln++]=fo,fo=e;var s=ii;e=oi;var d=32-Ht(s)-1;s&=~(1<<d),o+=1;var h=32-Ht(t)+d;if(30<h){var b=d-d%5;h=(s&(1<<b)-1).toString(32),s>>=b,d-=b,ii=1<<32-Ht(t)+d|o<<d|s,oi=h+e}else ii=1<<h|o<<d|s,oi=e}function Ac(e){e.return!==null&&(go(e,1),gp(e,1,0))}function Lc(e){for(;e===Qs;)Qs=rr[--ar],rr[ar]=null,Js=rr[--ar],rr[ar]=null;for(;e===fo;)fo=sn[--ln],sn[ln]=null,oi=sn[--ln],sn[ln]=null,ii=sn[--ln],sn[ln]=null}var Yt=null,Xt=null,We=!1,Sn=null;function yp(e,t){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function xp(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Xt=Ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=fo!==null?{id:ii,overflow:oi}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,Yt=e,Xt=null,!0):!1;default:return!1}}function Ic(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zc(e){if(We){var t=Xt;if(t){var o=t;if(!xp(e,t)){if(Ic(e))throw Error(a(418));t=Ei(o.nextSibling);var s=Yt;t&&xp(e,t)?yp(s,o):(e.flags=e.flags&-4097|2,We=!1,Yt=e)}}else{if(Ic(e))throw Error(a(418));e.flags=e.flags&-4097|2,We=!1,Yt=e}}}function vp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Zs(e){if(e!==Yt)return!1;if(!We)return vp(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nc(e.type,e.memoizedProps)),t&&(t=Xt)){if(Ic(e))throw wp(),Error(a(418));for(;t;)yp(e,t),t=Ei(t.nextSibling)}if(vp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Xt=Ei(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Yt?Ei(e.stateNode.nextSibling):null;return!0}function wp(){for(var e=Xt;e;)e=Ei(e.nextSibling)}function sr(){Xt=Yt=null,We=!1}function Dc(e){Sn===null?Sn=[e]:Sn.push(e)}var k0=I.ReactCurrentBatchConfig;function fa(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(a(309));var s=o.stateNode}if(!s)throw Error(a(147,e));var d=s,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(b){var E=d.refs;b===null?delete E[h]:E[h]=b},t._stringRef=h,t)}if(typeof e!="string")throw Error(a(284));if(!o._owner)throw Error(a(290,e))}return e}function el(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bp(e){var t=e._init;return t(e._payload)}function kp(e){function t(q,$){if(e){var H=q.deletions;H===null?(q.deletions=[$],q.flags|=16):H.push($)}}function o(q,$){if(!e)return null;for(;$!==null;)t(q,$),$=$.sibling;return null}function s(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function d(q,$){return q=_i(q,$),q.index=0,q.sibling=null,q}function h(q,$,H){return q.index=H,e?(H=q.alternate,H!==null?(H=H.index,H<$?(q.flags|=2,$):H):(q.flags|=2,$)):(q.flags|=1048576,$)}function b(q){return e&&q.alternate===null&&(q.flags|=2),q}function E(q,$,H,re){return $===null||$.tag!==6?($=Tu(H,q.mode,re),$.return=q,$):($=d($,H),$.return=q,$)}function D(q,$,H,re){var ye=H.type;return ye===z?ne(q,$,H.props.children,re,H.key):$!==null&&($.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===se&&bp(ye)===$.type)?(re=d($,H.props),re.ref=fa(q,$,H),re.return=q,re):(re=jl(H.type,H.key,H.props,null,q.mode,re),re.ref=fa(q,$,H),re.return=q,re)}function K(q,$,H,re){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?($=Mu(H,q.mode,re),$.return=q,$):($=d($,H.children||[]),$.return=q,$)}function ne(q,$,H,re,ye){return $===null||$.tag!==7?($=jo(H,q.mode,re,ye),$.return=q,$):($=d($,H),$.return=q,$)}function oe(q,$,H){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Tu(""+$,q.mode,H),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return H=jl($.type,$.key,$.props,null,q.mode,H),H.ref=fa(q,null,$),H.return=q,H;case V:return $=Mu($,q.mode,H),$.return=q,$;case se:var re=$._init;return oe(q,re($._payload),H)}if(Rn($)||Y($))return $=jo($,q.mode,H,null),$.return=q,$;el(q,$)}return null}function te(q,$,H,re){var ye=$!==null?$.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ye!==null?null:E(q,$,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===ye?D(q,$,H,re):null;case V:return H.key===ye?K(q,$,H,re):null;case se:return ye=H._init,te(q,$,ye(H._payload),re)}if(Rn(H)||Y(H))return ye!==null?null:ne(q,$,H,re,null);el(q,H)}return null}function pe(q,$,H,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return q=q.get(H)||null,E($,q,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case M:return q=q.get(re.key===null?H:re.key)||null,D($,q,re,ye);case V:return q=q.get(re.key===null?H:re.key)||null,K($,q,re,ye);case se:var ke=re._init;return pe(q,$,H,ke(re._payload),ye)}if(Rn(re)||Y(re))return q=q.get(H)||null,ne($,q,re,ye,null);el($,re)}return null}function me(q,$,H,re){for(var ye=null,ke=null,Se=$,Ce=$=0,gt=null;Se!==null&&Ce<H.length;Ce++){Se.index>Ce?(gt=Se,Se=null):gt=Se.sibling;var De=te(q,Se,H[Ce],re);if(De===null){Se===null&&(Se=gt);break}e&&Se&&De.alternate===null&&t(q,Se),$=h(De,$,Ce),ke===null?ye=De:ke.sibling=De,ke=De,Se=gt}if(Ce===H.length)return o(q,Se),We&&go(q,Ce),ye;if(Se===null){for(;Ce<H.length;Ce++)Se=oe(q,H[Ce],re),Se!==null&&($=h(Se,$,Ce),ke===null?ye=Se:ke.sibling=Se,ke=Se);return We&&go(q,Ce),ye}for(Se=s(q,Se);Ce<H.length;Ce++)gt=pe(Se,q,Ce,H[Ce],re),gt!==null&&(e&&gt.alternate!==null&&Se.delete(gt.key===null?Ce:gt.key),$=h(gt,$,Ce),ke===null?ye=gt:ke.sibling=gt,ke=gt);return e&&Se.forEach(function(Ui){return t(q,Ui)}),We&&go(q,Ce),ye}function ge(q,$,H,re){var ye=Y(H);if(typeof ye!="function")throw Error(a(150));if(H=ye.call(H),H==null)throw Error(a(151));for(var ke=ye=null,Se=$,Ce=$=0,gt=null,De=H.next();Se!==null&&!De.done;Ce++,De=H.next()){Se.index>Ce?(gt=Se,Se=null):gt=Se.sibling;var Ui=te(q,Se,De.value,re);if(Ui===null){Se===null&&(Se=gt);break}e&&Se&&Ui.alternate===null&&t(q,Se),$=h(Ui,$,Ce),ke===null?ye=Ui:ke.sibling=Ui,ke=Ui,Se=gt}if(De.done)return o(q,Se),We&&go(q,Ce),ye;if(Se===null){for(;!De.done;Ce++,De=H.next())De=oe(q,De.value,re),De!==null&&($=h(De,$,Ce),ke===null?ye=De:ke.sibling=De,ke=De);return We&&go(q,Ce),ye}for(Se=s(q,Se);!De.done;Ce++,De=H.next())De=pe(Se,q,Ce,De.value,re),De!==null&&(e&&De.alternate!==null&&Se.delete(De.key===null?Ce:De.key),$=h(De,$,Ce),ke===null?ye=De:ke.sibling=De,ke=De);return e&&Se.forEach(function(ty){return t(q,ty)}),We&&go(q,Ce),ye}function it(q,$,H,re){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var ye=H.key,ke=$;ke!==null;){if(ke.key===ye){if(ye=H.type,ye===z){if(ke.tag===7){o(q,ke.sibling),$=d(ke,H.props.children),$.return=q,q=$;break e}}else if(ke.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===se&&bp(ye)===ke.type){o(q,ke.sibling),$=d(ke,H.props),$.ref=fa(q,ke,H),$.return=q,q=$;break e}o(q,ke);break}else t(q,ke);ke=ke.sibling}H.type===z?($=jo(H.props.children,q.mode,re,H.key),$.return=q,q=$):(re=jl(H.type,H.key,H.props,null,q.mode,re),re.ref=fa(q,$,H),re.return=q,q=re)}return b(q);case V:e:{for(ke=H.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){o(q,$.sibling),$=d($,H.children||[]),$.return=q,q=$;break e}else{o(q,$);break}else t(q,$);$=$.sibling}$=Mu(H,q.mode,re),$.return=q,q=$}return b(q);case se:return ke=H._init,it(q,$,ke(H._payload),re)}if(Rn(H))return me(q,$,H,re);if(Y(H))return ge(q,$,H,re);el(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,$!==null&&$.tag===6?(o(q,$.sibling),$=d($,H),$.return=q,q=$):(o(q,$),$=Tu(H,q.mode,re),$.return=q,q=$),b(q)):o(q,$)}return it}var lr=kp(!0),Sp=kp(!1),tl=Ai(null),nl=null,cr=null,Fc=null;function Bc(){Fc=cr=nl=null}function Vc(e){var t=tl.current;Ue(tl),e._currentValue=t}function Oc(e,t,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===o)break;e=e.return}}function ur(e,t){nl=e,Fc=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ot=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Fc!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(nl===null)throw Error(a(308));cr=e,nl.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var yo=null;function $c(e){yo===null?yo=[e]:yo.push(e)}function jp(e,t,o,s){var d=t.interleaved;return d===null?(o.next=o,$c(t)):(o.next=d.next,d.next=o),t.interleaved=o,ri(e,s)}function ri(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var zi=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,ri(e,o)}return d=s.interleaved,d===null?(t.next=t,$c(s)):(t.next=d.next,d.next=t),s.interleaved=t,ri(e,o)}function il(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,o|=s,t.lanes=o,Hr(e,o)}}function Np(e,t){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?d=h=b:h=h.next=b,o=o.next}while(o!==null);h===null?d=h=t:h=h.next=t}else d=h=t;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,effects:s.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function ol(e,t,o,s){var d=e.updateQueue;zi=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var D=E,K=D.next;D.next=null,b===null?h=K:b.next=K,b=D;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,E=ne.lastBaseUpdate,E!==b&&(E===null?ne.firstBaseUpdate=K:E.next=K,ne.lastBaseUpdate=D))}if(h!==null){var oe=d.baseState;b=0,ne=K=D=null,E=h;do{var te=E.lane,pe=E.eventTime;if((s&te)===te){ne!==null&&(ne=ne.next={eventTime:pe,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var me=e,ge=E;switch(te=t,pe=o,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){oe=me.call(pe,oe,te);break e}oe=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,te=typeof me=="function"?me.call(pe,oe,te):me,te==null)break e;oe=J({},oe,te);break e;case 2:zi=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,te=d.effects,te===null?d.effects=[E]:te.push(E))}else pe={eventTime:pe,lane:te,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ne===null?(K=ne=pe,D=oe):ne=ne.next=pe,b|=te;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;te=E,E=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);if(ne===null&&(D=oe),d.baseState=D,d.firstBaseUpdate=K,d.lastBaseUpdate=ne,t=d.shared.interleaved,t!==null){d=t;do b|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);wo|=b,e.lanes=b,e.memoizedState=oe}}function Tp(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],d=s.callback;if(d!==null){if(s.callback=null,s=o,typeof d!="function")throw Error(a(191,d));d.call(s)}}}var ga={},$n=Ai(ga),ya=Ai(ga),xa=Ai(ga);function xo(e){if(e===ga)throw Error(a(174));return e}function Uc(e,t){switch($e(xa,t),$e(ya,e),$e($n,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rr(t,e)}Ue($n),$e($n,t)}function dr(){Ue($n),Ue(ya),Ue(xa)}function Mp(e){xo(xa.current);var t=xo($n.current),o=Rr(t,e.type);t!==o&&($e(ya,e),$e($n,o))}function qc(e){ya.current===e&&(Ue($n),Ue(ya))}var Xe=Ai(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hc=[];function Wc(){for(var e=0;e<Hc.length;e++)Hc[e]._workInProgressVersionPrimary=null;Hc.length=0}var al=I.ReactCurrentDispatcher,Gc=I.ReactCurrentBatchConfig,vo=0,Ke=null,ut=null,mt=null,sl=!1,va=!1,wa=0,S0=0;function Tt(){throw Error(a(321))}function Yc(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!Ft(e[o],t[o]))return!1;return!0}function Xc(e,t,o,s,d,h){if(vo=h,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=e===null||e.memoizedState===null?T0:M0,e=o(s,d),va){h=0;do{if(va=!1,wa=0,25<=h)throw Error(a(301));h+=1,mt=ut=null,t.updateQueue=null,al.current=P0,e=o(s,d)}while(va)}if(al.current=ul,t=ut!==null&&ut.next!==null,vo=0,mt=ut=Ke=null,sl=!1,t)throw Error(a(300));return e}function Kc(){var e=wa!==0;return wa=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=e:mt=mt.next=e,mt}function un(){if(ut===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=mt===null?Ke.memoizedState:mt.next;if(t!==null)mt=t,ut=e;else{if(e===null)throw Error(a(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Ke.memoizedState=mt=e:mt=mt.next=e}return mt}function ba(e,t){return typeof t=="function"?t(e):t}function Qc(e){var t=un(),o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=ut,d=s.baseQueue,h=o.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}s.baseQueue=d=h,o.pending=null}if(d!==null){h=d.next,s=s.baseState;var E=b=null,D=null,K=h;do{var ne=K.lane;if((vo&ne)===ne)D!==null&&(D=D.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),s=K.hasEagerState?K.eagerState:e(s,K.action);else{var oe={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};D===null?(E=D=oe,b=s):D=D.next=oe,Ke.lanes|=ne,wo|=ne}K=K.next}while(K!==null&&K!==h);D===null?b=s:D.next=E,Ft(s,t.memoizedState)||(Ot=!0),t.memoizedState=s,t.baseState=b,t.baseQueue=D,o.lastRenderedState=s}if(e=o.interleaved,e!==null){d=e;do h=d.lane,Ke.lanes|=h,wo|=h,d=d.next;while(d!==e)}else d===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function Jc(e){var t=un(),o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=t.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do h=e(h,b.action),b=b.next;while(b!==d);Ft(h,t.memoizedState)||(Ot=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),o.lastRenderedState=h}return[h,s]}function Pp(){}function Rp(e,t){var o=Ke,s=un(),d=t(),h=!Ft(s.memoizedState,d);if(h&&(s.memoizedState=d,Ot=!0),s=s.queue,Zc(Lp.bind(null,o,s,e),[e]),s.getSnapshot!==t||h||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,ka(9,Ap.bind(null,o,s,d,t),void 0,null),ft===null)throw Error(a(349));(vo&30)!==0||Ep(o,t,d)}return d}function Ep(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function Ap(e,t,o,s){t.value=o,t.getSnapshot=s,Ip(t)&&zp(e)}function Lp(e,t,o){return o(function(){Ip(t)&&zp(e)})}function Ip(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!Ft(e,o)}catch{return!0}}function zp(e){var t=ri(e,1);t!==null&&Tn(t,e,1,-1)}function Dp(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=N0.bind(null,Ke,e),[t.memoizedState,e]}function ka(e,t,o,s){return e={tag:e,create:t,destroy:o,deps:s,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,t.lastEffect=e)),e}function Fp(){return un().memoizedState}function ll(e,t,o,s){var d=_n();Ke.flags|=e,d.memoizedState=ka(1|t,o,void 0,s===void 0?null:s)}function cl(e,t,o,s){var d=un();s=s===void 0?null:s;var h=void 0;if(ut!==null){var b=ut.memoizedState;if(h=b.destroy,s!==null&&Yc(s,b.deps)){d.memoizedState=ka(t,o,h,s);return}}Ke.flags|=e,d.memoizedState=ka(1|t,o,h,s)}function Bp(e,t){return ll(8390656,8,e,t)}function Zc(e,t){return cl(2048,8,e,t)}function Vp(e,t){return cl(4,2,e,t)}function Op(e,t){return cl(4,4,e,t)}function $p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _p(e,t,o){return o=o!=null?o.concat([e]):null,cl(4,4,$p.bind(null,t,e),o)}function eu(){}function Up(e,t){var o=un();t=t===void 0?null:t;var s=o.memoizedState;return s!==null&&t!==null&&Yc(t,s[1])?s[0]:(o.memoizedState=[e,t],e)}function qp(e,t){var o=un();t=t===void 0?null:t;var s=o.memoizedState;return s!==null&&t!==null&&Yc(t,s[1])?s[0]:(e=e(),o.memoizedState=[e,t],e)}function Hp(e,t,o){return(vo&21)===0?(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=o):(Ft(o,t)||(o=cs(),Ke.lanes|=o,wo|=o,e.baseState=!0),t)}function j0(e,t){var o=Ie;Ie=o!==0&&4>o?o:4,e(!0);var s=Gc.transition;Gc.transition={};try{e(!1),t()}finally{Ie=o,Gc.transition=s}}function Wp(){return un().memoizedState}function C0(e,t,o){var s=Oi(e);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},Gp(e))Yp(t,o);else if(o=jp(e,t,o,s),o!==null){var d=Lt();Tn(o,e,s,d),Xp(o,t,s)}}function N0(e,t,o){var s=Oi(e),d={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gp(e))Yp(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,E=h(b,o);if(d.hasEagerState=!0,d.eagerState=E,Ft(E,b)){var D=t.interleaved;D===null?(d.next=d,$c(t)):(d.next=D.next,D.next=d),t.interleaved=d;return}}catch{}o=jp(e,t,d,s),o!==null&&(d=Lt(),Tn(o,e,s,d),Xp(o,t,s))}}function Gp(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Yp(e,t){va=sl=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Xp(e,t,o){if((o&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,o|=s,t.lanes=o,Hr(e,o)}}var ul={readContext:cn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},T0={readContext:cn,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Bp,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,ll(4194308,4,$p.bind(null,t,e),o)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return ll(4,2,e,t)},useMemo:function(e,t){var o=_n();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var s=_n();return t=o!==void 0?o(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=C0.bind(null,Ke,e),[s.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:Dp,useDebugValue:eu,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=Dp(!1),t=e[0];return e=j0.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var s=Ke,d=_n();if(We){if(o===void 0)throw Error(a(407));o=o()}else{if(o=t(),ft===null)throw Error(a(349));(vo&30)!==0||Ep(s,t,o)}d.memoizedState=o;var h={value:o,getSnapshot:t};return d.queue=h,Bp(Lp.bind(null,s,h,e),[e]),s.flags|=2048,ka(9,Ap.bind(null,s,h,o,t),void 0,null),o},useId:function(){var e=_n(),t=ft.identifierPrefix;if(We){var o=oi,s=ii;o=(s&~(1<<32-Ht(s)-1)).toString(32)+o,t=":"+t+"R"+o,o=wa++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=S0++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M0={readContext:cn,useCallback:Up,useContext:cn,useEffect:Zc,useImperativeHandle:_p,useInsertionEffect:Vp,useLayoutEffect:Op,useMemo:qp,useReducer:Qc,useRef:Fp,useState:function(){return Qc(ba)},useDebugValue:eu,useDeferredValue:function(e){var t=un();return Hp(t,ut.memoizedState,e)},useTransition:function(){var e=Qc(ba)[0],t=un().memoizedState;return[e,t]},useMutableSource:Pp,useSyncExternalStore:Rp,useId:Wp,unstable_isNewReconciler:!1},P0={readContext:cn,useCallback:Up,useContext:cn,useEffect:Zc,useImperativeHandle:_p,useInsertionEffect:Vp,useLayoutEffect:Op,useMemo:qp,useReducer:Jc,useRef:Fp,useState:function(){return Jc(ba)},useDebugValue:eu,useDeferredValue:function(e){var t=un();return ut===null?t.memoizedState=e:Hp(t,ut.memoizedState,e)},useTransition:function(){var e=Jc(ba)[0],t=un().memoizedState;return[e,t]},useMutableSource:Pp,useSyncExternalStore:Rp,useId:Wp,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function tu(e,t,o,s){t=e.memoizedState,o=o(s,t),o=o==null?t:J({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var dl={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var s=Lt(),d=Oi(e),h=ai(s,d);h.payload=t,o!=null&&(h.callback=o),t=Di(e,h,d),t!==null&&(Tn(t,e,d,s),il(t,e,d))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var s=Lt(),d=Oi(e),h=ai(s,d);h.tag=1,h.payload=t,o!=null&&(h.callback=o),t=Di(e,h,d),t!==null&&(Tn(t,e,d,s),il(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=Lt(),s=Oi(e),d=ai(o,s);d.tag=2,t!=null&&(d.callback=t),t=Di(e,d,s),t!==null&&(Tn(t,e,s,o),il(t,e,s))}};function Kp(e,t,o,s,d,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,b):t.prototype&&t.prototype.isPureReactComponent?!co(o,s)||!co(d,h):!0}function Qp(e,t,o){var s=!1,d=Li,h=t.contextType;return typeof h=="object"&&h!==null?h=cn(h):(d=Vt(t)?mo:Nt.current,s=t.contextTypes,h=(s=s!=null)?or(e,d):Li),t=new t(o,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function Jp(e,t,o,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,s),t.state!==e&&dl.enqueueReplaceState(t,t.state,null)}function nu(e,t,o,s){var d=e.stateNode;d.props=o,d.state=e.memoizedState,d.refs={},_c(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=cn(h):(h=Vt(t)?mo:Nt.current,d.context=or(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(tu(e,t,h,o),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&dl.enqueueReplaceState(d,d.state,null),ol(e,o,d,s),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var o="",s=t;do o+=Pe(s),s=s.return;while(s);var d=o}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function iu(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function ou(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var R0=typeof WeakMap=="function"?WeakMap:Map;function Zp(e,t,o){o=ai(-1,o),o.tag=3,o.payload={element:null};var s=t.value;return o.callback=function(){xl||(xl=!0,vu=s),ou(e,t)},o}function eh(e,t,o){o=ai(-1,o),o.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var d=t.value;o.payload=function(){return s(d)},o.callback=function(){ou(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){ou(e,t),typeof s!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var b=t.stack;this.componentDidCatch(t.value,{componentStack:b!==null?b:""})}),o}function th(e,t,o){var s=e.pingCache;if(s===null){s=e.pingCache=new R0;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(o)||(d.add(o),e=q0.bind(null,e,t,o),t.then(e,e))}function nh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ih(e,t,o,s,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=ai(-1,1),t.tag=2,Di(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var E0=I.ReactCurrentOwner,Ot=!1;function At(e,t,o,s){t.child=e===null?Sp(t,null,o,s):lr(t,e.child,o,s)}function oh(e,t,o,s,d){o=o.render;var h=t.ref;return ur(t,d),s=Xc(e,t,o,s,h,d),o=Kc(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,si(e,t,d)):(We&&o&&Ac(t),t.flags|=1,At(e,t,s,d),t.child)}function rh(e,t,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!Nu(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=h,ah(e,t,h,s,d)):(e=jl(o.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var b=h.memoizedProps;if(o=o.compare,o=o!==null?o:co,o(b,s)&&e.ref===t.ref)return si(e,t,d)}return t.flags|=1,e=_i(h,s),e.ref=t.ref,e.return=t,t.child=e}function ah(e,t,o,s,d){if(e!==null){var h=e.memoizedProps;if(co(h,s)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=s=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Ot=!0);else return t.lanes=e.lanes,si(e,t,d)}return ru(e,t,o,s,d)}function sh(e,t,o){var s=t.pendingProps,d=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(mr,Kt),Kt|=o;else{if((o&1073741824)===0)return e=h!==null?h.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(mr,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:o,$e(mr,Kt),Kt|=s}else h!==null?(s=h.baseLanes|o,t.memoizedState=null):s=o,$e(mr,Kt),Kt|=s;return At(e,t,d,o),t.child}function lh(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function ru(e,t,o,s,d){var h=Vt(o)?mo:Nt.current;return h=or(t,h),ur(t,d),o=Xc(e,t,o,s,h,d),s=Kc(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,si(e,t,d)):(We&&s&&Ac(t),t.flags|=1,At(e,t,o,d),t.child)}function ch(e,t,o,s,d){if(Vt(o)){var h=!0;Xs(t)}else h=!1;if(ur(t,d),t.stateNode===null)hl(e,t),Qp(t,o,s),nu(t,o,s,d),s=!0;else if(e===null){var b=t.stateNode,E=t.memoizedProps;b.props=E;var D=b.context,K=o.contextType;typeof K=="object"&&K!==null?K=cn(K):(K=Vt(o)?mo:Nt.current,K=or(t,K));var ne=o.getDerivedStateFromProps,oe=typeof ne=="function"||typeof b.getSnapshotBeforeUpdate=="function";oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==s||D!==K)&&Jp(t,b,s,K),zi=!1;var te=t.memoizedState;b.state=te,ol(t,s,b,d),D=t.memoizedState,E!==s||te!==D||Bt.current||zi?(typeof ne=="function"&&(tu(t,o,ne,s),D=t.memoizedState),(E=zi||Kp(t,o,E,s,te,D,K))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(t.flags|=4194308)):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),b.props=s,b.state=D,b.context=K,s=E):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{b=t.stateNode,Cp(e,t),E=t.memoizedProps,K=t.type===t.elementType?E:jn(t.type,E),b.props=K,oe=t.pendingProps,te=b.context,D=o.contextType,typeof D=="object"&&D!==null?D=cn(D):(D=Vt(o)?mo:Nt.current,D=or(t,D));var pe=o.getDerivedStateFromProps;(ne=typeof pe=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==oe||te!==D)&&Jp(t,b,s,D),zi=!1,te=t.memoizedState,b.state=te,ol(t,s,b,d);var me=t.memoizedState;E!==oe||te!==me||Bt.current||zi?(typeof pe=="function"&&(tu(t,o,pe,s),me=t.memoizedState),(K=zi||Kp(t,o,K,s,te,me,D)||!1)?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(s,me,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(s,me,D)),typeof b.componentDidUpdate=="function"&&(t.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=me),b.props=s,b.state=me,b.context=D,s=K):(typeof b.componentDidUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),s=!1)}return au(e,t,o,s,h,d)}function au(e,t,o,s,d,h){lh(e,t);var b=(t.flags&128)!==0;if(!s&&!b)return d&&mp(t,o,!1),si(e,t,h);s=t.stateNode,E0.current=t;var E=b&&typeof o.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&b?(t.child=lr(t,e.child,null,h),t.child=lr(t,null,E,h)):At(e,t,E,h),t.memoizedState=s.state,d&&mp(t,o,!0),t.child}function uh(e){var t=e.stateNode;t.pendingContext?pp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pp(e,t.context,!1),Uc(e,t.containerInfo)}function dh(e,t,o,s,d){return sr(),Dc(d),t.flags|=256,At(e,t,o,s),t.child}var su={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ph(e,t,o){var s=t.pendingProps,d=Xe.current,h=!1,b=(t.flags&128)!==0,E;if((E=b)||(E=e!==null&&e.memoizedState===null?!1:(d&2)!==0),E?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),$e(Xe,d&1),e===null)return zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(b=s.children,e=s.fallback,h?(s=t.mode,h=t.child,b={mode:"hidden",children:b},(s&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=b):h=Cl(b,s,0,null),e=jo(e,s,o,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=lu(o),t.memoizedState=su,e):cu(t,b));if(d=e.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return A0(e,t,b,s,E,d,o);if(h){h=s.fallback,b=t.mode,d=e.child,E=d.sibling;var D={mode:"hidden",children:s.children};return(b&1)===0&&t.child!==d?(s=t.child,s.childLanes=0,s.pendingProps=D,t.deletions=null):(s=_i(d,D),s.subtreeFlags=d.subtreeFlags&14680064),E!==null?h=_i(E,h):(h=jo(h,b,o,null),h.flags|=2),h.return=t,s.return=t,s.sibling=h,t.child=s,s=h,h=t.child,b=e.child.memoizedState,b=b===null?lu(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},h.memoizedState=b,h.childLanes=e.childLanes&~o,t.memoizedState=su,s}return h=e.child,e=h.sibling,s=_i(h,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=o),s.return=t,s.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=s,t.memoizedState=null,s}function cu(e,t){return t=Cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pl(e,t,o,s){return s!==null&&Dc(s),lr(t,e.child,null,o),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A0(e,t,o,s,d,h,b){if(o)return t.flags&256?(t.flags&=-257,s=iu(Error(a(422))),pl(e,t,b,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=s.fallback,d=t.mode,s=Cl({mode:"visible",children:s.children},d,0,null),h=jo(h,d,b,null),h.flags|=2,s.return=t,h.return=t,s.sibling=h,t.child=s,(t.mode&1)!==0&&lr(t,e.child,null,b),t.child.memoizedState=lu(b),t.memoizedState=su,h);if((t.mode&1)===0)return pl(e,t,b,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var E=s.dgst;return s=E,h=Error(a(419)),s=iu(h,s,void 0),pl(e,t,b,s)}if(E=(b&e.childLanes)!==0,Ot||E){if(s=ft,s!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(s.suspendedLanes|b))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,ri(e,d),Tn(s,e,d,-1))}return Cu(),s=iu(Error(a(421))),pl(e,t,b,s)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=H0.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,Xt=Ei(d.nextSibling),Yt=t,We=!0,Sn=null,e!==null&&(sn[ln++]=ii,sn[ln++]=oi,sn[ln++]=fo,ii=e.id,oi=e.overflow,fo=t),t=cu(t,s.children),t.flags|=4096,t)}function hh(e,t,o){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Oc(e.return,t,o)}function uu(e,t,o,s,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=o,h.tailMode=d)}function mh(e,t,o){var s=t.pendingProps,d=s.revealOrder,h=s.tail;if(At(e,t,s.children,o),s=Xe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hh(e,o,t);else if(e.tag===19)hh(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if($e(Xe,s),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(o=t.child,d=null;o!==null;)e=o.alternate,e!==null&&rl(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=t.child,t.child=null):(d=o.sibling,o.sibling=null),uu(t,!1,d,o,h);break;case"backwards":for(o=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&rl(e)===null){t.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}uu(t,!0,o,null,h);break;case"together":uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function si(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),wo|=t.lanes,(o&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,o=_i(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=_i(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function L0(e,t,o){switch(t.tag){case 3:uh(t),sr();break;case 5:Mp(t);break;case 1:Vt(t.type)&&Xs(t);break;case 4:Uc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,d=t.memoizedProps.value;$e(tl,s._currentValue),s._currentValue=d;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?($e(Xe,Xe.current&1),t.flags|=128,null):(o&t.child.childLanes)!==0?ph(e,t,o):($e(Xe,Xe.current&1),e=si(e,t,o),e!==null?e.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(s=(o&t.childLanes)!==0,(e.flags&128)!==0){if(s)return mh(e,t,o);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(Xe,Xe.current),s)break;return null;case 22:case 23:return t.lanes=0,sh(e,t,o)}return si(e,t,o)}var fh,du,gh,yh;fh=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},du=function(){},gh=function(e,t,o,s){var d=e.memoizedProps;if(d!==s){e=t.stateNode,xo($n.current);var h=null;switch(o){case"input":d=Eo(e,d),s=Eo(e,s),h=[];break;case"select":d=J({},d,{value:void 0}),s=J({},s,{value:void 0}),h=[];break;case"textarea":d=Xi(e,d),s=Xi(e,s),h=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ws)}zo(o,s);var b;o=null;for(K in d)if(!s.hasOwnProperty(K)&&d.hasOwnProperty(K)&&d[K]!=null)if(K==="style"){var E=d[K];for(b in E)E.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(c.hasOwnProperty(K)?h||(h=[]):(h=h||[]).push(K,null));for(K in s){var D=s[K];if(E=d?.[K],s.hasOwnProperty(K)&&D!==E&&(D!=null||E!=null))if(K==="style")if(E){for(b in E)!E.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in D)D.hasOwnProperty(b)&&E[b]!==D[b]&&(o||(o={}),o[b]=D[b])}else o||(h||(h=[]),h.push(K,o)),o=D;else K==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,E=E?E.__html:void 0,D!=null&&E!==D&&(h=h||[]).push(K,D)):K==="children"?typeof D!="string"&&typeof D!="number"||(h=h||[]).push(K,""+D):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(c.hasOwnProperty(K)?(D!=null&&K==="onScroll"&&je("scroll",e),h||E===D||(h=[])):(h=h||[]).push(K,D))}o&&(h=h||[]).push("style",o);var K=h;(t.updateQueue=K)&&(t.flags|=4)}},yh=function(e,t,o,s){o!==s&&(t.flags|=4)};function Sa(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(t)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,t}function I0(e,t,o){var s=t.pendingProps;switch(Lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Vt(t.type)&&Ys(),Mt(t),null;case 3:return s=t.stateNode,dr(),Ue(Bt),Ue(Nt),Wc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sn!==null&&(ku(Sn),Sn=null))),du(e,t),Mt(t),null;case 5:qc(t);var d=xo(xa.current);if(o=t.type,e!==null&&t.stateNode!=null)gh(e,t,o,s,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Mt(t),null}if(e=xo($n.current),Zs(t)){s=t.stateNode,o=t.type;var h=t.memoizedProps;switch(s[On]=t,s[ha]=h,e=(t.mode&1)!==0,o){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(d=0;d<ue.length;d++)je(ue[d],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":Ge(s,h),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},je("invalid",s);break;case"textarea":Ka(s,h),je("invalid",s)}zo(o,h),d=null;for(var b in h)if(h.hasOwnProperty(b)){var E=h[b];b==="children"?typeof E=="string"?s.textContent!==E&&(h.suppressHydrationWarning!==!0&&Hs(s.textContent,E,e),d=["children",E]):typeof E=="number"&&s.textContent!==""+E&&(h.suppressHydrationWarning!==!0&&Hs(s.textContent,E,e),d=["children",""+E]):c.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&je("scroll",s)}switch(o){case"input":Qt(s),Wn(s,h,!0);break;case"textarea":Qt(s),Pr(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=Ws)}s=d,t.updateQueue=s,s!==null&&(t.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qa(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=b.createElement(o,{is:s.is}):(e=b.createElement(o),o==="select"&&(b=e,s.multiple?b.multiple=!0:s.size&&(b.size=s.size))):e=b.createElementNS(e,o),e[On]=t,e[ha]=s,fh(e,t,!1,!1),t.stateNode=e;e:{switch(b=Do(o,s),o){case"dialog":je("cancel",e),je("close",e),d=s;break;case"iframe":case"object":case"embed":je("load",e),d=s;break;case"video":case"audio":for(d=0;d<ue.length;d++)je(ue[d],e);d=s;break;case"source":je("error",e),d=s;break;case"img":case"image":case"link":je("error",e),je("load",e),d=s;break;case"details":je("toggle",e),d=s;break;case"input":Ge(e,s),d=Eo(e,s),je("invalid",e);break;case"option":d=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},d=J({},s,{value:void 0}),je("invalid",e);break;case"textarea":Ka(e,s),d=Xi(e,s),je("invalid",e);break;default:d=s}zo(o,d),E=d;for(h in E)if(E.hasOwnProperty(h)){var D=E[h];h==="style"?Io(e,D):h==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Dt(e,D)):h==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&Ye(e,D):typeof D=="number"&&Ye(e,""+D):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?D!=null&&h==="onScroll"&&je("scroll",e):D!=null&&S(e,h,D,b))}switch(o){case"input":Qt(e),Wn(e,s,!1);break;case"textarea":Qt(e),Pr(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ae(s.value));break;case"select":e.multiple=!!s.multiple,h=s.value,h!=null?gn(e,!!s.multiple,h,!1):s.defaultValue!=null&&gn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ws)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)yh(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(o=xo(xa.current),xo($n.current),Zs(t)){if(s=t.stateNode,o=t.memoizedProps,s[On]=t,(h=s.nodeValue!==o)&&(e=Yt,e!==null))switch(e.tag){case 3:Hs(s.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(s.nodeValue,o,(e.mode&1)!==0)}h&&(t.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[On]=t,t.stateNode=s}return Mt(t),null;case 13:if(Ue(Xe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Xt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)wp(),sr(),t.flags|=98560,h=!1;else if(h=Zs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[On]=t}else sr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),h=!1}else Sn!==null&&(ku(Sn),Sn=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=o,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Xe.current&1)!==0?dt===0&&(dt=3):Cu())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return dr(),du(e,t),e===null&&Vn(t.stateNode.containerInfo),Mt(t),null;case 10:return Vc(t.type._context),Mt(t),null;case 17:return Vt(t.type)&&Ys(),Mt(t),null;case 19:if(Ue(Xe),h=t.memoizedState,h===null)return Mt(t),null;if(s=(t.flags&128)!==0,b=h.rendering,b===null)if(s)Sa(h,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(b=rl(e),b!==null){for(t.flags|=128,Sa(h,!1),s=b.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=o,o=t.child;o!==null;)h=o,e=s,h.flags&=14680066,b=h.alternate,b===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,e=b.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return $e(Xe,Xe.current&1|2),t.child}e=e.sibling}h.tail!==null&&_e()>fr&&(t.flags|=128,s=!0,Sa(h,!1),t.lanes=4194304)}else{if(!s)if(e=rl(b),e!==null){if(t.flags|=128,s=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),Sa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!We)return Mt(t),null}else 2*_e()-h.renderingStartTime>fr&&o!==1073741824&&(t.flags|=128,s=!0,Sa(h,!1),t.lanes=4194304);h.isBackwards?(b.sibling=t.child,t.child=b):(o=h.last,o!==null?o.sibling=b:t.child=b,h.last=b)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=_e(),t.sibling=null,o=Xe.current,$e(Xe,s?o&1|2:o&1),t):(Mt(t),null);case 22:case 23:return ju(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Kt&1073741824)!==0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function z0(e,t){switch(Lc(t),t.tag){case 1:return Vt(t.type)&&Ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),Ue(Bt),Ue(Nt),Wc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return qc(t),null;case 13:if(Ue(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Xe),null;case 4:return dr(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var ml=!1,Pt=!1,D0=typeof WeakSet=="function"?WeakSet:Set,he=null;function hr(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){et(e,t,s)}else o.current=null}function pu(e,t,o){try{o()}catch(s){et(e,t,s)}}var xh=!1;function F0(e,t){if(jc=bi,e=Ds(),Ko(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var b=0,E=-1,D=-1,K=0,ne=0,oe=e,te=null;t:for(;;){for(var pe;oe!==o||d!==0&&oe.nodeType!==3||(E=b+d),oe!==h||s!==0&&oe.nodeType!==3||(D=b+s),oe.nodeType===3&&(b+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)te=oe,oe=pe;for(;;){if(oe===e)break t;if(te===o&&++K===d&&(E=b),te===h&&++ne===s&&(D=b),(pe=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=pe}o=E===-1||D===-1?null:{start:E,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cc={focusedElem:e,selectionRange:o},bi=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,it=me.memoizedState,q=t.stateNode,$=q.getSnapshotBeforeUpdate(t.elementType===t.type?ge:jn(t.type,ge),it);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var H=t.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(re){et(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return me=xh,xh=!1,me}function ja(e,t,o){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&pu(t,o,h)}d=d.next}while(d!==s)}}function fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var s=o.create;o.destroy=s()}o=o.next}while(o!==t)}}function hu(e){var t=e.ref;if(t!==null){var o=e.stateNode;e.tag,e=o,typeof t=="function"?t(e):t.current=e}}function vh(e){var t=e.alternate;t!==null&&(e.alternate=null,vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[ha],delete t[Pc],delete t[v0],delete t[w0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wh(e){return e.tag===5||e.tag===3||e.tag===4}function bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=Ws));else if(s!==4&&(e=e.child,e!==null))for(mu(e,t,o),e=e.sibling;e!==null;)mu(e,t,o),e=e.sibling}function fu(e,t,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(fu(e,t,o),e=e.sibling;e!==null;)fu(e,t,o),e=e.sibling}var wt=null,Cn=!1;function Fi(e,t,o){for(o=o.child;o!==null;)kh(e,t,o),o=o.sibling}function kh(e,t,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Qi,o)}catch{}switch(o.tag){case 5:Pt||hr(o,t);case 6:var s=wt,d=Cn;wt=null,Fi(e,t,o),wt=s,Cn=d,wt!==null&&(Cn?(e=wt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):wt.removeChild(o.stateNode));break;case 18:wt!==null&&(Cn?(e=wt,o=o.stateNode,e.nodeType===8?Mc(e.parentNode,o):e.nodeType===1&&Mc(e,o),Kn(e)):Mc(wt,o.stateNode));break;case 4:s=wt,d=Cn,wt=o.stateNode.containerInfo,Cn=!0,Fi(e,t,o),wt=s,Cn=d;break;case 0:case 11:case 14:case 15:if(!Pt&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var h=d,b=h.destroy;h=h.tag,b!==void 0&&((h&2)!==0||(h&4)!==0)&&pu(o,t,b),d=d.next}while(d!==s)}Fi(e,t,o);break;case 1:if(!Pt&&(hr(o,t),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(E){et(o,t,E)}Fi(e,t,o);break;case 21:Fi(e,t,o);break;case 22:o.mode&1?(Pt=(s=Pt)||o.memoizedState!==null,Fi(e,t,o),Pt=s):Fi(e,t,o);break;default:Fi(e,t,o)}}function Sh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new D0),t.forEach(function(s){var d=W0.bind(null,e,s);o.has(s)||(o.add(s),s.then(d,d))})}}function Nn(e,t){var o=t.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s];try{var h=e,b=t,E=b;e:for(;E!==null;){switch(E.tag){case 5:wt=E.stateNode,Cn=!1;break e;case 3:wt=E.stateNode.containerInfo,Cn=!0;break e;case 4:wt=E.stateNode.containerInfo,Cn=!0;break e}E=E.return}if(wt===null)throw Error(a(160));kh(h,b,d),wt=null,Cn=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch(K){et(d,t,K)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jh(t,e),t=t.sibling}function jh(e,t){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Un(e),s&4){try{ja(3,e,e.return),fl(3,e)}catch(ge){et(e,e.return,ge)}try{ja(5,e,e.return)}catch(ge){et(e,e.return,ge)}}break;case 1:Nn(t,e),Un(e),s&512&&o!==null&&hr(o,o.return);break;case 5:if(Nn(t,e),Un(e),s&512&&o!==null&&hr(o,o.return),e.flags&32){var d=e.stateNode;try{Ye(d,"")}catch(ge){et(e,e.return,ge)}}if(s&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,b=o!==null?o.memoizedProps:h,E=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{E==="input"&&h.type==="radio"&&h.name!=null&&Xa(d,h),Do(E,b);var K=Do(E,h);for(b=0;b<D.length;b+=2){var ne=D[b],oe=D[b+1];ne==="style"?Io(d,oe):ne==="dangerouslySetInnerHTML"?Dt(d,oe):ne==="children"?Ye(d,oe):S(d,ne,oe,K)}switch(E){case"input":Ao(d,h);break;case"textarea":Mr(d,h);break;case"select":var te=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var pe=h.value;pe!=null?gn(d,!!h.multiple,pe,!1):te!==!!h.multiple&&(h.defaultValue!=null?gn(d,!!h.multiple,h.defaultValue,!0):gn(d,!!h.multiple,h.multiple?[]:"",!1))}d[ha]=h}catch(ge){et(e,e.return,ge)}}break;case 6:if(Nn(t,e),Un(e),s&4){if(e.stateNode===null)throw Error(a(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(ge){et(e,e.return,ge)}}break;case 3:if(Nn(t,e),Un(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(ge){et(e,e.return,ge)}break;case 4:Nn(t,e),Un(e);break;case 13:Nn(t,e),Un(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(xu=_e())),s&4&&Sh(e);break;case 22:if(ne=o!==null&&o.memoizedState!==null,e.mode&1?(Pt=(K=Pt)||ne,Nn(t,e),Pt=K):Nn(t,e),Un(e),s&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!ne&&(e.mode&1)!==0)for(he=e,ne=e.child;ne!==null;){for(oe=he=ne;he!==null;){switch(te=he,pe=te.child,te.tag){case 0:case 11:case 14:case 15:ja(4,te,te.return);break;case 1:hr(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){s=te,o=te.return;try{t=s,me.props=t.memoizedProps,me.state=t.memoizedState,me.componentWillUnmount()}catch(ge){et(s,o,ge)}}break;case 5:hr(te,te.return);break;case 22:if(te.memoizedState!==null){Th(oe);continue}}pe!==null?(pe.return=te,he=pe):Th(oe)}ne=ne.sibling}e:for(ne=null,oe=e;;){if(oe.tag===5){if(ne===null){ne=oe;try{d=oe.stateNode,K?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(E=oe.stateNode,D=oe.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,E.style.display=Yn("display",b))}catch(ge){et(e,e.return,ge)}}}else if(oe.tag===6){if(ne===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(ge){et(e,e.return,ge)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===e)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===e)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===e)break e;ne===oe&&(ne=null),oe=oe.return}ne===oe&&(ne=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Nn(t,e),Un(e),s&4&&Sh(e);break;case 21:break;default:Nn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(wh(o)){var s=o;break e}o=o.return}throw Error(a(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(Ye(d,""),s.flags&=-33);var h=bh(e);fu(e,h,d);break;case 3:case 4:var b=s.stateNode.containerInfo,E=bh(e);mu(e,E,b);break;default:throw Error(a(161))}}catch(D){et(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B0(e,t,o){he=e,Ch(e)}function Ch(e,t,o){for(var s=(e.mode&1)!==0;he!==null;){var d=he,h=d.child;if(d.tag===22&&s){var b=d.memoizedState!==null||ml;if(!b){var E=d.alternate,D=E!==null&&E.memoizedState!==null||Pt;E=ml;var K=Pt;if(ml=b,(Pt=D)&&!K)for(he=d;he!==null;)b=he,D=b.child,b.tag===22&&b.memoizedState!==null?Mh(d):D!==null?(D.return=b,he=D):Mh(d);for(;h!==null;)he=h,Ch(h),h=h.sibling;he=d,ml=E,Pt=K}Nh(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,he=h):Nh(e)}}function Nh(e){for(;he!==null;){var t=he;if((t.flags&8772)!==0){var o=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Pt||fl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Pt)if(o===null)s.componentDidMount();else{var d=t.elementType===t.type?o.memoizedProps:jn(t.type,o.memoizedProps);s.componentDidUpdate(d,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Tp(t,h,s);break;case 3:var b=t.updateQueue;if(b!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}Tp(t,b,o)}break;case 5:var E=t.stateNode;if(o===null&&t.flags&4){o=E;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var K=t.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var oe=ne.dehydrated;oe!==null&&Kn(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Pt||t.flags&512&&hu(t)}catch(te){et(t,t.return,te)}}if(t===e){he=null;break}if(o=t.sibling,o!==null){o.return=t.return,he=o;break}he=t.return}}function Th(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var o=t.sibling;if(o!==null){o.return=t.return,he=o;break}he=t.return}}function Mh(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{fl(4,t)}catch(D){et(t,o,D)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var d=t.return;try{s.componentDidMount()}catch(D){et(t,d,D)}}var h=t.return;try{hu(t)}catch(D){et(t,h,D)}break;case 5:var b=t.return;try{hu(t)}catch(D){et(t,b,D)}}}catch(D){et(t,t.return,D)}if(t===e){he=null;break}var E=t.sibling;if(E!==null){E.return=t.return,he=E;break}he=t.return}}var V0=Math.ceil,gl=I.ReactCurrentDispatcher,gu=I.ReactCurrentOwner,dn=I.ReactCurrentBatchConfig,ze=0,ft=null,at=null,bt=0,Kt=0,mr=Ai(0),dt=0,Ca=null,wo=0,yl=0,yu=0,Na=null,$t=null,xu=0,fr=1/0,li=null,xl=!1,vu=null,Bi=null,vl=!1,Vi=null,wl=0,Ta=0,wu=null,bl=-1,kl=0;function Lt(){return(ze&6)!==0?_e():bl!==-1?bl:bl=_e()}function Oi(e){return(e.mode&1)===0?1:(ze&2)!==0&&bt!==0?bt&-bt:k0.transition!==null?(kl===0&&(kl=cs()),kl):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Gr(e.type)),e)}function Tn(e,t,o,s){if(50<Ta)throw Ta=0,wu=null,Error(a(185));Zi(e,o,s),((ze&2)===0||e!==ft)&&(e===ft&&((ze&2)===0&&(yl|=o),dt===4&&$i(e,bt)),_t(e,s),o===1&&ze===0&&(t.mode&1)===0&&(fr=_e()+500,Ks&&Ii()))}function _t(e,t){var o=e.callbackNode;uc(e,t);var s=xi(e,e===ft?bt:0);if(s===0)o!==null&&Vr(o),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(o!=null&&Vr(o),t===1)e.tag===0?b0(Rh.bind(null,e)):fp(Rh.bind(null,e)),y0(function(){(ze&6)===0&&Ii()}),o=null;else{switch(us(s)){case 1:o=Or;break;case 4:o=$r;break;case 16:o=xn;break;case 536870912:o=ss;break;default:o=xn}o=Bh(o,Ph.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function Ph(e,t){if(bl=-1,kl=0,(ze&6)!==0)throw Error(a(327));var o=e.callbackNode;if(gr()&&e.callbackNode!==o)return null;var s=xi(e,e===ft?bt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Sl(e,s);else{t=s;var d=ze;ze|=2;var h=Ah();(ft!==e||bt!==t)&&(li=null,fr=_e()+500,ko(e,t));do try{_0();break}catch(E){Eh(e,E)}while(!0);Bc(),gl.current=h,ze=d,at!==null?t=0:(ft=null,bt=0,t=dt)}if(t!==0){if(t===2&&(d=Ji(e),d!==0&&(s=d,t=bu(e,d))),t===1)throw o=Ca,ko(e,0),$i(e,s),_t(e,_e()),o;if(t===6)$i(e,s);else{if(d=e.current.alternate,(s&30)===0&&!O0(d)&&(t=Sl(e,s),t===2&&(h=Ji(e),h!==0&&(s=h,t=bu(e,h))),t===1))throw o=Ca,ko(e,0),$i(e,s),_t(e,_e()),o;switch(e.finishedWork=d,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:So(e,$t,li);break;case 3:if($i(e,s),(s&130023424)===s&&(t=xu+500-_e(),10<t)){if(xi(e,0)!==0)break;if(d=e.suspendedLanes,(d&s)!==s){Lt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Tc(So.bind(null,e,$t,li),t);break}So(e,$t,li);break;case 4:if($i(e,s),(s&4194240)===s)break;for(t=e.eventTimes,d=-1;0<s;){var b=31-Ht(s);h=1<<b,b=t[b],b>d&&(d=b),s&=~h}if(s=d,s=_e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*V0(s/1960))-s,10<s){e.timeoutHandle=Tc(So.bind(null,e,$t,li),s);break}So(e,$t,li);break;case 5:So(e,$t,li);break;default:throw Error(a(329))}}}return _t(e,_e()),e.callbackNode===o?Ph.bind(null,e):null}function bu(e,t){var o=Na;return e.current.memoizedState.isDehydrated&&(ko(e,t).flags|=256),e=Sl(e,t),e!==2&&(t=$t,$t=o,t!==null&&ku(t)),e}function ku(e){$t===null?$t=e:$t.push.apply($t,e)}function O0(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!Ft(h(),d))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t){for(t&=~yu,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-Ht(t),s=1<<o;e[o]=-1,t&=~s}}function Rh(e){if((ze&6)!==0)throw Error(a(327));gr();var t=xi(e,0);if((t&1)===0)return _t(e,_e()),null;var o=Sl(e,t);if(e.tag!==0&&o===2){var s=Ji(e);s!==0&&(t=s,o=bu(e,s))}if(o===1)throw o=Ca,ko(e,0),$i(e,t),_t(e,_e()),o;if(o===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,So(e,$t,li),_t(e,_e()),null}function Su(e,t){var o=ze;ze|=1;try{return e(t)}finally{ze=o,ze===0&&(fr=_e()+500,Ks&&Ii())}}function bo(e){Vi!==null&&Vi.tag===0&&(ze&6)===0&&gr();var t=ze;ze|=1;var o=dn.transition,s=Ie;try{if(dn.transition=null,Ie=1,e)return e()}finally{Ie=s,dn.transition=o,ze=t,(ze&6)===0&&Ii()}}function ju(){Kt=mr.current,Ue(mr)}function ko(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,g0(o)),at!==null)for(o=at.return;o!==null;){var s=o;switch(Lc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ys();break;case 3:dr(),Ue(Bt),Ue(Nt),Wc();break;case 5:qc(s);break;case 4:dr();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:Vc(s.type._context);break;case 22:case 23:ju()}o=o.return}if(ft=e,at=e=_i(e.current,null),bt=Kt=t,dt=0,Ca=null,yu=yl=wo=0,$t=Na=null,yo!==null){for(t=0;t<yo.length;t++)if(o=yo[t],s=o.interleaved,s!==null){o.interleaved=null;var d=s.next,h=o.pending;if(h!==null){var b=h.next;h.next=d,s.next=b}o.pending=s}yo=null}return e}function Eh(e,t){do{var o=at;try{if(Bc(),al.current=ul,sl){for(var s=Ke.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}sl=!1}if(vo=0,mt=ut=Ke=null,va=!1,wa=0,gu.current=null,o===null||o.return===null){dt=1,Ca=t,at=null;break}e:{var h=e,b=o.return,E=o,D=t;if(t=bt,E.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=D,ne=E,oe=ne.tag;if((ne.mode&1)===0&&(oe===0||oe===11||oe===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var pe=nh(b);if(pe!==null){pe.flags&=-257,ih(pe,b,E,h,t),pe.mode&1&&th(h,K,t),t=pe,D=K;var me=t.updateQueue;if(me===null){var ge=new Set;ge.add(D),t.updateQueue=ge}else me.add(D);break e}else{if((t&1)===0){th(h,K,t),Cu();break e}D=Error(a(426))}}else if(We&&E.mode&1){var it=nh(b);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),ih(it,b,E,h,t),Dc(pr(D,E));break e}}h=D=pr(D,E),dt!==4&&(dt=2),Na===null?Na=[h]:Na.push(h),h=b;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var q=Zp(h,D,t);Np(h,q);break e;case 1:E=D;var $=h.type,H=h.stateNode;if((h.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Bi===null||!Bi.has(H)))){h.flags|=65536,t&=-t,h.lanes|=t;var re=eh(h,E,t);Np(h,re);break e}}h=h.return}while(h!==null)}Ih(o)}catch(ye){t=ye,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function Ah(){var e=gl.current;return gl.current=ul,e===null?ul:e}function Cu(){(dt===0||dt===3||dt===2)&&(dt=4),ft===null||(wo&268435455)===0&&(yl&268435455)===0||$i(ft,bt)}function Sl(e,t){var o=ze;ze|=2;var s=Ah();(ft!==e||bt!==t)&&(li=null,ko(e,t));do try{$0();break}catch(d){Eh(e,d)}while(!0);if(Bc(),ze=o,gl.current=s,at!==null)throw Error(a(261));return ft=null,bt=0,dt}function $0(){for(;at!==null;)Lh(at)}function _0(){for(;at!==null&&!gi();)Lh(at)}function Lh(e){var t=Fh(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Ih(e):at=t,gu.current=null}function Ih(e){var t=e;do{var o=t.alternate;if(e=t.return,(t.flags&32768)===0){if(o=I0(o,t,Kt),o!==null){at=o;return}}else{if(o=z0(o,t),o!==null){o.flags&=32767,at=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,at=null;return}}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);dt===0&&(dt=5)}function So(e,t,o){var s=Ie,d=dn.transition;try{dn.transition=null,Ie=1,U0(e,t,o,s)}finally{dn.transition=d,Ie=s}return null}function U0(e,t,o,s){do gr();while(Vi!==null);if((ze&6)!==0)throw Error(a(327));o=e.finishedWork;var d=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var h=o.lanes|o.childLanes;if(qr(e,h),e===ft&&(at=ft=null,bt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||vl||(vl=!0,Bh(xn,function(){return gr(),null})),h=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||h){h=dn.transition,dn.transition=null;var b=Ie;Ie=1;var E=ze;ze|=4,gu.current=null,F0(e,o),jh(o,e),kc(Cc),bi=!!jc,Cc=jc=null,e.current=o,B0(o),ac(),ze=E,Ie=b,dn.transition=h}else e.current=o;if(vl&&(vl=!1,Vi=e,wl=d),h=e.pendingLanes,h===0&&(Bi=null),lc(o.stateNode),_t(e,_e()),t!==null)for(s=e.onRecoverableError,o=0;o<t.length;o++)d=t[o],s(d.value,{componentStack:d.stack,digest:d.digest});if(xl)throw xl=!1,e=vu,vu=null,e;return(wl&1)!==0&&e.tag!==0&&gr(),h=e.pendingLanes,(h&1)!==0?e===wu?Ta++:(Ta=0,wu=e):Ta=0,Ii(),null}function gr(){if(Vi!==null){var e=us(wl),t=dn.transition,o=Ie;try{if(dn.transition=null,Ie=16>e?16:e,Vi===null)var s=!1;else{if(e=Vi,Vi=null,wl=0,(ze&6)!==0)throw Error(a(331));var d=ze;for(ze|=4,he=e.current;he!==null;){var h=he,b=h.child;if((he.flags&16)!==0){var E=h.deletions;if(E!==null){for(var D=0;D<E.length;D++){var K=E[D];for(he=K;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:ja(8,ne,h)}var oe=ne.child;if(oe!==null)oe.return=ne,he=oe;else for(;he!==null;){ne=he;var te=ne.sibling,pe=ne.return;if(vh(ne),ne===K){he=null;break}if(te!==null){te.return=pe,he=te;break}he=pe}}}var me=h.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var it=ge.sibling;ge.sibling=null,ge=it}while(ge!==null)}}he=h}}if((h.subtreeFlags&2064)!==0&&b!==null)b.return=h,he=b;else e:for(;he!==null;){if(h=he,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:ja(9,h,h.return)}var q=h.sibling;if(q!==null){q.return=h.return,he=q;break e}he=h.return}}var $=e.current;for(he=$;he!==null;){b=he;var H=b.child;if((b.subtreeFlags&2064)!==0&&H!==null)H.return=b,he=H;else e:for(b=$;he!==null;){if(E=he,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:fl(9,E)}}catch(ye){et(E,E.return,ye)}if(E===b){he=null;break e}var re=E.sibling;if(re!==null){re.return=E.return,he=re;break e}he=E.return}}if(ze=d,Ii(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Qi,e)}catch{}s=!0}return s}finally{Ie=o,dn.transition=t}}return!1}function zh(e,t,o){t=pr(o,t),t=Zp(e,t,1),e=Di(e,t,1),t=Lt(),e!==null&&(Zi(e,1,t),_t(e,t))}function et(e,t,o){if(e.tag===3)zh(e,e,o);else for(;t!==null;){if(t.tag===3){zh(t,e,o);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Bi===null||!Bi.has(s))){e=pr(o,e),e=eh(t,e,1),t=Di(t,e,1),e=Lt(),t!==null&&(Zi(t,1,e),_t(t,e));break}}t=t.return}}function q0(e,t,o){var s=e.pingCache;s!==null&&s.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&o,ft===e&&(bt&o)===o&&(dt===4||dt===3&&(bt&130023424)===bt&&500>_e()-xu?ko(e,0):yu|=o),_t(e,t)}function Dh(e,t){t===0&&((e.mode&1)===0?t=1:(t=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var o=Lt();e=ri(e,t),e!==null&&(Zi(e,t,o),_t(e,o))}function H0(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Dh(e,o)}function W0(e,t){var o=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}s!==null&&s.delete(t),Dh(e,o)}var Fh;Fh=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Ot=!0;else{if((e.lanes&o)===0&&(t.flags&128)===0)return Ot=!1,L0(e,t,o);Ot=(e.flags&131072)!==0}else Ot=!1,We&&(t.flags&1048576)!==0&&gp(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;hl(e,t),e=t.pendingProps;var d=or(t,Nt.current);ur(t,o),d=Xc(null,t,s,e,d,o);var h=Kc();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(s)?(h=!0,Xs(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,_c(t),d.updater=dl,t.stateNode=d,d._reactInternals=t,nu(t,s,e,o),t=au(null,t,s,!0,h,o)):(t.tag=0,We&&h&&Ac(t),At(null,t,d,o),t=t.child),t;case 16:s=t.elementType;e:{switch(hl(e,t),e=t.pendingProps,d=s._init,s=d(s._payload),t.type=s,d=t.tag=Y0(s),e=jn(s,e),d){case 0:t=ru(null,t,s,e,o);break e;case 1:t=ch(null,t,s,e,o);break e;case 11:t=oh(null,t,s,e,o);break e;case 14:t=rh(null,t,s,jn(s.type,e),o);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:jn(s,d),ru(e,t,s,d,o);case 1:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:jn(s,d),ch(e,t,s,d,o);case 3:e:{if(uh(t),e===null)throw Error(a(387));s=t.pendingProps,h=t.memoizedState,d=h.element,Cp(e,t),ol(t,s,null,o);var b=t.memoizedState;if(s=b.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=pr(Error(a(423)),t),t=dh(e,t,s,o,d);break e}else if(s!==d){d=pr(Error(a(424)),t),t=dh(e,t,s,o,d);break e}else for(Xt=Ei(t.stateNode.containerInfo.firstChild),Yt=t,We=!0,Sn=null,o=Sp(t,null,s,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(sr(),s===d){t=si(e,t,o);break e}At(e,t,s,o)}t=t.child}return t;case 5:return Mp(t),e===null&&zc(t),s=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,b=d.children,Nc(s,d)?b=null:h!==null&&Nc(s,h)&&(t.flags|=32),lh(e,t),At(e,t,b,o),t.child;case 6:return e===null&&zc(t),null;case 13:return ph(e,t,o);case 4:return Uc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=lr(t,null,s,o):At(e,t,s,o),t.child;case 11:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:jn(s,d),oh(e,t,s,d,o);case 7:return At(e,t,t.pendingProps,o),t.child;case 8:return At(e,t,t.pendingProps.children,o),t.child;case 12:return At(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(s=t.type._context,d=t.pendingProps,h=t.memoizedProps,b=d.value,$e(tl,s._currentValue),s._currentValue=b,h!==null)if(Ft(h.value,b)){if(h.children===d.children&&!Bt.current){t=si(e,t,o);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var E=h.dependencies;if(E!==null){b=h.child;for(var D=E.firstContext;D!==null;){if(D.context===s){if(h.tag===1){D=ai(-1,o&-o),D.tag=2;var K=h.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),K.pending=D}}h.lanes|=o,D=h.alternate,D!==null&&(D.lanes|=o),Oc(h.return,o,t),E.lanes|=o;break}D=D.next}}else if(h.tag===10)b=h.type===t.type?null:h.child;else if(h.tag===18){if(b=h.return,b===null)throw Error(a(341));b.lanes|=o,E=b.alternate,E!==null&&(E.lanes|=o),Oc(b,o,t),b=h.sibling}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}At(e,t,d.children,o),t=t.child}return t;case 9:return d=t.type,s=t.pendingProps.children,ur(t,o),d=cn(d),s=s(d),t.flags|=1,At(e,t,s,o),t.child;case 14:return s=t.type,d=jn(s,t.pendingProps),d=jn(s.type,d),rh(e,t,s,d,o);case 15:return ah(e,t,t.type,t.pendingProps,o);case 17:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:jn(s,d),hl(e,t),t.tag=1,Vt(s)?(e=!0,Xs(t)):e=!1,ur(t,o),Qp(t,s,d),nu(t,s,d,o),au(null,t,s,!0,e,o);case 19:return mh(e,t,o);case 22:return sh(e,t,o)}throw Error(a(156,t.tag))};function Bh(e,t){return as(e,t)}function G0(e,t,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,o,s){return new G0(e,t,o,s)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y0(e){if(typeof e=="function")return Nu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X)return 11;if(e===le)return 14}return 2}function _i(e,t){var o=e.alternate;return o===null?(o=pn(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function jl(e,t,o,s,d,h){var b=2;if(s=e,typeof e=="function")Nu(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case z:return jo(o.children,d,h,t);case O:b=8,d|=8;break;case U:return e=pn(12,o,t,d|2),e.elementType=U,e.lanes=h,e;case ae:return e=pn(13,o,t,d),e.elementType=ae,e.lanes=h,e;case ee:return e=pn(19,o,t,d),e.elementType=ee,e.lanes=h,e;case _:return Cl(o,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:b=10;break e;case ce:b=9;break e;case X:b=11;break e;case le:b=14;break e;case se:b=16,s=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=pn(b,o,t,d),t.elementType=e,t.type=s,t.lanes=h,t}function jo(e,t,o,s){return e=pn(7,e,s,t),e.lanes=o,e}function Cl(e,t,o,s){return e=pn(22,e,s,t),e.elementType=_,e.lanes=o,e.stateNode={isHidden:!1},e}function Tu(e,t,o){return e=pn(6,e,null,t),e.lanes=o,e}function Mu(e,t,o){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X0(e,t,o,s,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Pu(e,t,o,s,d,h,b,E,D){return e=new X0(e,t,o,E,D),t===1?(t=1,h===!0&&(t|=8)):t=0,h=pn(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(h),e}function K0(e,t,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:s==null?null:""+s,children:e,containerInfo:t,implementation:o}}function Vh(e){if(!e)return Li;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var o=e.type;if(Vt(o))return hp(e,o,t)}return t}function Oh(e,t,o,s,d,h,b,E,D){return e=Pu(o,s,!0,e,d,h,b,E,D),e.context=Vh(null),o=e.current,s=Lt(),d=Oi(o),h=ai(s,d),h.callback=t??null,Di(o,h,d),e.current.lanes=d,Zi(e,d,s),_t(e,s),e}function Nl(e,t,o,s){var d=t.current,h=Lt(),b=Oi(d);return o=Vh(o),t.context===null?t.context=o:t.pendingContext=o,t=ai(h,b),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Di(d,t,b),e!==null&&(Tn(e,d,b,h),il(e,d,b)),b}function Tl(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Ru(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function Q0(){return null}var _h=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Ml.prototype.render=Eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Nl(e,t,null,null)},Ml.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bo(function(){Nl(null,e,null,null)}),t[ti]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=hs();e={blockedOn:null,target:e,priority:t};for(var o=0;o<vn.length&&t!==0&&t<vn[o].priority;o++);vn.splice(o,0,e),o===0&&ms(e)}};function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function J0(e,t,o,s,d){if(d){if(typeof s=="function"){var h=s;s=function(){var K=Tl(b);h.call(K)}}var b=Oh(t,s,e,0,null,!1,!1,"",Uh);return e._reactRootContainer=b,e[ti]=b.current,Vn(e.nodeType===8?e.parentNode:e),bo(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof s=="function"){var E=s;s=function(){var K=Tl(D);E.call(K)}}var D=Pu(e,0,!1,null,null,!1,!1,"",Uh);return e._reactRootContainer=D,e[ti]=D.current,Vn(e.nodeType===8?e.parentNode:e),bo(function(){Nl(t,D,o,s)}),D}function Rl(e,t,o,s,d){var h=o._reactRootContainer;if(h){var b=h;if(typeof d=="function"){var E=d;d=function(){var D=Tl(b);E.call(D)}}Nl(t,b,e,d)}else b=J0(o,t,e,d,s);return Tl(b)}ds=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=Ln(t.pendingLanes);o!==0&&(Hr(t,o|1),_t(t,_e()),(ze&6)===0&&(fr=_e()+500,Ii()))}break;case 13:bo(function(){var s=ri(e,1);if(s!==null){var d=Lt();Tn(s,e,1,d)}}),Ru(e,1)}},xt=function(e){if(e.tag===13){var t=ri(e,134217728);if(t!==null){var o=Lt();Tn(t,e,134217728,o)}Ru(e,134217728)}},ps=function(e){if(e.tag===13){var t=Oi(e),o=ri(e,t);if(o!==null){var s=Lt();Tn(o,e,t,s)}Ru(e,t)}},hs=function(){return Ie},$o=function(e,t){var o=Ie;try{return Ie=e,t()}finally{Ie=o}},Lr=function(e,t,o){switch(t){case"input":if(Ao(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var s=o[t];if(s!==e&&s.form===e.form){var d=Gs(s);if(!d)throw Error(a(90));Ya(s),Ao(s,d)}}}break;case"textarea":Mr(e,o);break;case"select":t=o.value,t!=null&&gn(e,!!o.multiple,t,!1)}},zr=Su,Fo=bo;var Z0={usingClientEntryPoint:!1,Events:[ma,nr,Gs,Ir,Jt,Su]},Ma={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ey={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=os(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||Q0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{Qi=El.inject(ey),en=El}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0,Ut.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(t))throw Error(a(200));return K0(e,t,null,o)},Ut.createRoot=function(e,t){if(!Au(e))throw Error(a(299));var o=!1,s="",d=_h;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Pu(e,1,!1,null,null,o,!1,s,d),e[ti]=t.current,Vn(e.nodeType===8?e.parentNode:e),new Eu(t)},Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=os(t),e=e===null?null:e.stateNode,e},Ut.flushSync=function(e){return bo(e)},Ut.hydrate=function(e,t,o){if(!Pl(t))throw Error(a(200));return Rl(null,e,t,!0,o)},Ut.hydrateRoot=function(e,t,o){if(!Au(e))throw Error(a(405));var s=o!=null&&o.hydratedSources||null,d=!1,h="",b=_h;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),t=Oh(t,null,e,1,o??null,d,!1,h,b),e[ti]=t.current,Vn(e),s)for(e=0;e<s.length;e++)o=s[e],d=o._getVersion,d=d(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,d]:t.mutableSourceEagerHydrationData.push(o,d);return new Ml(t)},Ut.render=function(e,t,o){if(!Pl(t))throw Error(a(200));return Rl(null,e,t,!1,o)},Ut.unmountComponentAtNode=function(e){if(!Pl(e))throw Error(a(40));return e._reactRootContainer?(bo(function(){Rl(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0):!1},Ut.unstable_batchedUpdates=Su,Ut.unstable_renderSubtreeIntoContainer=function(e,t,o,s){if(!Pl(o))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Rl(e,t,o,!1,s)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var Qh;function ly(){if(Qh)return zu.exports;Qh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),zu.exports=sy(),zu.exports}var Jh;function cy(){if(Jh)return Al;Jh=1;var n=ly();return Al.createRoot=n.createRoot,Al.hydrateRoot=n.hydrateRoot,Al}var uy=cy();const Ed=x.createContext({});function Ad(n){const i=x.useRef(null);return i.current===null&&(i.current=n()),i.current}const Ef=typeof window<"u",Af=Ef?x.useLayoutEffect:x.useEffect,ec=x.createContext(null);function Ld(n,i){n.indexOf(i)===-1&&n.push(i)}function Id(n,i){const a=n.indexOf(i);a>-1&&n.splice(a,1)}const Hn=(n,i,a)=>a>i?i:a<n?n:a;let zd=()=>{};const pi={},Lf=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function If(n){return typeof n=="object"&&n!==null}const zf=n=>/^0[^.\s]+$/u.test(n);function Dd(n){let i;return()=>(i===void 0&&(i=n()),i)}const fn=n=>n,dy=(n,i)=>a=>i(n(a)),qa=(...n)=>n.reduce(dy),Va=(n,i,a)=>{const l=i-n;return l===0?1:(a-n)/l};class Fd{constructor(){this.subscriptions=[]}add(i){return Ld(this.subscriptions,i),()=>Id(this.subscriptions,i)}notify(i,a,l){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,a,l);else for(let u=0;u<c;u++){const p=this.subscriptions[u];p&&p(i,a,l)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const di=n=>n*1e3,mn=n=>n/1e3;function Df(n,i){return i?n*(1e3/i):0}const Ff=(n,i,a)=>(((1-3*a+3*i)*n+(3*a-6*i))*n+3*i)*n,py=1e-7,hy=12;function my(n,i,a,l,c){let u,p,m=0;do p=i+(a-i)/2,u=Ff(p,l,c)-n,u>0?a=p:i=p;while(Math.abs(u)>py&&++m<hy);return p}function Ha(n,i,a,l){if(n===i&&a===l)return fn;const c=u=>my(u,0,1,n,a);return u=>u===0||u===1?u:Ff(c(u),i,l)}const Bf=n=>i=>i<=.5?n(2*i)/2:(2-n(2*(1-i)))/2,Vf=n=>i=>1-n(1-i),Of=Ha(.33,1.53,.69,.99),Bd=Vf(Of),$f=Bf(Bd),_f=n=>(n*=2)<1?.5*Bd(n):.5*(2-Math.pow(2,-10*(n-1))),Vd=n=>1-Math.sin(Math.acos(n)),Uf=Vf(Vd),qf=Bf(Vd),fy=Ha(.42,0,1,1),gy=Ha(0,0,.58,1),Hf=Ha(.42,0,.58,1),yy=n=>Array.isArray(n)&&typeof n[0]!="number",Wf=n=>Array.isArray(n)&&typeof n[0]=="number",xy={linear:fn,easeIn:fy,easeInOut:Hf,easeOut:gy,circIn:Vd,circInOut:qf,circOut:Uf,backIn:Bd,backInOut:$f,backOut:Of,anticipate:_f},vy=n=>typeof n=="string",Zh=n=>{if(Wf(n)){zd(n.length===4);const[i,a,l,c]=n;return Ha(i,a,l,c)}else if(vy(n))return xy[n];return n},Ll=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wy(n,i){let a=new Set,l=new Set,c=!1,u=!1;const p=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function f(y){p.has(y)&&(g.schedule(y),n()),y(m)}const g={schedule:(y,v=!1,k=!1)=>{const L=k&&c?a:l;return v&&p.add(y),L.has(y)||L.add(y),y},cancel:y=>{l.delete(y),p.delete(y)},process:y=>{if(m=y,c){u=!0;return}c=!0,[a,l]=[l,a],a.forEach(f),a.clear(),c=!1,u&&(u=!1,g.process(y))}};return g}const by=40;function Gf(n,i){let a=!1,l=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>a=!0,p=Ll.reduce((S,I)=>(S[I]=wy(u),S),{}),{setup:m,read:f,resolveKeyframes:g,preUpdate:y,update:v,preRender:k,render:N,postRender:L}=p,j=()=>{const S=pi.useManualTiming?c.timestamp:performance.now();a=!1,pi.useManualTiming||(c.delta=l?1e3/60:Math.max(Math.min(S-c.timestamp,by),1)),c.timestamp=S,c.isProcessing=!0,m.process(c),f.process(c),g.process(c),y.process(c),v.process(c),k.process(c),N.process(c),L.process(c),c.isProcessing=!1,a&&i&&(l=!1,n(j))},C=()=>{a=!0,l=!0,c.isProcessing||n(j)};return{schedule:Ll.reduce((S,I)=>{const M=p[I];return S[I]=(V,z=!1,O=!1)=>(a||C(),M.schedule(V,z,O)),S},{}),cancel:S=>{for(let I=0;I<Ll.length;I++)p[Ll[I]].cancel(S)},state:c,steps:p}}const{schedule:qe,cancel:Wi,state:St,steps:Bu}=Gf(typeof requestAnimationFrame<"u"?requestAnimationFrame:fn,!0);let _l;function ky(){_l=void 0}const It={now:()=>(_l===void 0&&It.set(St.isProcessing||pi.useManualTiming?St.timestamp:performance.now()),_l),set:n=>{_l=n,queueMicrotask(ky)}},Yf=n=>i=>typeof i=="string"&&i.startsWith(n),Xf=Yf("--"),Sy=Yf("var(--"),Od=n=>Sy(n)?jy.test(n.split("/*")[0].trim()):!1,jy=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function em(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Cr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Oa={...Cr,transform:n=>Hn(0,1,n)},Il={...Cr,default:1},za=n=>Math.round(n*1e5)/1e5,$d=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Cy(n){return n==null}const Ny=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_d=(n,i)=>a=>!!(typeof a=="string"&&Ny.test(a)&&a.startsWith(n)||i&&!Cy(a)&&Object.prototype.hasOwnProperty.call(a,i)),Kf=(n,i,a)=>l=>{if(typeof l!="string")return l;const[c,u,p,m]=l.match($d);return{[n]:parseFloat(c),[i]:parseFloat(u),[a]:parseFloat(p),alpha:m!==void 0?parseFloat(m):1}},Ty=n=>Hn(0,255,n),Vu={...Cr,transform:n=>Math.round(Ty(n))},To={test:_d("rgb","red"),parse:Kf("red","green","blue"),transform:({red:n,green:i,blue:a,alpha:l=1})=>"rgba("+Vu.transform(n)+", "+Vu.transform(i)+", "+Vu.transform(a)+", "+za(Oa.transform(l))+")"};function My(n){let i="",a="",l="",c="";return n.length>5?(i=n.substring(1,3),a=n.substring(3,5),l=n.substring(5,7),c=n.substring(7,9)):(i=n.substring(1,2),a=n.substring(2,3),l=n.substring(3,4),c=n.substring(4,5),i+=i,a+=a,l+=l,c+=c),{red:parseInt(i,16),green:parseInt(a,16),blue:parseInt(l,16),alpha:c?parseInt(c,16)/255:1}}const ad={test:_d("#"),parse:My,transform:To.transform},Wa=n=>({test:i=>typeof i=="string"&&i.endsWith(n)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${n}`}),qi=Wa("deg"),qn=Wa("%"),fe=Wa("px"),Py=Wa("vh"),Ry=Wa("vw"),tm={...qn,parse:n=>qn.parse(n)/100,transform:n=>qn.transform(n*100)},xr={test:_d("hsl","hue"),parse:Kf("hue","saturation","lightness"),transform:({hue:n,saturation:i,lightness:a,alpha:l=1})=>"hsla("+Math.round(n)+", "+qn.transform(za(i))+", "+qn.transform(za(a))+", "+za(Oa.transform(l))+")"},st={test:n=>To.test(n)||ad.test(n)||xr.test(n),parse:n=>To.test(n)?To.parse(n):xr.test(n)?xr.parse(n):ad.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?To.transform(n):xr.transform(n),getAnimatableNone:n=>{const i=st.parse(n);return i.alpha=0,st.transform(i)}},Ey=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ay(n){return isNaN(n)&&typeof n=="string"&&(n.match($d)?.length||0)+(n.match(Ey)?.length||0)>0}const Qf="number",Jf="color",Ly="var",Iy="var(",nm="${}",zy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $a(n){const i=n.toString(),a=[],l={color:[],number:[],var:[]},c=[];let u=0;const m=i.replace(zy,f=>(st.test(f)?(l.color.push(u),c.push(Jf),a.push(st.parse(f))):f.startsWith(Iy)?(l.var.push(u),c.push(Ly),a.push(f)):(l.number.push(u),c.push(Qf),a.push(parseFloat(f))),++u,nm)).split(nm);return{values:a,split:m,indexes:l,types:c}}function Zf(n){return $a(n).values}function eg(n){const{split:i,types:a}=$a(n),l=i.length;return c=>{let u="";for(let p=0;p<l;p++)if(u+=i[p],c[p]!==void 0){const m=a[p];m===Qf?u+=za(c[p]):m===Jf?u+=st.transform(c[p]):u+=c[p]}return u}}const Dy=n=>typeof n=="number"?0:st.test(n)?st.getAnimatableNone(n):n;function Fy(n){const i=Zf(n);return eg(n)(i.map(Dy))}const Gi={test:Ay,parse:Zf,createTransformer:eg,getAnimatableNone:Fy};function Ou(n,i,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?n+(i-n)*6*a:a<1/2?i:a<2/3?n+(i-n)*(2/3-a)*6:n}function By({hue:n,saturation:i,lightness:a,alpha:l}){n/=360,i/=100,a/=100;let c=0,u=0,p=0;if(!i)c=u=p=a;else{const m=a<.5?a*(1+i):a+i-a*i,f=2*a-m;c=Ou(f,m,n+1/3),u=Ou(f,m,n),p=Ou(f,m,n-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(p*255),alpha:l}}function Wl(n,i){return a=>a>0?i:n}const Qe=(n,i,a)=>n+(i-n)*a,$u=(n,i,a)=>{const l=n*n,c=a*(i*i-l)+l;return c<0?0:Math.sqrt(c)},Vy=[ad,To,xr],Oy=n=>Vy.find(i=>i.test(n));function im(n){const i=Oy(n);if(!i)return!1;let a=i.parse(n);return i===xr&&(a=By(a)),a}const om=(n,i)=>{const a=im(n),l=im(i);if(!a||!l)return Wl(n,i);const c={...a};return u=>(c.red=$u(a.red,l.red,u),c.green=$u(a.green,l.green,u),c.blue=$u(a.blue,l.blue,u),c.alpha=Qe(a.alpha,l.alpha,u),To.transform(c))},sd=new Set(["none","hidden"]);function $y(n,i){return sd.has(n)?a=>a<=0?n:i:a=>a>=1?i:n}function _y(n,i){return a=>Qe(n,i,a)}function Ud(n){return typeof n=="number"?_y:typeof n=="string"?Od(n)?Wl:st.test(n)?om:Hy:Array.isArray(n)?tg:typeof n=="object"?st.test(n)?om:Uy:Wl}function tg(n,i){const a=[...n],l=a.length,c=n.map((u,p)=>Ud(u)(u,i[p]));return u=>{for(let p=0;p<l;p++)a[p]=c[p](u);return a}}function Uy(n,i){const a={...n,...i},l={};for(const c in a)n[c]!==void 0&&i[c]!==void 0&&(l[c]=Ud(n[c])(n[c],i[c]));return c=>{for(const u in l)a[u]=l[u](c);return a}}function qy(n,i){const a=[],l={color:0,var:0,number:0};for(let c=0;c<i.values.length;c++){const u=i.types[c],p=n.indexes[u][l[u]],m=n.values[p]??0;a[c]=m,l[u]++}return a}const Hy=(n,i)=>{const a=Gi.createTransformer(i),l=$a(n),c=$a(i);return l.indexes.var.length===c.indexes.var.length&&l.indexes.color.length===c.indexes.color.length&&l.indexes.number.length>=c.indexes.number.length?sd.has(n)&&!c.values.length||sd.has(i)&&!l.values.length?$y(n,i):qa(tg(qy(l,c),c.values),a):Wl(n,i)};function ng(n,i,a){return typeof n=="number"&&typeof i=="number"&&typeof a=="number"?Qe(n,i,a):Ud(n)(n,i)}const Wy=n=>{const i=({timestamp:a})=>n(a);return{start:(a=!0)=>qe.update(i,a),stop:()=>Wi(i),now:()=>St.isProcessing?St.timestamp:It.now()}},ig=(n,i,a=10)=>{let l="";const c=Math.max(Math.round(i/a),2);for(let u=0;u<c;u++)l+=Math.round(n(u/(c-1))*1e4)/1e4+", ";return`linear(${l.substring(0,l.length-2)})`},Gl=2e4;function qd(n){let i=0;const a=50;let l=n.next(i);for(;!l.done&&i<Gl;)i+=a,l=n.next(i);return i>=Gl?1/0:i}function Gy(n,i=100,a){const l=a({...n,keyframes:[0,i]}),c=Math.min(qd(l),Gl);return{type:"keyframes",ease:u=>l.next(c*u).value/i,duration:mn(c)}}const Yy=5;function og(n,i,a){const l=Math.max(i-Yy,0);return Df(a-n(l),i-l)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_u=.001;function Xy({duration:n=nt.duration,bounce:i=nt.bounce,velocity:a=nt.velocity,mass:l=nt.mass}){let c,u,p=1-i;p=Hn(nt.minDamping,nt.maxDamping,p),n=Hn(nt.minDuration,nt.maxDuration,mn(n)),p<1?(c=g=>{const y=g*p,v=y*n,k=y-a,N=ld(g,p),L=Math.exp(-v);return _u-k/N*L},u=g=>{const v=g*p*n,k=v*a+a,N=Math.pow(p,2)*Math.pow(g,2)*n,L=Math.exp(-v),j=ld(Math.pow(g,2),p);return(-c(g)+_u>0?-1:1)*((k-N)*L)/j}):(c=g=>{const y=Math.exp(-g*n),v=(g-a)*n+1;return-_u+y*v},u=g=>{const y=Math.exp(-g*n),v=(a-g)*(n*n);return y*v});const m=5/n,f=Qy(c,u,m);if(n=di(n),isNaN(f))return{stiffness:nt.stiffness,damping:nt.damping,duration:n};{const g=Math.pow(f,2)*l;return{stiffness:g,damping:p*2*Math.sqrt(l*g),duration:n}}}const Ky=12;function Qy(n,i,a){let l=a;for(let c=1;c<Ky;c++)l=l-n(l)/i(l);return l}function ld(n,i){return n*Math.sqrt(1-i*i)}const Jy=["duration","bounce"],Zy=["stiffness","damping","mass"];function rm(n,i){return i.some(a=>n[a]!==void 0)}function ex(n){let i={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...n};if(!rm(n,Zy)&&rm(n,Jy))if(n.visualDuration){const a=n.visualDuration,l=2*Math.PI/(a*1.2),c=l*l,u=2*Hn(.05,1,1-(n.bounce||0))*Math.sqrt(c);i={...i,mass:nt.mass,stiffness:c,damping:u}}else{const a=Xy(n);i={...i,...a,mass:nt.mass},i.isResolvedFromDuration=!0}return i}function Yl(n=nt.visualDuration,i=nt.bounce){const a=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:i}:n;let{restSpeed:l,restDelta:c}=a;const u=a.keyframes[0],p=a.keyframes[a.keyframes.length-1],m={done:!1,value:u},{stiffness:f,damping:g,mass:y,duration:v,velocity:k,isResolvedFromDuration:N}=ex({...a,velocity:-mn(a.velocity||0)}),L=k||0,j=g/(2*Math.sqrt(f*y)),C=p-u,R=mn(Math.sqrt(f/y)),A=Math.abs(C)<5;l||(l=A?nt.restSpeed.granular:nt.restSpeed.default),c||(c=A?nt.restDelta.granular:nt.restDelta.default);let S;if(j<1){const M=ld(R,j);S=V=>{const z=Math.exp(-j*R*V);return p-z*((L+j*R*C)/M*Math.sin(M*V)+C*Math.cos(M*V))}}else if(j===1)S=M=>p-Math.exp(-R*M)*(C+(L+R*C)*M);else{const M=R*Math.sqrt(j*j-1);S=V=>{const z=Math.exp(-j*R*V),O=Math.min(M*V,300);return p-z*((L+j*R*C)*Math.sinh(O)+M*C*Math.cosh(O))/M}}const I={calculatedDuration:N&&v||null,next:M=>{const V=S(M);if(N)m.done=M>=v;else{let z=M===0?L:0;j<1&&(z=M===0?di(L):og(S,M,V));const O=Math.abs(z)<=l,U=Math.abs(p-V)<=c;m.done=O&&U}return m.value=m.done?p:V,m},toString:()=>{const M=Math.min(qd(I),Gl),V=ig(z=>I.next(M*z).value,M,30);return M+"ms "+V},toTransition:()=>{}};return I}Yl.applyToOptions=n=>{const i=Gy(n,100,Yl);return n.ease=i.ease,n.duration=di(i.duration),n.type="keyframes",n};function cd({keyframes:n,velocity:i=0,power:a=.8,timeConstant:l=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:p,min:m,max:f,restDelta:g=.5,restSpeed:y}){const v=n[0],k={done:!1,value:v},N=O=>m!==void 0&&O<m||f!==void 0&&O>f,L=O=>m===void 0?f:f===void 0||Math.abs(m-O)<Math.abs(f-O)?m:f;let j=a*i;const C=v+j,R=p===void 0?C:p(C);R!==C&&(j=R-v);const A=O=>-j*Math.exp(-O/l),S=O=>R+A(O),I=O=>{const U=A(O),W=S(O);k.done=Math.abs(U)<=g,k.value=k.done?R:W};let M,V;const z=O=>{N(k.value)&&(M=O,V=Yl({keyframes:[k.value,L(k.value)],velocity:og(S,O,k.value),damping:c,stiffness:u,restDelta:g,restSpeed:y}))};return z(0),{calculatedDuration:null,next:O=>{let U=!1;return!V&&M===void 0&&(U=!0,I(O),z(O)),M!==void 0&&O>=M?V.next(O-M):(!U&&I(O),k)}}}function tx(n,i,a){const l=[],c=a||pi.mix||ng,u=n.length-1;for(let p=0;p<u;p++){let m=c(n[p],n[p+1]);if(i){const f=Array.isArray(i)?i[p]||fn:i;m=qa(f,m)}l.push(m)}return l}function nx(n,i,{clamp:a=!0,ease:l,mixer:c}={}){const u=n.length;if(zd(u===i.length),u===1)return()=>i[0];if(u===2&&i[0]===i[1])return()=>i[1];const p=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),i=[...i].reverse());const m=tx(i,l,c),f=m.length,g=y=>{if(p&&y<n[0])return i[0];let v=0;if(f>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const k=Va(n[v],n[v+1],y);return m[v](k)};return a?y=>g(Hn(n[0],n[u-1],y)):g}function ix(n,i){const a=n[n.length-1];for(let l=1;l<=i;l++){const c=Va(0,i,l);n.push(Qe(a,1,c))}}function ox(n){const i=[0];return ix(i,n.length-1),i}function rx(n,i){return n.map(a=>a*i)}function ax(n,i){return n.map(()=>i||Hf).splice(0,n.length-1)}function Da({duration:n=300,keyframes:i,times:a,ease:l="easeInOut"}){const c=yy(l)?l.map(Zh):Zh(l),u={done:!1,value:i[0]},p=rx(a&&a.length===i.length?a:ox(i),n),m=nx(p,i,{ease:Array.isArray(c)?c:ax(i,c)});return{calculatedDuration:n,next:f=>(u.value=m(f),u.done=f>=n,u)}}const sx=n=>n!==null;function Hd(n,{repeat:i,repeatType:a="loop"},l,c=1){const u=n.filter(sx),m=c<0||i&&a!=="loop"&&i%2===1?0:u.length-1;return!m||l===void 0?u[m]:l}const lx={decay:cd,inertia:cd,tween:Da,keyframes:Da,spring:Yl};function rg(n){typeof n.type=="string"&&(n.type=lx[n.type])}class Wd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,a){return this.finished.then(i,a)}}const cx=n=>n/100;class Gd extends Wd{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;rg(i);const{type:a=Da,repeat:l=0,repeatDelay:c=0,repeatType:u,velocity:p=0}=i;let{keyframes:m}=i;const f=a||Da;f!==Da&&typeof m[0]!="number"&&(this.mixKeyframes=qa(cx,ng(m[0],m[1])),m=[0,100]);const g=f({...i,keyframes:m});u==="mirror"&&(this.mirroredGenerator=f({...i,keyframes:[...m].reverse(),velocity:-p})),g.calculatedDuration===null&&(g.calculatedDuration=qd(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+c,this.totalDuration=this.resolvedDuration*(l+1)-c,this.generator=g}updateTime(i){const a=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(i,a=!1){const{generator:l,totalDuration:c,mixKeyframes:u,mirroredGenerator:p,resolvedDuration:m,calculatedDuration:f}=this;if(this.startTime===null)return l.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:k,repeatDelay:N,type:L,onUpdate:j,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-c/this.speed,this.startTime)),a?this.currentTime=i:this.updateTime(i);const R=this.currentTime-g*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?R<0:R>c;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let S=this.currentTime,I=l;if(v){const O=Math.min(this.currentTime,c)/m;let U=Math.floor(O),W=O%1;!W&&O>=1&&(W=1),W===1&&U--,U=Math.min(U,v+1),U%2&&(k==="reverse"?(W=1-W,N&&(W-=N/m)):k==="mirror"&&(I=p)),S=Hn(0,1,W)*m}const M=A?{done:!1,value:y[0]}:I.next(S);u&&(M.value=u(M.value));let{done:V}=M;!A&&f!==null&&(V=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return z&&L!==cd&&(M.value=Hd(y,this.options,C,this.speed)),j&&j(M.value),z&&this.finish(),M}then(i,a){return this.finished.then(i,a)}get duration(){return mn(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+mn(i)}get time(){return mn(this.currentTime)}set time(i){i=di(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(It.now());const a=this.playbackSpeed!==i;this.playbackSpeed=i,a&&(this.time=mn(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=Wy,startTime:a}=this.options;this.driver||(this.driver=i(c=>this.tick(c))),this.options.onPlay?.();const l=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=l):this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime||(this.startTime=a??l),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function ux(n){for(let i=1;i<n.length;i++)n[i]??(n[i]=n[i-1])}const Mo=n=>n*180/Math.PI,ud=n=>{const i=Mo(Math.atan2(n[1],n[0]));return dd(i)},dx={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ud,rotateZ:ud,skewX:n=>Mo(Math.atan(n[1])),skewY:n=>Mo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},dd=n=>(n=n%360,n<0&&(n+=360),n),am=ud,sm=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),lm=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),px={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sm,scaleY:lm,scale:n=>(sm(n)+lm(n))/2,rotateX:n=>dd(Mo(Math.atan2(n[6],n[5]))),rotateY:n=>dd(Mo(Math.atan2(-n[2],n[0]))),rotateZ:am,rotate:am,skewX:n=>Mo(Math.atan(n[4])),skewY:n=>Mo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function pd(n){return n.includes("scale")?1:0}function hd(n,i){if(!n||n==="none")return pd(i);const a=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let l,c;if(a)l=px,c=a;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);l=dx,c=m}if(!c)return pd(i);const u=l[i],p=c[1].split(",").map(mx);return typeof u=="function"?u(p):p[u]}const hx=(n,i)=>{const{transform:a="none"}=getComputedStyle(n);return hd(a,i)};function mx(n){return parseFloat(n.trim())}const Nr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tr=new Set(Nr),cm=n=>n===Cr||n===fe,fx=new Set(["x","y","z"]),gx=Nr.filter(n=>!fx.has(n));function yx(n){const i=[];return gx.forEach(a=>{const l=n.getValue(a);l!==void 0&&(i.push([a,l.get()]),l.set(a.startsWith("scale")?1:0))}),i}const Hi={width:({x:n},{paddingLeft:i="0",paddingRight:a="0"})=>n.max-n.min-parseFloat(i)-parseFloat(a),height:({y:n},{paddingTop:i="0",paddingBottom:a="0"})=>n.max-n.min-parseFloat(i)-parseFloat(a),top:(n,{top:i})=>parseFloat(i),left:(n,{left:i})=>parseFloat(i),bottom:({y:n},{top:i})=>parseFloat(i)+(n.max-n.min),right:({x:n},{left:i})=>parseFloat(i)+(n.max-n.min),x:(n,{transform:i})=>hd(i,"x"),y:(n,{transform:i})=>hd(i,"y")};Hi.translateX=Hi.x;Hi.translateY=Hi.y;const Ro=new Set;let md=!1,fd=!1,gd=!1;function ag(){if(fd){const n=Array.from(Ro).filter(l=>l.needsMeasurement),i=new Set(n.map(l=>l.element)),a=new Map;i.forEach(l=>{const c=yx(l);c.length&&(a.set(l,c),l.render())}),n.forEach(l=>l.measureInitialState()),i.forEach(l=>{l.render();const c=a.get(l);c&&c.forEach(([u,p])=>{l.getValue(u)?.set(p)})}),n.forEach(l=>l.measureEndState()),n.forEach(l=>{l.suspendedScrollY!==void 0&&window.scrollTo(0,l.suspendedScrollY)})}fd=!1,md=!1,Ro.forEach(n=>n.complete(gd)),Ro.clear()}function sg(){Ro.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(fd=!0)})}function xx(){gd=!0,sg(),ag(),gd=!1}class Yd{constructor(i,a,l,c,u,p=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=a,this.name=l,this.motionValue=c,this.element=u,this.isAsync=p}scheduleResolve(){this.state="scheduled",this.isAsync?(Ro.add(this),md||(md=!0,qe.read(sg),qe.resolveKeyframes(ag))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:a,element:l,motionValue:c}=this;if(i[0]===null){const u=c?.get(),p=i[i.length-1];if(u!==void 0)i[0]=u;else if(l&&a){const m=l.readValue(a,p);m!=null&&(i[0]=m)}i[0]===void 0&&(i[0]=p),c&&u===void 0&&c.set(i[0])}ux(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Ro.delete(this)}cancel(){this.state==="scheduled"&&(Ro.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vx=n=>n.startsWith("--");function wx(n,i,a){vx(i)?n.style.setProperty(i,a):n.style[i]=a}const bx=Dd(()=>window.ScrollTimeline!==void 0),kx={};function Sx(n,i){const a=Dd(n);return()=>kx[i]??a()}const lg=Sx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Aa=([n,i,a,l])=>`cubic-bezier(${n}, ${i}, ${a}, ${l})`,um={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Aa([0,.65,.55,1]),circOut:Aa([.55,0,1,.45]),backIn:Aa([.31,.01,.66,-.59]),backOut:Aa([.33,1.53,.69,.99])};function cg(n,i){if(n)return typeof n=="function"?lg()?ig(n,i):"ease-out":Wf(n)?Aa(n):Array.isArray(n)?n.map(a=>cg(a,i)||um.easeOut):um[n]}function jx(n,i,a,{delay:l=0,duration:c=300,repeat:u=0,repeatType:p="loop",ease:m="easeOut",times:f}={},g=void 0){const y={[i]:a};f&&(y.offset=f);const v=cg(m,c);Array.isArray(v)&&(y.easing=v);const k={delay:l,duration:c,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:p==="reverse"?"alternate":"normal"};return g&&(k.pseudoElement=g),n.animate(y,k)}function ug(n){return typeof n=="function"&&"applyToOptions"in n}function Cx({type:n,...i}){return ug(n)&&lg()?n.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class Nx extends Wd{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!i)return;const{element:a,name:l,keyframes:c,pseudoElement:u,allowFlatten:p=!1,finalKeyframe:m,onComplete:f}=i;this.isPseudoElement=!!u,this.allowFlatten=p,this.options=i,zd(typeof i.type!="string");const g=Cx(i);this.animation=jx(a,l,c,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Hd(c,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):wx(a,l,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return mn(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+mn(i)}get time(){return mn(Number(this.animation.currentTime)||0)}set time(i){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=di(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(i){this.manualStartTime=this.animation.startTime=i}attachTimeline({timeline:i,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&bx()?(this.animation.timeline=i,fn):a(this)}}const dg={anticipate:_f,backInOut:$f,circInOut:qf};function Tx(n){return n in dg}function Mx(n){typeof n.ease=="string"&&Tx(n.ease)&&(n.ease=dg[n.ease])}const Uu=10;class Px extends Nx{constructor(i){Mx(i),rg(i),super(i),i.startTime!==void 0&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:a,onUpdate:l,onComplete:c,element:u,...p}=this.options;if(!a)return;if(i!==void 0){a.set(i);return}const m=new Gd({...p,autoplay:!1}),f=Math.max(Uu,It.now()-this.startTime),g=Hn(0,Uu,f-Uu);a.setWithVelocity(m.sample(Math.max(0,f-g)).value,m.sample(f).value,g),m.stop()}}const dm=(n,i)=>i==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Gi.test(n)||n==="0")&&!n.startsWith("url("));function Rx(n){const i=n[0];if(n.length===1)return!0;for(let a=0;a<n.length;a++)if(n[a]!==i)return!0}function Ex(n,i,a,l){const c=n[0];if(c===null)return!1;if(i==="display"||i==="visibility")return!0;const u=n[n.length-1],p=dm(c,i),m=dm(u,i);return!p||!m?!1:Rx(n)||(a==="spring"||ug(a))&&l}function yd(n){n.duration=0,n.type="keyframes"}const Ax=new Set(["opacity","clipPath","filter","transform"]),Lx=Dd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ix(n){const{motionValue:i,name:a,repeatDelay:l,repeatType:c,damping:u,type:p}=n;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=i.owner.getProps();return Lx()&&a&&Ax.has(a)&&(a!=="transform"||!g)&&!f&&!l&&c!=="mirror"&&u!==0&&p!=="inertia"}const zx=40;class Dx extends Wd{constructor({autoplay:i=!0,delay:a=0,type:l="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:p="loop",keyframes:m,name:f,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=It.now();const k={autoplay:i,delay:a,type:l,repeat:c,repeatDelay:u,repeatType:p,name:f,motionValue:g,element:y,...v},N=y?.KeyframeResolver||Yd;this.keyframeResolver=new N(m,(L,j,C)=>this.onKeyframesResolved(L,j,k,!C),f,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,a,l,c){this.keyframeResolver=void 0;const{name:u,type:p,velocity:m,delay:f,isHandoff:g,onUpdate:y}=l;this.resolvedAt=It.now(),Ex(i,u,p,m)||((pi.instantAnimations||!f)&&y?.(Hd(i,l,a)),i[0]=i[i.length-1],yd(l),l.repeat=0);const k={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>zx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...l,keyframes:i},N=!g&&Ix(k),L=k.motionValue?.owner?.current,j=N?new Px({...k,element:L}):new Gd(k);j.finished.then(()=>{this.notifyFinished()}).catch(fn),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(i,a){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),xx()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function pg(n,i,a,l=0,c=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(i),p=n.size,m=(p-1)*l;return typeof a=="function"?a(u,p):c===1?u*l:m-u*l}const Fx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bx(n){const i=Fx.exec(n);if(!i)return[,];const[,a,l,c]=i;return[`--${a??l}`,c]}function hg(n,i,a=1){const[l,c]=Bx(n);if(!l)return;const u=window.getComputedStyle(i).getPropertyValue(l);if(u){const p=u.trim();return Lf(p)?parseFloat(p):p}return Od(c)?hg(c,i,a+1):c}const Vx={type:"spring",stiffness:500,damping:25,restSpeed:10},Ox=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$x={type:"keyframes",duration:.8},_x={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ux=(n,{keyframes:i})=>i.length>2?$x:Tr.has(n)?n.startsWith("scale")?Ox(i[1]):Vx:_x,qx=n=>n!==null;function Hx(n,{repeat:i,repeatType:a="loop"},l){const c=n.filter(qx),u=i&&a!=="loop"&&i%2===1?0:c.length-1;return c[u]}function Xd(n,i){return n?.[i]??n?.default??n}function Wx({when:n,delay:i,delayChildren:a,staggerChildren:l,staggerDirection:c,repeat:u,repeatType:p,repeatDelay:m,from:f,elapsed:g,...y}){return!!Object.keys(y).length}const Kd=(n,i,a,l={},c,u)=>p=>{const m=Xd(l,n)||{},f=m.delay||l.delay||0;let{elapsed:g=0}=l;g=g-di(f);const y={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:i.getVelocity(),...m,delay:-g,onUpdate:k=>{i.set(k),m.onUpdate&&m.onUpdate(k)},onComplete:()=>{p(),m.onComplete&&m.onComplete()},name:n,motionValue:i,element:u?void 0:c};Wx(m)||Object.assign(y,Ux(n,y)),y.duration&&(y.duration=di(y.duration)),y.repeatDelay&&(y.repeatDelay=di(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(yd(y),y.delay===0&&(v=!0)),(pi.instantAnimations||pi.skipAnimations)&&(v=!0,yd(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,v&&!u&&i.get()!==void 0){const k=Hx(y.keyframes,m);if(k!==void 0){qe.update(()=>{y.onUpdate(k),y.onComplete()});return}}return m.isSync?new Gd(y):new Dx(y)};function pm(n){const i=[{},{}];return n?.values.forEach((a,l)=>{i[0][l]=a.get(),i[1][l]=a.getVelocity()}),i}function Qd(n,i,a,l){if(typeof i=="function"){const[c,u]=pm(l);i=i(a!==void 0?a:n.custom,c,u)}if(typeof i=="string"&&(i=n.variants&&n.variants[i]),typeof i=="function"){const[c,u]=pm(l);i=i(a!==void 0?a:n.custom,c,u)}return i}function Sr(n,i,a){const l=n.getProps();return Qd(l,i,a!==void 0?a:l.custom,n)}const mg=new Set(["width","height","top","left","right","bottom",...Nr]),hm=30,Gx=n=>!isNaN(parseFloat(n));class Yx{constructor(i,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=l=>{const c=It.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(l),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=a.owner}setCurrent(i){this.current=i,this.updatedAt=It.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=Gx(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,a){this.events[i]||(this.events[i]=new Fd);const l=this.events[i].add(a);return i==="change"?()=>{l(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:l}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,a){this.passiveEffect=i,this.stopPassiveEffect=a}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,a,l){this.set(a),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-l}jump(i,a=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>hm)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,hm);return Df(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(i){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=i(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jr(n,i){return new Yx(n,i)}const xd=n=>Array.isArray(n);function Xx(n,i,a){n.hasValue(i)?n.getValue(i).set(a):n.addValue(i,jr(a))}function Kx(n){return xd(n)?n[n.length-1]||0:n}function Qx(n,i){const a=Sr(n,i);let{transitionEnd:l={},transition:c={},...u}=a||{};u={...u,...l};for(const p in u){const m=Kx(u[p]);Xx(n,p,m)}}const Rt=n=>!!(n&&n.getVelocity);function Jx(n){return!!(Rt(n)&&n.add)}function vd(n,i){const a=n.getValue("willChange");if(Jx(a))return a.add(i);if(!a&&pi.WillChange){const l=new pi.WillChange("auto");n.addValue("willChange",l),l.add(i)}}function Jd(n){return n.replace(/([A-Z])/g,i=>`-${i.toLowerCase()}`)}const Zx="framerAppearId",fg="data-"+Jd(Zx);function gg(n){return n.props[fg]}function ev({protectedKeys:n,needsAnimating:i},a){const l=n.hasOwnProperty(a)&&i[a]!==!0;return i[a]=!1,l}function yg(n,i,{delay:a=0,transitionOverride:l,type:c}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:p,...m}=i;const f=u?.reduceMotion;l&&(u=l);const g=[],y=c&&n.animationState&&n.animationState.getState()[c];for(const v in m){const k=n.getValue(v,n.latestValues[v]??null),N=m[v];if(N===void 0||y&&ev(y,v))continue;const L={delay:a,...Xd(u||{},v)},j=k.get();if(j!==void 0&&!k.isAnimating&&!Array.isArray(N)&&N===j&&!L.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const S=gg(n);if(S){const I=window.MotionHandoffAnimation(S,v,qe);I!==null&&(L.startTime=I,C=!0)}}vd(n,v);const R=f??n.shouldReduceMotion;k.start(Kd(v,k,N,R&&mg.has(v)?{type:!1}:L,n,C));const A=k.animation;A&&g.push(A)}return p&&Promise.all(g).then(()=>{qe.update(()=>{p&&Qx(n,p)})}),g}function wd(n,i,a={}){const l=Sr(n,i,a.type==="exit"?n.presenceContext?.custom:void 0);let{transition:c=n.getDefaultTransition()||{}}=l||{};a.transitionOverride&&(c=a.transitionOverride);const u=l?()=>Promise.all(yg(n,l,a)):()=>Promise.resolve(),p=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=c;return tv(n,i,f,g,y,v,a)}:()=>Promise.resolve(),{when:m}=c;if(m){const[f,g]=m==="beforeChildren"?[u,p]:[p,u];return f().then(()=>g())}else return Promise.all([u(),p(a.delay)])}function tv(n,i,a=0,l=0,c=0,u=1,p){const m=[];for(const f of n.variantChildren)f.notify("AnimationStart",i),m.push(wd(f,i,{...p,delay:a+(typeof l=="function"?0:l)+pg(n.variantChildren,f,l,c,u)}).then(()=>f.notify("AnimationComplete",i)));return Promise.all(m)}function nv(n,i,a={}){n.notify("AnimationStart",i);let l;if(Array.isArray(i)){const c=i.map(u=>wd(n,u,a));l=Promise.all(c)}else if(typeof i=="string")l=wd(n,i,a);else{const c=typeof i=="function"?Sr(n,i,a.custom):i;l=Promise.all(yg(n,c,a))}return l.then(()=>{n.notify("AnimationComplete",i)})}const iv={test:n=>n==="auto",parse:n=>n},xg=n=>i=>i.test(n),vg=[Cr,fe,qn,qi,Ry,Py,iv],mm=n=>vg.find(xg(n));function ov(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||zf(n):!0}const rv=new Set(["brightness","contrast","saturate","opacity"]);function av(n){const[i,a]=n.slice(0,-1).split("(");if(i==="drop-shadow")return n;const[l]=a.match($d)||[];if(!l)return n;const c=a.replace(l,"");let u=rv.has(i)?1:0;return l!==a&&(u*=100),i+"("+u+c+")"}const sv=/\b([a-z-]*)\(.*?\)/gu,bd={...Gi,getAnimatableNone:n=>{const i=n.match(sv);return i?i.map(av).join(" "):n}},fm={...Cr,transform:Math.round},lv={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:Il,scaleX:Il,scaleY:Il,scaleZ:Il,skew:qi,skewX:qi,skewY:qi,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Oa,originX:tm,originY:tm,originZ:fe},Zd={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,inset:fe,insetBlock:fe,insetBlockStart:fe,insetBlockEnd:fe,insetInline:fe,insetInlineStart:fe,insetInlineEnd:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,paddingBlock:fe,paddingBlockStart:fe,paddingBlockEnd:fe,paddingInline:fe,paddingInlineStart:fe,paddingInlineEnd:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,marginBlock:fe,marginBlockStart:fe,marginBlockEnd:fe,marginInline:fe,marginInlineStart:fe,marginInlineEnd:fe,fontSize:fe,backgroundPositionX:fe,backgroundPositionY:fe,...lv,zIndex:fm,fillOpacity:Oa,strokeOpacity:Oa,numOctaves:fm},cv={...Zd,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:bd,WebkitFilter:bd},wg=n=>cv[n];function bg(n,i){let a=wg(n);return a!==bd&&(a=Gi),a.getAnimatableNone?a.getAnimatableNone(i):void 0}const uv=new Set(["auto","none","0"]);function dv(n,i,a){let l=0,c;for(;l<n.length&&!c;){const u=n[l];typeof u=="string"&&!uv.has(u)&&$a(u).values.length&&(c=n[l]),l++}if(c&&a)for(const u of i)n[u]=bg(a,c)}class pv extends Yd{constructor(i,a,l,c,u){super(i,a,l,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:a,name:l}=this;if(!a||!a.current)return;super.readKeyframes();for(let y=0;y<i.length;y++){let v=i[y];if(typeof v=="string"&&(v=v.trim(),Od(v))){const k=hg(v,a.current);k!==void 0&&(i[y]=k),y===i.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!mg.has(l)||i.length!==2)return;const[c,u]=i,p=mm(c),m=mm(u),f=em(c),g=em(u);if(f!==g&&Hi[l]){this.needsMeasurement=!0;return}if(p!==m)if(cm(p)&&cm(m))for(let y=0;y<i.length;y++){const v=i[y];typeof v=="string"&&(i[y]=parseFloat(v))}else Hi[l]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:a}=this,l=[];for(let c=0;c<i.length;c++)(i[c]===null||ov(i[c]))&&l.push(c);l.length&&dv(i,l,a)}measureInitialState(){const{element:i,unresolvedKeyframes:a,name:l}=this;if(!i||!i.current)return;l==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hi[l](i.measureViewportBox(),window.getComputedStyle(i.current)),a[0]=this.measuredOrigin;const c=a[a.length-1];c!==void 0&&i.getValue(l,c).jump(c,!1)}measureEndState(){const{element:i,name:a,unresolvedKeyframes:l}=this;if(!i||!i.current)return;const c=i.getValue(a);c&&c.jump(this.measuredOrigin,!1);const u=l.length-1,p=l[u];l[u]=Hi[a](i.measureViewportBox(),window.getComputedStyle(i.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,f])=>{i.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function hv(n,i,a){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let l=document;const c=a?.[n]??l.querySelectorAll(n);return c?Array.from(c):[]}return Array.from(n).filter(l=>l!=null)}const kg=(n,i)=>i&&typeof n=="number"?i.transform(n):n;function kd(n){return If(n)&&"offsetHeight"in n}const{schedule:ep}=Gf(queueMicrotask,!1),Pn={x:!1,y:!1};function Sg(){return Pn.x||Pn.y}function mv(n){return n==="x"||n==="y"?Pn[n]?null:(Pn[n]=!0,()=>{Pn[n]=!1}):Pn.x||Pn.y?null:(Pn.x=Pn.y=!0,()=>{Pn.x=Pn.y=!1})}function jg(n,i){const a=hv(n),l=new AbortController,c={passive:!0,...i,signal:l.signal};return[a,c,()=>l.abort()]}function gm(n){return!(n.pointerType==="touch"||Sg())}function fv(n,i,a={}){const[l,c,u]=jg(n,a),p=m=>{if(!gm(m))return;const{target:f}=m,g=i(f,m);if(typeof g!="function"||!f)return;const y=v=>{gm(v)&&(g(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,c)};return l.forEach(m=>{m.addEventListener("pointerenter",p,c)}),u}const Cg=(n,i)=>i?n===i?!0:Cg(n,i.parentElement):!1,tp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,gv=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ng(n){return gv.has(n.tagName)||n.isContentEditable===!0}const Ul=new WeakSet;function ym(n){return i=>{i.key==="Enter"&&n(i)}}function qu(n,i){n.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const yv=(n,i)=>{const a=n.currentTarget;if(!a)return;const l=ym(()=>{if(Ul.has(a))return;qu(a,"down");const c=ym(()=>{qu(a,"up")}),u=()=>qu(a,"cancel");a.addEventListener("keyup",c,i),a.addEventListener("blur",u,i)});a.addEventListener("keydown",l,i),a.addEventListener("blur",()=>a.removeEventListener("keydown",l),i)};function xm(n){return tp(n)&&!Sg()}function xv(n,i,a={}){const[l,c,u]=jg(n,a),p=m=>{const f=m.currentTarget;if(!xm(m))return;Ul.add(f);const g=i(f,m),y=(N,L)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",k),Ul.has(f)&&Ul.delete(f),xm(N)&&typeof g=="function"&&g(N,{success:L})},v=N=>{y(N,f===window||f===document||a.useGlobalTarget||Cg(f,N.target))},k=N=>{y(N,!1)};window.addEventListener("pointerup",v,c),window.addEventListener("pointercancel",k,c)};return l.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",p,c),kd(m)&&(m.addEventListener("focus",g=>yv(g,c)),!Ng(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Tg(n){return If(n)&&"ownerSVGElement"in n}function vv(n){return Tg(n)&&n.tagName==="svg"}const wv=[...vg,st,Gi],bv=n=>wv.find(xg(n)),vm=()=>({translate:0,scale:1,origin:0,originPoint:0}),vr=()=>({x:vm(),y:vm()}),wm=()=>({min:0,max:0}),pt=()=>({x:wm(),y:wm()}),Sd={current:null},Mg={current:!1},kv=typeof window<"u";function Sv(){if(Mg.current=!0,!!kv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),i=()=>Sd.current=n.matches;n.addEventListener("change",i),i()}else Sd.current=!1}const jv=new WeakMap;function tc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function _a(n){return typeof n=="string"||Array.isArray(n)}const np=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ip=["initial",...np];function nc(n){return tc(n.animate)||ip.some(i=>_a(n[i]))}function Pg(n){return!!(nc(n)||n.variants)}function Cv(n,i,a){for(const l in i){const c=i[l],u=a[l];if(Rt(c))n.addValue(l,c);else if(Rt(u))n.addValue(l,jr(c,{owner:n}));else if(u!==c)if(n.hasValue(l)){const p=n.getValue(l);p.liveStyle===!0?p.jump(c):p.hasAnimated||p.set(c)}else{const p=n.getStaticValue(l);n.addValue(l,jr(p!==void 0?p:c,{owner:n}))}}for(const l in a)i[l]===void 0&&n.removeValue(l);return i}const bm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Xl={};function Rg(n){Xl=n}function Nv(){return Xl}class Tv{scrapeMotionValuesFromProps(i,a,l){return{}}constructor({parent:i,props:a,presenceContext:l,reducedMotionConfig:c,blockInitialAnimation:u,visualState:p},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=It.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=p;this.latestValues=f,this.baseTarget={...f},this.initialValues=a.initial?{...f}:{},this.renderState=g,this.parent=i,this.props=a,this.presenceContext=l,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=nc(a),this.isVariantNode=Pg(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(a,{},this);for(const k in v){const N=v[k];f[k]!==void 0&&Rt(N)&&N.set(f[k])}}mount(i){this.current=i,jv.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,l)=>this.bindToMotionValue(l,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Mg.current||Sv(),this.shouldReduceMotion=Sd.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const a=this.features[i];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,a){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const l=Tr.has(i);l&&this.onBindTransform&&this.onBindTransform();const c=a.on("change",p=>{this.latestValues[i]=p,this.props.onUpdate&&qe.preRender(this.notifyUpdate),l&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,i,a)),this.valueSubscriptions.set(i,()=>{c(),u&&u(),a.owner&&a.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Xl){const a=Xl[i];if(!a)continue;const{isEnabled:l,Feature:c}=a;if(!this.features[i]&&c&&l(this.props)&&(this.features[i]=new c(this)),this.features[i]){const u=this.features[i];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,a){this.latestValues[i]=a}update(i,a){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let l=0;l<bm.length;l++){const c=bm[l];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,p=i[u];p&&(this.propEventSubscriptions[c]=this.on(c,p))}this.prevMotionValues=Cv(this,this.scrapeMotionValuesFromProps(i,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(i),()=>a.variantChildren.delete(i)}addValue(i,a){const l=this.values.get(i);a!==l&&(l&&this.removeValue(i),this.bindToMotionValue(i,a),this.values.set(i,a),this.latestValues[i]=a.get())}removeValue(i){this.values.delete(i);const a=this.valueSubscriptions.get(i);a&&(a(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,a){if(this.props.values&&this.props.values[i])return this.props.values[i];let l=this.values.get(i);return l===void 0&&a!==void 0&&(l=jr(a===null?void 0:a,{owner:this}),this.addValue(i,l)),l}readValue(i,a){let l=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return l!=null&&(typeof l=="string"&&(Lf(l)||zf(l))?l=parseFloat(l):!bv(l)&&Gi.test(a)&&(l=bg(i,a)),this.setBaseTarget(i,Rt(l)?l.get():l)),Rt(l)?l.get():l}setBaseTarget(i,a){this.baseTarget[i]=a}getBaseTarget(i){const{initial:a}=this.props;let l;if(typeof a=="string"||typeof a=="object"){const u=Qd(this.props,a,this.presenceContext?.custom);u&&(l=u[i])}if(a&&l!==void 0)return l;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!Rt(c)?c:this.initialValues[i]!==void 0&&l===void 0?void 0:this.baseTarget[i]}on(i,a){return this.events[i]||(this.events[i]=new Fd),this.events[i].add(a)}notify(i,...a){this.events[i]&&this.events[i].notify(...a)}scheduleRenderMicrotask(){ep.render(this.render)}}class Eg extends Tv{constructor(){super(...arguments),this.KeyframeResolver=pv}sortInstanceNodePosition(i,a){return i.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(i,a){const l=i.style;return l?l[a]:void 0}removeValueFromRenderState(i,{vars:a,style:l}){delete a[i],delete l[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Rt(i)&&(this.childSubscription=i.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class Yi{constructor(i){this.isMounted=!1,this.node=i}update(){}}function Ag({top:n,left:i,right:a,bottom:l}){return{x:{min:i,max:a},y:{min:n,max:l}}}function Mv({x:n,y:i}){return{top:i.min,right:n.max,bottom:i.max,left:n.min}}function Pv(n,i){if(!i)return n;const a=i({x:n.left,y:n.top}),l=i({x:n.right,y:n.bottom});return{top:a.y,left:a.x,bottom:l.y,right:l.x}}function Hu(n){return n===void 0||n===1}function jd({scale:n,scaleX:i,scaleY:a}){return!Hu(n)||!Hu(i)||!Hu(a)}function No(n){return jd(n)||Lg(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Lg(n){return km(n.x)||km(n.y)}function km(n){return n&&n!=="0%"}function Kl(n,i,a){const l=n-a,c=i*l;return a+c}function Sm(n,i,a,l,c){return c!==void 0&&(n=Kl(n,c,l)),Kl(n,a,l)+i}function Cd(n,i=0,a=1,l,c){n.min=Sm(n.min,i,a,l,c),n.max=Sm(n.max,i,a,l,c)}function Ig(n,{x:i,y:a}){Cd(n.x,i.translate,i.scale,i.originPoint),Cd(n.y,a.translate,a.scale,a.originPoint)}const jm=.999999999999,Cm=1.0000000000001;function Rv(n,i,a,l=!1){const c=a.length;if(!c)return;i.x=i.y=1;let u,p;for(let m=0;m<c;m++){u=a[m],p=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&br(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),p&&(i.x*=p.x.scale,i.y*=p.y.scale,Ig(n,p)),l&&No(u.latestValues)&&br(n,u.latestValues))}i.x<Cm&&i.x>jm&&(i.x=1),i.y<Cm&&i.y>jm&&(i.y=1)}function wr(n,i){n.min=n.min+i,n.max=n.max+i}function Nm(n,i,a,l,c=.5){const u=Qe(n.min,n.max,c);Cd(n,i,a,u,l)}function br(n,i){Nm(n.x,i.x,i.scaleX,i.scale,i.originX),Nm(n.y,i.y,i.scaleY,i.scale,i.originY)}function zg(n,i){return Ag(Pv(n.getBoundingClientRect(),i))}function Ev(n,i,a){const l=zg(n,a),{scroll:c}=i;return c&&(wr(l.x,c.offset.x),wr(l.y,c.offset.y)),l}const Av={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lv=Nr.length;function Iv(n,i,a){let l="",c=!0;for(let u=0;u<Lv;u++){const p=Nr[u],m=n[p];if(m===void 0)continue;let f=!0;if(typeof m=="number")f=m===(p.startsWith("scale")?1:0);else{const g=parseFloat(m);f=p.startsWith("scale")?g===1:g===0}if(!f||a){const g=kg(m,Zd[p]);if(!f){c=!1;const y=Av[p]||p;l+=`${y}(${g}) `}a&&(i[p]=g)}}return l=l.trim(),a?l=a(i,c?"":l):c&&(l="none"),l}function op(n,i,a){const{style:l,vars:c,transformOrigin:u}=n;let p=!1,m=!1;for(const f in i){const g=i[f];if(Tr.has(f)){p=!0;continue}else if(Xf(f)){c[f]=g;continue}else{const y=kg(g,Zd[f]);f.startsWith("origin")?(m=!0,u[f]=y):l[f]=y}}if(i.transform||(p||a?l.transform=Iv(i,n.transform,a):l.transform&&(l.transform="none")),m){const{originX:f="50%",originY:g="50%",originZ:y=0}=u;l.transformOrigin=`${f} ${g} ${y}`}}function Dg(n,{style:i,vars:a},l,c){const u=n.style;let p;for(p in i)u[p]=i[p];c?.applyProjectionStyles(u,l);for(p in a)u.setProperty(p,a[p])}function Tm(n,i){return i.max===i.min?0:n/(i.max-i.min)*100}const Ra={correct:(n,i)=>{if(!i.target)return n;if(typeof n=="string")if(fe.test(n))n=parseFloat(n);else return n;const a=Tm(n,i.target.x),l=Tm(n,i.target.y);return`${a}% ${l}%`}},zv={correct:(n,{treeScale:i,projectionDelta:a})=>{const l=n,c=Gi.parse(n);if(c.length>5)return l;const u=Gi.createTransformer(n),p=typeof c[0]!="number"?1:0,m=a.x.scale*i.x,f=a.y.scale*i.y;c[0+p]/=m,c[1+p]/=f;const g=Qe(m,f,.5);return typeof c[2+p]=="number"&&(c[2+p]/=g),typeof c[3+p]=="number"&&(c[3+p]/=g),u(c)}},Nd={borderRadius:{...Ra,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomLeftRadius:Ra,borderBottomRightRadius:Ra,boxShadow:zv};function Fg(n,{layout:i,layoutId:a}){return Tr.has(n)||n.startsWith("origin")||(i||a!==void 0)&&(!!Nd[n]||n==="opacity")}function rp(n,i,a){const l=n.style,c=i?.style,u={};if(!l)return u;for(const p in l)(Rt(l[p])||c&&Rt(c[p])||Fg(p,n)||a?.getValue(p)?.liveStyle!==void 0)&&(u[p]=l[p]);return u}function Dv(n){return window.getComputedStyle(n)}class Fv extends Eg{constructor(){super(...arguments),this.type="html",this.renderInstance=Dg}readValueFromInstance(i,a){if(Tr.has(a))return this.projection?.isProjecting?pd(a):hx(i,a);{const l=Dv(i),c=(Xf(a)?l.getPropertyValue(a):l[a])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(i,{transformPagePoint:a}){return zg(i,a)}build(i,a,l){op(i,a,l.transformTemplate)}scrapeMotionValuesFromProps(i,a,l){return rp(i,a,l)}}const Bv={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vv={offset:"strokeDashoffset",array:"strokeDasharray"};function Ov(n,i,a=1,l=0,c=!0){n.pathLength=1;const u=c?Bv:Vv;n[u.offset]=`${-l}`,n[u.array]=`${i} ${a}`}const $v=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Bg(n,{attrX:i,attrY:a,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:p=0,...m},f,g,y){if(op(n,m,g),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:k}=n;v.transform&&(k.transform=v.transform,delete v.transform),(k.transform||v.transformOrigin)&&(k.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),k.transform&&(k.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const N of $v)v[N]!==void 0&&(k[N]=v[N],delete v[N]);i!==void 0&&(v.x=i),a!==void 0&&(v.y=a),l!==void 0&&(v.scale=l),c!==void 0&&Ov(v,c,u,p,!1)}const Vg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Og=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _v(n,i,a,l){Dg(n,i,void 0,l);for(const c in i.attrs)n.setAttribute(Vg.has(c)?c:Jd(c),i.attrs[c])}function $g(n,i,a){const l=rp(n,i,a);for(const c in n)if(Rt(n[c])||Rt(i[c])){const u=Nr.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;l[u]=n[c]}return l}class Uv extends Eg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(i,a){return i[a]}readValueFromInstance(i,a){if(Tr.has(a)){const l=wg(a);return l&&l.default||0}return a=Vg.has(a)?a:Jd(a),i.getAttribute(a)}scrapeMotionValuesFromProps(i,a,l){return $g(i,a,l)}build(i,a,l){Bg(i,a,this.isSVGTag,l.transformTemplate,l.style)}renderInstance(i,a,l,c){_v(i,a,l,c)}mount(i){this.isSVGTag=Og(i.tagName),super.mount(i)}}const qv=ip.length;function _g(n){if(!n)return;if(!n.isControllingVariants){const a=n.parent?_g(n.parent)||{}:{};return n.props.initial!==void 0&&(a.initial=n.props.initial),a}const i={};for(let a=0;a<qv;a++){const l=ip[a],c=n.props[l];(_a(c)||c===!1)&&(i[l]=c)}return i}function Ug(n,i){if(!Array.isArray(i))return!1;const a=i.length;if(a!==n.length)return!1;for(let l=0;l<a;l++)if(i[l]!==n[l])return!1;return!0}const Hv=[...np].reverse(),Wv=np.length;function Gv(n){return i=>Promise.all(i.map(({animation:a,options:l})=>nv(n,a,l)))}function Yv(n){let i=Gv(n),a=Mm(),l=!0;const c=f=>(g,y)=>{const v=Sr(n,y,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:k,transitionEnd:N,...L}=v;g={...g,...L,...N}}return g};function u(f){i=f(n)}function p(f){const{props:g}=n,y=_g(n.parent)||{},v=[],k=new Set;let N={},L=1/0;for(let C=0;C<Wv;C++){const R=Hv[C],A=a[R],S=g[R]!==void 0?g[R]:y[R],I=_a(S),M=R===f?A.isActive:null;M===!1&&(L=C);let V=S===y[R]&&S!==g[R]&&I;if(V&&l&&n.manuallyAnimateOnMount&&(V=!1),A.protectedKeys={...N},!A.isActive&&M===null||!S&&!A.prevProp||tc(S)||typeof S=="boolean")continue;const z=Xv(A.prevProp,S);let O=z||R===f&&A.isActive&&!V&&I||C>L&&I,U=!1;const W=Array.isArray(S)?S:[S];let ce=W.reduce(c(R),{});M===!1&&(ce={});const{prevResolvedValues:X={}}=A,ae={...X,...ce},ee=_=>{O=!0,k.has(_)&&(U=!0,k.delete(_)),A.needsAnimating[_]=!0;const Q=n.getValue(_);Q&&(Q.liveStyle=!1)};for(const _ in ae){const Q=ce[_],Y=X[_];if(N.hasOwnProperty(_))continue;let J=!1;xd(Q)&&xd(Y)?J=!Ug(Q,Y):J=Q!==Y,J?Q!=null?ee(_):k.add(_):Q!==void 0&&k.has(_)?ee(_):A.protectedKeys[_]=!0}A.prevProp=S,A.prevResolvedValues=ce,A.isActive&&(N={...N,...ce}),l&&n.blockInitialAnimation&&(O=!1);const le=V&&z;O&&(!le||U)&&v.push(...W.map(_=>{const Q={type:R};if(typeof _=="string"&&l&&!le&&n.manuallyAnimateOnMount&&n.parent){const{parent:Y}=n,J=Sr(Y,_);if(Y.enteringChildren&&J){const{delayChildren:B}=J.transition||{};Q.delay=pg(Y.enteringChildren,n,B)}}return{animation:_,options:Q}}))}if(k.size){const C={};if(typeof g.initial!="boolean"){const R=Sr(n,Array.isArray(g.initial)?g.initial[0]:g.initial);R&&R.transition&&(C.transition=R.transition)}k.forEach(R=>{const A=n.getBaseTarget(R),S=n.getValue(R);S&&(S.liveStyle=!0),C[R]=A??null}),v.push({animation:C})}let j=!!v.length;return l&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),l=!1,j?i(v):Promise.resolve()}function m(f,g){if(a[f].isActive===g)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,g)),a[f].isActive=g;const y=p(f);for(const v in a)a[v].protectedKeys={};return y}return{animateChanges:p,setActive:m,setAnimateFunction:u,getState:()=>a,reset:()=>{a=Mm()}}}function Xv(n,i){return typeof i=="string"?i!==n:Array.isArray(i)?!Ug(i,n):!1}function Co(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mm(){return{animate:Co(!0),whileInView:Co(),whileHover:Co(),whileTap:Co(),whileDrag:Co(),whileFocus:Co(),exit:Co()}}function Pm(n,i){n.min=i.min,n.max=i.max}function Mn(n,i){Pm(n.x,i.x),Pm(n.y,i.y)}function Rm(n,i){n.translate=i.translate,n.scale=i.scale,n.originPoint=i.originPoint,n.origin=i.origin}const qg=1e-4,Kv=1-qg,Qv=1+qg,Hg=.01,Jv=0-Hg,Zv=0+Hg;function zt(n){return n.max-n.min}function e1(n,i,a){return Math.abs(n-i)<=a}function Em(n,i,a,l=.5){n.origin=l,n.originPoint=Qe(i.min,i.max,n.origin),n.scale=zt(a)/zt(i),n.translate=Qe(a.min,a.max,n.origin)-n.originPoint,(n.scale>=Kv&&n.scale<=Qv||isNaN(n.scale))&&(n.scale=1),(n.translate>=Jv&&n.translate<=Zv||isNaN(n.translate))&&(n.translate=0)}function Fa(n,i,a,l){Em(n.x,i.x,a.x,l?l.originX:void 0),Em(n.y,i.y,a.y,l?l.originY:void 0)}function Am(n,i,a){n.min=a.min+i.min,n.max=n.min+zt(i)}function t1(n,i,a){Am(n.x,i.x,a.x),Am(n.y,i.y,a.y)}function Lm(n,i,a){n.min=i.min-a.min,n.max=n.min+zt(i)}function Ql(n,i,a){Lm(n.x,i.x,a.x),Lm(n.y,i.y,a.y)}function Im(n,i,a,l,c){return n-=i,n=Kl(n,1/a,l),c!==void 0&&(n=Kl(n,1/c,l)),n}function n1(n,i=0,a=1,l=.5,c,u=n,p=n){if(qn.test(i)&&(i=parseFloat(i),i=Qe(p.min,p.max,i/100)-p.min),typeof i!="number")return;let m=Qe(u.min,u.max,l);n===u&&(m-=i),n.min=Im(n.min,i,a,m,c),n.max=Im(n.max,i,a,m,c)}function zm(n,i,[a,l,c],u,p){n1(n,i[a],i[l],i[c],i.scale,u,p)}const i1=["x","scaleX","originX"],o1=["y","scaleY","originY"];function Dm(n,i,a,l){zm(n.x,i,i1,a?a.x:void 0,l?l.x:void 0),zm(n.y,i,o1,a?a.y:void 0,l?l.y:void 0)}function Fm(n){return n.translate===0&&n.scale===1}function Wg(n){return Fm(n.x)&&Fm(n.y)}function Bm(n,i){return n.min===i.min&&n.max===i.max}function r1(n,i){return Bm(n.x,i.x)&&Bm(n.y,i.y)}function Vm(n,i){return Math.round(n.min)===Math.round(i.min)&&Math.round(n.max)===Math.round(i.max)}function Gg(n,i){return Vm(n.x,i.x)&&Vm(n.y,i.y)}function Om(n){return zt(n.x)/zt(n.y)}function $m(n,i){return n.translate===i.translate&&n.scale===i.scale&&n.originPoint===i.originPoint}function hn(n){return[n("x"),n("y")]}function a1(n,i,a){let l="";const c=n.x.translate/i.x,u=n.y.translate/i.y,p=a?.z||0;if((c||u||p)&&(l=`translate3d(${c}px, ${u}px, ${p}px) `),(i.x!==1||i.y!==1)&&(l+=`scale(${1/i.x}, ${1/i.y}) `),a){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:k,skewX:N,skewY:L}=a;g&&(l=`perspective(${g}px) ${l}`),y&&(l+=`rotate(${y}deg) `),v&&(l+=`rotateX(${v}deg) `),k&&(l+=`rotateY(${k}deg) `),N&&(l+=`skewX(${N}deg) `),L&&(l+=`skewY(${L}deg) `)}const m=n.x.scale*i.x,f=n.y.scale*i.y;return(m!==1||f!==1)&&(l+=`scale(${m}, ${f})`),l||"none"}const Yg=["TopLeft","TopRight","BottomLeft","BottomRight"],s1=Yg.length,_m=n=>typeof n=="string"?parseFloat(n):n,Um=n=>typeof n=="number"||fe.test(n);function l1(n,i,a,l,c,u){c?(n.opacity=Qe(0,a.opacity??1,c1(l)),n.opacityExit=Qe(i.opacity??1,0,u1(l))):u&&(n.opacity=Qe(i.opacity??1,a.opacity??1,l));for(let p=0;p<s1;p++){const m=`border${Yg[p]}Radius`;let f=qm(i,m),g=qm(a,m);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Um(f)===Um(g)?(n[m]=Math.max(Qe(_m(f),_m(g),l),0),(qn.test(g)||qn.test(f))&&(n[m]+="%")):n[m]=g}(i.rotate||a.rotate)&&(n.rotate=Qe(i.rotate||0,a.rotate||0,l))}function qm(n,i){return n[i]!==void 0?n[i]:n.borderRadius}const c1=Xg(0,.5,Uf),u1=Xg(.5,.95,fn);function Xg(n,i,a){return l=>l<n?0:l>i?1:a(Va(n,i,l))}function d1(n,i,a){const l=Rt(n)?n:jr(n);return l.start(Kd("",l,i,a)),l.animation}function Ua(n,i,a,l={passive:!0}){return n.addEventListener(i,a,l),()=>n.removeEventListener(i,a)}const p1=(n,i)=>n.depth-i.depth;class h1{constructor(){this.children=[],this.isDirty=!1}add(i){Ld(this.children,i),this.isDirty=!0}remove(i){Id(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(p1),this.isDirty=!1,this.children.forEach(i)}}function m1(n,i){const a=It.now(),l=({timestamp:c})=>{const u=c-a;u>=i&&(Wi(l),n(u-i))};return qe.setup(l,!0),()=>Wi(l)}function ql(n){return Rt(n)?n.get():n}class f1{constructor(){this.members=[]}add(i){Ld(this.members,i),i.scheduleRender()}remove(i){if(Id(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(i){const a=this.members.findIndex(c=>i===c);if(a===0)return!1;let l;for(let c=a;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){l=u;break}}return l?(this.promote(l),!0):!1}promote(i,a){const l=this.lead;if(i!==l&&(this.prevLead=l,this.lead=i,i.show(),l)){l.instance&&l.scheduleRender(),i.scheduleRender();const c=l.options.layoutDependency,u=i.options.layoutDependency;c!==void 0&&u!==void 0&&c===u||(i.resumeFrom=l,a&&(i.resumeFrom.preserveOpacity=!0),l.snapshot&&(i.snapshot=l.snapshot,i.snapshot.latestValues=l.animationValues||l.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0));const{crossfade:m}=i.options;m===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:a,resumingFrom:l}=i;a.onExitComplete&&a.onExitComplete(),l&&l.options.onExitComplete&&l.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Hl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Wu=["","X","Y","Z"],g1=1e3;let y1=0;function Gu(n,i,a,l){const{latestValues:c}=i;c[n]&&(a[n]=c[n],i.setStaticValue(n,0),l&&(l[n]=0))}function Kg(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:i}=n.options;if(!i)return;const a=gg(i);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:c,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(a,"transform",qe,!(c||u))}const{parent:l}=n;l&&!l.hasCheckedOptimisedAppear&&Kg(l)}function Qg({attachResizeListener:n,defaultParent:i,measureScroll:a,checkIsScrollRoot:l,resetTransform:c}){return class{constructor(p={},m=i?.()){this.id=y1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w1),this.nodes.forEach(j1),this.nodes.forEach(C1),this.nodes.forEach(b1)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new h1)}addEventListener(p,m){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new Fd),this.eventHandlers.get(p).add(m)}notifyListeners(p,...m){const f=this.eventHandlers.get(p);f&&f.notify(...m)}hasListeners(p){return this.eventHandlers.has(p)}mount(p){if(this.instance)return;this.isSVG=Tg(p)&&!vv(p),this.instance=p;const{layoutId:m,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||m)&&(this.isLayoutDirty=!0),n){let y,v=0;const k=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{v=window.innerWidth}),n(p,()=>{const N=window.innerWidth;N!==v&&(v=N,this.root.updateBlockedByResize=!0,y&&y(),y=m1(k,250),Hl.hasAnimatedSinceResize&&(Hl.hasAnimatedSinceResize=!1,this.nodes.forEach(Gm)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:k,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||R1,{onLayoutAnimationStart:j,onLayoutAnimationComplete:C}=g.getProps(),R=!this.targetLayout||!Gg(this.targetLayout,N),A=!v&&k;if(this.options.layoutRoot||this.resumeFrom||A||v&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Xd(L,"layout"),onPlay:j,onComplete:C};(g.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(y,A)}else v||Gm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N1),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Kg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:m,layout:f}=this.options;if(m===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S1),this.nodes.forEach(x1),this.nodes.forEach(v1)):this.nodes.forEach(Wm),this.clearAllSnapshots();const m=It.now();St.delta=Hn(0,1e3/60,m-St.timestamp),St.timestamp=m,St.isProcessing=!0,Bu.update.process(St),Bu.preRender.process(St),Bu.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k1),this.sharedNodes.forEach(T1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zt(this.snapshot.measuredBox.x)&&!zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(m=!1),m&&this.instance){const f=l(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:f,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!c)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Wg(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;p&&this.instance&&(m||No(this.latestValues)||y)&&(c(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const m=this.measurePageBox();let f=this.removeElementScroll(m);return p&&(f=this.removeTransform(f)),E1(f),{animationId:this.root.animationId,measuredBox:m,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return pt();const m=p.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A1))){const{scroll:g}=this.root;g&&(wr(m.x,g.offset.x),wr(m.y,g.offset.y))}return m}removeElementScroll(p){const m=pt();if(Mn(m,p),this.scroll?.wasRoot)return m;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Mn(m,p),wr(m.x,y.offset.x),wr(m.y,y.offset.y))}return m}applyTransform(p,m=!1){const f=pt();Mn(f,p);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&br(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),No(y.latestValues)&&br(f,y.latestValues)}return No(this.latestValues)&&br(f,this.latestValues),f}removeTransform(p){const m=pt();Mn(m,p);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!No(g.latestValues))continue;jd(g.latestValues)&&g.updateSnapshot();const y=pt(),v=g.measurePageBox();Mn(y,v),Dm(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return No(this.latestValues)&&Dm(m,this.latestValues),m}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==m;if(!(p||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=St.timestamp;const k=this.getClosestProjectingParent();k&&this.linkedParentVersion!==k.layoutVersion&&!k.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(k&&k.layout?this.createRelativeTarget(k,this.layout.layoutBox,k.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),Ig(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,k&&!!k.resumingFrom==!!this.resumingFrom&&!k.options.layoutScroll&&k.target&&this.animationProgress!==1?this.createRelativeTarget(k,this.target,k.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jd(this.parent.latestValues)||Lg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(p,m,f){this.relativeParent=p,this.linkedParentVersion=p.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Ql(this.relativeTargetOrigin,m,f),Mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const p=this.getLead(),m=!!this.resumingFrom||this!==p;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===St.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Mn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,k=this.treeScale.y;Rv(this.layoutCorrected,this.treeScale,this.path,m),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=pt());const{target:N}=p;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rm(this.prevProjectionDelta.x,this.projectionDelta.x),Rm(this.prevProjectionDelta.y,this.projectionDelta.y)),Fa(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==k||!$m(this.projectionDelta.x,this.prevProjectionDelta.x)||!$m(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.visualElement?.scheduleRender(),p){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vr(),this.projectionDelta=vr(),this.projectionDeltaWithTransform=vr()}setAnimationOrigin(p,m=!1){const f=this.snapshot,g=f?f.latestValues:{},y={...this.latestValues},v=vr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const k=pt(),N=f?f.source:void 0,L=this.layout?this.layout.source:void 0,j=N!==L,C=this.getStack(),R=!C||C.members.length<=1,A=!!(j&&!R&&this.options.crossfade===!0&&!this.path.some(P1));this.animationProgress=0;let S;this.mixTargetDelta=I=>{const M=I/1e3;Ym(v.x,p.x,M),Ym(v.y,p.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ql(k,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M1(this.relativeTarget,this.relativeTargetOrigin,k,M),S&&r1(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=pt()),Mn(S,this.relativeTarget)),j&&(this.animationValues=y,l1(y,g,this.latestValues,M,A,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Hl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jr(0)),this.currentAnimation=d1(this.motionValue,[0,1e3],{...p,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),p.onUpdate&&p.onUpdate(m)},onStop:()=>{},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:m,target:f,layout:g,latestValues:y}=p;if(!(!m||!f||!g)){if(this!==p&&this.layout&&g&&Jg(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||pt();const v=zt(this.layout.layoutBox.x);f.x.min=p.target.x.min,f.x.max=f.x.min+v;const k=zt(this.layout.layoutBox.y);f.y.min=p.target.y.min,f.y.max=f.y.min+k}Mn(m,f),br(m,y),Fa(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(p,m){this.sharedNodes.has(p)||this.sharedNodes.set(p,new f1),this.sharedNodes.get(p).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){const{layoutId:p}=this.options;return p?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:p}=this.options;return p?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:m,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),p&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let m=!1;const{latestValues:f}=p;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(m=!0),!m)return;const g={};f.z&&Gu("z",p,g,this.animationValues);for(let y=0;y<Wu.length;y++)Gu(`rotate${Wu[y]}`,p,g,this.animationValues),Gu(`skew${Wu[y]}`,p,g,this.animationValues);p.render();for(const y in g)p.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);p.scheduleRender()}applyProjectionStyles(p,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){p.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,p.visibility="",p.opacity="",p.pointerEvents=ql(m?.pointerEvents)||"",p.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=ql(m?.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(p.transform=f?f({},""):"none",this.hasProjected=!1);return}p.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=a1(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),p.transform=v;const{x:k,y:N}=this.projectionDelta;p.transformOrigin=`${k.origin*100}% ${N.origin*100}% 0`,g.animationValues?p.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:p.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const L in Nd){if(y[L]===void 0)continue;const{correct:j,applyTo:C,isCSSVariable:R}=Nd[L],A=v==="none"?y[L]:j(y[L],g);if(C){const S=C.length;for(let I=0;I<S;I++)p[C[I]]=A}else R?this.options.visualElement.renderState.vars[L]=A:p[L]=A}this.options.layoutId&&(p.pointerEvents=g===this?ql(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>p.currentAnimation?.stop()),this.root.nodes.forEach(Hm),this.root.sharedNodes.clear()}}}function x1(n){n.updateLayout()}function v1(n){const i=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:l}=n.layout,{animationType:c}=n.options,u=i.source!==n.layout.source;c==="size"?hn(y=>{const v=u?i.measuredBox[y]:i.layoutBox[y],k=zt(v);v.min=a[y].min,v.max=v.min+k}):Jg(c,i.layoutBox,a)&&hn(y=>{const v=u?i.measuredBox[y]:i.layoutBox[y],k=zt(a[y]);v.max=v.min+k,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+k)});const p=vr();Fa(p,a,i.layoutBox);const m=vr();u?Fa(m,n.applyTransform(l,!0),i.measuredBox):Fa(m,a,i.layoutBox);const f=!Wg(p);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:k}=y;if(v&&k){const N=pt();Ql(N,i.layoutBox,v.layoutBox);const L=pt();Ql(L,a,k.layoutBox),Gg(N,L)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=N,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:m,layoutDelta:p,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function w1(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function b1(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function k1(n){n.clearSnapshot()}function Hm(n){n.clearMeasurements()}function Wm(n){n.isLayoutDirty=!1}function S1(n){const{visualElement:i}=n.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),n.resetTransform()}function Gm(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function j1(n){n.resolveTargetDelta()}function C1(n){n.calcProjection()}function N1(n){n.resetSkewAndRotation()}function T1(n){n.removeLeadSnapshot()}function Ym(n,i,a){n.translate=Qe(i.translate,0,a),n.scale=Qe(i.scale,1,a),n.origin=i.origin,n.originPoint=i.originPoint}function Xm(n,i,a,l){n.min=Qe(i.min,a.min,l),n.max=Qe(i.max,a.max,l)}function M1(n,i,a,l){Xm(n.x,i.x,a.x,l),Xm(n.y,i.y,a.y,l)}function P1(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const R1={duration:.45,ease:[.4,0,.1,1]},Km=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Qm=Km("applewebkit/")&&!Km("chrome/")?Math.round:fn;function Jm(n){n.min=Qm(n.min),n.max=Qm(n.max)}function E1(n){Jm(n.x),Jm(n.y)}function Jg(n,i,a){return n==="position"||n==="preserve-aspect"&&!e1(Om(i),Om(a),.2)}function A1(n){return n!==n.root&&n.scroll?.wasRoot}const L1=Qg({attachResizeListener:(n,i)=>Ua(n,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Yu={current:void 0},Zg=Qg({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Yu.current){const n=new L1({});n.mount(window),n.setOptions({layoutScroll:!0}),Yu.current=n}return Yu.current},resetTransform:(n,i)=>{n.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ap=x.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Zm(n,i){if(typeof n=="function")return n(i);n!=null&&(n.current=i)}function I1(...n){return i=>{let a=!1;const l=n.map(c=>{const u=Zm(c,i);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let c=0;c<l.length;c++){const u=l[c];typeof u=="function"?u():Zm(n[c],null)}}}}function z1(...n){return x.useCallback(I1(...n),n)}class D1 extends x.Component{getSnapshotBeforeUpdate(i){const a=this.props.childRef.current;if(a&&i.isPresent&&!this.props.isPresent){const l=a.offsetParent,c=kd(l)&&l.offsetWidth||0,u=kd(l)&&l.offsetHeight||0,p=this.props.sizeRef.current;p.height=a.offsetHeight||0,p.width=a.offsetWidth||0,p.top=a.offsetTop,p.left=a.offsetLeft,p.right=c-p.width-p.left,p.bottom=u-p.height-p.top}return null}componentDidUpdate(){}render(){return this.props.children}}function F1({children:n,isPresent:i,anchorX:a,anchorY:l,root:c}){const u=x.useId(),p=x.useRef(null),m=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=x.useContext(ap),g=n.props?.ref??n?.ref,y=z1(p,g);return x.useInsertionEffect(()=>{const{width:v,height:k,top:N,left:L,right:j,bottom:C}=m.current;if(i||!p.current||!v||!k)return;const R=a==="left"?`left: ${L}`:`right: ${j}`,A=l==="bottom"?`bottom: ${C}`:`top: ${N}`;p.current.dataset.motionPopId=u;const S=document.createElement("style");f&&(S.nonce=f);const I=c??document.head;return I.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${k}px !important;
            ${R}px !important;
            ${A}px !important;
          }
        `),()=>{I.contains(S)&&I.removeChild(S)}},[i]),r.jsx(D1,{isPresent:i,childRef:p,sizeRef:m,children:x.cloneElement(n,{ref:y})})}const B1=({children:n,initial:i,isPresent:a,onExitComplete:l,custom:c,presenceAffectsLayout:u,mode:p,anchorX:m,anchorY:f,root:g})=>{const y=Ad(V1),v=x.useId();let k=!0,N=x.useMemo(()=>(k=!1,{id:v,initial:i,isPresent:a,custom:c,onExitComplete:L=>{y.set(L,!0);for(const j of y.values())if(!j)return;l&&l()},register:L=>(y.set(L,!1),()=>y.delete(L))}),[a,y,l]);return u&&k&&(N={...N}),x.useMemo(()=>{y.forEach((L,j)=>y.set(j,!1))},[a]),x.useEffect(()=>{!a&&!y.size&&l&&l()},[a]),p==="popLayout"&&(n=r.jsx(F1,{isPresent:a,anchorX:m,anchorY:f,root:g,children:n})),r.jsx(ec.Provider,{value:N,children:n})};function V1(){return new Map}function e0(n=!0){const i=x.useContext(ec);if(i===null)return[!0,null];const{isPresent:a,onExitComplete:l,register:c}=i,u=x.useId();x.useEffect(()=>{if(n)return c(u)},[n]);const p=x.useCallback(()=>n&&l&&l(u),[u,l,n]);return!a&&l?[!1,p]:[!0]}const zl=n=>n.key||"";function ef(n){const i=[];return x.Children.forEach(n,a=>{x.isValidElement(a)&&i.push(a)}),i}const Ne=({children:n,custom:i,initial:a=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync",propagate:p=!1,anchorX:m="left",anchorY:f="top",root:g})=>{const[y,v]=e0(p),k=x.useMemo(()=>ef(n),[n]),N=p&&!y?[]:k.map(zl),L=x.useRef(!0),j=x.useRef(k),C=Ad(()=>new Map),R=x.useRef(new Set),[A,S]=x.useState(k),[I,M]=x.useState(k);Af(()=>{L.current=!1,j.current=k;for(let O=0;O<I.length;O++){const U=zl(I[O]);N.includes(U)?(C.delete(U),R.current.delete(U)):C.get(U)!==!0&&C.set(U,!1)}},[I,N.length,N.join("-")]);const V=[];if(k!==A){let O=[...k];for(let U=0;U<I.length;U++){const W=I[U],ce=zl(W);N.includes(ce)||(O.splice(U,0,W),V.push(W))}return u==="wait"&&V.length&&(O=V),M(ef(O)),S(k),null}const{forceRender:z}=x.useContext(Ed);return r.jsx(r.Fragment,{children:I.map(O=>{const U=zl(O),W=p&&!y?!1:k===I||N.includes(U),ce=()=>{if(R.current.has(U))return;if(R.current.add(U),C.has(U))C.set(U,!0);else return;let X=!0;C.forEach(ae=>{ae||(X=!1)}),X&&(z?.(),M(j.current),p&&v?.(),l&&l())};return r.jsx(B1,{isPresent:W,initial:!L.current||a?void 0:!1,custom:i,presenceAffectsLayout:c,mode:u,root:g,onExitComplete:W?void 0:ce,anchorX:m,anchorY:f,children:O},U)})})},t0=x.createContext({strict:!1}),tf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let nf=!1;function O1(){if(nf)return;const n={};for(const i in tf)n[i]={isEnabled:a=>tf[i].some(l=>!!a[l])};Rg(n),nf=!0}function n0(){return O1(),Nv()}function $1(n){const i=n0();for(const a in n)i[a]={...i[a],...n[a]};Rg(i)}const _1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jl(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_1.has(n)}let i0=n=>!Jl(n);function U1(n){typeof n=="function"&&(i0=i=>i.startsWith("on")?!Jl(i):n(i))}try{U1(require("@emotion/is-prop-valid").default)}catch{}function q1(n,i,a){const l={};for(const c in n)c==="values"&&typeof n.values=="object"||(i0(c)||a===!0&&Jl(c)||!i&&!Jl(c)||n.draggable&&c.startsWith("onDrag"))&&(l[c]=n[c]);return l}const ic=x.createContext({});function H1(n,i){if(nc(n)){const{initial:a,animate:l}=n;return{initial:a===!1||_a(a)?a:void 0,animate:_a(l)?l:void 0}}return n.inherit!==!1?i:{}}function W1(n){const{initial:i,animate:a}=H1(n,x.useContext(ic));return x.useMemo(()=>({initial:i,animate:a}),[of(i),of(a)])}function of(n){return Array.isArray(n)?n.join(" "):n}const sp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o0(n,i,a){for(const l in i)!Rt(i[l])&&!Fg(l,a)&&(n[l]=i[l])}function G1({transformTemplate:n},i){return x.useMemo(()=>{const a=sp();return op(a,i,n),Object.assign({},a.vars,a.style)},[i])}function Y1(n,i){const a=n.style||{},l={};return o0(l,a,n),Object.assign(l,G1(n,i)),l}function X1(n,i){const a={},l=Y1(n,i);return n.drag&&n.dragListener!==!1&&(a.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(a.tabIndex=0),a.style=l,a}const r0=()=>({...sp(),attrs:{}});function K1(n,i,a,l){const c=x.useMemo(()=>{const u=r0();return Bg(u,i,Og(l),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[i]);if(n.style){const u={};o0(u,n.style,n),c.style={...u,...c.style}}return c}const Q1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lp(n){return typeof n!="string"||n.includes("-")?!1:!!(Q1.indexOf(n)>-1||/[A-Z]/u.test(n))}function J1(n,i,a,{latestValues:l},c,u=!1,p){const f=(p??lp(n)?K1:X1)(i,l,c,n),g=q1(i,typeof n=="string",u),y=n!==x.Fragment?{...g,...f,ref:a}:{},{children:v}=i,k=x.useMemo(()=>Rt(v)?v.get():v,[v]);return x.createElement(n,{...y,children:k})}function Z1({scrapeMotionValuesFromProps:n,createRenderState:i},a,l,c){return{latestValues:ew(a,l,c,n),renderState:i()}}function ew(n,i,a,l){const c={},u=l(n,{});for(const k in u)c[k]=ql(u[k]);let{initial:p,animate:m}=n;const f=nc(n),g=Pg(n);i&&g&&!f&&n.inherit!==!1&&(p===void 0&&(p=i.initial),m===void 0&&(m=i.animate));let y=a?a.initial===!1:!1;y=y||p===!1;const v=y?m:p;if(v&&typeof v!="boolean"&&!tc(v)){const k=Array.isArray(v)?v:[v];for(let N=0;N<k.length;N++){const L=Qd(n,k[N]);if(L){const{transitionEnd:j,transition:C,...R}=L;for(const A in R){let S=R[A];if(Array.isArray(S)){const I=y?S.length-1:0;S=S[I]}S!==null&&(c[A]=S)}for(const A in j)c[A]=j[A]}}}return c}const a0=n=>(i,a)=>{const l=x.useContext(ic),c=x.useContext(ec),u=()=>Z1(n,i,l,c);return a?u():Ad(u)},tw=a0({scrapeMotionValuesFromProps:rp,createRenderState:sp}),nw=a0({scrapeMotionValuesFromProps:$g,createRenderState:r0}),iw=Symbol.for("motionComponentSymbol");function ow(n,i,a){const l=x.useRef(a);x.useInsertionEffect(()=>{l.current=a});const c=x.useRef(null);return x.useCallback(u=>{u&&n.onMount?.(u),i&&(u?i.mount(u):i.unmount());const p=l.current;if(typeof p=="function")if(u){const m=p(u);typeof m=="function"&&(c.current=m)}else c.current?(c.current(),c.current=null):p(u);else p&&(p.current=u)},[i])}const s0=x.createContext({});function La(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function rw(n,i,a,l,c,u){const{visualElement:p}=x.useContext(ic),m=x.useContext(t0),f=x.useContext(ec),g=x.useContext(ap).reducedMotion,y=x.useRef(null),v=x.useRef(!1);l=l||m.renderer,!y.current&&l&&(y.current=l(n,{visualState:i,parent:p,props:a,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g,isSVG:u}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const k=y.current,N=x.useContext(s0);k&&!k.projection&&c&&(k.type==="html"||k.type==="svg")&&aw(y.current,a,c,N);const L=x.useRef(!1);x.useInsertionEffect(()=>{k&&L.current&&k.update(a,f)});const j=a[fg],C=x.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return Af(()=>{v.current=!0,k&&(L.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),k.scheduleRenderMicrotask(),C.current&&k.animationState&&k.animationState.animateChanges())}),x.useEffect(()=>{k&&(!C.current&&k.animationState&&k.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),C.current=!1),k.enteringChildren=void 0)}),k}function aw(n,i,a,l){const{layoutId:c,layout:u,drag:p,dragConstraints:m,layoutScroll:f,layoutRoot:g,layoutCrossfade:y}=i;n.projection=new a(n.latestValues,i["data-framer-portal-id"]?void 0:l0(n.parent)),n.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!p||m&&La(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:l,crossfade:y,layoutScroll:f,layoutRoot:g})}function l0(n){if(n)return n.options.allowProjection!==!1?n.projection:l0(n.parent)}function Xu(n,{forwardMotionProps:i=!1,type:a}={},l,c){l&&$1(l);const u=a?a==="svg":lp(n),p=u?nw:tw;function m(g,y){let v;const k={...x.useContext(ap),...g,layoutId:sw(g)},{isStatic:N}=k,L=W1(g),j=p(g,N);if(!N&&Ef){lw();const C=cw(k);v=C.MeasureLayout,L.visualElement=rw(n,j,k,c,C.ProjectionNode,u)}return r.jsxs(ic.Provider,{value:L,children:[v&&L.visualElement?r.jsx(v,{visualElement:L.visualElement,...k}):null,J1(n,g,ow(j,L.visualElement,y),j,N,i,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const f=x.forwardRef(m);return f[iw]=n,f}function sw({layoutId:n}){const i=x.useContext(Ed).id;return i&&n!==void 0?i+"-"+n:n}function lw(n,i){x.useContext(t0).strict}function cw(n){const i=n0(),{drag:a,layout:l}=i;if(!a&&!l)return{};const c={...a,...l};return{MeasureLayout:a?.isEnabled(n)||l?.isEnabled(n)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}function uw(n,i){if(typeof Proxy>"u")return Xu;const a=new Map,l=(u,p)=>Xu(u,p,n,i),c=(u,p)=>l(u,p);return new Proxy(c,{get:(u,p)=>p==="create"?l:(a.has(p)||a.set(p,Xu(p,void 0,n,i)),a.get(p))})}const dw=(n,i)=>i.isSVG??lp(n)?new Uv(i):new Fv(i,{allowProjection:n!==x.Fragment});class pw extends Yi{constructor(i){super(i),i.animationState||(i.animationState=Yv(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();tc(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:a}=this.node.prevProps||{};i!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let hw=0;class mw extends Yi{constructor(){super(...arguments),this.id=hw++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:a}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===l)return;const c=this.node.animationState.setActive("exit",!i);a&&!i&&c.then(()=>{a(this.id)})}mount(){const{register:i,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const fw={animation:{Feature:pw},exit:{Feature:mw}};function Ga(n){return{point:{x:n.pageX,y:n.pageY}}}const gw=n=>i=>tp(i)&&n(i,Ga(i));function Ba(n,i,a,l){return Ua(n,i,gw(a),l)}const c0=({current:n})=>n?n.ownerDocument.defaultView:null,rf=(n,i)=>Math.abs(n-i);function yw(n,i){const a=rf(n.x,i.x),l=rf(n.y,i.y);return Math.sqrt(a**2+l**2)}const af=new Set(["auto","scroll"]);class u0{constructor(i,a,{transformPagePoint:l,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:p=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=N=>{this.handleScroll(N.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Qu(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,j=yw(N.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!j)return;const{point:C}=N,{timestamp:R}=St;this.history.push({...C,timestamp:R});const{onStart:A,onMove:S}=this.handlers;L||(A&&A(this.lastMoveEvent,N),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,N)},this.handlePointerMove=(N,L)=>{this.lastMoveEvent=N,this.lastMoveEventInfo=Ku(L,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(N,L)=>{this.end();const{onEnd:j,onSessionEnd:C,resumeAnimation:R}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qu(N.type==="pointercancel"?this.lastMoveEventInfo:Ku(L,this.transformPagePoint),this.history);this.startEvent&&j&&j(N,A),C&&C(N,A)},!tp(i))return;this.dragSnapToOrigin=u,this.handlers=a,this.transformPagePoint=l,this.distanceThreshold=p,this.contextWindow=c||window;const f=Ga(i),g=Ku(f,this.transformPagePoint),{point:y}=g,{timestamp:v}=St;this.history=[{...y,timestamp:v}];const{onSessionStart:k}=a;k&&k(i,Qu(g,this.history)),this.removeListeners=qa(Ba(this.contextWindow,"pointermove",this.handlePointerMove),Ba(this.contextWindow,"pointerup",this.handlePointerUp),Ba(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(i){let a=i.parentElement;for(;a;){const l=getComputedStyle(a);(af.has(l.overflowX)||af.has(l.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(i){const a=this.scrollPositions.get(i);if(!a)return;const l=i===window,c=l?{x:window.scrollX,y:window.scrollY}:{x:i.scrollLeft,y:i.scrollTop},u={x:c.x-a.x,y:c.y-a.y};u.x===0&&u.y===0||(l?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(i,c),qe.update(this.updatePoint,!0))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Wi(this.updatePoint)}}function Ku(n,i){return i?{point:i(n.point)}:n}function sf(n,i){return{x:n.x-i.x,y:n.y-i.y}}function Qu({point:n},i){return{point:n,delta:sf(n,d0(i)),offset:sf(n,xw(i)),velocity:vw(i,.1)}}function xw(n){return n[0]}function d0(n){return n[n.length-1]}function vw(n,i){if(n.length<2)return{x:0,y:0};let a=n.length-1,l=null;const c=d0(n);for(;a>=0&&(l=n[a],!(c.timestamp-l.timestamp>di(i)));)a--;if(!l)return{x:0,y:0};const u=mn(c.timestamp-l.timestamp);if(u===0)return{x:0,y:0};const p={x:(c.x-l.x)/u,y:(c.y-l.y)/u};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function ww(n,{min:i,max:a},l){return i!==void 0&&n<i?n=l?Qe(i,n,l.min):Math.max(n,i):a!==void 0&&n>a&&(n=l?Qe(a,n,l.max):Math.min(n,a)),n}function lf(n,i,a){return{min:i!==void 0?n.min+i:void 0,max:a!==void 0?n.max+a-(n.max-n.min):void 0}}function bw(n,{top:i,left:a,bottom:l,right:c}){return{x:lf(n.x,a,c),y:lf(n.y,i,l)}}function cf(n,i){let a=i.min-n.min,l=i.max-n.max;return i.max-i.min<n.max-n.min&&([a,l]=[l,a]),{min:a,max:l}}function kw(n,i){return{x:cf(n.x,i.x),y:cf(n.y,i.y)}}function Sw(n,i){let a=.5;const l=zt(n),c=zt(i);return c>l?a=Va(i.min,i.max-l,n.min):l>c&&(a=Va(n.min,n.max-c,i.min)),Hn(0,1,a)}function jw(n,i){const a={};return i.min!==void 0&&(a.min=i.min-n.min),i.max!==void 0&&(a.max=i.max-n.min),a}const Td=.35;function Cw(n=Td){return n===!1?n=0:n===!0&&(n=Td),{x:uf(n,"left","right"),y:uf(n,"top","bottom")}}function uf(n,i,a){return{min:df(n,i),max:df(n,a)}}function df(n,i){return typeof n=="number"?n:n[i]||0}const Nw=new WeakMap;class Tw{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:a=!1,distanceThreshold:l}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=v=>{a?(this.stopAnimation(),this.snapToCursor(Ga(v).point)):this.pauseAnimation()},p=(v,k)=>{this.stopAnimation();const{drag:N,dragPropagation:L,onDragStart:j}=this.getProps();if(N&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mv(N),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=k,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(R=>{let A=this.getAxisMotionValue(R).get()||0;if(qn.test(A)){const{projection:S}=this.visualElement;if(S&&S.layout){const I=S.layout.layoutBox[R];I&&(A=zt(I)*(parseFloat(A)/100))}}this.originPoint[R]=A}),j&&qe.postRender(()=>j(v,k)),vd(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},m=(v,k)=>{this.latestPointerEvent=v,this.latestPanInfo=k;const{dragPropagation:N,dragDirectionLock:L,onDirectionLock:j,onDrag:C}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:R}=k;if(L&&this.currentDirection===null){this.currentDirection=Mw(R),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",k.point,R),this.updateAxis("y",k.point,R),this.visualElement.render(),C&&C(v,k)},f=(v,k)=>{this.latestPointerEvent=v,this.latestPanInfo=k,this.stop(v,k),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>hn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new u0(i,{onSessionStart:u,onStart:p,onMove:m,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:l,contextWindow:c0(this.visualElement),element:this.visualElement.current})}stop(i,a){const l=i||this.latestPointerEvent,c=a||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!l)return;const{velocity:p}=c;this.startAnimation(p);const{onDragEnd:m}=this.getProps();m&&qe.postRender(()=>m(l,c))}cancel(){this.isDragging=!1;const{projection:i,animationState:a}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:l}=this.getProps();!l&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(i,a,l){const{drag:c}=this.getProps();if(!l||!Dl(i,c,this.currentDirection))return;const u=this.getAxisMotionValue(i);let p=this.originPoint[i]+l[i];this.constraints&&this.constraints[i]&&(p=ww(p,this.constraints[i],this.elastic[i])),u.set(p)}resolveConstraints(){const{dragConstraints:i,dragElastic:a}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;i&&La(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&l?this.constraints=bw(l.layoutBox,i):this.constraints=!1,this.elastic=Cw(a),c!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=jw(l.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:a}=this.getProps();if(!i||!La(i))return!1;const l=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=Ev(l,c.root,this.visualElement.getTransformPagePoint());let p=kw(c.layout.layoutBox,u);if(a){const m=a(Mv(p));this.hasMutatedConstraints=!!m,m&&(p=Ag(m))}return p}startAnimation(i){const{drag:a,dragMomentum:l,dragElastic:c,dragTransition:u,dragSnapToOrigin:p,onDragTransitionEnd:m}=this.getProps(),f=this.constraints||{},g=hn(y=>{if(!Dl(y,a,this.currentDirection))return;let v=f&&f[y]||{};p&&(v={min:0,max:0});const k=c?200:1e6,N=c?40:1e7,L={type:"inertia",velocity:l?i[y]:0,bounceStiffness:k,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,L)});return Promise.all(g).then(m)}startAxisValueAnimation(i,a){const l=this.getAxisMotionValue(i);return vd(this.visualElement,i),l.start(Kd(i,l,0,a,this.visualElement,!1))}stopAnimation(){hn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){hn(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const a=`_drag${i.toUpperCase()}`,l=this.visualElement.getProps(),c=l[a];return c||this.visualElement.getValue(i,(l.initial?l.initial[i]:void 0)||0)}snapToCursor(i){hn(a=>{const{drag:l}=this.getProps();if(!Dl(a,l,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(a);if(c&&c.layout){const{min:p,max:m}=c.layout.layoutBox[a],f=u.get()||0;u.set(i[a]-Qe(p,m,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:a}=this.getProps(),{projection:l}=this.visualElement;if(!La(a)||!l||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};hn(p=>{const m=this.getAxisMotionValue(p);if(m&&this.constraints!==!1){const f=m.get();c[p]=Sw({min:f,max:f},this.constraints[p])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",l.root&&l.root.updateScroll(),l.updateLayout(),this.resolveConstraints(),hn(p=>{if(!Dl(p,i,null))return;const m=this.getAxisMotionValue(p),{min:f,max:g}=this.constraints[p];m.set(Qe(f,g,c[p]))})}addListeners(){if(!this.visualElement.current)return;Nw.set(this.visualElement,this);const i=this.visualElement.current,a=Ba(i,"pointerdown",f=>{const{drag:g,dragListener:y=!0}=this.getProps(),v=f.target,k=v!==i&&Ng(v);g&&y&&!k&&this.start(f)}),l=()=>{const{dragConstraints:f}=this.getProps();La(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",l);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),qe.read(l);const p=Ua(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(hn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{p(),a(),u(),m&&m()}}getProps(){const i=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:l=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:p=Td,dragMomentum:m=!0}=i;return{...i,drag:a,dragDirectionLock:l,dragPropagation:c,dragConstraints:u,dragElastic:p,dragMomentum:m}}}function Dl(n,i,a){return(i===!0||i===n)&&(a===null||a===n)}function Mw(n,i=10){let a=null;return Math.abs(n.y)>i?a="y":Math.abs(n.x)>i&&(a="x"),a}class Pw extends Yi{constructor(i){super(i),this.removeGroupControls=fn,this.removeListeners=fn,this.controls=new Tw(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fn}update(){const{dragControls:i}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};i!==a&&(this.removeGroupControls(),i&&(this.removeGroupControls=i.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const pf=n=>(i,a)=>{n&&qe.postRender(()=>n(i,a))};class Rw extends Yi{constructor(){super(...arguments),this.removePointerDownListener=fn}onPointerDown(i){this.session=new u0(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c0(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:a,onPan:l,onPanEnd:c}=this.node.getProps();return{onSessionStart:pf(i),onStart:pf(a),onMove:l,onEnd:(u,p)=>{delete this.session,c&&qe.postRender(()=>c(u,p))}}}mount(){this.removePointerDownListener=Ba(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ju=!1;class Ew extends x.Component{componentDidMount(){const{visualElement:i,layoutGroup:a,switchLayoutGroup:l,layoutId:c}=this.props,{projection:u}=i;u&&(a.group&&a.group.add(u),l&&l.register&&c&&l.register(u),Ju&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Hl.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:a,visualElement:l,drag:c,isPresent:u}=this.props,{projection:p}=l;return p&&(p.isPresent=u,i.layoutDependency!==a&&p.setOptions({...p.options,layoutDependency:a}),Ju=!0,c||i.layoutDependency!==a||a===void 0||i.isPresent!==u?p.willUpdate():this.safeToRemove(),i.isPresent!==u&&(u?p.promote():p.relegate()||qe.postRender(()=>{const m=p.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),ep.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:a,switchLayoutGroup:l}=this.props,{projection:c}=i;Ju=!0,c&&(c.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(c),l&&l.deregister&&l.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function p0(n){const[i,a]=e0(),l=x.useContext(Ed);return r.jsx(Ew,{...n,layoutGroup:l,switchLayoutGroup:x.useContext(s0),isPresent:i,safeToRemove:a})}const Aw={pan:{Feature:Rw},drag:{Feature:Pw,ProjectionNode:Zg,MeasureLayout:p0}};function hf(n,i,a){const{props:l}=n;n.animationState&&l.whileHover&&n.animationState.setActive("whileHover",a==="Start");const c="onHover"+a,u=l[c];u&&qe.postRender(()=>u(i,Ga(i)))}class Lw extends Yi{mount(){const{current:i}=this.node;i&&(this.unmount=fv(i,(a,l)=>(hf(this.node,l,"Start"),c=>hf(this.node,c,"End"))))}unmount(){}}class Iw extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qa(Ua(this.node.current,"focus",()=>this.onFocus()),Ua(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mf(n,i,a){const{props:l}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&l.whileTap&&n.animationState.setActive("whileTap",a==="Start");const c="onTap"+(a==="End"?"":a),u=l[c];u&&qe.postRender(()=>u(i,Ga(i)))}class zw extends Yi{mount(){const{current:i}=this.node;i&&(this.unmount=xv(i,(a,l)=>(mf(this.node,l,"Start"),(c,{success:u})=>mf(this.node,c,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Md=new WeakMap,Zu=new WeakMap,Dw=n=>{const i=Md.get(n.target);i&&i(n)},Fw=n=>{n.forEach(Dw)};function Bw({root:n,...i}){const a=n||document;Zu.has(a)||Zu.set(a,{});const l=Zu.get(a),c=JSON.stringify(i);return l[c]||(l[c]=new IntersectionObserver(Fw,{root:n,...i})),l[c]}function Vw(n,i,a){const l=Bw(i);return Md.set(n,a),l.observe(n),()=>{Md.delete(n),l.unobserve(n)}}const Ow={some:0,all:1};class $w extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:a,margin:l,amount:c="some",once:u}=i,p={root:a?a.current:void 0,rootMargin:l,threshold:typeof c=="number"?c:Ow[c]},m=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),k=g?y:v;k&&k(f)};return Vw(this.node.current,p,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:a}=this.node;["amount","margin","root"].some(_w(i,a))&&this.startObserver()}unmount(){}}function _w({viewport:n={}},{viewport:i={}}={}){return a=>n[a]!==i[a]}const Uw={inView:{Feature:$w},tap:{Feature:zw},focus:{Feature:Iw},hover:{Feature:Lw}},qw={layout:{ProjectionNode:Zg,MeasureLayout:p0}},Hw={...fw,...Uw,...Aw,...qw},P=uw(Hw,dw),ff="/static-games/moonlight-magic-house/",h0=(n,i,a,l="sine",c=.3)=>{const u=n.createOscillator(),p=n.createGain();u.type=l,u.frequency.setValueAtTime(i,n.currentTime),p.gain.setValueAtTime(c,n.currentTime),p.gain.exponentialRampToValueAtTime(.01,n.currentTime+a),u.connect(p),p.connect(n.destination),u.start(n.currentTime),u.stop(n.currentTime+a)},Ww={"ui-click":{freq:800,duration:.1,type:"square"},"ui-success":{freq:523,duration:.3,type:"sine"},"ui-error":{freq:200,duration:.3,type:"sawtooth"},"action-eat":{freq:440,duration:.2,type:"triangle"},"action-sleep":{freq:200,duration:.5,type:"sine"},"action-play":{freq:659,duration:.15,type:"square"},"action-bath":{freq:350,duration:.3,type:"sine"},"action-shop":{freq:880,duration:.2,type:"square"},"action-drive":{freq:150,duration:.4,type:"sawtooth"},"coin-collect":{freq:987,duration:.15,type:"sine"},"level-up":{freq:784,duration:.4,type:"sine"},achievement:{freq:880,duration:.5,type:"triangle"},"cat-meow":{freq:700,duration:.35,type:"sine"},"cat-purr":{freq:180,duration:.6,type:"triangle"},"cat-happy":{freq:880,duration:.25,type:"sine"},sparkle:{freq:2e3,duration:.15,type:"sine"},"magic-wand":{freq:1200,duration:.2,type:"triangle"},"heart-pop":{freq:600,duration:.12,type:"sine"}},ci=(n,i,a,l)=>{i.forEach((c,u)=>{setTimeout(()=>{h0(n,c,a,"sine",l)},u*(a*1e3*.7))})},gf="moonlight-sound-settings";function Gw(){const n=x.useRef(null),i=x.useRef(null),a=x.useRef(new Map),[l,c]=x.useState(()=>{try{const v=localStorage.getItem(gf);if(v)return JSON.parse(v)}catch{}return{isMuted:!1,volume:.5,currentAmbient:"none"}});x.useEffect(()=>{try{localStorage.setItem(gf,JSON.stringify(l))}catch{}},[l]);const u=x.useCallback(()=>(n.current||(n.current=new(window.AudioContext||window.webkitAudioContext)),n.current),[]),p=x.useCallback(v=>{if(l.isMuted)return;const k=`${ff}assets/sounds/${v}.mp3`;let N=a.current.get(v);if(N){N.currentTime=0,N.volume=l.volume,N.play().catch(()=>{});return}N=new Audio(k),N.volume=l.volume,N.play().then(()=>{a.current.set(v,N)}).catch(()=>{try{const L=u();L.state==="suspended"&&L.resume();const j=Ww[v];v==="level-up"?ci(L,[523,659,784,1047],.2,l.volume):v==="achievement"?ci(L,[659,784,880,1047,1319],.15,l.volume):v==="coin-collect"?ci(L,[880,1047],.1,l.volume):v==="cat-meow"?ci(L,[400,600,800,700],.08,l.volume*.7):v==="cat-purr"?ci(L,[150,170,150,170,150],.12,l.volume*.5):v==="cat-happy"?ci(L,[880,1047,880,1047,1175],.06,l.volume*.6):v==="sparkle"?ci(L,[1500,2e3,2500,2200,1800],.05,l.volume*.4):v==="magic-wand"?ci(L,[800,1e3,1200,1500,2e3,1800],.07,l.volume*.5):v==="heart-pop"?ci(L,[500,700,600],.08,l.volume*.6):h0(L,j.freq,j.duration,j.type,l.volume)}catch(L){console.warn("Sound playback failed:",L)}})},[l.isMuted,l.volume,u]),m=x.useCallback(v=>{if(v==="none"){i.current&&(i.current.pause(),i.current=null),c(L=>({...L,currentAmbient:"none"}));return}const k=`${ff}assets/sounds/ambient-${v}.mp3`;i.current&&i.current.pause();const N=new Audio(k);N.loop=!0,N.volume=l.volume*.3,N.play().then(()=>{i.current=N,c(L=>({...L,currentAmbient:v}))}).catch(()=>{console.debug("Ambient music not available:",v)})},[l.volume]),f=x.useCallback(()=>{i.current&&(i.current.pause(),i.current=null),c(v=>({...v,currentAmbient:"none"}))},[]),g=x.useCallback(()=>{c(v=>{const k=!v.isMuted;return i.current&&(i.current.muted=k),{...v,isMuted:k}})},[]),y=x.useCallback(v=>{const k=Math.max(0,Math.min(1,v));c(N=>({...N,volume:k})),i.current&&(i.current.volume=k*.3)},[]);return x.useEffect(()=>()=>{i.current&&i.current.pause(),n.current&&n.current.close()},[]),{playSound:p,playAmbient:m,stopAmbient:f,toggleMute:g,setVolume:y,isMuted:l.isMuted,volume:l.volume}}const Yw={bedroom:{droneFreqs:[110,165,220],droneVolume:.03,droneType:"sine",accents:[{freq:880,duration:.3,type:"sine",interval:[3e3,8e3],volume:.02,detune:50},{freq:1047,duration:.2,type:"sine",interval:[4e3,1e4],volume:.015},{freq:2e3,duration:.02,type:"square",interval:[1e3,1e3],volume:.008}],lfoRate:.1,lfoDepth:5,filterFreq:400,filterQ:1,filterType:"lowpass",useReverb:!0,reverbTime:2},kitchen:{droneFreqs:[55,110,82],droneVolume:.02,droneType:"triangle",accents:[{freq:4e3,duration:.05,type:"sawtooth",interval:[200,800],volume:.01},{freq:150,duration:.08,type:"sine",interval:[500,1500],volume:.02},{freq:60,duration:2,type:"sine",interval:[8e3,15e3],volume:.015}],filterFreq:800,filterQ:.5,filterType:"lowpass"},garden:{droneFreqs:[196,294,392],droneVolume:.015,droneType:"sine",accents:[{freq:800,duration:.5,type:"sawtooth",interval:[2e3,5e3],volume:.008},{freq:2500,duration:.1,type:"sawtooth",interval:[1e3,3e3],volume:.005}],lfoRate:.3,lfoDepth:20,filterFreq:600,filterQ:2,filterType:"bandpass",useReverb:!0,reverbTime:3},living:{droneFreqs:[100,150,200],droneVolume:.02,droneType:"sine",accents:[{freq:1e3,duration:.3,type:"sawtooth",interval:[500,2e3],volume:.005},{freq:1500,duration:.03,type:"square",interval:[2e3,2e3],volume:.01}],filterFreq:500,filterQ:1,filterType:"lowpass"},bathroom:{droneFreqs:[220,330,440],droneVolume:.015,droneType:"sine",accents:[{freq:1200,duration:.15,type:"sine",interval:[2e3,6e3],volume:.025,detune:100},{freq:800,duration:.1,type:"sine",interval:[3e3,8e3],volume:.02},{freq:3e3,duration:.8,type:"sawtooth",interval:[5e3,12e3],volume:.005}],lfoRate:.5,lfoDepth:10,filterFreq:1500,filterQ:3,filterType:"bandpass",useReverb:!0,reverbTime:4},garage:{droneFreqs:[55,82,110],droneVolume:.025,droneType:"sawtooth",accents:[{freq:400,duration:.05,type:"square",interval:[4e3,1e4],volume:.02},{freq:200,duration:.5,type:"triangle",interval:[3e3,7e3],volume:.01},{freq:80,duration:1.5,type:"sawtooth",interval:[6e3,12e3],volume:.015}],filterFreq:400,filterQ:.7,filterType:"lowpass",useReverb:!0,reverbTime:2.5},shop:{droneFreqs:[220,277,330,440],droneVolume:.02,droneType:"sine",accents:[{freq:2093,duration:.4,type:"sine",interval:[2e3,5e3],volume:.015},{freq:1568,duration:.3,type:"sine",interval:[3e3,6e3],volume:.012},{freq:523,duration:.8,type:"triangle",interval:[4e3,8e3],volume:.015}],lfoRate:.2,lfoDepth:8,filterFreq:2e3,filterQ:.5,filterType:"lowpass"},supermarket:{droneFreqs:[100,120,150],droneVolume:.015,droneType:"sine",accents:[{freq:1e3,duration:.1,type:"square",interval:[1500,4e3],volume:.02},{freq:3e3,duration:.05,type:"sawtooth",interval:[3e3,8e3],volume:.008},{freq:880,duration:.5,type:"sine",interval:[8e3,15e3],volume:.01}],filterFreq:600,filterQ:.5,filterType:"lowpass",useReverb:!0,reverbTime:1.5},attic:{droneFreqs:[82,123,165],droneVolume:.02,droneType:"sine",accents:[{freq:200,duration:.3,type:"sawtooth",interval:[4e3,1e4],volume:.015},{freq:600,duration:1.2,type:"sawtooth",interval:[3e3,7e3],volume:.01},{freq:1047,duration:.5,type:"sine",interval:[6e3,12e3],volume:.012,detune:30},{freq:150,duration:.08,type:"square",interval:[5e3,15e3],volume:.008},{freq:3500,duration:.02,type:"sawtooth",interval:[8e3,2e4],volume:.005}],lfoRate:.15,lfoDepth:8,filterFreq:500,filterQ:1.5,filterType:"lowpass",useReverb:!0,reverbTime:3.5},basement:{droneFreqs:[41,62,82],droneVolume:.025,droneType:"sawtooth",accents:[{freq:300,duration:.1,type:"square",interval:[5e3,12e3],volume:.02},{freq:50,duration:2,type:"sawtooth",interval:[8e3,18e3],volume:.015},{freq:1e3,duration:.12,type:"sine",interval:[3e3,7e3],volume:.018,detune:80},{freq:60,duration:.5,type:"sine",interval:[2e3,4e3],volume:.01},{freq:500,duration:.05,type:"square",interval:[6e3,15e3],volume:.012}],filterFreq:350,filterQ:.8,filterType:"lowpass",useReverb:!0,reverbTime:2.8},library:{droneFreqs:[130,196,261],droneVolume:.015,droneType:"sine",accents:[{freq:2e3,duration:.2,type:"sawtooth",interval:[4e3,1e4],volume:.008},{freq:1200,duration:.04,type:"square",interval:[1500,1500],volume:.01},{freq:100,duration:.3,type:"triangle",interval:[8e3,2e4],volume:.012},{freq:80,duration:1.5,type:"sine",interval:[1e4,25e3],volume:.006}],lfoRate:.08,lfoDepth:3,filterFreq:600,filterQ:1.2,filterType:"lowpass",useReverb:!0,reverbTime:2.5}},Xw={morning:[{freq:2e3,duration:.15,type:"sine",interval:[1e3,3e3],volume:.015,detune:200},{freq:2500,duration:.1,type:"sine",interval:[1500,4e3],volume:.012,detune:300},{freq:1800,duration:.2,type:"sine",interval:[2e3,5e3],volume:.01},{freq:800,duration:.5,type:"sawtooth",interval:[2e3,5e3],volume:.008}],afternoon:[{freq:2200,duration:.12,type:"sine",interval:[3e3,6e3],volume:.01,detune:150},{freq:900,duration:.6,type:"sawtooth",interval:[1500,4e3],volume:.01},{freq:2800,duration:.08,type:"sawtooth",interval:[1e3,3e3],volume:.006}],evening:[{freq:4e3,duration:.05,type:"sine",interval:[500,1500],volume:.008},{freq:2e3,duration:.15,type:"sine",interval:[4e3,8e3],volume:.008,detune:100},{freq:700,duration:.4,type:"sawtooth",interval:[3e3,6e3],volume:.008}],night:[{freq:4500,duration:.03,type:"sine",interval:[300,800],volume:.01},{freq:4200,duration:.04,type:"sine",interval:[400,1e3],volume:.008},{freq:300,duration:.8,type:"sine",interval:[8e3,15e3],volume:.015},{freq:600,duration:.3,type:"sawtooth",interval:[4e3,8e3],volume:.006}]},Kw={clear:{outdoorIntensity:0,indoorIntensity:0,accents:[]},cloudy:{outdoorIntensity:.3,indoorIntensity:.1,accents:[{freq:500,duration:1.5,type:"sawtooth",interval:[4e3,8e3],volume:.008}]},rain:{outdoorIntensity:1,indoorIntensity:.3,accents:[{freq:3e3,duration:.02,type:"sawtooth",interval:[50,200],volume:.004},{freq:2500,duration:.03,type:"sawtooth",interval:[80,250],volume:.003},{freq:3500,duration:.02,type:"sawtooth",interval:[60,180],volume:.003},{freq:800,duration:.1,type:"sine",interval:[500,2e3],volume:.01},{freq:400,duration:.15,type:"sine",interval:[2e3,5e3],volume:.008}],droneOverlay:{freqs:[100,150,200],volume:.02,type:"sawtooth",filterFreq:300}},storm:{outdoorIntensity:1,indoorIntensity:.5,accents:[{freq:3e3,duration:.02,type:"sawtooth",interval:[30,100],volume:.006},{freq:2500,duration:.03,type:"sawtooth",interval:[40,120],volume:.005},{freq:60,duration:3,type:"sawtooth",interval:[8e3,2e4],volume:.025},{freq:40,duration:4,type:"sawtooth",interval:[12e3,25e3],volume:.02},{freq:150,duration:.5,type:"square",interval:[15e3,3e4],volume:.03},{freq:400,duration:2,type:"sawtooth",interval:[3e3,8e3],volume:.015},{freq:600,duration:1.5,type:"sawtooth",interval:[2e3,6e3],volume:.012}],droneOverlay:{freqs:[80,120,160],volume:.03,type:"sawtooth",filterFreq:250}},snow:{outdoorIntensity:.8,indoorIntensity:.4,accents:[{freq:300,duration:2,type:"sine",interval:[4e3,1e4],volume:.008},{freq:4e3,duration:.05,type:"sine",interval:[500,1500],volume:.002},{freq:200,duration:.08,type:"sawtooth",interval:[300,800],volume:.012},{freq:300,duration:.05,type:"sawtooth",interval:[400,1e3],volume:.01},{freq:150,duration:.1,type:"sawtooth",interval:[600,1500],volume:.008}],droneOverlay:{freqs:[80,100],volume:.015,type:"sine",filterFreq:200}},hot:{outdoorIntensity:1,indoorIntensity:.6,accents:[{freq:4e3,duration:.5,type:"sawtooth",interval:[500,1500],volume:.01},{freq:4500,duration:.4,type:"sawtooth",interval:[600,1800],volume:.008},{freq:3800,duration:.6,type:"sawtooth",interval:[400,1200],volume:.009},{freq:60,duration:5,type:"sine",interval:[5e3,8e3],volume:.015},{freq:120,duration:3,type:"triangle",interval:[4e3,7e3],volume:.01},{freq:80,duration:8,type:"sawtooth",interval:[15e3,3e4],volume:.012}]},windy:{outdoorIntensity:1,indoorIntensity:.2,accents:[{freq:400,duration:2.5,type:"sawtooth",interval:[2e3,5e3],volume:.02},{freq:600,duration:2,type:"sawtooth",interval:[1500,4e3],volume:.018},{freq:300,duration:3,type:"sawtooth",interval:[3e3,7e3],volume:.015},{freq:1200,duration:1,type:"sine",interval:[4e3,1e4],volume:.008},{freq:2e3,duration:.05,type:"square",interval:[3e3,8e3],volume:.006},{freq:2500,duration:.1,type:"sawtooth",interval:[1e3,3e3],volume:.008}],droneOverlay:{freqs:[150,200,250],volume:.02,type:"sawtooth",filterFreq:400}}},Qw=["garden"],Jw=["garage","attic"];function Zw({currentRoom:n,timeOfDay:i,isMuted:a,volume:l,weatherCondition:c="clear"}){const u=x.useRef(null),p=x.useRef({oscillators:[],gainNode:null,filterNode:null,lfoOsc:null,lfoGain:null}),m=x.useRef([]),f=x.useRef(null),g=x.useCallback(()=>{if(!u.current)try{u.current=new(window.AudioContext||window.webkitAudioContext)}catch{return console.warn("Web Audio API not supported"),null}return u.current.state==="suspended"&&u.current.resume(),u.current},[]),y=x.useCallback((j,C)=>{const R=j.sampleRate,A=R*C,S=j.createBuffer(2,A,R);for(let I=0;I<2;I++){const M=S.getChannelData(I);for(let V=0;V<A;V++)M[V]=(Math.random()*2-1)*Math.pow(1-V/A,2)}return S},[]),v=x.useCallback((j,C,R,A)=>{const S=j.createOscillator(),I=j.createGain();S.type=R.type,S.frequency.setValueAtTime(R.freq,j.currentTime),R.detune&&S.detune.setValueAtTime((Math.random()-.5)*R.detune,j.currentTime);const M=R.volume*A;I.gain.setValueAtTime(0,j.currentTime),I.gain.linearRampToValueAtTime(M,j.currentTime+.01),I.gain.exponentialRampToValueAtTime(.001,j.currentTime+R.duration),S.connect(I),I.connect(C),S.start(j.currentTime),S.stop(j.currentTime+R.duration+.05)},[]),k=x.useCallback((j,C,R,A)=>{m.current.forEach(S=>clearTimeout(S)),m.current=[],R.forEach(S=>{const I=()=>{const z=S.interval[0]+Math.random()*(S.interval[1]-S.interval[0]),O=window.setTimeout(()=>{j.state==="running"&&v(j,C,S,A),I()},z);m.current.push(O)},M=Math.random()*S.interval[0],V=window.setTimeout(I,M);m.current.push(V)})},[v]),N=x.useCallback(()=>{m.current.forEach(A=>clearTimeout(A)),m.current=[];const{oscillators:j,gainNode:C,lfoOsc:R}=p.current;C&&C.gain.linearRampToValueAtTime(0,u.current?.currentTime||0+.5),setTimeout(()=>{if(j.forEach(A=>{try{A.stop(),A.disconnect()}catch{}}),R)try{R.stop(),R.disconnect()}catch{}p.current={oscillators:[],gainNode:null,filterNode:null,lfoOsc:null,lfoGain:null}},600)},[]),L=x.useCallback(()=>{const j=g();if(!j||a)return;N();let C=Yw[n];n==="garden"&&(C={...C,accents:Xw[i]});const R=j.createGain();R.gain.setValueAtTime(l*.5,j.currentTime),f.current=R;let A=null;C.filterFreq&&(A=j.createBiquadFilter(),A.type=C.filterType||"lowpass",A.frequency.setValueAtTime(C.filterFreq,j.currentTime),A.Q.setValueAtTime(C.filterQ||1,j.currentTime));let S=null,I=null;C.useReverb&&(S=j.createConvolver(),S.buffer=y(j,C.reverbTime||2),I=j.createGain(),I.gain.setValueAtTime(.3,j.currentTime));const M=j.createGain();M.gain.setValueAtTime(0,j.currentTime),M.gain.linearRampToValueAtTime(C.droneVolume,j.currentTime+2);let V=null,z=null;C.lfoRate&&(V=j.createOscillator(),z=j.createGain(),V.type="sine",V.frequency.setValueAtTime(C.lfoRate,j.currentTime),z.gain.setValueAtTime(C.lfoDepth||10,j.currentTime),V.connect(z),V.start());const O=[];C.droneFreqs.forEach((ce,X)=>{const ae=j.createOscillator();ae.type=C.droneType,ae.frequency.setValueAtTime(ce,j.currentTime),ae.detune.setValueAtTime((X-1)*5,j.currentTime),z&&z.connect(ae.frequency),ae.connect(M),ae.start(),O.push(ae)});let U=M;A&&(U.connect(A),U=A),U.connect(R),S&&I&&(U.connect(S),S.connect(I),I.connect(R)),R.connect(j.destination),p.current={oscillators:O,gainNode:M,filterNode:A,lfoOsc:V,lfoGain:z},k(j,R,C.accents,l);const W=Kw[c];if(W&&W.accents.length>0){let ce;if(Qw.includes(n)?ce=W.outdoorIntensity:Jw.includes(n)?ce=(W.outdoorIntensity+W.indoorIntensity)/2:ce=W.indoorIntensity,ce>0&&(k(j,R,W.accents,l*ce),W.droneOverlay)){const X=j.createGain(),ae=W.droneOverlay.volume*ce;X.gain.setValueAtTime(0,j.currentTime),X.gain.linearRampToValueAtTime(ae,j.currentTime+3);let ee=null;W.droneOverlay.filterFreq&&(ee=j.createBiquadFilter(),ee.type="lowpass",ee.frequency.setValueAtTime(W.droneOverlay.filterFreq,j.currentTime),ee.Q.setValueAtTime(.7,j.currentTime)),W.droneOverlay.freqs.forEach((le,se)=>{const _=j.createOscillator();_.type=W.droneOverlay.type,_.frequency.setValueAtTime(le,j.currentTime),_.detune.setValueAtTime((se-1)*3,j.currentTime),_.connect(X),_.start(),O.push(_)}),ee?(X.connect(ee),ee.connect(R)):X.connect(R)}}},[n,i,c,a,l,g,N,y,k]);return x.useEffect(()=>{f.current&&u.current&&f.current.gain.linearRampToValueAtTime(a?0:l*.5,u.current.currentTime+.1)},[l,a]),x.useEffect(()=>{if(a){N();return}const j=setTimeout(L,100);return()=>{clearTimeout(j),N()}},[n,i,c,a,L,N]),x.useEffect(()=>()=>{N(),u.current&&u.current.close()},[N]),{restart:L,stop:N}}const eb={113:"clear",116:"cloudy",119:"cloudy",122:"cloudy",143:"cloudy",248:"cloudy",260:"cloudy",176:"rain",263:"rain",266:"rain",293:"rain",296:"rain",299:"rain",302:"rain",305:"rain",308:"rain",353:"rain",356:"rain",359:"rain",200:"storm",386:"storm",389:"storm",392:"storm",395:"storm",179:"snow",182:"snow",185:"snow",227:"snow",230:"snow",281:"snow",284:"snow",311:"snow",314:"snow",317:"snow",320:"snow",323:"snow",326:"snow",329:"snow",332:"snow",335:"snow",338:"snow",350:"snow",362:"snow",365:"snow",368:"snow",371:"snow",374:"snow",377:"snow"},Pd={clear:"",cloudy:"",rain:"",storm:"",snow:"",hot:"",windy:""};function Ea(n){const i={morning:["clear","cloudy","rain"],afternoon:["clear","hot","cloudy","storm"],evening:["clear","cloudy","rain"],night:["clear","cloudy","rain","snow"]},l=new Date().toDateString().split("").reduce((y,v)=>y+v.charCodeAt(0),0),c=i[n],u=c[l%c.length],p={clear:[15,25],cloudy:[12,20],rain:[10,18],storm:[15,28],snow:[-5,3],hot:[28,38],windy:[10,20]},[m,f]=p[u],g=Math.floor(m+Math.random()*(f-m));return{condition:u,temperature:g,humidity:u==="rain"||u==="storm"?80+Math.random()*15:40+Math.random()*30,windSpeed:u==="storm"||u==="windy"?30+Math.random()*40:5+Math.random()*15,description:`${Pd[u]} ${u.charAt(0).toUpperCase()+u.slice(1)}`,icon:Pd[u],isRealWeather:!1,lastUpdated:new Date}}function tb({enabled:n,timeOfDay:i,refreshInterval:a=900*1e3}){const[l,c]=x.useState(()=>Ea(i)),[u,p]=x.useState(!1),[m,f]=x.useState(null),g=x.useRef(null),y=x.useCallback(async(N,L)=>{p(!0),f(null);try{const C=`https://wttr.in/${N&&L?`${N},${L}`:""}?format=j1`,R=await fetch(C,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(!R.ok)throw new Error(`HTTP ${R.status}`);const S=(await R.json()).current_condition?.[0];if(!S)throw new Error("No current weather data");const I=S.weatherCode||"113";let M=eb[I]||"clear";const V=parseInt(S.temp_C||"20",10);V>=30&&M==="clear"&&(M="hot");const z=parseInt(S.windspeedKmph||"0",10);z>=40&&M==="clear"&&(M="windy"),c({condition:M,temperature:V,humidity:parseInt(S.humidity||"50",10),windSpeed:z,description:S.weatherDesc?.[0]?.value||"Unknown",icon:Pd[M],isRealWeather:!0,lastUpdated:new Date})}catch(j){console.warn("Weather fetch failed, using story weather:",j),f(j instanceof Error?j.message:"Unknown error"),c(Ea(i))}finally{p(!1)}},[i]),v=x.useCallback(()=>{if(!navigator.geolocation){console.warn("Geolocation not supported"),y();return}navigator.geolocation.getCurrentPosition(N=>{g.current={lat:N.coords.latitude,lon:N.coords.longitude},y(N.coords.latitude,N.coords.longitude)},N=>{console.warn("Geolocation denied or failed:",N.message),y()},{timeout:5e3,enableHighAccuracy:!1})},[y]);x.useEffect(()=>{n?v():c(Ea(i))},[n,v,i]),x.useEffect(()=>{if(!n)return;const N=setInterval(()=>{g.current?y(g.current.lat,g.current.lon):y()},a);return()=>clearInterval(N)},[n,y,a]),x.useEffect(()=>{l.isRealWeather||c(Ea(i))},[i,l.isRealWeather]);const k=x.useCallback(()=>{n&&g.current?y(g.current.lat,g.current.lon):n?v():c(Ea(i))},[n,y,v,i]);return{weather:l,isLoading:u,error:m,refresh:k,isRealWeather:l.isRealWeather}}const nb=[{id:"memory",emoji:"",name:{it:"Memory",en:"Memory"},color:"#6ee7b7"},{id:"drawing",emoji:"",name:{it:"Disegna!",en:"Draw!"},color:"#ff85a1"},{id:"bubbles",emoji:"",name:{it:"Bolle!",en:"Bubbles!"},color:"#93c5fd"},{id:"puzzle",emoji:"",name:{it:"Puzzle",en:"Puzzle"},color:"#a78bfa"}],ib=[{id:"stars",emoji:"",name:{it:"Stelle",en:"Stars"},color:"#ffd93d"},{id:"simon",emoji:"",name:{it:"Simon",en:"Simon"},color:"#8b5cf6"},{id:"catch",emoji:"",name:{it:"Acchiappa!",en:"Catch!"},color:"#f59e0b"},{id:"gardening",emoji:"",name:{it:"Giardino",en:"Garden"},color:"#4ade80"},{id:"cooking",emoji:"",name:{it:"Cucina!",en:"Cooking!"},color:"#f97316"}];function ob({onSelectGame:n,onBack:i,lang:a}){const[l,c]=x.useState(!1),u={it:{title:" Giochi",back:"",play:"Gioca!",more:"Altri Giochi ",less:"Meno "},en:{title:" Games",back:"",play:"Play!",more:"More Games ",less:"Less "}}[a];return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"gamehub-container glass-card",children:[r.jsxs("div",{className:"gamehub-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:u.back}),r.jsx("h2",{children:u.title}),r.jsx("div",{style:{width:40}})," "]}),r.jsx("div",{className:"games-grid-big",children:nb.map((p,m)=>r.jsxs(P.button,{className:"game-card-big",onClick:()=>n(p.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:m*.1},whileHover:{scale:1.05},whileTap:{scale:.95},style:{"--game-color":p.color},children:[r.jsx("span",{className:"game-emoji-big",children:p.emoji}),r.jsx("span",{className:"game-name-big",children:p.name[a]})]},p.id))}),r.jsx("button",{className:"more-games-btn",onClick:()=>c(!l),children:l?u.less:u.more}),l&&r.jsx(P.div,{className:"games-row",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:ib.map((p,m)=>r.jsxs(P.button,{className:"game-card-small",onClick:()=>n(p.id),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},whileHover:{scale:1.1},whileTap:{scale:.95},style:{"--game-color":p.color},children:[r.jsx("span",{className:"game-emoji-small",children:p.emoji}),r.jsx("span",{className:"game-name-small",children:p.name[a]})]},p.id))})]}),r.jsx("style",{children:`
        .gamehub-container {
          max-width: 360px;
          width: 95%;
          margin: 0 auto;
          padding: 16px;
        }
        .gamehub-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }
        .gamehub-header h2 {
          margin: 0;
          font-size: 1.4rem;
        }
        .back-btn {
          padding: 10px 14px;
          border-radius: 12px;
          background: rgba(255,255,255,0.15);
          border: none;
          color: white;
          cursor: pointer;
          font-size: 1.2rem;
        }
        
        /* Featured games - 2x2 big cards */
        .games-grid-big {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
          margin-bottom: 16px;
        }
        .game-card-big {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 24px 16px;
          border-radius: 20px;
          border: 3px solid transparent;
          background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
          backdrop-filter: blur(10px);
          cursor: pointer;
          transition: all 0.3s ease;
          aspect-ratio: 1;
        }
        .game-card-big:hover, .game-card-big:focus {
          border-color: var(--game-color);
          box-shadow: 0 0 24px color-mix(in srgb, var(--game-color) 40%, transparent);
          background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
        }
        .game-emoji-big {
          font-size: 4rem;
          filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }
        .game-name-big {
          font-size: 1.1rem;
          font-weight: 700;
          color: white;
          text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        /* More games button */
        .more-games-btn {
          width: 100%;
          padding: 12px;
          border-radius: 12px;
          background: rgba(255,255,255,0.1);
          border: 2px dashed rgba(255,255,255,0.3);
          color: rgba(255,255,255,0.8);
          cursor: pointer;
          font-size: 0.9rem;
          margin-bottom: 12px;
          transition: all 0.2s ease;
        }
        .more-games-btn:hover {
          background: rgba(255,255,255,0.15);
          border-color: rgba(255,255,255,0.5);
        }
        
        /* More games - horizontal scroll row */
        .games-row {
          display: flex;
          gap: 12px;
          overflow-x: auto;
          padding-bottom: 8px;
          -webkit-overflow-scrolling: touch;
        }
        .games-row::-webkit-scrollbar {
          height: 4px;
        }
        .games-row::-webkit-scrollbar-track {
          background: rgba(255,255,255,0.1);
          border-radius: 4px;
        }
        .games-row::-webkit-scrollbar-thumb {
          background: rgba(255,255,255,0.3);
          border-radius: 4px;
        }
        .game-card-small {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 4px;
          padding: 12px 16px;
          border-radius: 14px;
          border: 2px solid transparent;
          background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
          backdrop-filter: blur(10px);
          cursor: pointer;
          transition: all 0.2s ease;
          flex-shrink: 0;
        }
        .game-card-small:hover {
          border-color: var(--game-color);
        }
        .game-emoji-small {
          font-size: 2rem;
        }
        .game-name-small {
          font-size: 0.75rem;
          font-weight: 600;
          color: rgba(255,255,255,0.9);
          white-space: nowrap;
        }
      `})]})}const rb=["","","","","","","","",""];function ab({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState([]),[u,p]=x.useState(0),[m,f]=x.useState(!1),[g,y]=x.useState(null),[v]=x.useState(3),k={it:{title:" Puzzle Magico",moves:"Mosse",back:" Indietro",done:" Completato!",tap:"Tocca due tessere per scambiarle!"},en:{title:" Magic Puzzle",moves:"Moves",back:" Back",done:" Completed!",tap:"Tap two tiles to swap them!"}}[a],N=x.useCallback(()=>{const C=v*v,R=[],A=Array.from({length:C},(S,I)=>I);for(let S=A.length-1;S>0;S--){const I=Math.floor(Math.random()*(S+1));[A[S],A[I]]=[A[I],A[S]]}for(let S=0;S<C;S++)R.push({id:S,currentPos:A[S],correctPos:S});c(R),p(0),f(!1),y(null)},[v]);x.useEffect(()=>{N()},[N]);const L=C=>{m||(g===null?y(C):(c(R=>{const A=[...R],S=A.find(V=>V.id===g),I=A.find(V=>V.id===C),M=S.currentPos;return S.currentPos=I.currentPos,I.currentPos=M,A}),p(R=>R+1),y(null)))};x.useEffect(()=>{if(l.length>0&&l.every(R=>R.currentPos===R.correctPos)&&u>0){f(!0);const R=Math.max(100-u*2,20);setTimeout(()=>n(R),2e3)}},[l,u,n]);const j=C=>l.find(R=>R.currentPos===C);return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"puzzle-container glass-card",children:[r.jsxs("div",{className:"puzzle-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:k.back}),r.jsx("h2",{children:k.title}),r.jsxs("span",{className:"moves-counter",children:[k.moves,": ",u]})]}),r.jsx("p",{className:"puzzle-hint",children:k.tap}),r.jsx("div",{className:"puzzle-grid",style:{display:"grid",gridTemplateColumns:`repeat(${v}, 1fr)`,gap:"8px",padding:"16px"},children:r.jsx(Ne,{children:Array.from({length:v*v}).map((C,R)=>{const A=j(R);return A?r.jsx(P.button,{layout:!0,initial:{scale:.8,opacity:0},animate:{scale:g===A.id?1.1:1,opacity:1,boxShadow:g===A.id?"0 0 20px rgba(255,255,0,0.5)":"none"},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:`puzzle-tile ${A.currentPos===A.correctPos?"correct":""}`,onClick:()=>L(A.id),style:{width:"80px",height:"80px",fontSize:"2.5rem",background:A.currentPos===A.correctPos?"linear-gradient(135deg, #6ee7b7 0%, #3b82f6 100%)":"linear-gradient(135deg, #a78bfa 0%, #ec4899 100%)",border:g===A.id?"3px solid yellow":"2px solid rgba(255,255,255,0.3)",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:rb[A.id]},A.id):null})})}),m&&r.jsxs(P.div,{initial:{scale:0},animate:{scale:1},className:"puzzle-complete",children:[r.jsx("span",{className:"complete-text",children:k.done}),r.jsxs("span",{className:"complete-moves",children:[u," ",k.moves.toLowerCase(),"!"]})]})]}),r.jsx("style",{children:`
        .puzzle-container {
          max-width: 400px;
          margin: 0 auto;
          padding: 20px;
        }
        .puzzle-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }
        .puzzle-header h2 {
          margin: 0;
          font-size: 1.5rem;
        }
        .puzzle-hint {
          text-align: center;
          opacity: 0.7;
          margin-bottom: 12px;
        }
        .puzzle-grid {
          background: rgba(0,0,0,0.2);
          border-radius: 16px;
        }
        .puzzle-tile:hover {
          transform: scale(1.05);
        }
        .puzzle-complete {
          text-align: center;
          margin-top: 20px;
          animation: bounce 0.5s ease infinite alternate;
        }
        .complete-text {
          display: block;
          font-size: 2rem;
        }
        .complete-moves {
          display: block;
          opacity: 0.8;
        }
        @keyframes bounce {
          from { transform: translateY(0); }
          to { transform: translateY(-10px); }
        }
      `})]})}const sb=["#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#9d4edd","#ff85a1","#ffc08c","#98d8c8","#7eb7da","#dda0dd","#ffffff","#000000"],lb=[4,8,16,24];function cb({onComplete:n,onBack:i,lang:a}){const l=x.useRef(null),[c,u]=x.useState(!1),[p,m]=x.useState("#ff6b6b"),[f,g]=x.useState(8),[y,v]=x.useState("brush"),[k,N]=x.useState(!1),L={it:{title:" Disegna!",back:" Indietro",clear:" Cancella",save:" Fatto!",brush:"",eraser:"",colors:"Colori",size:"Dimensione"},en:{title:" Draw!",back:" Back",clear:" Clear",save:" Done!",brush:"",eraser:"",colors:"Colors",size:"Size"}}[a],j=x.useCallback(()=>{const V=l.current;if(!V)return;const z=V.getContext("2d");if(!z)return;const O=V.parentElement;if(O){const U=O.getBoundingClientRect();V.width=Math.min(U.width-32,350),V.height=Math.min(350,window.innerHeight*.4)}z.fillStyle="#ffffff",z.fillRect(0,0,V.width,V.height)},[]);x.useEffect(()=>(j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)),[j]);const C=V=>{const z=l.current;if(!z)return{x:0,y:0};const O=z.getBoundingClientRect();return"touches"in V?{x:V.touches[0].clientX-O.left,y:V.touches[0].clientY-O.top}:{x:V.clientX-O.left,y:V.clientY-O.top}},R=V=>{V.preventDefault();const O=l.current?.getContext("2d");if(!O)return;u(!0),N(!0);const{x:U,y:W}=C(V);O.beginPath(),O.moveTo(U,W)},A=V=>{if(V.preventDefault(),!c)return;const O=l.current?.getContext("2d");if(!O)return;const{x:U,y:W}=C(V);O.lineWidth=f,O.lineCap="round",O.lineJoin="round",y==="eraser"?O.strokeStyle="#ffffff":O.strokeStyle=p,O.lineTo(U,W),O.stroke()},S=()=>{u(!1)},I=()=>{const V=l.current,z=V?.getContext("2d");!z||!V||(z.fillStyle="#ffffff",z.fillRect(0,0,V.width,V.height),N(!1))},M=()=>{n(k?50:10)};return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"drawing-container glass-card",children:[r.jsxs("div",{className:"drawing-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:L.back}),r.jsx("h2",{children:L.title}),r.jsx("button",{className:"save-btn",onClick:M,children:L.save})]}),r.jsx("div",{className:"canvas-wrapper",children:r.jsx("canvas",{ref:l,onMouseDown:R,onMouseMove:A,onMouseUp:S,onMouseLeave:S,onTouchStart:R,onTouchMove:A,onTouchEnd:S,style:{borderRadius:"12px",boxShadow:"inset 0 2px 10px rgba(0,0,0,0.2)",touchAction:"none"}})}),r.jsxs("div",{className:"drawing-tools",children:[r.jsx("div",{className:"tool-section",children:r.jsxs("div",{className:"tool-buttons",children:[r.jsx("button",{className:`tool-btn ${y==="brush"?"active":""}`,onClick:()=>v("brush"),children:L.brush}),r.jsx("button",{className:`tool-btn ${y==="eraser"?"active":""}`,onClick:()=>v("eraser"),children:L.eraser}),r.jsx("button",{className:"tool-btn clear-btn",onClick:I,children:L.clear})]})}),r.jsxs("div",{className:"tool-section",children:[r.jsx("span",{className:"tool-label",children:L.size}),r.jsx("div",{className:"size-buttons",children:lb.map(V=>r.jsx(P.button,{whileTap:{scale:.9},className:`size-btn ${f===V?"active":""}`,onClick:()=>g(V),children:r.jsx("span",{style:{width:V,height:V,borderRadius:"50%",background:p,display:"block"}})},V))})]}),r.jsxs("div",{className:"tool-section",children:[r.jsx("span",{className:"tool-label",children:L.colors}),r.jsx("div",{className:"color-palette",children:sb.map(V=>r.jsx(P.button,{whileTap:{scale:.9},className:`color-btn ${p===V?"active":""}`,onClick:()=>{m(V),v("brush")},style:{background:V,border:V==="#ffffff"?"2px solid #ccc":"none"}},V))})]})]})]}),r.jsx("style",{children:`
        .drawing-container {
          max-width: 420px;
          width: 95%;
          margin: 0 auto;
          padding: 16px;
          max-height: 90vh;
          overflow-y: auto;
        }
        .drawing-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }
        .drawing-header h2 {
          margin: 0;
          font-size: 1.3rem;
        }
        .canvas-wrapper {
          display: flex;
          justify-content: center;
          margin-bottom: 16px;
        }
        .drawing-tools {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        .tool-section {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .tool-label {
          font-size: 0.85rem;
          opacity: 0.8;
        }
        .tool-buttons {
          display: flex;
          gap: 8px;
        }
        .tool-btn {
          padding: 8px 16px;
          border-radius: 8px;
          border: 2px solid transparent;
          background: rgba(255,255,255,0.1);
          color: white;
          cursor: pointer;
          font-size: 1rem;
          transition: all 0.2s;
        }
        .tool-btn.active {
          border-color: #ffd93d;
          background: rgba(255,217,61,0.2);
        }
        .tool-btn:hover {
          background: rgba(255,255,255,0.2);
        }
        .clear-btn {
          margin-left: auto;
        }
        .size-buttons {
          display: flex;
          gap: 8px;
          align-items: center;
        }
        .size-btn {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid transparent;
          background: rgba(255,255,255,0.1);
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .size-btn.active {
          border-color: #ffd93d;
        }
        .color-palette {
          display: flex;
          flex-wrap: wrap;
          gap: 6px;
        }
        .color-btn {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          transition: transform 0.2s;
        }
        .color-btn.active {
          transform: scale(1.2);
          box-shadow: 0 0 0 3px #ffd93d;
        }
        .save-btn {
          padding: 8px 16px;
          border-radius: 8px;
          background: linear-gradient(135deg, #6ee7b7, #3b82f6);
          border: none;
          color: white;
          font-weight: bold;
          cursor: pointer;
        }
        .back-btn {
          padding: 8px 12px;
          border-radius: 8px;
          background: rgba(255,255,255,0.1);
          border: none;
          color: white;
          cursor: pointer;
        }
      `})]})}const ub=["","","","","","","",""];function db({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState([]),[u,p]=x.useState([]),[m,f]=x.useState(0),[g,y]=x.useState(0),[v,k]=x.useState(!1),[N,L]=x.useState(!1),j={it:{title:" Memory!",back:" Indietro",moves:"Mosse",matches:"Coppie",done:" Bravo!",hint:"Trova le coppie!"},en:{title:" Memory!",back:" Back",moves:"Moves",matches:"Matches",done:" Great!",hint:"Find the pairs!"}}[a];x.useEffect(()=>{C()},[]);const C=()=>{const A=ub.slice(0,6),S=[...A,...A];for(let I=S.length-1;I>0;I--){const M=Math.floor(Math.random()*(I+1));[S[I],S[M]]=[S[M],S[I]]}c(S.map((I,M)=>({id:M,emoji:I,isFlipped:!1,isMatched:!1}))),p([]),f(0),y(0),L(!1)},R=A=>{if(v||u.length>=2||l[A].isMatched||u.includes(A))return;const S=[...u,A];if(p(S),c(I=>I.map(M=>M.id===A?{...M,isFlipped:!0}:M)),S.length===2){f(V=>V+1),k(!0);const[I,M]=S;setTimeout(()=>{l[I].emoji===l[M].emoji?(c(V=>V.map(z=>z.id===I||z.id===M?{...z,isMatched:!0}:z)),y(V=>V+1)):c(V=>V.map(z=>z.id===I||z.id===M?{...z,isFlipped:!1}:z)),p([]),k(!1)},800)}};return x.useEffect(()=>{if(g===6&&!N){L(!0);const A=Math.max(150-m*5,30);setTimeout(()=>n(A),2e3)}},[g,N,m,n]),r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"memory-container glass-card",children:[r.jsxs("div",{className:"memory-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:j.back}),r.jsx("h2",{children:j.title}),r.jsxs("div",{className:"memory-stats",children:[r.jsxs("span",{children:[j.moves,": ",m]}),r.jsxs("span",{children:[j.matches,": ",g,"/6"]})]})]}),r.jsx("p",{className:"memory-hint",children:j.hint}),r.jsx("div",{className:"memory-grid",children:r.jsx(Ne,{children:l.map(A=>r.jsxs(P.button,{className:`memory-card ${A.isFlipped||A.isMatched?"flipped":""} ${A.isMatched?"matched":""}`,onClick:()=>R(A.id),whileTap:{scale:.95},initial:{scale:0,rotateY:0},animate:{scale:1,rotateY:A.isFlipped||A.isMatched?180:0,opacity:A.isMatched?.6:1},transition:{type:"spring",stiffness:300,damping:20},children:[r.jsx("span",{className:"card-front",children:A.emoji}),r.jsx("span",{className:"card-back",children:"?"})]},A.id))})}),N&&r.jsxs(P.div,{className:"memory-complete",initial:{scale:0},animate:{scale:1},children:[r.jsx("span",{className:"complete-text",children:j.done}),r.jsxs("span",{className:"complete-moves",children:[m," ",j.moves.toLowerCase()]})]})]}),r.jsx("style",{children:`
        .memory-container {
          max-width: 380px;
          width: 95%;
          margin: 0 auto;
          padding: 20px;
        }
        .memory-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: wrap;
          gap: 8px;
          margin-bottom: 12px;
        }
        .memory-header h2 {
          margin: 0;
          font-size: 1.4rem;
        }
        .memory-stats {
          display: flex;
          gap: 12px;
          font-size: 0.9rem;
          opacity: 0.9;
        }
        .memory-hint {
          text-align: center;
          opacity: 0.7;
          margin-bottom: 16px;
        }
        .memory-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 8px;
          perspective: 1000px;
        }
        .memory-card {
          aspect-ratio: 1;
          border-radius: 12px;
          border: none;
          cursor: pointer;
          position: relative;
          transform-style: preserve-3d;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          font-size: 2rem;
          transition: transform 0.3s;
        }
        .memory-card .card-front,
        .memory-card .card-back {
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          backface-visibility: hidden;
          border-radius: 12px;
        }
        .memory-card .card-back {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          font-size: 1.5rem;
        }
        .memory-card .card-front {
          background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
          transform: rotateY(180deg);
        }
        .memory-card.flipped,
        .memory-card.matched {
          pointer-events: none;
        }
        .memory-card.matched {
          box-shadow: 0 0 15px rgba(110, 231, 183, 0.5);
        }
        .back-btn {
          padding: 8px 12px;
          border-radius: 8px;
          background: rgba(255,255,255,0.1);
          border: none;
          color: white;
          cursor: pointer;
        }
        .memory-complete {
          text-align: center;
          margin-top: 20px;
          animation: bounce 0.5s ease infinite alternate;
        }
        .complete-text {
          display: block;
          font-size: 2rem;
        }
        .complete-moves {
          display: block;
          opacity: 0.8;
        }
        @keyframes bounce {
          from { transform: translateY(0); }
          to { transform: translateY(-10px); }
        }
      `})]})}const yf=["","","","","","","",""],xf=["rgba(168, 123, 250, 0.7)","rgba(255, 133, 161, 0.7)","rgba(110, 231, 183, 0.7)","rgba(255, 217, 61, 0.7)","rgba(147, 197, 253, 0.7)"];function pb({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState([]),[u,p]=x.useState(0),[m,f]=x.useState(30),[g,y]=x.useState(!1),[v,k]=x.useState(()=>{const R=localStorage.getItem("bubbleHighScore");return R?parseInt(R):0}),N={it:{title:" Scoppia le Bolle!",back:" Indietro",score:"Punti",time:"Tempo",start:" Inizia!",gameOver:" Fine!",newRecord:" Nuovo Record!",playAgain:" Rigioca",hint:"Tocca le bolle prima che scappino!"},en:{title:" Pop the Bubbles!",back:" Back",score:"Score",time:"Time",start:" Start!",gameOver:" Time Up!",newRecord:" New Record!",playAgain:" Play Again",hint:"Tap the bubbles before they escape!"}}[a],L=x.useCallback(()=>{const A={id:Date.now()+Math.random(),x:10+Math.random()*80,y:110,size:40+Math.random()*30,color:xf[Math.floor(Math.random()*xf.length)],emoji:yf[Math.floor(Math.random()*yf.length)],speed:.8+Math.random()*.8};c(S=>[...S,A])},[]);x.useEffect(()=>{if(!g)return;const R=setInterval(()=>{c(A=>A.map(S=>({...S,y:S.y-S.speed})).filter(S=>S.y>-20))},50);return()=>clearInterval(R)},[g]),x.useEffect(()=>{if(!g)return;const R=setInterval(()=>{L()},600);return()=>clearInterval(R)},[g,L]),x.useEffect(()=>{if(!g||m<=0)return;const R=setInterval(()=>{f(A=>A<=1?(y(!1),u>v&&(k(u),localStorage.setItem("bubbleHighScore",u.toString())),0):A-1)},1e3);return()=>clearInterval(R)},[g,m,u,v]);const j=(R,A)=>{c(I=>I.filter(M=>M.id!==R));const S=Math.round((100-A)/10)+1;p(I=>I+S)},C=()=>{c([]),p(0),f(30),y(!0)};return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"bubble-game",children:[r.jsxs("div",{className:"bubble-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:N.back}),r.jsx("h2",{children:N.title}),r.jsxs("div",{className:"bubble-stats",children:[r.jsxs("span",{className:"stat",children:[N.score,": ",u]}),r.jsxs("span",{className:"stat time",children:[N.time,": ",m,"s"]})]})]}),r.jsxs("div",{className:"bubble-arena",children:[r.jsx(Ne,{children:l.map(R=>r.jsx(P.button,{className:"bubble",onClick:()=>j(R.id,R.size),style:{left:`${R.x}%`,top:`${R.y}%`,width:R.size,height:R.size,background:R.color},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.15},whileTap:{scale:.5},children:r.jsx("span",{className:"bubble-emoji",children:R.emoji})},R.id))}),!g&&m===30&&r.jsxs(P.div,{className:"start-screen",initial:{opacity:0},animate:{opacity:1},children:[r.jsx("p",{className:"hint",children:N.hint}),r.jsx("button",{className:"start-btn",onClick:C,children:N.start}),v>0&&r.jsxs("p",{className:"high-score",children:[" Best: ",v]})]}),!g&&m===0&&r.jsxs(P.div,{className:"game-over-screen",initial:{scale:0},animate:{scale:1},children:[r.jsx("h3",{children:N.gameOver}),r.jsxs("p",{className:"final-score",children:[u," "]}),u>v&&u>0&&r.jsx("p",{className:"new-record",children:N.newRecord}),r.jsx("button",{className:"play-again-btn",onClick:C,children:N.playAgain}),r.jsxs("button",{className:"done-btn",onClick:()=>n(u),children:[" OK (+",Math.floor(u/5)," XP)"]})]})]})]}),r.jsx("style",{children:`
        .bubble-game {
          max-width: 400px;
          width: 95%;
          height: 500px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
          border-radius: 20px;
          overflow: hidden;
        }
        .bubble-header {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          gap: 8px;
          background: rgba(0,0,0,0.3);
        }
        .bubble-header h2 {
          margin: 0;
          font-size: 1.2rem;
          flex: 1;
          text-align: center;
        }
        .bubble-stats {
          display: flex;
          gap: 12px;
          font-size: 0.9rem;
        }
        .stat {
          background: rgba(255,255,255,0.1);
          padding: 4px 10px;
          border-radius: 12px;
        }
        .stat.time {
          color: ${m<=5?"#ff6b6b":"inherit"};
          font-weight: ${m<=5?"bold":"normal"};
        }
        .bubble-arena {
          flex: 1;
          position: relative;
          overflow: hidden;
          background: linear-gradient(180deg, 
            rgba(168,123,250,0.1) 0%, 
            rgba(147,197,253,0.1) 50%,
            rgba(110,231,183,0.1) 100%
          );
        }
        .bubble {
          position: absolute;
          transform: translate(-50%, -50%);
          border: none;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 
            inset 0 0 20px rgba(255,255,255,0.3),
            0 4px 15px rgba(0,0,0,0.2);
          backdrop-filter: blur(2px);
        }
        .bubble:hover {
          filter: brightness(1.2);
        }
        .bubble-emoji {
          font-size: 1.2rem;
          filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
        }
        .start-screen, .game-over-screen {
          position: absolute;
          inset: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 16px;
          background: rgba(0,0,0,0.7);
          backdrop-filter: blur(5px);
        }
        .hint {
          font-size: 1rem;
          opacity: 0.8;
        }
        .start-btn, .play-again-btn, .done-btn {
          padding: 12px 32px;
          font-size: 1.2rem;
          border: none;
          border-radius: 25px;
          cursor: pointer;
          background: linear-gradient(135deg, #a78bfa, #ec4899);
          color: white;
          font-weight: bold;
          transition: transform 0.2s;
        }
        .start-btn:hover, .play-again-btn:hover, .done-btn:hover {
          transform: scale(1.05);
        }
        .done-btn {
          background: linear-gradient(135deg, #6ee7b7, #3b82f6);
          font-size: 1rem;
        }
        .high-score {
          opacity: 0.7;
          font-size: 0.9rem;
        }
        .final-score {
          font-size: 3rem;
          font-weight: bold;
          margin: 0;
        }
        .new-record {
          color: #ffd93d;
          animation: pulse 0.5s ease infinite alternate;
        }
        @keyframes pulse {
          to { transform: scale(1.1); }
        }
      `})]})}const hb=[{id:0,color:"#ef4444",activeColor:"#f87171",emoji:""},{id:1,color:"#22c55e",activeColor:"#4ade80",emoji:""},{id:2,color:"#3b82f6",activeColor:"#60a5fa",emoji:""},{id:3,color:"#eab308",activeColor:"#facc15",emoji:""}];function mb({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState([]),[u,p]=x.useState([]),[m,f]=x.useState(null),[g,y]=x.useState("idle"),[v,k]=x.useState(0),[N,L]=x.useState(()=>{const z=localStorage.getItem("simonHighScore");return z?parseInt(z):0}),j=x.useRef(null),C={it:{title:" Simon Dice",back:" Indietro",score:"Livello",start:" Inizia!",watch:" Guarda!",yourTurn:" Tocca a te!",correct:" Bravo!",wrong:" Sbagliato!",newRecord:" Nuovo Record!",playAgain:" Rigioca",hint:"Ripeti la sequenza di colori!"},en:{title:" Simon Says",back:" Back",score:"Level",start:" Start!",watch:" Watch!",yourTurn:" Your turn!",correct:" Great!",wrong:" Wrong!",newRecord:" New Record!",playAgain:" Play Again",hint:"Repeat the color sequence!"}}[a],R=x.useCallback(z=>{try{const O=new(window.AudioContext||window.webkitAudioContext),U=O.createOscillator(),W=O.createGain(),ce=[261.63,329.63,392,523.25];U.frequency.value=ce[z],U.type="sine",U.connect(W),W.connect(O.destination),W.gain.setValueAtTime(.3,O.currentTime),W.gain.exponentialRampToValueAtTime(.01,O.currentTime+.3),U.start(O.currentTime),U.stop(O.currentTime+.3)}catch{}},[]),A=x.useCallback((z,O=400)=>(f(z),R(z),new Promise(U=>{setTimeout(()=>{f(null),setTimeout(U,100)},O)})),[R]),S=x.useCallback(async()=>{y("showing"),await new Promise(z=>setTimeout(z,500));for(const z of l)await A(z,400);y("input"),p([])},[l,A]),I=x.useCallback(()=>{const z=Math.floor(Math.random()*4);c([z]),k(0),p([])},[]),M=x.useCallback(z=>{if(g!=="input")return;R(z),f(z),setTimeout(()=>f(null),200);const O=[...u,z];p(O);const U=l[O.length-1];if(z!==U){y("gameover"),v>N&&(L(v),localStorage.setItem("simonHighScore",v.toString()));return}if(O.length===l.length){const W=v+1;k(W),y("success"),j.current=window.setTimeout(()=>{const ce=Math.floor(Math.random()*4);c(X=>[...X,ce])},800)}},[g,u,l,v,N,R]);x.useEffect(()=>{l.length>0&&g!=="gameover"&&S()},[l.length]),x.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]);const V=()=>{switch(g){case"idle":return C.hint;case"showing":return C.watch;case"input":return C.yourTurn;case"success":return C.correct;case"gameover":return C.wrong}};return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"simon-game",children:[r.jsxs("div",{className:"simon-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:C.back}),r.jsx("h2",{children:C.title}),r.jsxs("div",{className:"simon-score",children:[C.score,": ",v]})]}),r.jsxs("div",{className:"simon-status",children:[r.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"status-text",children:V()},g),r.jsx("div",{className:"progress-dots",children:l.map((z,O)=>r.jsx("span",{className:`dot ${O<u.length?"filled":""}`},O))})]}),r.jsx("div",{className:"simon-board",children:hb.map(z=>r.jsx(P.button,{className:`simon-button ${m===z.id?"active":""}`,style:{"--btn-color":z.color,"--btn-active":z.activeColor},onClick:()=>M(z.id),disabled:g!=="input",whileTap:{scale:.95},children:r.jsx("span",{className:"btn-emoji",children:z.emoji})},z.id))}),g==="idle"&&r.jsxs(P.div,{className:"start-area",initial:{opacity:0},animate:{opacity:1},children:[r.jsx("button",{className:"start-btn",onClick:I,children:C.start}),N>0&&r.jsxs("p",{className:"high-score",children:[" Best: ",N]})]}),g==="gameover"&&r.jsxs(P.div,{className:"gameover-area",initial:{scale:0},animate:{scale:1},children:[r.jsxs("p",{className:"final-score",children:[C.score,": ",v]}),v>0&&v>=N&&r.jsx("p",{className:"new-record",children:C.newRecord}),r.jsxs("div",{className:"gameover-buttons",children:[r.jsx("button",{className:"play-again-btn",onClick:I,children:C.playAgain}),r.jsxs("button",{className:"done-btn",onClick:()=>n(v*5),children:[" OK (+",v*5," XP)"]})]})]})]}),r.jsx("style",{children:`
        .simon-game {
          max-width: 360px;
          width: 95%;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          gap: 16px;
          background: linear-gradient(180deg, #1e1b4b 0%, #312e81 100%);
          border-radius: 24px;
          padding: 20px;
        }
        .simon-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .simon-header h2 {
          margin: 0;
          font-size: 1.3rem;
        }
        .simon-score {
          background: rgba(255,255,255,0.1);
          padding: 6px 14px;
          border-radius: 20px;
          font-weight: bold;
        }
        .simon-status {
          text-align: center;
          padding: 10px;
        }
        .status-text {
          font-size: 1.2rem;
          margin-bottom: 10px;
        }
        .progress-dots {
          display: flex;
          justify-content: center;
          gap: 6px;
        }
        .dot {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background: rgba(255,255,255,0.2);
          transition: background 0.2s;
        }
        .dot.filled {
          background: #a78bfa;
        }
        .simon-board {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
          padding: 20px;
        }
        .simon-button {
          aspect-ratio: 1;
          border: none;
          border-radius: 20px;
          cursor: pointer;
          background: var(--btn-color);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 2.5rem;
          transition: all 0.15s ease;
          box-shadow: 
            0 6px 0 rgba(0,0,0,0.3),
            inset 0 2px 10px rgba(255,255,255,0.2);
        }
        .simon-button:disabled {
          cursor: default;
          opacity: 0.7;
        }
        .simon-button.active {
          background: var(--btn-active);
          transform: translateY(3px);
          box-shadow: 
            0 3px 0 rgba(0,0,0,0.3),
            inset 0 2px 20px rgba(255,255,255,0.4);
        }
        .simon-button:not(:disabled):hover {
          filter: brightness(1.1);
        }
        .btn-emoji {
          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }
        .start-area, .gameover-area {
          text-align: center;
          padding: 20px;
        }
        .start-btn, .play-again-btn, .done-btn {
          padding: 14px 36px;
          font-size: 1.2rem;
          border: none;
          border-radius: 25px;
          cursor: pointer;
          background: linear-gradient(135deg, #8b5cf6, #6366f1);
          color: white;
          font-weight: bold;
          transition: transform 0.2s;
          margin: 6px;
        }
        .start-btn:hover, .play-again-btn:hover, .done-btn:hover {
          transform: scale(1.05);
        }
        .done-btn {
          background: linear-gradient(135deg, #10b981, #3b82f6);
        }
        .high-score {
          opacity: 0.7;
          margin-top: 12px;
        }
        .final-score {
          font-size: 2rem;
          font-weight: bold;
          margin: 0 0 10px;
        }
        .new-record {
          color: #fbbf24;
          animation: pulse 0.5s ease infinite alternate;
        }
        .gameover-buttons {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 10px;
          margin-top: 16px;
        }
        @keyframes pulse {
          to { transform: scale(1.05); }
        }
      `})]})}const ed=[{emoji:"",points:10,weight:30},{emoji:"",points:5,weight:25},{emoji:"",points:5,weight:25},{emoji:"",points:20,weight:10},{emoji:"",points:15,weight:10},{emoji:"",points:-15,weight:15}];function fb({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState([]),[u,p]=x.useState(50),[m,f]=x.useState(0),[g,y]=x.useState(45),[v,k]=x.useState(!1),[N,L]=x.useState(0),[j,C]=x.useState(!1),[R,A]=x.useState(()=>{const X=localStorage.getItem("catchHighScore");return X?parseInt(X):0}),S=x.useRef(null),I=x.useRef("ontouchstart"in window),M={it:{title:" Acchiappa!",back:" Indietro",score:"Punti",time:"Tempo",start:" Inizia!",gameOver:" Fine!",newRecord:" Nuovo Record!",playAgain:" Rigioca",hint:"Muovi il cestino per catturare le stelle!",avoidBombs:" Evita le bombe!"},en:{title:" Catch!",back:" Back",score:"Score",time:"Time",start:" Start!",gameOver:" Time Up!",newRecord:" New Record!",playAgain:" Play Again",hint:"Move the basket to catch the stars!",avoidBombs:" Avoid the bombs!"}}[a],V=x.useCallback(()=>{const X=ed.reduce((ee,le)=>ee+le.weight,0);let ae=Math.random()*X;for(const ee of ed)if(ae-=ee.weight,ae<=0)return ee;return ed[0]},[]),z=x.useCallback(()=>{const X=V(),ae={id:Date.now()+Math.random(),x:5+Math.random()*90,y:-10,emoji:X.emoji,points:X.points,speed:1+Math.random()*.8+(45-g)*.02};c(ee=>[...ee,ae])},[V,g]);x.useEffect(()=>{if(!v)return;const X=setInterval(()=>{c(ae=>{const ee=ae.map(se=>({...se,y:se.y+se.speed})).filter(se=>se.y<105),le=[];return ee.forEach(se=>{if(se.y>75&&se.y<95&&Math.abs(se.x-u)<12){le.push(se.id);const Q=se.points;if(Q>0){L(J=>J+1),C(!0),setTimeout(()=>C(!1),500);const Y=Math.floor(N/3);f(J=>J+Q+Y)}else L(0),f(Y=>Math.max(0,Y+Q))}}),ee.filter(se=>!le.includes(se.id))})},50);return()=>clearInterval(X)},[v,u,N]),x.useEffect(()=>{if(!v)return;const X=setInterval(z,700);return()=>clearInterval(X)},[v,z]),x.useEffect(()=>{if(!v||g<=0)return;const X=setInterval(()=>{y(ae=>ae<=1?(k(!1),m>R&&(A(m),localStorage.setItem("catchHighScore",m.toString())),0):ae-1)},1e3);return()=>clearInterval(X)},[v,g,m,R]);const O=x.useCallback(X=>{if(!S.current||!v)return;const ae=S.current.getBoundingClientRect(),ee=(X-ae.left)/ae.width*100;p(Math.max(10,Math.min(90,ee)))},[v]),U=x.useCallback(X=>{O(X.clientX)},[O]),W=x.useCallback(X=>{X.touches.length>0&&O(X.touches[0].clientX)},[O]);x.useEffect(()=>{if(!v)return;const X=ae=>{ae.key==="ArrowLeft"||ae.key==="a"?p(ee=>Math.max(10,ee-5)):(ae.key==="ArrowRight"||ae.key==="d")&&p(ee=>Math.min(90,ee+5))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[v]);const ce=()=>{c([]),f(0),y(45),p(50),L(0),k(!0)};return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs("div",{className:"catch-game",children:[r.jsxs("div",{className:"catch-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:M.back}),r.jsx("h2",{children:M.title}),r.jsxs("div",{className:"catch-stats",children:[r.jsxs("span",{className:"stat",children:[M.score,": ",m]}),r.jsxs("span",{className:`stat time ${g<=10?"urgent":""}`,children:[M.time,": ",g,"s"]})]})]}),r.jsxs("div",{className:"catch-arena",ref:S,onMouseMove:U,onTouchMove:W,children:[r.jsx(Ne,{children:l.map(X=>r.jsx(P.div,{className:`falling-item ${X.points<0?"bomb":""}`,style:{left:`${X.x}%`,top:`${X.y}%`},initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:1.5,opacity:0},children:X.emoji},X.id))}),r.jsx(P.div,{className:"basket",style:{left:`${u}%`},animate:{x:"-50%"},children:""}),r.jsx(Ne,{children:j&&N>2&&r.jsxs(P.div,{className:"combo-text",initial:{scale:0,y:20},animate:{scale:1,y:0},exit:{scale:0,opacity:0},children:[" x",N,"!"]})}),!v&&g===45&&r.jsxs(P.div,{className:"start-screen",initial:{opacity:0},animate:{opacity:1},children:[r.jsx("p",{className:"hint",children:M.hint}),r.jsx("p",{className:"hint-small",children:M.avoidBombs}),r.jsx("button",{className:"start-btn",onClick:ce,children:M.start}),R>0&&r.jsxs("p",{className:"high-score",children:[" Best: ",R]})]}),!v&&g===0&&r.jsxs(P.div,{className:"game-over-screen",initial:{scale:0},animate:{scale:1},children:[r.jsx("h3",{children:M.gameOver}),r.jsxs("p",{className:"final-score",children:[m," "]}),m>R&&m>0&&r.jsx("p",{className:"new-record",children:M.newRecord}),r.jsxs("div",{className:"gameover-buttons",children:[r.jsx("button",{className:"play-again-btn",onClick:ce,children:M.playAgain}),r.jsxs("button",{className:"done-btn",onClick:()=>n(m),children:[" OK (+",Math.floor(m/3)," XP)"]})]})]})]}),r.jsx("div",{className:"controls-hint",children:I.current?" Tocca e trascina":"  o A/D per muoversi"})]}),r.jsx("style",{children:`
        .catch-game {
          max-width: 400px;
          width: 95%;
          height: 520px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          background: linear-gradient(180deg, #0f172a 0%, #1e3a5f 50%, #0d9488 100%);
          border-radius: 20px;
          overflow: hidden;
        }
        .catch-header {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          gap: 8px;
          background: rgba(0,0,0,0.3);
        }
        .catch-header h2 {
          margin: 0;
          font-size: 1.2rem;
        }
        .catch-stats {
          display: flex;
          gap: 10px;
          font-size: 0.9rem;
        }
        .stat {
          background: rgba(255,255,255,0.1);
          padding: 4px 10px;
          border-radius: 12px;
        }
        .stat.time.urgent {
          color: #f87171;
          font-weight: bold;
          animation: pulse 0.5s ease infinite alternate;
        }
        .catch-arena {
          flex: 1;
          position: relative;
          overflow: hidden;
          cursor: pointer;
          touch-action: none;
        }
        .falling-item {
          position: absolute;
          transform: translate(-50%, -50%);
          font-size: 2rem;
          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
          pointer-events: none;
        }
        .falling-item.bomb {
          animation: shake 0.3s ease infinite;
        }
        @keyframes shake {
          0%, 100% { transform: translate(-50%, -50%) rotate(-5deg); }
          50% { transform: translate(-50%, -50%) rotate(5deg); }
        }
        .basket {
          position: absolute;
          bottom: 5%;
          font-size: 3rem;
          transform: translateX(-50%);
          filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));
          transition: left 0.05s ease-out;
        }
        .combo-text {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 2rem;
          font-weight: bold;
          color: #fbbf24;
          text-shadow: 0 2px 10px rgba(0,0,0,0.5);
          pointer-events: none;
        }
        .controls-hint {
          text-align: center;
          padding: 8px;
          font-size: 0.85rem;
          opacity: 0.7;
          background: rgba(0,0,0,0.2);
        }
        .start-screen, .game-over-screen {
          position: absolute;
          inset: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 12px;
          background: rgba(0,0,0,0.75);
          backdrop-filter: blur(5px);
        }
        .hint {
          font-size: 1rem;
          margin: 0;
        }
        .hint-small {
          font-size: 0.9rem;
          opacity: 0.7;
          margin: 0;
        }
        .start-btn, .play-again-btn, .done-btn {
          padding: 12px 32px;
          font-size: 1.2rem;
          border: none;
          border-radius: 25px;
          cursor: pointer;
          background: linear-gradient(135deg, #f59e0b, #ef4444);
          color: white;
          font-weight: bold;
          transition: transform 0.2s;
        }
        .start-btn:hover, .play-again-btn:hover, .done-btn:hover {
          transform: scale(1.05);
        }
        .done-btn {
          background: linear-gradient(135deg, #10b981, #3b82f6);
          font-size: 1rem;
        }
        .high-score {
          opacity: 0.7;
          margin: 0;
        }
        .final-score {
          font-size: 3rem;
          font-weight: bold;
          margin: 0;
        }
        .new-record {
          color: #fbbf24;
          animation: pulse 0.5s ease infinite alternate;
          margin: 0;
        }
        .gameover-buttons {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 10px;
          margin-top: 10px;
        }
        @keyframes pulse {
          to { transform: scale(1.05); }
        }
      `})]})}const td={flower:[{name:"Sunflower",emoji:"",reward:10},{name:"Rose",emoji:"",reward:15},{name:"Tulip",emoji:"",reward:12},{name:"Daisy",emoji:"",reward:8}],vegetable:[{name:"Carrot",emoji:"",reward:20},{name:"Tomato",emoji:"",reward:18},{name:"Corn",emoji:"",reward:15},{name:"Broccoli",emoji:"",reward:22}],tree:[{name:"Apple Tree",emoji:"",reward:30},{name:"Cherry Tree",emoji:"",reward:35},{name:"Orange Tree",emoji:"",reward:28},{name:"Lemon Tree",emoji:"",reward:25}]},gb=["","","","",""],yb=({onClose:n,onReward:i})=>{const[a,l]=x.useState([]),[c,u]=x.useState(null),[p,m]=x.useState(!1),[f,g]=x.useState(0),[y,v]=x.useState([]),[k,N]=x.useState(!1),L=6;x.useEffect(()=>{const I=setInterval(()=>{l(M=>M.map(V=>V.stage<4&&V.watered&&Date.now()-V.lastWateredAt>2e3?{...V,stage:Math.min(4,V.stage+1),watered:!1}:V))},500);return()=>clearInterval(I)},[]);const j=x.useCallback(I=>{if(!c||a.find(O=>O.id===`plot-${I}`))return;const V=td[c.type][c.index],z={id:`plot-${I}`,type:c.type,name:V.name,emoji:V.emoji,stage:0,watered:!1,plantedAt:Date.now(),lastWateredAt:0};l(O=>[...O,z]),u(null)},[c,a]),C=x.useCallback(I=>{l(M=>M.map(V=>V.id===`plot-${I}`&&!V.watered&&V.stage<4?{...V,watered:!0,lastWateredAt:Date.now()}:V))},[]),R=x.useCallback(I=>{const M=a.find(U=>U.id===`plot-${I}`);if(!M||M.stage<4)return;const O=td[M.type].find(U=>U.emoji===M.emoji)?.reward||10;g(U=>U+O),v(U=>[...U,M.emoji]),l(U=>U.filter(W=>W.id!==`plot-${I}`)),i&&i(O,M.name)},[a,i]),A=I=>{const M=a.find(V=>V.id===`plot-${I}`);p&&M&&M.stage<4?(C(I),m(!1)):M&&M.stage>=4?R(I):c&&!M&&j(I)},S=I=>{const M=a.find(V=>V.id===`plot-${I}`);return r.jsx("div",{onClick:()=>A(I),style:{width:"80px",height:"80px",background:M?"linear-gradient(145deg, #5d4037, #3e2723)":"linear-gradient(145deg, #795548, #5d4037)",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",border:c&&!M?"3px dashed #81c784":p&&M&&M.stage<4&&!M.watered?"3px solid #4fc3f7":M?.stage===4?"3px solid #ffd700":"2px solid #4a332d",boxShadow:M?.stage===4?"0 0 15px rgba(255, 215, 0, 0.5)":"0 2px 4px rgba(0,0,0,0.3)",transition:"all 0.3s ease",animation:M?.watered?"waterShimmer 1s infinite":void 0},children:M?r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{fontSize:"28px"},children:M.stage<4?gb[M.stage]:M.emoji}),M.stage<4&&r.jsx("span",{style:{fontSize:"10px",color:M.watered?"#4fc3f7":"#ffcc80",marginTop:"2px"},children:M.watered?" Growing...":"Needs water!"}),M.stage===4&&r.jsx("span",{style:{fontSize:"10px",color:"#ffd700",marginTop:"2px"},children:" Harvest!"})]}):r.jsx("span",{style:{fontSize:"24px",opacity:.5},children:""})},I)};return r.jsxs("div",{style:{position:"fixed",inset:0,background:"linear-gradient(180deg, #87ceeb 0%, #98fb98 100%)",display:"flex",flexDirection:"column",zIndex:1e3},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",background:"rgba(255,255,255,0.9)",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[r.jsx("button",{onClick:n,style:{background:"#ff6b6b",color:"white",border:"none",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",cursor:"pointer"},children:" Back"}),r.jsx("h2",{style:{margin:0,color:"#2e7d32",fontSize:"20px"},children:" Magic Garden"}),r.jsxs("div",{style:{background:"#ffd700",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",fontWeight:"bold"},children:[" ",f]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",gap:"20px"},children:[r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",background:"rgba(139, 69, 19, 0.3)",padding:"24px",borderRadius:"20px",border:"4px solid #5d4037"},children:Array.from({length:L},(I,M)=>S(M))}),y.length>0&&r.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",borderRadius:"12px",padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("span",{style:{fontSize:"14px",color:"#333"},children:"Harvested:"}),r.jsx("div",{style:{display:"flex",gap:"4px"},children:y.slice(-10).map((I,M)=>r.jsx("span",{style:{fontSize:"20px"},children:I},M))})]}),r.jsx("div",{style:{background:"rgba(255,255,255,0.8)",borderRadius:"12px",padding:"12px 20px",fontSize:"13px",color:"#333",textAlign:"center",maxWidth:"300px"},children:c?" Tap an empty plot to plant!":p?" Tap a plant to water it!":" Choose a seed or water your plants!"})]}),r.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",padding:"16px",display:"flex",justifyContent:"center",gap:"12px",boxShadow:"0 -2px 10px rgba(0,0,0,0.1)"},children:[r.jsx("button",{onClick:()=>{N(!k),m(!1)},style:{background:c?"#81c784":"#e8f5e9",border:"2px solid #4caf50",borderRadius:"12px",padding:"12px 20px",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:" Seeds"}),r.jsx("button",{onClick:()=>{m(!p),u(null),N(!1)},style:{background:p?"#4fc3f7":"#e1f5fe",border:"2px solid #03a9f4",borderRadius:"12px",padding:"12px 20px",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:" Water"})]}),k&&r.jsx("div",{style:{position:"absolute",bottom:"80px",left:"50%",transform:"translateX(-50%)",background:"white",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",gap:"12px",maxWidth:"320px",width:"90%"},children:["flower","vegetable","tree"].map(I=>r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"6px",textTransform:"capitalize"},children:I==="flower"?" Flowers":I==="vegetable"?" Vegetables":" Trees"}),r.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:td[I].map((M,V)=>r.jsxs("button",{onClick:()=>{u({type:I,index:V}),N(!1)},style:{background:"#f5f5f5",border:"1px solid #ddd",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px"},children:[r.jsx("span",{children:M.emoji}),r.jsxs("span",{style:{fontSize:"10px",color:"#888"},children:["+",M.reward]})]},M.name))})]},I))}),r.jsx("style",{children:`
        @keyframes waterShimmer {
          0%, 100% { box-shadow: 0 0 5px rgba(79, 195, 247, 0.5); }
          50% { box-shadow: 0 0 15px rgba(79, 195, 247, 0.8); }
        }
      `})]})},Fl=[{id:"flour",emoji:"",name:{it:"Farina",en:"Flour"}},{id:"egg",emoji:"",name:{it:"Uovo",en:"Egg"}},{id:"milk",emoji:"",name:{it:"Latte",en:"Milk"}},{id:"sugar",emoji:"",name:{it:"Zucchero",en:"Sugar"}},{id:"butter",emoji:"",name:{it:"Burro",en:"Butter"}},{id:"chocolate",emoji:"",name:{it:"Cioccolato",en:"Chocolate"}},{id:"strawberry",emoji:"",name:{it:"Fragola",en:"Strawberry"}},{id:"apple",emoji:"",name:{it:"Mela",en:"Apple"}},{id:"banana",emoji:"",name:{it:"Banana",en:"Banana"}},{id:"cheese",emoji:"",name:{it:"Formaggio",en:"Cheese"}},{id:"tomato",emoji:"",name:{it:"Pomodoro",en:"Tomato"}},{id:"bread",emoji:"",name:{it:"Pane",en:"Bread"}}],nd=[{id:"cake",name:{it:"Torta",en:"Cake"},emoji:"",ingredients:["flour","egg","sugar","milk"],reward:50},{id:"cookies",name:{it:"Biscotti",en:"Cookies"},emoji:"",ingredients:["flour","butter","sugar"],reward:30},{id:"pancakes",name:{it:"Pancakes",en:"Pancakes"},emoji:"",ingredients:["flour","egg","milk"],reward:35},{id:"chocolate_cake",name:{it:"Torta al Cioccolato",en:"Chocolate Cake"},emoji:"",ingredients:["flour","egg","chocolate","sugar"],reward:60},{id:"fruit_salad",name:{it:"Macedonia",en:"Fruit Salad"},emoji:"",ingredients:["strawberry","apple","banana"],reward:25},{id:"sandwich",name:{it:"Panino",en:"Sandwich"},emoji:"",ingredients:["bread","cheese","tomato"],reward:20}];function xb({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState(null),[u,p]=x.useState([]),[m,f]=x.useState(0),[g,y]=x.useState(0),[v,k]=x.useState(!1),[N,L]=x.useState(!1),[j,C]=x.useState(!1),[R,A]=x.useState([]),[S,I]=x.useState(!1),[M,V]=x.useState(()=>{const ee=localStorage.getItem("cookingHighScore");return ee?parseInt(ee):0}),z={it:{title:" Cucina con Luna!",back:" Indietro",score:"Punti",recipe:"Ricetta",ingredients:"Ingredienti",cook:" Cucina!",nextRecipe:"Prossima Ricetta",perfect:" Perfetto!",tryAgain:"Riprova!",hint:"Tocca gli ingredienti giusti!",cooking:"Sto cucinando...",done:"Fatto!",needed:"Ti serve:",bowl:"Nella ciotola:",clear:" Svuota",newRecord:" Nuovo Record!",gameOver:" Ottimo lavoro!",playAgain:" Rigioca",recipesCooked:"Ricette cucinate"},en:{title:" Cook with Luna!",back:" Back",score:"Score",recipe:"Recipe",ingredients:"Ingredients",cook:" Cook!",nextRecipe:"Next Recipe",perfect:" Perfect!",tryAgain:"Try again!",hint:"Tap the right ingredients!",cooking:"Cooking...",done:"Done!",needed:"You need:",bowl:"In the bowl:",clear:" Clear",newRecord:" New Record!",gameOver:" Great job!",playAgain:" Play Again",recipesCooked:"Recipes cooked"}}[a];x.useEffect(()=>{O()},[]);const O=()=>{const ee=nd.filter(Q=>!u.includes(Q.id)),le=ee.length>0?ee[Math.floor(Math.random()*ee.length)]:nd[Math.floor(Math.random()*nd.length)];c(le),p([]);const se=Fl.filter(Q=>le.ingredients.includes(Q.id)),_=Fl.filter(Q=>!le.ingredients.includes(Q.id)).sort(()=>Math.random()-.5).slice(0,4);A([...se,..._].sort(()=>Math.random()-.5))},U=ee=>{j||v||N||S||p(le=>le.includes(ee)?le.filter(se=>se!==ee):[...le,ee])},W=()=>{!l||j||(C(!0),setTimeout(()=>{if(C(!1),l.ingredients.every(le=>u.includes(le))&&u.every(le=>l.ingredients.includes(le))){const le=m+l.reward;f(le),y(se=>se+1),k(!0),le>M&&(V(le),localStorage.setItem("cookingHighScore",le.toString())),setTimeout(()=>{k(!1),g>=4?I(!0):O()},1500)}else L(!0),setTimeout(()=>{L(!1),p([])},1e3)},2e3))},ce=()=>{p([])},X=()=>{f(0),y(0),I(!1),O()},ae=()=>{n(m),i()};if(S){const ee=m>=M&&m>0;return r.jsx("div",{className:"mini-game-overlay",children:r.jsxs(P.div,{className:"cooking-game glass-card",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[r.jsx("h2",{children:z.gameOver}),ee&&r.jsx("div",{className:"new-record",children:z.newRecord}),r.jsxs("div",{className:"final-stats",children:[r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-label",children:z.score}),r.jsx("span",{className:"stat-value",children:m})]}),r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-label",children:z.recipesCooked}),r.jsxs("span",{className:"stat-value",children:[g," "]})]})]}),r.jsxs("div",{className:"game-over-buttons",children:[r.jsx("button",{className:"action-btn restart",onClick:X,children:z.playAgain}),r.jsx("button",{className:"action-btn done",onClick:ae,children:z.done})]})]})})}return r.jsxs("div",{className:"mini-game-overlay",children:[r.jsxs(P.div,{className:"cooking-game glass-card",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[r.jsxs("div",{className:"cooking-header",children:[r.jsx("button",{className:"back-btn",onClick:i,children:z.back}),r.jsx("h2",{children:z.title}),r.jsxs("div",{className:"score-display",children:[z.score,": ",m]})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"recipe-card",children:[r.jsx("div",{className:"recipe-icon",children:l.emoji}),r.jsx("div",{className:"recipe-name",children:l.name[a]}),r.jsxs("div",{className:"recipe-hint",children:[z.needed," ",l.ingredients.map(ee=>Fl.find(le=>le.id===ee)?.emoji).join(" ")]})]}),r.jsxs("div",{className:"cooking-bowl",children:[r.jsx("div",{className:"bowl-label",children:z.bowl}),r.jsx("div",{className:"bowl-contents",children:u.length===0?r.jsx("span",{className:"empty-bowl",children:""}):u.map(ee=>{const le=Fl.find(se=>se.id===ee);return r.jsx(P.span,{initial:{scale:0},animate:{scale:1},className:"bowl-ingredient",children:le?.emoji},ee)})}),u.length>0&&r.jsx("button",{className:"clear-btn",onClick:ce,children:z.clear})]}),r.jsx("div",{className:"ingredients-grid",children:R.map((ee,le)=>r.jsxs(P.button,{className:`ingredient-btn ${u.includes(ee.id)?"selected":""}`,onClick:()=>U(ee.id),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:le*.05},whileTap:{scale:.9},children:[r.jsx("span",{className:"ingredient-emoji",children:ee.emoji}),r.jsx("span",{className:"ingredient-name",children:ee.name[a]})]},ee.id))}),r.jsx(P.button,{className:"cook-btn",onClick:W,disabled:u.length===0||j,whileHover:{scale:1.05},whileTap:{scale:.95},children:j?z.cooking:z.cook})]}),r.jsx(Ne,{children:j&&r.jsxs(P.div,{className:"cooking-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[r.jsx(P.div,{className:"cooking-pot",animate:{rotate:[0,-5,5,-5,0],y:[0,-10,0,-10,0]},transition:{duration:.5,repeat:3},children:""}),r.jsx("div",{className:"steam",children:"  "})]})}),r.jsx(Ne,{children:v&&r.jsxs(P.div,{className:"result-overlay success",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:[r.jsx("span",{className:"result-emoji",children:l?.emoji}),r.jsx("span",{className:"result-text",children:z.perfect}),r.jsxs("span",{className:"result-points",children:["+",l?.reward]})]})}),r.jsx(Ne,{children:N&&r.jsxs(P.div,{className:"result-overlay fail",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:[r.jsx("span",{className:"result-emoji",children:""}),r.jsx("span",{className:"result-text",children:z.tryAgain})]})})]}),r.jsx("style",{children:`
        .cooking-game {
          max-width: 420px;
          width: 95%;
          margin: 0 auto;
          padding: 20px;
          position: relative;
          overflow: hidden;
        }
        .cooking-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }
        .cooking-header h2 {
          margin: 0;
          font-size: 1.3rem;
        }
        .score-display {
          background: rgba(255,215,0,0.2);
          padding: 6px 12px;
          border-radius: 20px;
          font-weight: 600;
          color: #ffd700;
        }
        .recipe-card {
          background: linear-gradient(135deg, rgba(255,133,161,0.2), rgba(168,123,250,0.2));
          border-radius: 16px;
          padding: 16px;
          text-align: center;
          margin-bottom: 16px;
        }
        .recipe-icon {
          font-size: 3rem;
        }
        .recipe-name {
          font-size: 1.2rem;
          font-weight: 600;
          margin: 8px 0;
        }
        .recipe-hint {
          font-size: 0.9rem;
          opacity: 0.8;
        }
        .cooking-bowl {
          background: rgba(139,92,246,0.1);
          border-radius: 16px;
          padding: 12px;
          margin-bottom: 16px;
          text-align: center;
        }
        .bowl-label {
          font-size: 0.85rem;
          margin-bottom: 8px;
          opacity: 0.7;
        }
        .bowl-contents {
          min-height: 50px;
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          flex-wrap: wrap;
        }
        .empty-bowl {
          font-size: 2.5rem;
          opacity: 0.5;
        }
        .bowl-ingredient {
          font-size: 1.8rem;
        }
        .clear-btn {
          margin-top: 8px;
          padding: 4px 12px;
          border-radius: 12px;
          background: rgba(239,68,68,0.2);
          border: none;
          color: #ef4444;
          cursor: pointer;
          font-size: 0.8rem;
        }
        .ingredients-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 8px;
          margin-bottom: 16px;
        }
        .ingredient-btn {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 4px;
          padding: 10px 6px;
          border-radius: 12px;
          border: 2px solid transparent;
          background: rgba(255,255,255,0.1);
          cursor: pointer;
          transition: all 0.2s;
        }
        .ingredient-btn.selected {
          border-color: #4ade80;
          background: rgba(74,222,128,0.2);
        }
        .ingredient-emoji {
          font-size: 1.5rem;
        }
        .ingredient-name {
          font-size: 0.65rem;
          color: white;
          opacity: 0.8;
        }
        .cook-btn {
          width: 100%;
          padding: 14px;
          border-radius: 16px;
          border: none;
          background: linear-gradient(135deg, #f97316, #ef4444);
          color: white;
          font-size: 1.1rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
        }
        .cook-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
        .cooking-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0,0,0,0.7);
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 16px;
        }
        .cooking-pot {
          font-size: 5rem;
        }
        .steam {
          font-size: 2rem;
          opacity: 0.6;
        }
        .result-overlay {
          position: absolute;
          inset: 0;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 12px;
          border-radius: 24px;
        }
        .result-overlay.success {
          background: rgba(74,222,128,0.9);
        }
        .result-overlay.fail {
          background: rgba(239,68,68,0.9);
        }
        .result-emoji {
          font-size: 4rem;
        }
        .result-text {
          font-size: 1.5rem;
          font-weight: 700;
        }
        .result-points {
          font-size: 1.2rem;
          background: rgba(255,255,255,0.2);
          padding: 4px 16px;
          border-radius: 20px;
        }
        .final-stats {
          display: flex;
          justify-content: center;
          gap: 24px;
          margin: 24px 0;
        }
        .stat {
          text-align: center;
        }
        .stat-label {
          display: block;
          font-size: 0.9rem;
          opacity: 0.7;
          margin-bottom: 4px;
        }
        .stat-value {
          font-size: 1.5rem;
          font-weight: 700;
        }
        .new-record {
          font-size: 1.2rem;
          color: #ffd700;
          animation: pulse 1s infinite;
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }
        .game-over-buttons {
          display: flex;
          gap: 12px;
          justify-content: center;
        }
        .action-btn {
          padding: 12px 24px;
          border-radius: 12px;
          border: none;
          font-size: 1rem;
          font-weight: 600;
          cursor: pointer;
        }
        .action-btn.restart {
          background: rgba(168,123,250,0.3);
          color: white;
        }
        .action-btn.done {
          background: linear-gradient(135deg, #4ade80, #22c55e);
          color: white;
        }
        .back-btn {
          padding: 8px 12px;
          border-radius: 8px;
          background: rgba(255,255,255,0.1);
          border: none;
          color: white;
          cursor: pointer;
        }
      `})]})}const vb=[{id:1,question:{it:'Quale animale fa "miao"?',en:'Which animal says "meow"?'},options:{it:[" Gatto"," Cane"," Coniglio"," Uccello"],en:[" Cat"," Dog"," Rabbit"," Bird"]},correctIndex:0,category:"animals",emoji:""},{id:2,question:{it:"Quale animale ha una lunga proboscide?",en:"Which animal has a long trunk?"},options:{it:[" Leone"," Elefante"," Giraffa"," Orso"],en:[" Lion"," Elephant"," Giraffe"," Bear"]},correctIndex:1,category:"animals",emoji:""},{id:3,question:{it:"Quale animale vive nell'acqua?",en:"Which animal lives in water?"},options:{it:[" Cane"," Aquila"," Pesce"," Volpe"],en:[" Dog"," Eagle"," Fish"," Fox"]},correctIndex:2,category:"animals",emoji:""},{id:4,question:{it:"Quale animale ha il collo pi lungo?",en:"Which animal has the longest neck?"},options:{it:[" Elefante"," Coccodrillo"," Giraffa"," Cammello"],en:[" Elephant"," Crocodile"," Giraffe"," Camel"]},correctIndex:2,category:"animals",emoji:""},{id:5,question:{it:"Di che colore  il cielo?",en:"What color is the sky?"},options:{it:[" Verde"," Blu"," Rosso"," Giallo"],en:[" Green"," Blue"," Red"," Yellow"]},correctIndex:1,category:"colors",emoji:""},{id:6,question:{it:"Di che colore  l'erba?",en:"What color is grass?"},options:{it:[" Verde"," Arancione"," Viola"," Nero"],en:[" Green"," Orange"," Purple"," Black"]},correctIndex:0,category:"colors",emoji:""},{id:7,question:{it:"Di che colore sono le banane?",en:"What color are bananas?"},options:{it:[" Rosso"," Verde"," Blu"," Giallo"],en:[" Red"," Green"," Blue"," Yellow"]},correctIndex:3,category:"colors",emoji:""},{id:8,question:{it:"Quanti lati ha un triangolo?",en:"How many sides does a triangle have?"},options:{it:["2","3","4","5"],en:["2","3","4","5"]},correctIndex:1,category:"shapes",emoji:""},{id:9,question:{it:"Quale forma ha la luna piena?",en:"What shape is a full moon?"},options:{it:[" Quadrato"," Triangolo"," Cerchio"," Rettangolo"],en:[" Square"," Triangle"," Circle"," Rectangle"]},correctIndex:2,category:"shapes",emoji:""},{id:10,question:{it:"Quanti lati ha un quadrato?",en:"How many sides does a square have?"},options:{it:["3","4","5","6"],en:["3","4","5","6"]},correctIndex:1,category:"shapes",emoji:""},{id:11,question:{it:"Cosa ci d luce durante il giorno?",en:"What gives us light during the day?"},options:{it:[" Luna"," Sole"," Stelle"," Lampadina"],en:[" Moon"," Sun"," Stars"," Light bulb"]},correctIndex:1,category:"nature",emoji:""},{id:12,question:{it:"Cosa fa la pioggia?",en:"What does rain do?"},options:{it:["Brucia","Bagna","Congela","Vola"],en:["Burns","Wets","Freezes","Flies"]},correctIndex:1,category:"nature",emoji:""},{id:13,question:{it:"Dove vivono i pesci?",en:"Where do fish live?"},options:{it:[" Alberi"," Montagne"," Acqua"," Case"],en:[" Trees"," Mountains"," Water"," Houses"]},correctIndex:2,category:"nature",emoji:""},{id:14,question:{it:"Come si chiama il nostro pianeta?",en:"What is our planet called?"},options:{it:[" Luna"," Terra"," Sole"," Stella"],en:[" Moon"," Earth"," Sun"," Star"]},correctIndex:1,category:"space",emoji:""},{id:15,question:{it:"Cosa vediamo di notte nel cielo?",en:"What do we see in the night sky?"},options:{it:[" Arcobaleno"," Nuvole rosa"," Stelle"," Girasoli"],en:[" Rainbow"," Pink clouds"," Stars"," Sunflowers"]},correctIndex:2,category:"space",emoji:""},{id:16,question:{it:"Quante zampe ha un ragno?",en:"How many legs does a spider have?"},options:{it:["4","6","8","10"],en:["4","6","8","10"]},correctIndex:2,category:"fun",emoji:""},{id:17,question:{it:"Quale frutto  giallo dentro e fuori?",en:"Which fruit is yellow inside and out?"},options:{it:[" Mela"," Arancia"," Limone"," Uva"],en:[" Apple"," Orange"," Lemon"," Grape"]},correctIndex:2,category:"fun",emoji:""},{id:18,question:{it:"Cosa mangiano i conigli?",en:"What do rabbits eat?"},options:{it:[" Carne"," Carote"," Pesce"," Pizza"],en:[" Meat"," Carrots"," Fish"," Pizza"]},correctIndex:1,category:"fun",emoji:""},{id:19,question:{it:"Quanti colori ha l'arcobaleno?",en:"How many colors does a rainbow have?"},options:{it:["5","6","7","8"],en:["5","6","7","8"]},correctIndex:2,category:"fun",emoji:""},{id:20,question:{it:"Cosa fa il gallo al mattino?",en:"What does a rooster do in the morning?"},options:{it:["Dorme","Canta","Nuota","Vola"],en:["Sleeps","Crows","Swims","Flies"]},correctIndex:1,category:"fun",emoji:""}],Bl=5,Vl=15;function wb({onComplete:n,onBack:i,lang:a}){const[l,c]=x.useState(0),[u,p]=x.useState([]),[m,f]=x.useState(0),[g,y]=x.useState(null),[v,k]=x.useState(null),[N,L]=x.useState(Vl),[j,C]=x.useState(!1),[R,A]=x.useState(0),[S,I]=x.useState(0),[M,V]=x.useState(!1),z={it:{title:" Quiz Time!",back:" Indietro",score:"Punti",question:"Domanda",of:"di",correct:" Esatto!",wrong:" Ops! La risposta era:",timeUp:" Tempo scaduto!",next:"Avanti ",done:" Quiz completato!",yourScore:"Il tuo punteggio:",highScore:"Record:",newRecord:" Nuovo record!",playAgain:" Gioca ancora",perfect:" Perfetto!",great:" Ottimo!",good:" Bravo!",tryAgain:" Riprova!",streak:" Serie:"},en:{title:" Quiz Time!",back:" Back",score:"Score",question:"Question",of:"of",correct:" Correct!",wrong:" Oops! The answer was:",timeUp:" Time's up!",next:"Next ",done:" Quiz complete!",yourScore:"Your score:",highScore:"High score:",newRecord:" New record!",playAgain:" Play again",perfect:" Perfect!",great:" Great!",good:" Good!",tryAgain:" Try again!",streak:" Streak:"}}[a];x.useEffect(()=>{O();const ee=localStorage.getItem("moonlight-quiz-highscore");ee&&I(parseInt(ee))},[]);const O=()=>{const ee=[...vb].sort(()=>Math.random()-.5);p(ee.slice(0,Bl)),c(0),f(0),A(0),y(null),k(null),L(Vl),C(!1),V(!1)};x.useEffect(()=>{if(j||M)return;if(N<=0){U();return}const ee=setInterval(()=>{L(le=>le-1)},1e3);return()=>clearInterval(ee)},[N,j,M]);const U=x.useCallback(()=>{y(-1),k(!1),A(0),V(!0)},[]),W=ee=>{if(g!==null)return;const le=u[l],se=ee===le.correctIndex;if(y(ee),k(se),V(!0),se){const _=Math.ceil(N/3),Q=R>=2?R:0;f(Y=>Y+10+_+Q),A(Y=>Y+1)}else A(0)},ce=()=>{l<Bl-1?(c(ee=>ee+1),y(null),k(null),L(Vl),V(!1)):(C(!0),m>S&&(I(m),localStorage.setItem("moonlight-quiz-highscore",m.toString())))},X=()=>{const ee=m/(Bl*15)*100;return ee>=90?z.perfect:ee>=70?z.great:ee>=50?z.good:z.tryAgain},ae=u[l];return ae?r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-gradient-to-b from-indigo-900 via-purple-900 to-pink-900 flex flex-col items-center justify-center p-4 z-50",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((ee,le)=>r.jsx(P.div,{className:"absolute text-yellow-200",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,fontSize:`${8+Math.random()*12}px`},animate:{opacity:[.3,1,.3],scale:[1,1.2,1]},transition:{duration:2+Math.random()*2,repeat:1/0,delay:Math.random()*2},children:""},le))}),r.jsxs("div",{className:"w-full max-w-lg flex items-center justify-between mb-4",children:[r.jsx("button",{onClick:i,className:"px-4 py-2 bg-white/20 rounded-full text-white font-bold hover:bg-white/30 transition-all",children:z.back}),r.jsx("h1",{className:"text-2xl font-black text-white drop-shadow-lg",children:z.title}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"px-4 py-2 bg-yellow-500 rounded-full text-white font-bold",children:[z.score,": ",m]})})]}),R>=2&&!j&&r.jsxs(P.div,{initial:{scale:0},animate:{scale:1},className:"mb-2 px-4 py-1 bg-orange-500 rounded-full text-white font-bold",children:[z.streak," ",R]}),r.jsx(Ne,{mode:"wait",children:j?r.jsxs(P.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[r.jsx(P.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"text-8xl mb-4",children:""}),r.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:z.done}),r.jsx("p",{className:"text-xl text-purple-200 mb-4",children:X()}),r.jsxs("div",{className:"bg-white/20 rounded-2xl p-6 mb-6",children:[r.jsxs("p",{className:"text-2xl font-bold text-white",children:[z.yourScore," ",r.jsx("span",{className:"text-yellow-300",children:m})]}),r.jsxs("p",{className:"text-lg text-purple-200",children:[z.highScore," ",S]}),m>S-1&&m===S&&r.jsx(P.p,{initial:{scale:0},animate:{scale:1},className:"text-xl font-bold text-yellow-300 mt-2",children:z.newRecord})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:O,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-full shadow-lg hover:scale-105 transition-all",children:z.playAgain}),r.jsx("button",{onClick:()=>n(m),className:"px-6 py-3 bg-white/20 text-white font-bold rounded-full shadow-lg hover:bg-white/30 transition-all",children:z.back})]})]}):r.jsxs(P.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},className:"w-full max-w-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 text-white",children:[r.jsxs("span",{className:"font-bold",children:[z.question," ",l+1," ",z.of," ",Bl]}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${N<=5?"bg-red-500 animate-pulse":"bg-white/20"}`,children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("span",{className:"font-bold",children:[N,"s"]})]})]}),r.jsx("div",{className:"w-full h-2 bg-white/20 rounded-full mb-6 overflow-hidden",children:r.jsx(P.div,{className:"h-full bg-gradient-to-r from-green-400 to-blue-500",initial:{width:"100%"},animate:{width:`${N/Vl*100}%`},transition:{duration:1}})}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl mb-6",children:[r.jsx("div",{className:"text-5xl text-center mb-4",children:ae.emoji}),r.jsx("p",{className:"text-xl font-bold text-gray-800 text-center",children:ae.question[a]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:ae.options[a].map((ee,le)=>{const se=g===le,_=le===ae.correctIndex,Q=M;let Y="bg-white hover:bg-purple-100";return Q&&(_?Y="bg-green-400":se&&!v?Y="bg-red-400":Y="bg-white/50"),r.jsx(P.button,{onClick:()=>W(le),disabled:M,whileHover:M?{}:{scale:1.05},whileTap:M?{}:{scale:.95},className:`p-4 rounded-xl font-bold text-lg transition-all ${Y} ${M?"":"shadow-lg"}`,animate:Q&&_?{scale:[1,1.1,1]}:{},children:ee},le)})}),r.jsx(Ne,{children:M&&r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 text-center",children:[g===-1?r.jsx("p",{className:"text-xl font-bold text-yellow-300",children:z.timeUp}):v?r.jsx("p",{className:"text-xl font-bold text-green-300",children:z.correct}):r.jsxs("p",{className:"text-lg font-bold text-red-300",children:[z.wrong," ",ae.options[a][ae.correctIndex]]}),r.jsx(P.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},onClick:ce,className:"mt-4 px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-full shadow-lg hover:scale-105 transition-all",children:z.next})]})})]},l)})]}):r.jsx("div",{className:"p-8 text-center",children:"Loading..."})}const bb={bedroom:[{id:"tablet",name:{it:"Tablet",en:"Tablet"},icon:"",position:{x:25,y:40},size:"medium",action:"mini-game",gameType:"puzzle"},{id:"bookshelf",name:{it:"Libreria",en:"Bookshelf"},icon:"",position:{x:75,y:35},size:"large",action:"story",story:{it:' "Un giorno, Moonlight scopr che la magia era dentro di lei..." ',en:' "One day, Moonlight discovered that magic was inside her all along..." '},reward:{happiness:5,xp:5}},{id:"toybox",name:{it:"Cesta dei Giochi",en:"Toy Box"},icon:"",position:{x:15,y:70},size:"medium",action:"mini-game",gameType:"memory"},{id:"music-box",name:{it:"Carillon",en:"Music Box"},icon:"",position:{x:50,y:25},size:"small",action:"reward",reward:{happiness:10,xp:3},cooldown:300},{id:"window",name:{it:"Finestra",en:"Window"},icon:"",position:{x:85,y:20},size:"large",action:"surprise",reward:{coins:5}}],kitchen:[{id:"fridge",name:{it:"Frigorifero",en:"Fridge"},icon:"",position:{x:20,y:40},size:"large",action:"surprise",reward:{coins:3}},{id:"recipe-book",name:{it:"Libro di Ricette",en:"Recipe Book"},icon:"",position:{x:60,y:50},size:"small",action:"mini-game",gameType:"quiz"},{id:"cookie-jar",name:{it:"Barattolo di Biscotti",en:"Cookie Jar"},icon:"",position:{x:80,y:35},size:"medium",action:"reward",reward:{happiness:8,xp:2},cooldown:180}],garden:[{id:"telescope",name:{it:"Telescopio",en:"Telescope"},icon:"",position:{x:70,y:30},size:"medium",action:"mini-game",gameType:"stars"},{id:"flower-pot",name:{it:"Vaso di Fiori",en:"Flower Pot"},icon:"",position:{x:30,y:65},size:"small",action:"reward",reward:{happiness:5,xp:3},cooldown:600},{id:"treehouse",name:{it:"Casa sull'Albero",en:"Treehouse"},icon:"",position:{x:15,y:25},size:"large",action:"story",story:{it:" Dalla casa sull'albero, Moonlight vede tutto il mondo magico! ",en:" From the treehouse, Moonlight can see the whole magical world! "},reward:{happiness:15}},{id:"butterfly",name:{it:"Farfalla",en:"Butterfly"},icon:"",position:{x:50,y:45},size:"small",action:"surprise"}],living:[{id:"tv",name:{it:"TV",en:"TV"},icon:"",position:{x:50,y:35},size:"large",action:"mini-game",gameType:"quiz"},{id:"piano",name:{it:"Pianoforte",en:"Piano"},icon:"",position:{x:20,y:60},size:"large",action:"reward",reward:{happiness:12,xp:8}},{id:"painting",name:{it:"Quadro",en:"Painting"},icon:"",position:{x:75,y:25},size:"medium",action:"mini-game",gameType:"drawing"}],bathroom:[{id:"rubber-duck",name:{it:"Paperella",en:"Rubber Duck"},icon:"",position:{x:35,y:55},size:"small",action:"surprise",reward:{happiness:5}},{id:"mirror",name:{it:"Specchio",en:"Mirror"},icon:"",position:{x:70,y:30},size:"medium",action:"story",story:{it:" Moonlight si guarda allo specchio e vede quanto  speciale! ",en:" Moonlight looks in the mirror and sees how special she is! "},reward:{happiness:8}},{id:"soap-bubbles",name:{it:"Bolle Sapone",en:"Soap Bubbles"},icon:"",position:{x:55,y:40},size:"medium",action:"mini-game",gameType:"stars"},{id:"toothbrush",name:{it:"Spazzolino",en:"Toothbrush"},icon:"",position:{x:20,y:35},size:"small",action:"reward",reward:{happiness:5,xp:2},cooldown:300},{id:"bath-toy-boat",name:{it:"Barchetta",en:"Toy Boat"},icon:"",position:{x:45,y:70},size:"small",action:"story",story:{it:" La barchetta naviga nelle onde della vasca! Splash splash! ",en:" The little boat sails through the bathtub waves! Splash splash! "},reward:{happiness:6}}],garage:[{id:"toolbox",name:{it:"Cassetta Attrezzi",en:"Toolbox"},icon:"",position:{x:25,y:50},size:"medium",action:"mini-game",gameType:"puzzle"},{id:"radio",name:{it:"Radio",en:"Radio"},icon:"",position:{x:70,y:40},size:"small",action:"reward",reward:{happiness:6}},{id:"toy-car",name:{it:"Macchinina",en:"Toy Car"},icon:"",position:{x:50,y:65},size:"medium",action:"story",story:{it:" Brum brum! Moonlight immagina di guidare in una gara! Che brivido! ",en:" Vroom vroom! Moonlight imagines racing in a big race! How thrilling! "},reward:{happiness:8}},{id:"bike",name:{it:"Bicicletta",en:"Bicycle"},icon:"",position:{x:80,y:55},size:"large",action:"reward",reward:{happiness:10,xp:5},cooldown:240},{id:"paint-cans",name:{it:"Barattoli Vernice",en:"Paint Cans"},icon:"",position:{x:15,y:35},size:"small",action:"mini-game",gameType:"drawing"}],shop:[{id:"mannequin",name:{it:"Manichino",en:"Mannequin"},icon:"",position:{x:40,y:45},size:"large",action:"surprise"},{id:"mirror-shop",name:{it:"Specchio Prova",en:"Fitting Mirror"},icon:"",position:{x:70,y:40},size:"large",action:"reward",reward:{happiness:8},cooldown:120},{id:"shoe-rack",name:{it:"Scaffale Scarpe",en:"Shoe Rack"},icon:"",position:{x:20,y:55},size:"medium",action:"mini-game",gameType:"memory"},{id:"jewelry-box",name:{it:"Portagioie",en:"Jewelry Box"},icon:"",position:{x:80,y:65},size:"small",action:"surprise",reward:{coins:5,happiness:5}}],supermarket:[{id:"cart",name:{it:"Carrello",en:"Cart"},icon:"",position:{x:60,y:60},size:"medium",action:"mini-game",gameType:"memory"},{id:"fruit-stand",name:{it:"Banco Frutta",en:"Fruit Stand"},icon:"",position:{x:25,y:40},size:"large",action:"reward",reward:{happiness:5,xp:3},cooldown:180},{id:"candy-shelf",name:{it:"Scaffale Dolci",en:"Candy Shelf"},icon:"",position:{x:80,y:45},size:"medium",action:"surprise",reward:{happiness:10}},{id:"fish-tank",name:{it:"Acquario",en:"Fish Tank"},icon:"",position:{x:50,y:30},size:"large",action:"story",story:{it:" Pesciolini colorati! Nuotano felici... Moonlight vorrebbe un amico pesce! ",en:" Colorful fish! They swim happily... Moonlight would love a fish friend! "},reward:{happiness:8}}],attic:[{id:"treasure-chest",name:{it:"Baule del Tesoro",en:"Treasure Chest"},icon:"",position:{x:50,y:45},size:"large",action:"reward",reward:{coins:15,happiness:15,xp:10},cooldown:600},{id:"old-photo-album",name:{it:"Album di Foto",en:"Photo Album"},icon:"",position:{x:25,y:40},size:"medium",action:"story",story:{it:" Moonlight da cucciola! Che ricordi meravigliosi... il primo bagnetto, le prime coccole! ",en:" Baby Moonlight! What wonderful memories... the first bath, the first cuddles! "},reward:{happiness:10}},{id:"dusty-mirror",name:{it:"Specchio Polveroso",en:"Dusty Mirror"},icon:"",position:{x:75,y:35},size:"medium",action:"surprise",reward:{xp:5}},{id:"old-toy-box",name:{it:"Scatola Giochi Vecchi",en:"Old Toy Box"},icon:"",position:{x:15,y:65},size:"medium",action:"mini-game",gameType:"puzzle"},{id:"cobweb",name:{it:"Ragnatela",en:"Cobweb"},icon:"",position:{x:85,y:20},size:"small",action:"surprise"},{id:"magic-book",name:{it:"Libro Magico",en:"Magic Book"},icon:"",position:{x:60,y:70},size:"medium",action:"story",story:{it:' "Chi trova questo libro trover la magia dentro di s..." - un antico incantesimo! ',en:' "Whoever finds this book shall find the magic within..." - an ancient spell! '},reward:{happiness:20,xp:15},unlockLevel:3}],basement:[{id:"workbench",name:{it:"Banco da Lavoro",en:"Workbench"},icon:"",position:{x:50,y:50},size:"large",action:"mini-game",gameType:"puzzle"},{id:"storage-boxes",name:{it:"Scatoloni",en:"Storage Boxes"},icon:"",position:{x:20,y:45},size:"large",action:"surprise",reward:{coins:5}},{id:"secret-door",name:{it:"Porta Segreta",en:"Secret Door"},icon:"",position:{x:80,y:40},size:"large",action:"story",story:{it:" Dietro questa porta... c' un passaggio segreto! Dove porter? Un giorno lo scopriremo! ",en:" Behind this door... there's a secret passage! Where does it lead? One day we'll find out! "},reward:{xp:20,happiness:15},unlockLevel:5},{id:"flashlight",name:{it:"Torcia",en:"Flashlight"},icon:"",position:{x:35,y:65},size:"small",action:"reward",reward:{happiness:5},cooldown:120},{id:"old-painting",name:{it:"Vecchio Dipinto",en:"Old Painting"},icon:"",position:{x:65,y:25},size:"medium",action:"mini-game",gameType:"drawing"},{id:"spider",name:{it:"Ragnetto",en:"Little Spider"},icon:"",position:{x:15,y:30},size:"small",action:"surprise"}],library:[{id:"onde-books",name:{it:"Libri Onde Kids",en:"Onde Kids Books"},icon:"",position:{x:20,y:40},size:"large",action:"mini-game",gameType:"library"},{id:"reading-nook",name:{it:"Angolo Lettura",en:"Reading Nook"},icon:"",position:{x:70,y:55},size:"large",action:"reward",reward:{happiness:15,xp:5},cooldown:300},{id:"globe",name:{it:"Mappamondo",en:"Globe"},icon:"",position:{x:80,y:30},size:"medium",action:"story",story:{it:" Il mondo  grande e pieno di avventure! Dove andremo? ",en:" The world is big and full of adventures! Where shall we go? "},reward:{xp:10}},{id:"magic-lamp",name:{it:"Lampada Magica",en:"Magic Lamp"},icon:"",position:{x:50,y:25},size:"small",action:"surprise",reward:{happiness:5,coins:3}},{id:"story-book",name:{it:"Libro di Storie",en:"Story Book"},icon:"",position:{x:35,y:60},size:"medium",action:"mini-game",gameType:"memory"},{id:"quiz-book",name:{it:"Quiz Time!",en:"Quiz Time!"},icon:"",position:{x:55,y:40},size:"medium",action:"mini-game",gameType:"quiz"}]},kb={it:[" Hai trovato una stella! +5 monete!"," Sorpresa! +10 felicit!"," Wow! Hai scoperto un segreto!"," Una farfalla magica ti saluta!"," Arcobaleno di fortuna! +3 XP!"," Quadrifoglio fortunato!"," Una melodia magica risuona..."],en:[" You found a star! +5 coins!"," Surprise! +10 happiness!"," Wow! You discovered a secret!"," A magical butterfly greets you!"," Rainbow of luck! +3 XP!"," Lucky four-leaf clover!"," A magical melody plays..."]};function Sb({room:n,lang:i,stats:a,onGameStart:l,onReward:c,onStory:u,playSound:p}){const[m,f]=x.useState({}),[g,y]=x.useState(null),[v,k]=x.useState(null),N=bb[n]||[],L=C=>{if(C.unlockLevel&&a.level<C.unlockLevel){k(i==="it"?` Sblocca al livello ${C.unlockLevel}!`:` Unlock at level ${C.unlockLevel}!`),setTimeout(()=>k(null),2e3),p("ui-error");return}const R=Date.now();if(C.cooldown&&m[C.id]&&R<m[C.id]){const A=Math.ceil((m[C.id]-R)/1e3);k(i==="it"?` Aspetta ${A}s...`:` Wait ${A}s...`),setTimeout(()=>k(null),1500),p("ui-error");return}switch(C.cooldown&&f(A=>({...A,[C.id]:R+C.cooldown*1e3})),y(C.id),p("ui-click"),C.action){case"mini-game":C.gameType&&setTimeout(()=>{l(C.gameType),y(null)},300);break;case"reward":C.reward&&(c(C.reward),k(i==="it"?` ${C.name.it}! ${C.reward.happiness?`+${C.reward.happiness} `:""} ${C.reward.coins?`+${C.reward.coins} `:""} ${C.reward.xp?`+${C.reward.xp} XP`:""}`:` ${C.name.en}! ${C.reward.happiness?`+${C.reward.happiness} `:""} ${C.reward.coins?`+${C.reward.coins} `:""} ${C.reward.xp?`+${C.reward.xp} XP`:""}`),p("coin-collect")),setTimeout(()=>{k(null),y(null)},2e3);break;case"story":C.story&&(u(C.story[i]),C.reward&&c(C.reward)),setTimeout(()=>y(null),300);break;case"surprise":const A=kb[i],S=A[Math.floor(Math.random()*A.length)];k(S);const I={coins:Math.random()>.5?Math.floor(Math.random()*5)+1:0,happiness:Math.random()>.5?Math.floor(Math.random()*8)+2:0,xp:Math.random()>.7?Math.floor(Math.random()*5)+1:0};c({...C.reward,...I}),p("ui-success"),setTimeout(()=>{k(null),y(null)},2500);break;case"achievement":y(null);break}},j=C=>{switch(C){case"small":return"object-small";case"large":return"object-large";default:return"object-medium"}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"interactive-objects-layer",children:N.map(C=>{const R=C.cooldown&&m[C.id]&&Date.now()<m[C.id],A=C.unlockLevel&&a.level<C.unlockLevel;return r.jsxs(P.button,{className:`interactive-object ${j(C.size)} ${g===C.id?"active":""} ${R?"cooldown":""} ${A?"locked":""}`,style:{left:`${C.position.x}%`,top:`${C.position.y}%`},onClick:()=>L(C),whileHover:{scale:1.2},whileTap:{scale:.9},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.1*N.indexOf(C),type:"spring"},children:[r.jsx("span",{className:"object-icon",children:C.icon}),r.jsx("span",{className:"object-label",children:C.name[i]}),C.action==="mini-game"&&r.jsx("span",{className:"object-badge",children:""}),A&&r.jsx("span",{className:"object-lock",children:""}),r.jsx("div",{className:"object-glow"})]},C.id)})}),r.jsx(Ne,{children:v&&r.jsx(P.div,{className:"surprise-popup glass-card",initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.8},children:v})})]})}const vf=["","","",""];function jb({isMoving:n,x:i,y:a,facingDirection:l}){const[c,u]=x.useState([]),[p,m]=x.useState(0),f=x.useCallback(()=>{const g=Date.now();if(g-p<80)return;m(g);const y=l==="right"?-8:8,v={id:g+Math.random(),x:i+y+(Math.random()-.5)*10,y:a+5+Math.random()*5,emoji:vf[Math.floor(Math.random()*vf.length)],scale:.6+Math.random()*.6,duration:.6+Math.random()*.4};u(k=>[...k,v].slice(-12))},[i,a,l,p]);return x.useEffect(()=>{if(!n)return;f();const g=setInterval(f,100);return()=>clearInterval(g)},[n,f]),x.useEffect(()=>{const g=setInterval(()=>{const y=Date.now();u(v=>v.filter(k=>y-k.id<1500))},500);return()=>clearInterval(g)},[]),r.jsx("div",{className:"movement-particles",style:{pointerEvents:"none"},children:r.jsx(Ne,{children:c.map(g=>r.jsx(P.div,{className:"movement-particle",initial:{opacity:1,scale:g.scale,x:0,y:0},animate:{opacity:0,scale:0,y:-30,x:(Math.random()-.5)*20},exit:{opacity:0},transition:{duration:g.duration,ease:"easeOut"},style:{position:"absolute",left:`${g.x}%`,top:`${g.y}%`,fontSize:`${12+g.scale*8}px`,filter:"drop-shadow(0 0 4px rgba(255, 215, 0, 0.8))",zIndex:50},children:g.emoji},g.id))})})}const Cb={floor:{colors:["rgba(139, 119, 101, 0.6)","rgba(169, 149, 131, 0.5)","rgba(189, 169, 151, 0.4)"],emoji:["",""],type:"dust"},grass:{colors:["rgba(76, 175, 80, 0.5)","rgba(102, 187, 106, 0.4)","rgba(129, 199, 132, 0.3)"],emoji:["","",""],type:"grass"},stone:{colors:["rgba(158, 158, 158, 0.5)","rgba(189, 189, 189, 0.4)","rgba(117, 117, 117, 0.5)"],emoji:["",""],type:"dust"},water:{colors:["rgba(100, 181, 246, 0.5)","rgba(129, 212, 250, 0.4)","rgba(79, 195, 247, 0.3)"],emoji:["","",""],type:"sparkle"}},wf=150;function Nb({isMoving:n,x:i,y:a,facingDirection:l,surfaceType:c="floor"}){const[u,p]=x.useState([]),[m,f]=x.useState(0),g=Cb[c],y=x.useCallback(()=>{const k=Date.now();if(k-m<wf)return;f(k);const N=l==="right"?-3:3,L=a+8,j={id:k+Math.random(),x:i+N+(Math.random()-.5)*4,y:L+Math.random()*2,size:.5+Math.random()*.5,color:g.colors[Math.floor(Math.random()*g.colors.length)],opacity:.5+Math.random()*.3,type:g.type};p(C=>[...C,j].slice(-8))},[i,a,l,m,g]);x.useEffect(()=>{if(!n)return;y();const k=setInterval(y,wf);return()=>clearInterval(k)},[n,y]),x.useEffect(()=>{const k=setInterval(()=>{const N=Date.now();p(L=>L.filter(j=>N-j.id<800))},300);return()=>clearInterval(k)},[]);const v=()=>Math.random()>.3?null:g.emoji[Math.floor(Math.random()*g.emoji.length)];return r.jsx("div",{className:"footstep-dust-puffs",style:{pointerEvents:"none"},children:r.jsx(Ne,{children:u.map(k=>{const N=v();return r.jsxs(P.div,{className:"dust-puff",initial:{opacity:k.opacity,scale:.3,x:0,y:0},animate:{opacity:0,scale:k.size*1.8,y:k.type==="grass"?-15:-8,x:(Math.random()-.5)*15},exit:{opacity:0,scale:0},transition:{duration:.4+Math.random()*.2,ease:"easeOut"},style:{position:"absolute",left:`${k.x}%`,top:`${k.y}%`,zIndex:45},children:[r.jsx("div",{style:{width:`${20+k.size*15}px`,height:`${15+k.size*10}px`,borderRadius:"50%",backgroundColor:k.color,filter:`blur(${2+k.size*2}px)`}}),N&&r.jsx(P.span,{initial:{opacity:.8,scale:.6,y:0},animate:{opacity:0,scale:1,y:-20},transition:{duration:.5},style:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",fontSize:"10px"},children:N})]},k.id)})})})}const bf=[{id:"meditations-en",title:{it:"Meditazioni",en:"Meditations"},description:{it:"La saggezza senza tempo di Marco Aurelio per vivere con coraggio e serenit.",en:"Timeless wisdom from Marcus Aurelius on living with courage and tranquility."},cover:"/images/books/meditations-cover.jpg",author:"Marcus Aurelius",ageRange:"12+",price:0,coinPrice:0,pages:120,freePreview:10,storeUrl:"https://onde.la/libro/meditations-en",color:"#2C3E50",category:"spiritual"},{id:"meditations-it",title:{it:"Meditazioni",en:"Meditations (Italian)"},description:{it:"La saggezza senza tempo di Marco Aurelio per vivere con coraggio e serenit.",en:"Timeless wisdom from Marcus Aurelius. Italian edition."},cover:"/images/books/meditations-cover.jpg",author:"Marco Aurelio",ageRange:"12+",price:0,coinPrice:0,pages:120,freePreview:10,storeUrl:"https://onde.la/libro/meditations-it",color:"#8E44AD",category:"spiritual"},{id:"shepherds-promise",title:{it:"La Promessa del Pastore",en:"The Shepherd's Promise"},description:{it:"Una dolce interpretazione del Salmo 23 con bellissime illustrazioni.",en:"A gentle retelling of Psalm 23 with beautiful illustrations."},cover:"/books/shepherds-promise-cover.jpg",author:"Onde",ageRange:"4-10",price:0,coinPrice:0,pages:32,freePreview:10,storeUrl:"https://onde.la/libro/shepherds-promise",color:"#27AE60",category:"spiritual"}],kf={"meditations-en":[{it:"Inizia ogni mattino dicendoti: oggi incontrer...",en:"Begin each day by telling yourself: Today I shall meet..."},{it:"L'impedimento all'azione fa avanzare l'azione.",en:"The impediment to action advances action."},{it:"Non perdere tempo a discutere su cosa dovrebbe essere un brav'uomo. Sii uno.",en:"Waste no more time arguing about what a good man should be. Be one."},{it:"La felicit della tua vita dipende dalla qualit dei tuoi pensieri.",en:"The happiness of your life depends upon the quality of your thoughts."},{it:"Ricevi senza superbia, lascia andare senza attaccamento.",en:"Receive without pride, let go without attachment."}],"meditations-it":[{it:"Inizia ogni mattino dicendoti: oggi incontrer...",en:"Begin each day by telling yourself: Today I shall meet..."},{it:"L'impedimento all'azione fa avanzare l'azione.",en:"The impediment to action advances action."},{it:"Non perdere tempo a discutere su cosa dovrebbe essere un brav'uomo. Sii uno.",en:"Waste no more time arguing about what a good man should be. Be one."},{it:"La felicit della tua vita dipende dalla qualit dei tuoi pensieri.",en:"The happiness of your life depends upon the quality of your thoughts."},{it:"Ricevi senza superbia, lascia andare senza attaccamento.",en:"Receive without pride, let go without attachment."}],"shepherds-promise":[{it:"Il Signore  il mio pastore, non mi manca nulla...",en:"The Lord is my shepherd, I shall not want..."},{it:"Mi fa riposare in verdi pascoli...",en:"He makes me lie down in green pastures..."},{it:"Mi conduce presso acque tranquille...",en:"He leads me beside quiet waters..."},{it:"Rinfranca l'anima mia...",en:"He refreshes my soul..."},{it:"Anche se cammino in una valle oscura, non temo alcun male...",en:"Even though I walk through the darkest valley, I will fear no evil..."}]};function Tb({lang:n,coins:i,onUnlockBook:a,onBack:l,unlockedBooks:c,onReward:u}){const[p,m]=x.useState(null),[f,g]=x.useState(0),[y,v]=x.useState(!0),k=A=>{m(A),g(0),v(!1)},N=A=>{i>=A.coinPrice&&a(A.id,A.coinPrice)},L=()=>{if(!p)return;const A=kf[p.id]||[],S=c.includes(p.id)?A.length:p.freePreview;f<S-1&&g(I=>I+1)},j=()=>{f>0&&g(A=>A-1)},C=()=>{u({happiness:20,xp:15,health:10,coins:5}),m(null),v(!0)},R=A=>{window.open(A.storeUrl,"_blank")};if(y)return r.jsxs(P.div,{className:"library-books-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[r.jsxs("div",{className:"library-header glass-card",children:[r.jsx("button",{className:"back-btn",onClick:l,children:" "}),r.jsxs("h1",{className:"library-title",children:[" ",n==="it"?"Biblioteca di Luna":"Luna's Library"]}),r.jsxs("div",{className:"coins-display",children:[r.jsx("span",{className:"coin-icon",children:""}),r.jsx("span",{children:i})]})]}),r.jsxs("div",{className:"bookshelf",children:[r.jsx("div",{className:"shelf-row",children:bf.slice(0,4).map((A,S)=>r.jsxs(P.button,{className:"book-spine",style:{backgroundColor:A.color},onClick:()=>k(A),initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:S*.1},whileHover:{y:-10,scale:1.05},whileTap:{scale:.95},children:[r.jsx("span",{className:"book-spine-title",children:A.title[n]}),c.includes(A.id)&&r.jsx("span",{className:"book-unlocked-badge",children:""})]},A.id))}),r.jsx("div",{className:"shelf-wood"}),r.jsx("div",{className:"shelf-row",children:bf.slice(4).map((A,S)=>r.jsxs(P.button,{className:"book-spine",style:{backgroundColor:A.color},onClick:()=>k(A),initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:(S+4)*.1},whileHover:{y:-10,scale:1.05},whileTap:{scale:.95},children:[r.jsx("span",{className:"book-spine-title",children:A.title[n]}),c.includes(A.id)&&r.jsx("span",{className:"book-unlocked-badge",children:""})]},A.id))}),r.jsx("div",{className:"shelf-wood"})]}),r.jsx("p",{className:"library-hint",children:n==="it"?" Tocca un libro per leggerlo!":" Tap a book to read it!"}),r.jsxs("div",{className:"luna-reading",children:[r.jsx("img",{src:"/assets/character/luna-happy.svg",alt:"Luna",className:"luna-library-img"}),r.jsx("div",{className:"luna-speech-bubble",children:n==="it"?'"Quale libro leggiamo oggi?" ':'"Which book shall we read today?" '})]})]});if(p){const A=kf[p.id]||[],S=c.includes(p.id),I=S?A.length:p.freePreview,M=f>=I-1,V=!S&&f>=p.freePreview-1;return r.jsxs(P.div,{className:"book-reader-container",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[r.jsxs("div",{className:"book-reader-header glass-card",children:[r.jsx("button",{className:"back-btn",onClick:()=>{m(null),v(!0)},children:" "}),r.jsx("h2",{className:"book-reader-title",children:p.title[n]}),r.jsxs("span",{className:"page-counter",children:[f+1," / ",I]})]}),r.jsxs("div",{className:"book-open",children:[r.jsxs("div",{className:"book-page left-page",children:[f>0&&r.jsx("p",{className:"page-text",children:A[f-1]?.[n]}),f===0&&r.jsxs("div",{className:"book-cover-mini",children:[r.jsx("span",{className:"cover-emoji",children:""}),r.jsx("h3",{children:p.title[n]}),r.jsx("p",{className:"book-author",children:p.author})]})]}),r.jsx("div",{className:"book-spine-center"}),r.jsx("div",{className:"book-page right-page",children:r.jsx(Ne,{mode:"wait",children:r.jsx(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"page-content",children:V?r.jsxs("div",{className:"unlock-prompt",children:[r.jsx("span",{className:"lock-icon",children:""}),r.jsx("p",{children:n==="it"?"Sblocca il libro completo!":"Unlock the full book!"}),r.jsxs("div",{className:"unlock-options",children:[r.jsxs("button",{className:"unlock-btn coins-btn",onClick:()=>N(p),disabled:i<p.coinPrice,children:[" ",p.coinPrice," ",n==="it"?"monete":"coins"]}),r.jsx("span",{className:"or-text",children:n==="it"?"oppure":"or"}),r.jsxs("button",{className:"unlock-btn buy-btn",onClick:()=>R(p),children:[" ",p.price.toFixed(2)]})]})]}):r.jsx("p",{className:"page-text",children:A[f]?.[n]})},f)})})]}),r.jsxs("div",{className:"book-navigation",children:[r.jsxs("button",{className:"nav-btn prev-btn",onClick:j,disabled:f===0,children:[" ",n==="it"?"Indietro":"Back"]}),M&&!V?r.jsxs("button",{className:"nav-btn finish-btn",onClick:C,children:[" ",n==="it"?"Fine!":"The End!"]}):r.jsxs("button",{className:"nav-btn next-btn",onClick:L,disabled:V,children:[n==="it"?"Avanti":"Next"," "]})]}),r.jsxs("div",{className:"book-info glass-card",children:[r.jsxs("span",{children:[" ",p.ageRange," ",n==="it"?"anni":"years"]}),r.jsxs("span",{children:[" ",p.pages," ",n==="it"?"pagine":"pages"]}),r.jsx("span",{className:"category-badge",children:Mb(p.category)})]})]})}return null}function Mb(n){return{tech:"",spiritual:"",poetry:"",growth:"",mindfulness:"",sensory:""}[n]||""}function Pb({isHappy:n,isIdle:i,onWagComplete:a}){const[l,c]=x.useState(!1),[u,p]=x.useState(0),m=4;x.useEffect(()=>{(n||i)&&!l&&u===0&&c(!0)},[n,i,l,u]);const f=()=>{p(y=>{const v=y+1;return v>=m?(c(!1),a?.(),setTimeout(()=>p(0),3e3),0):v})},g={idle:{rotate:0,scale:1},wagging:{rotate:[-20,25,-20],scale:[1,1.05,1],transition:{duration:.3,ease:"easeInOut",repeat:0}}};return r.jsx(Ne,{children:l&&r.jsxs(P.div,{className:"tail-wag-container",style:{position:"absolute",bottom:"-5%",left:"50%",transformOrigin:"top center",zIndex:10,pointerEvents:"none"},children:[r.jsx(P.div,{className:"luna-tail",variants:g,initial:"idle",animate:"wagging",onAnimationComplete:f,style:{fontSize:"1.5rem",filter:"drop-shadow(0 0 4px rgba(255, 200, 100, 0.6))"},children:""}),u>0&&r.jsx(P.span,{initial:{opacity:1,scale:.5,y:0},animate:{opacity:0,scale:1.2,y:-20},transition:{duration:.4},style:{position:"absolute",fontSize:"0.8rem"},children:""})]})})}const ie={light:()=>{"vibrate"in navigator&&navigator.vibrate(10)},medium:()=>{"vibrate"in navigator&&navigator.vibrate(25)},heavy:()=>{"vibrate"in navigator&&navigator.vibrate(50)},success:()=>{"vibrate"in navigator&&navigator.vibrate([30,50,30])},double:()=>{"vibrate"in navigator&&navigator.vibrate([15,30,15])},error:()=>{"vibrate"in navigator&&navigator.vibrate([50,30,50])}},ot="/static-games/moonlight-magic-house/",yr={shy:{trait:"shy",emoji:"",label:{it:"Timido",en:"Shy"},description:{it:"Luna  un po' timida, ma quando si apre  dolcissima!",en:"Luna is a bit shy, but super sweet once she opens up!"},happinessMultiplier:.8,energyMultiplier:.9,socialBonus:1.5,specialBehavior:"hides_sometimes"},playful:{trait:"playful",emoji:"",label:{it:"Giocherellone",en:"Playful"},description:{it:"Luna adora giocare e fare birichinate!",en:"Luna loves to play and cause mischief!"},happinessMultiplier:1.3,energyMultiplier:1.2,socialBonus:1,specialBehavior:"bounces_around"},lazy:{trait:"lazy",emoji:"",label:{it:"Pigrotto",en:"Lazy"},description:{it:"Luna ama dormire e rilassarsi tutto il giorno!",en:"Luna loves to sleep and relax all day!"},happinessMultiplier:1,energyMultiplier:.7,socialBonus:1.2,specialBehavior:"sleeps_more"}},Rb=()=>{const n=["shy","playful","lazy"];return n[Math.floor(Math.random()*n.length)]},ui=[{id:"ball",name:{it:"Pallina",en:"Ball"},icon:"",description:{it:"Una pallina colorata da rincorrere!",en:"A colorful ball to chase!"},happinessBoost:15,energyCost:10,animation:"bounce",rarity:"common",unlockMethod:"default"},{id:"yarn",name:{it:"Gomitolo",en:"Yarn Ball"},icon:"",description:{it:"Un morbido gomitolo di lana",en:"A soft yarn ball"},happinessBoost:12,energyCost:8,animation:"spin",rarity:"common",unlockMethod:"default"},{id:"feather",name:{it:"Piuma",en:"Feather"},icon:"",description:{it:"Una piuma leggera che danza nell'aria",en:"A light feather dancing in the air"},happinessBoost:10,energyCost:5,animation:"wiggle",rarity:"common",unlockMethod:"default"},{id:"mouse",name:{it:"Topolino",en:"Toy Mouse"},icon:"",description:{it:"Un topolino giocattolo che scappa!",en:"A toy mouse that runs away!"},happinessBoost:20,energyCost:15,animation:"chase",rarity:"rare",unlockMethod:"level",unlockLevel:2},{id:"laser",name:{it:"Laser",en:"Laser Pointer"},icon:"",description:{it:"Un puntino rosso misterioso!",en:"A mysterious red dot!"},happinessBoost:25,energyCost:12,animation:"chase",rarity:"rare",unlockMethod:"level",unlockLevel:3},{id:"fish",name:{it:"Pesciolino",en:"Fish Toy"},icon:"",description:{it:"Un pesciolino che si muove!",en:"A wiggly fish toy!"},happinessBoost:18,energyCost:10,animation:"wiggle",rarity:"rare",unlockMethod:"level",unlockLevel:4},{id:"butterfly",name:{it:"Farfalla",en:"Butterfly"},icon:"",description:{it:"Una farfalla colorata da inseguire",en:"A colorful butterfly to chase"},happinessBoost:22,energyCost:14,animation:"wiggle",rarity:"rare",unlockMethod:"shop",price:50},{id:"bell",name:{it:"Campanellino",en:"Bell"},icon:"",description:{it:"Un campanellino che tintinna!",en:"A jingling little bell!"},happinessBoost:16,energyCost:8,animation:"bounce",rarity:"common",unlockMethod:"shop",price:30},{id:"robot",name:{it:"Robottino",en:"Robot"},icon:"",description:{it:"Un robottino interattivo!",en:"An interactive little robot!"},happinessBoost:28,energyCost:18,animation:"spin",rarity:"rare",unlockMethod:"shop",price:80},{id:"unicorn",name:{it:"Unicorno",en:"Unicorn"},icon:"",description:{it:"Un magico unicorno peluche!",en:"A magical unicorn plushie!"},happinessBoost:35,energyCost:20,animation:"sparkle",rarity:"legendary",unlockMethod:"level",unlockLevel:5},{id:"dragon",name:{it:"Draghetto",en:"Dragon"},icon:"",description:{it:"Un draghetto che sputa stelle!",en:"A dragon that breathes stars!"},happinessBoost:40,energyCost:25,animation:"sparkle",rarity:"legendary",unlockMethod:"shop",price:150},{id:"rainbow",name:{it:"Arcobaleno",en:"Rainbow"},icon:"",description:{it:"Un arcobaleno magico!",en:"A magical rainbow!"},happinessBoost:50,energyCost:30,animation:"sparkle",rarity:"legendary",unlockMethod:"level",unlockLevel:7},{id:"catnip",name:{it:"Erba Gatta",en:"Catnip"},icon:"",description:{it:"Luna diventa PAZZA! ",en:"Luna goes CRAZY! "},happinessBoost:60,energyCost:5,animation:"crazy",rarity:"legendary",unlockMethod:"shop",price:75}],Ia=[{id:"kibble",name:{it:"Croccantini",en:"Kibble"},icon:"",description:{it:"Croccantini classici, buoni e sani!",en:"Classic kibble, tasty and healthy!"},price:5,hungerRestore:20,happinessBoost:5,weightGain:1,rarity:"common"},{id:"milk",name:{it:"Latte",en:"Milk"},icon:"",description:{it:"Latte fresco e nutriente",en:"Fresh and nutritious milk"},price:8,hungerRestore:15,happinessBoost:8,weightGain:2,rarity:"common"},{id:"cookie",name:{it:"Biscottino",en:"Cookie"},icon:"",description:{it:"Un dolce biscottino per premiare Luna!",en:"A sweet cookie to reward Luna!"},price:10,hungerRestore:10,happinessBoost:15,weightGain:3,rarity:"common"},{id:"apple",name:{it:"Mela",en:"Apple"},icon:"",description:{it:"Una mela croccante e sana",en:"A crunchy, healthy apple"},price:6,hungerRestore:12,happinessBoost:6,weightGain:0,rarity:"common"},{id:"carrot",name:{it:"Carota",en:"Carrot"},icon:"",description:{it:"Una carota fresca - buona per la vista!",en:"A fresh carrot - good for eyesight!"},price:5,hungerRestore:10,happinessBoost:5,weightGain:0,rarity:"common"},{id:"fish",name:{it:"Pesciolino",en:"Fish"},icon:"",description:{it:"Pesce fresco - il preferito di Luna!",en:"Fresh fish - Luna's favorite!"},price:20,hungerRestore:30,happinessBoost:20,weightGain:2,rarity:"rare",unlockLevel:2},{id:"chicken",name:{it:"Pollo",en:"Chicken"},icon:"",description:{it:"Pollo arrosto delizioso!",en:"Delicious roasted chicken!"},price:25,hungerRestore:35,happinessBoost:18,weightGain:3,rarity:"rare",unlockLevel:2},{id:"cheese",name:{it:"Formaggio",en:"Cheese"},icon:"",description:{it:"Formaggio saporito!",en:"Tasty cheese!"},price:18,hungerRestore:18,happinessBoost:22,weightGain:4,rarity:"rare",unlockLevel:3},{id:"shrimp",name:{it:"Gamberetto",en:"Shrimp"},icon:"",description:{it:"Gamberetti freschi dal mare!",en:"Fresh shrimp from the sea!"},price:30,hungerRestore:25,happinessBoost:25,weightGain:1,rarity:"rare",unlockLevel:3},{id:"icecream",name:{it:"Gelato",en:"Ice Cream"},icon:"",description:{it:"Gelato speciale - solo ogni tanto!",en:"Special ice cream - only sometimes!"},price:22,hungerRestore:8,happinessBoost:30,weightGain:5,rarity:"rare",unlockLevel:2},{id:"sushi",name:{it:"Sushi",en:"Sushi"},icon:"",description:{it:"Sushi premium per gatti raffinati!",en:"Premium sushi for refined cats!"},price:50,hungerRestore:40,happinessBoost:35,weightGain:2,rarity:"premium",unlockLevel:4},{id:"steak",name:{it:"Bistecca",en:"Steak"},icon:"",description:{it:"Bistecca succulenta di prima qualit!",en:"Succulent first-quality steak!"},price:60,hungerRestore:50,happinessBoost:30,weightGain:4,rarity:"premium",unlockLevel:5},{id:"cake",name:{it:"Torta",en:"Cake"},icon:"",description:{it:"Torta per occasioni speciali!",en:"Cake for special occasions!"},price:45,hungerRestore:15,happinessBoost:50,weightGain:6,rarity:"premium",unlockLevel:4,special:!0},{id:"salmon",name:{it:"Salmone",en:"Salmon"},icon:"",description:{it:"Salmone fresco dell'Alaska!",en:"Fresh Alaskan salmon!"},price:55,hungerRestore:45,happinessBoost:40,weightGain:2,rarity:"premium",unlockLevel:5},{id:"tuna",name:{it:"Tonno",en:"Tuna"},icon:"",description:{it:"Tonno di alta qualit!",en:"High-quality tuna!"},price:40,hungerRestore:40,happinessBoost:35,weightGain:1,rarity:"premium",unlockLevel:4},{id:"rainbow-fish",name:{it:"Pesce Arcobaleno",en:"Rainbow Fish"},icon:"",description:{it:"Pesce magico che fa brillare Luna!",en:"Magic fish that makes Luna glow!"},price:100,hungerRestore:60,happinessBoost:60,weightGain:0,rarity:"premium",unlockLevel:7,special:!0},{id:"star-treat",name:{it:"Bocconcino Stellare",en:"Star Treat"},icon:"",description:{it:"Un bocconcino che brilla come una stella!",en:"A treat that shines like a star!"},price:80,hungerRestore:50,happinessBoost:50,weightGain:0,rarity:"premium",unlockLevel:6,special:!0}],Eb={sleep:{emoji:"",label:{it:"Riposo",en:"Rest"}},eat:{emoji:"",label:{it:"Mangiato",en:"Ate"}},play:{emoji:"",label:{it:"Giocato",en:"Played"}},bath:{emoji:"",label:{it:"Bagno",en:"Bath"}},explore:{emoji:"",label:{it:"Esplorato",en:"Explored"}},shop:{emoji:"",label:{it:"Shopping",en:"Shopping"}},pet:{emoji:"",label:{it:"Coccole",en:"Cuddles"}},brush:{emoji:"",label:{it:"Spazzolata",en:"Brushed"}},toy:{emoji:"",label:{it:"Giocattolo",en:"Toy"}},train:{emoji:"",label:{it:"Allenamento",en:"Training"}},game:{emoji:"",label:{it:"Mini-gioco",en:"Mini-game"}},treasure:{emoji:"",label:{it:"Tesoro",en:"Treasure"}},read:{emoji:"",label:{it:"Lettura",en:"Reading"}}},id=[{id:"sit",name:{it:"Seduto",en:"Sit"},emoji:"",description:{it:"Luna si siede a comando!",en:"Luna sits on command!"},difficulty:"easy",xpReward:25,unlockLevel:1,sequence:[""]},{id:"paw",name:{it:"Zampa",en:"Paw"},emoji:"",description:{it:"Luna d la zampa!",en:"Luna gives her paw!"},difficulty:"easy",xpReward:25,unlockLevel:1,sequence:[""]},{id:"meow",name:{it:"Miao",en:"Meow"},emoji:"",description:{it:"Luna miagola su richiesta!",en:"Luna meows on request!"},difficulty:"easy",xpReward:30,unlockLevel:1,sequence:[""]},{id:"spin",name:{it:"Gira",en:"Spin"},emoji:"",description:{it:"Luna gira su se stessa!",en:"Luna spins around!"},difficulty:"medium",xpReward:50,unlockLevel:2,sequence:["","","",""]},{id:"jump",name:{it:"Salta",en:"Jump"},emoji:"",description:{it:"Luna salta in alto!",en:"Luna jumps high!"},difficulty:"medium",xpReward:50,unlockLevel:2,sequence:["",""]},{id:"wave",name:{it:"Saluta",en:"Wave"},emoji:"",description:{it:"Luna saluta con la zampa!",en:"Luna waves hello!"},difficulty:"medium",xpReward:55,unlockLevel:3,sequence:["","",""]},{id:"roll",name:{it:"Rotola",en:"Roll Over"},emoji:"",description:{it:"Luna fa una capriola!",en:"Luna rolls over!"},difficulty:"medium",xpReward:60,unlockLevel:3,sequence:["","","",""]},{id:"playdead",name:{it:"Fai il Morto",en:"Play Dead"},emoji:"",description:{it:"Luna si finge addormentata!",en:"Luna pretends to sleep!"},difficulty:"hard",xpReward:80,unlockLevel:4,sequence:["","","",""]},{id:"dance",name:{it:"Balla",en:"Dance"},emoji:"",description:{it:"Luna balla felice!",en:"Luna dances happily!"},difficulty:"hard",xpReward:100,unlockLevel:5,sequence:["","","","",""]},{id:"backflip",name:{it:"Salto Mortale",en:"Backflip"},emoji:"",description:{it:"Luna fa un salto mortale!",en:"Luna does a backflip!"},difficulty:"hard",xpReward:120,unlockLevel:6,sequence:["","","","",""]},{id:"magic",name:{it:"Magia",en:"Magic Trick"},emoji:"",description:{it:"Luna fa apparire scintille!",en:"Luna makes sparkles appear!"},difficulty:"hard",xpReward:150,unlockLevel:7,sequence:["","","","","",""]}],kr=[{id:"luna",name:{it:"Luna",en:"Luna"},emoji:"",description:{it:"La tua amica gattina magica! Vive nella Moonlight House.",en:"Your magical kitten friend! Lives in the Moonlight House."},rarity:"legendary",unlockCondition:"start"},{id:"pip",name:{it:"Pip",en:"Pip"},emoji:"",description:{it:"Un uccellino curioso che visita il giardino.",en:"A curious little bird that visits the garden."},rarity:"common",unlockCondition:"room",unlockRoom:"garden"},{id:"whiskers",name:{it:"Baffi",en:"Whiskers"},emoji:"",description:{it:"Un cricetino peloso che ama le coccole.",en:"A fluffy hamster who loves cuddles."},rarity:"common",unlockCondition:"level",unlockLevel:2},{id:"goldie",name:{it:"Dorina",en:"Goldie"},emoji:"",description:{it:"Un pesciolino dorato che nuota in tondo.",en:"A golden fish that swims in circles."},rarity:"common",unlockCondition:"room",unlockRoom:"bathroom"},{id:"buzzy",name:{it:"Ronzino",en:"Buzzy"},emoji:"",description:{it:"Un'ape operosa dal giardino.",en:"A busy bee from the garden."},rarity:"common",unlockCondition:"room",unlockRoom:"garden"},{id:"spots",name:{it:"Macchie",en:"Spots"},emoji:"",description:{it:"Una coccinella portafortuna!",en:"A lucky ladybug!"},rarity:"common",unlockCondition:"random",unlockChance:.1},{id:"nibbles",name:{it:"Rosetta",en:"Nibbles"},emoji:"",description:{it:"Un coniglietto che salta qua e l.",en:"A bunny that hops around."},rarity:"common",unlockCondition:"level",unlockLevel:3},{id:"hooty",name:{it:"Gufetto",en:"Hooty"},emoji:"",description:{it:"Un gufo saggio che appare di notte.",en:"A wise owl that appears at night."},rarity:"rare",unlockCondition:"room",unlockRoom:"attic"},{id:"flutter",name:{it:"Farfallina",en:"Flutter"},emoji:"",description:{it:"Una farfalla magica dai colori brillanti.",en:"A magical butterfly with brilliant colors."},rarity:"rare",unlockCondition:"level",unlockLevel:4},{id:"sheldon",name:{it:"Tartino",en:"Sheldon"},emoji:"",description:{it:"Una tartaruga saggia e paziente.",en:"A wise and patient turtle."},rarity:"rare",unlockCondition:"level",unlockLevel:5},{id:"sparkle",name:{it:"Scintilla",en:"Sparkle"},emoji:"",description:{it:"Un camaleonte che cambia colore!",en:"A chameleon that changes colors!"},rarity:"rare",unlockCondition:"random",unlockChance:.05},{id:"paws",name:{it:"Zampette",en:"Paws"},emoji:"",description:{it:"Un cagnolino fedele e giocherellone.",en:"A loyal and playful puppy."},rarity:"rare",unlockCondition:"room",unlockRoom:"living"},{id:"phoenix",name:{it:"Fiamma",en:"Phoenix"},emoji:"",description:{it:"Un uccello di fuoco leggendario!",en:"A legendary fire bird!"},rarity:"legendary",unlockCondition:"level",unlockLevel:7},{id:"shadow",name:{it:"Ombra",en:"Shadow"},emoji:"",description:{it:"Un misterioso gatto nero con poteri magici.",en:"A mysterious black cat with magic powers."},rarity:"legendary",unlockCondition:"random",unlockChance:.02},{id:"coral",name:{it:"Corallo",en:"Coral"},emoji:"",description:{it:"Un polpo intelligentissimo!",en:"A super smart octopus!"},rarity:"legendary",unlockCondition:"level",unlockLevel:8},{id:"starlight",name:{it:"Stellina",en:"Starlight"},emoji:"",description:{it:"Un unicorno magico che brilla nella notte!",en:"A magical unicorn that glows at night!"},rarity:"mythic",unlockCondition:"level",unlockLevel:10},{id:"draco",name:{it:"Draghino",en:"Draco"},emoji:"",description:{it:"Un draghetto amichevole che sputa scintille!",en:"A friendly dragon that breathes sparkles!"},rarity:"mythic",unlockCondition:"secret"},{id:"aurora",name:{it:"Aurora",en:"Aurora"},emoji:"",description:{it:"Un pavone dai colori dell'arcobaleno.",en:"A peacock with rainbow colors."},rarity:"mythic",unlockCondition:"random",unlockChance:.01}],Ab=()=>{const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let i="";for(let a=0;a<8;a++)i+=n.charAt(Math.floor(Math.random()*n.length));return`${i.slice(0,4)}-${i.slice(4)}`},Sf=[{id:"flower",name:{it:"Fiore",en:"Flower"},icon:"",description:{it:"Un bel fiore profumato!",en:"A lovely fragrant flower!"},cost:10,rarity:"common",animation:"float"},{id:"heart",name:{it:"Cuoricino",en:"Little Heart"},icon:"",description:{it:"Un cuore pieno d'amore",en:"A heart full of love"},cost:10,rarity:"common",animation:"hearts"},{id:"cookie",name:{it:"Biscottino",en:"Cookie"},icon:"",description:{it:"Un dolce biscotto!",en:"A sweet cookie!"},cost:15,rarity:"common",animation:"bounce"},{id:"balloon",name:{it:"Palloncino",en:"Balloon"},icon:"",description:{it:"Un palloncino colorato!",en:"A colorful balloon!"},cost:15,rarity:"common",animation:"float"},{id:"star",name:{it:"Stellina",en:"Little Star"},icon:"",description:{it:"Una stella brillante",en:"A shining star"},cost:20,rarity:"common",animation:"spin"},{id:"teddy",name:{it:"Orsetto",en:"Teddy Bear"},icon:"",description:{it:"Un orsetto morbidoso!",en:"A cuddly teddy bear!"},cost:35,rarity:"rare",animation:"bounce"},{id:"butterfly",name:{it:"Farfalla",en:"Butterfly"},icon:"",description:{it:"Una farfalla magica!",en:"A magical butterfly!"},cost:40,rarity:"rare",animation:"float"},{id:"cake",name:{it:"Tortina",en:"Cupcake"},icon:"",description:{it:"Una tortina deliziosa!",en:"A delicious cupcake!"},cost:45,rarity:"rare",animation:"sparkle"},{id:"fish",name:{it:"Pesciolino",en:"Fish"},icon:"",description:{it:"Un pesciolino fresco!",en:"A fresh little fish!"},cost:50,rarity:"rare",animation:"bounce"},{id:"rainbow",name:{it:"Arcobaleno",en:"Rainbow"},icon:"",description:{it:"Un arcobaleno magico!",en:"A magical rainbow!"},cost:80,rarity:"legendary",animation:"sparkle"},{id:"unicorn",name:{it:"Unicorno",en:"Unicorn"},icon:"",description:{it:"Un unicorno leggendario!",en:"A legendary unicorn!"},cost:100,rarity:"legendary",animation:"sparkle"},{id:"crown",name:{it:"Corona",en:"Crown"},icon:"",description:{it:"Una corona regale!",en:"A royal crown!"},cost:120,rarity:"legendary",animation:"spin"}],Lb=[{id:"feed-3",type:"feed",icon:"",name:{it:"Pappa Pronta",en:"Meal Time"},description:{it:"Dai da mangiare 3 volte",en:"Feed 3 times"},target:3,reward:{coins:30,xp:25}},{id:"sleep-2",type:"sleep",icon:"",name:{it:"Sogni d'Oro",en:"Sweet Dreams"},description:{it:"Dormi 2 volte",en:"Sleep 2 times"},target:2,reward:{coins:25,xp:20}},{id:"play-3",type:"play",icon:"",name:{it:"Tempo di Gioco",en:"Playtime"},description:{it:"Gioca nel giardino 3 volte",en:"Play in the garden 3 times"},target:3,reward:{coins:35,xp:30}},{id:"visit-5",type:"visit",icon:"",name:{it:"Esploratore",en:"Explorer"},description:{it:"Visita 5 stanze diverse",en:"Visit 5 different rooms"},target:5,reward:{coins:40,xp:35}},{id:"pet-5",type:"pet",icon:"",name:{it:"Coccole",en:"Cuddles"},description:{it:"Accarezza Luna 5 volte",en:"Pet Luna 5 times"},target:5,reward:{coins:25,xp:20}},{id:"game-1",type:"game",icon:"",name:{it:"Campione",en:"Champion"},description:{it:"Completa un mini-gioco",en:"Complete a mini-game"},target:1,reward:{coins:50,xp:40}},{id:"bath-2",type:"bath",icon:"",name:{it:"Pulito Pulito",en:"Squeaky Clean"},description:{it:"Fai il bagno 2 volte",en:"Take a bath 2 times"},target:2,reward:{coins:25,xp:20}},{id:"shop-2",type:"shop",icon:"",name:{it:"Shopping",en:"Shopping Spree"},description:{it:"Compra qualcosa 2 volte",en:"Buy something 2 times"},target:2,reward:{coins:30,xp:25}},{id:"treasure-1",type:"treasure",icon:"",name:{it:"Caccia al Tesoro",en:"Treasure Hunt"},description:{it:"Cerca tesori in soffitta",en:"Hunt for treasure in the attic"},target:1,reward:{coins:35,xp:30}},{id:"toy-2",type:"toy",icon:"",name:{it:"Giocattoli",en:"Toy Time"},description:{it:"Gioca con 2 giocattoli",en:"Play with 2 toys"},target:2,reward:{coins:30,xp:25}}],jf=()=>[...Lb].sort(()=>Math.random()-.5).slice(0,3).map(i=>({...i,progress:0,completed:!1,claimed:!1})),Be=[{id:"hat-crown",name:{it:"Corona",en:"Crown"},category:"hat",icon:"",price:50,offset:{x:0,y:-25}},{id:"hat-party",name:{it:"Cappello Festa",en:"Party Hat"},category:"hat",icon:"",price:30,offset:{x:0,y:-22}},{id:"hat-wizard",name:{it:"Cappello Mago",en:"Wizard Hat"},category:"hat",icon:"",price:75,unlockLevel:3,offset:{x:0,y:-28}},{id:"hat-cowboy",name:{it:"Cappello Cowboy",en:"Cowboy Hat"},category:"hat",icon:"",price:45,offset:{x:0,y:-24}},{id:"hat-chef",name:{it:"Cappello Chef",en:"Chef Hat"},category:"hat",icon:"",price:40,offset:{x:0,y:-26}},{id:"hat-pirate",name:{it:"Cappello Pirata",en:"Pirate Hat"},category:"hat",icon:"",price:60,unlockLevel:2,offset:{x:0,y:-24}},{id:"hat-flower",name:{it:"Corona di Fiori",en:"Flower Crown"},category:"hat",icon:"",price:35,offset:{x:0,y:-20}},{id:"hat-santa",name:{it:"Cappello Babbo Natale",en:"Santa Hat"},category:"hat",icon:"",price:55,special:!0,offset:{x:0,y:-24}},{id:"acc-bow",name:{it:"Fiocco",en:"Bow"},category:"accessory",icon:"",price:20,offset:{x:15,y:-10}},{id:"acc-glasses",name:{it:"Occhiali",en:"Glasses"},category:"accessory",icon:"",price:25,offset:{x:0,y:5}},{id:"acc-sunglasses",name:{it:"Occhiali da Sole",en:"Sunglasses"},category:"accessory",icon:"",price:35,offset:{x:0,y:5}},{id:"acc-pet-sunglasses",name:{it:"Occhialoni Cool",en:"Cool Pet Shades"},category:"accessory",icon:"",price:45,offset:{x:0,y:3},special:!0},{id:"acc-monocle",name:{it:"Monocolo",en:"Monocle"},category:"accessory",icon:"",price:50,unlockLevel:2,offset:{x:8,y:3}},{id:"acc-star",name:{it:"Stellina",en:"Star"},category:"accessory",icon:"",price:15,offset:{x:-15,y:-8}},{id:"acc-heart",name:{it:"Cuoricino",en:"Heart"},category:"accessory",icon:"",price:15,offset:{x:18,y:-5}},{id:"acc-sparkle",name:{it:"Brillantini",en:"Sparkles"},category:"accessory",icon:"",price:40,offset:{x:0,y:-15}},{id:"acc-ribbon-bow",name:{it:"Fiocco a Nastro",en:"Ribbon Bow"},category:"accessory",icon:"",price:35,offset:{x:0,y:-18},special:!0},{id:"acc-wizard-hat",name:{it:"Cappellino Magico",en:"Mini Wizard Hat"},category:"accessory",icon:"",price:55,unlockLevel:2,offset:{x:12,y:-15},special:!0},{id:"acc-pet-crown",name:{it:"Corona Regale",en:"Royal Pet Crown"},category:"accessory",icon:"",price:75,unlockLevel:3,offset:{x:0,y:-22},special:!0},{id:"acc-tiara",name:{it:"Tiara",en:"Tiara"},category:"accessory",icon:"",price:55,unlockLevel:2,offset:{x:0,y:-20}},{id:"acc-pirate-hat",name:{it:"Cappellino Pirata",en:"Pirate Hat"},category:"accessory",icon:"",price:65,unlockLevel:3,offset:{x:0,y:-22},special:!0},{id:"acc-flower-crown",name:{it:"Corona di Fiori",en:"Flower Crown"},category:"accessory",icon:"",price:45,unlockLevel:2,offset:{x:0,y:-20},special:!0},{id:"acc-bandana",name:{it:"Bandana",en:"Bandana"},category:"accessory",icon:"",price:30,offset:{x:0,y:10}},{id:"acc-bandana-red",name:{it:"Bandana Rossa",en:"Red Bandana"},category:"accessory",icon:"",price:40,offset:{x:0,y:10}},{id:"acc-bandana-pirate",name:{it:"Bandana Pirata",en:"Pirate Bandana"},category:"accessory",icon:"",price:55,unlockLevel:2,offset:{x:0,y:10},special:!0},{id:"acc-detective-hat",name:{it:"Cappello Detective",en:"Detective Hat"},category:"accessory",icon:"",price:70,unlockLevel:3,offset:{x:0,y:-22},special:!0},{id:"acc-bunny-ears",name:{it:"Orecchie da Coniglio",en:"Bunny Ears"},category:"accessory",icon:"",price:50,unlockLevel:2,offset:{x:0,y:-24},special:!0},{id:"acc-devil-horns",name:{it:"Corna da Diavoletto",en:"Devil Horns"},category:"accessory",icon:"",price:55,unlockLevel:2,offset:{x:0,y:-24},special:!0},{id:"acc-angel-halo",name:{it:"Aureola Angelica",en:"Angel Halo"},category:"accessory",icon:"",price:55,unlockLevel:2,offset:{x:0,y:-26},special:!0},{id:"acc-ninja-mask",name:{it:"Maschera Ninja",en:"Ninja Mask"},category:"accessory",icon:"",price:60,unlockLevel:3,offset:{x:0,y:5},special:!0},{id:"acc-chef-hat",name:{it:"Cappello da Chef",en:"Chef Hat"},category:"accessory",icon:"",price:60,unlockLevel:2,offset:{x:0,y:-24},special:!0},{id:"acc-superhero-mask",name:{it:"Maschera da Supereroe",en:"Superhero Mask"},category:"accessory",icon:"",price:65,unlockLevel:3,offset:{x:0,y:5},special:!0},{id:"acc-cowboy-hat",name:{it:"Cappello Cowboy",en:"Cowboy Hat"},category:"accessory",icon:"",price:50,unlockLevel:2,offset:{x:0,y:-24},special:!0},{id:"acc-pet-monocle",name:{it:"Monocolo Distinto",en:"Distinguished Monocle"},category:"accessory",icon:"",price:55,unlockLevel:2,offset:{x:10,y:2},special:!0},{id:"acc-top-hat",name:{it:"Cilindro Elegante",en:"Top Hat"},category:"accessory",icon:"",price:70,unlockLevel:3,offset:{x:0,y:-26},special:!0},{id:"acc-party-hat",name:{it:"Cappellino da Festa",en:"Party Hat"},category:"accessory",icon:"",price:40,offset:{x:0,y:-24},special:!0},{id:"acc-propeller-hat",name:{it:"Cappellino con Elica",en:"Propeller Hat"},category:"accessory",icon:"",price:65,unlockLevel:2,offset:{x:0,y:-28},special:!0},{id:"acc-viking-helmet",name:{it:"Elmo Vichingo",en:"Viking Helmet"},category:"accessory",icon:"",price:70,unlockLevel:3,offset:{x:0,y:-24},special:!0},{id:"acc-astronaut-helmet",name:{it:"Casco da Astronauta",en:"Astronaut Helmet"},category:"accessory",icon:"",price:80,unlockLevel:4,offset:{x:0,y:-26},special:!0},{id:"acc-butterfly-wings",name:{it:"Ali di Farfalla",en:"Butterfly Wings"},category:"accessory",icon:"",price:60,unlockLevel:2,offset:{x:0,y:-8},special:!0},{id:"outfit-cape",name:{it:"Mantello",en:"Cape"},category:"outfit",icon:"",price:80,unlockLevel:3,offset:{x:0,y:20}},{id:"outfit-scarf",name:{it:"Sciarpa",en:"Scarf"},category:"outfit",icon:"",price:30,offset:{x:0,y:15}},{id:"outfit-bowtie",name:{it:"Papillon",en:"Bowtie"},category:"outfit",icon:"",price:25,offset:{x:0,y:18}},{id:"outfit-wings",name:{it:"Ali Magiche",en:"Magic Wings"},category:"outfit",icon:"",price:100,unlockLevel:5,special:!0,offset:{x:0,y:10}},{id:"collar-basic",name:{it:"Collare Semplice",en:"Basic Collar"},category:"collar",icon:"",price:15,offset:{x:0,y:12}},{id:"collar-bell",name:{it:"Collare con Campanella",en:"Bell Collar"},category:"collar",icon:"",price:25,offset:{x:0,y:12}},{id:"collar-bow",name:{it:"Collare con Fiocco",en:"Bow Collar"},category:"collar",icon:"",price:30,offset:{x:0,y:12}},{id:"collar-heart",name:{it:"Collare Cuoricino",en:"Heart Collar"},category:"collar",icon:"",price:35,offset:{x:0,y:12}},{id:"collar-star",name:{it:"Collare Stellato",en:"Star Collar"},category:"collar",icon:"",price:40,unlockLevel:2,offset:{x:0,y:12}},{id:"collar-diamond",name:{it:"Collare Diamante",en:"Diamond Collar"},category:"collar",icon:"",price:60,unlockLevel:3,offset:{x:0,y:12}},{id:"collar-royal",name:{it:"Collare Regale",en:"Royal Collar"},category:"collar",icon:"",price:80,unlockLevel:4,special:!0,offset:{x:0,y:12}},{id:"collar-rainbow",name:{it:"Collare Arcobaleno",en:"Rainbow Collar"},category:"collar",icon:"",price:100,unlockLevel:5,special:!0,offset:{x:0,y:12}},{id:"collar-magic",name:{it:"Collare Magico",en:"Magic Collar"},category:"collar",icon:"",price:150,unlockLevel:7,special:!0,offset:{x:0,y:12}}],Po=[{id:"amber",name:{it:"Ambra",en:"Amber"},color:"#FFBF00",glowColor:"rgba(255, 191, 0, 0.6)",icon:"",price:0},{id:"blue",name:{it:"Blu",en:"Blue"},color:"#4FC3F7",glowColor:"rgba(79, 195, 247, 0.6)",icon:"",price:15},{id:"green",name:{it:"Verde",en:"Green"},color:"#81C784",glowColor:"rgba(129, 199, 132, 0.6)",icon:"",price:15},{id:"brown",name:{it:"Marrone",en:"Brown"},color:"#A1887F",glowColor:"rgba(161, 136, 127, 0.6)",icon:"",price:15},{id:"violet",name:{it:"Viola",en:"Violet"},color:"#BA68C8",glowColor:"rgba(186, 104, 200, 0.6)",icon:"",price:35,unlockLevel:2},{id:"turquoise",name:{it:"Turchese",en:"Turquoise"},color:"#4DD0E1",glowColor:"rgba(77, 208, 225, 0.6)",icon:"",price:35,unlockLevel:2},{id:"gold",name:{it:"Oro",en:"Gold"},color:"#FFD700",glowColor:"rgba(255, 215, 0, 0.7)",icon:"",price:45,unlockLevel:3},{id:"ruby",name:{it:"Rubino",en:"Ruby"},color:"#EF5350",glowColor:"rgba(239, 83, 80, 0.6)",icon:"",price:60,unlockLevel:4,special:!0},{id:"emerald",name:{it:"Smeraldo",en:"Emerald"},color:"#00E676",glowColor:"rgba(0, 230, 118, 0.7)",icon:"",price:60,unlockLevel:4,special:!0},{id:"sapphire",name:{it:"Zaffiro",en:"Sapphire"},color:"#2979FF",glowColor:"rgba(41, 121, 255, 0.7)",icon:"",price:60,unlockLevel:4,special:!0},{id:"rainbow",name:{it:"Arcobaleno",en:"Rainbow"},color:"linear-gradient(90deg, #FF0080, #FF8C00, #FFD700, #00FF00, #00BFFF, #8A2BE2)",glowColor:"rgba(255, 255, 255, 0.8)",icon:"",price:100,unlockLevel:6,special:!0},{id:"starlight",name:{it:"Luce Stellare",en:"Starlight"},color:"#E1F5FE",glowColor:"rgba(225, 245, 254, 0.9)",icon:"",price:120,unlockLevel:7,special:!0},{id:"moonlight",name:{it:"Luce Lunare",en:"Moonlight"},color:"#B388FF",glowColor:"rgba(179, 136, 255, 0.8)",icon:"",price:150,unlockLevel:8,special:!0}],Zl=[{id:"orange",name:{it:"Arancione",en:"Orange"},emoji:"",cssFilter:"none",price:0},{id:"gray",name:{it:"Grigio",en:"Gray"},emoji:"",cssFilter:"saturate(0.3) brightness(1.1)",price:25},{id:"black",name:{it:"Nero",en:"Black"},emoji:"",cssFilter:"saturate(0.2) brightness(0.6) contrast(1.2)",price:30},{id:"white",name:{it:"Bianco",en:"White"},emoji:"",cssFilter:"saturate(0.1) brightness(1.4) contrast(0.9)",price:30},{id:"brown",name:{it:"Marrone",en:"Brown"},emoji:"",cssFilter:"sepia(0.4) saturate(1.2) hue-rotate(-10deg)",price:35},{id:"cream",name:{it:"Crema",en:"Cream"},emoji:"",cssFilter:"sepia(0.3) saturate(0.8) brightness(1.15)",price:40,unlockLevel:2},{id:"tabby",name:{it:"Tigrato",en:"Tabby"},emoji:"",cssFilter:"saturate(1.3) contrast(1.1) hue-rotate(10deg)",price:50,unlockLevel:3},{id:"calico",name:{it:"Calico",en:"Calico"},emoji:"",cssFilter:"saturate(1.4) contrast(1.05) brightness(1.05)",price:60,unlockLevel:4},{id:"siamese",name:{it:"Siamese",en:"Siamese"},emoji:"",cssFilter:"sepia(0.2) saturate(0.7) hue-rotate(180deg) brightness(1.1)",price:80,unlockLevel:5,special:!0},{id:"rainbow",name:{it:"Arcobaleno",en:"Rainbow"},emoji:"",cssFilter:"saturate(2) brightness(1.1) hue-rotate(0deg)",price:150,unlockLevel:7,special:!0}],He={it:{title:"Moonlight Magic House",rooms:{bedroom:"Camera",kitchen:"Cucina",garden:"Giardino",living:"Salotto",bathroom:"Bagno",garage:"Garage",shop:"Negozio",supermarket:"Supermercato",attic:"Soffitta",basement:"Cantina",library:"Biblioteca"},actions:{bedroom:{primary:"Dormi",secondary:"Leggi"},kitchen:{primary:"Mangia",secondary:"Cucina"},garden:{primary:"Gioca",secondary:"Innaffia"},living:{primary:"Guarda TV",secondary:"Rilassati"},bathroom:{primary:"Bagno",secondary:"Lavati"},garage:{primary:"Guida",secondary:"Ripara"},shop:{primary:"Compra vestiti",secondary:"Prova"},supermarket:{primary:"Compra cibo",secondary:"Esplora"},attic:{primary:"Cerca tesori",secondary:"Esplora"},basement:{primary:"Costruisci",secondary:"Organizza"},library:{primary:"Leggi",secondary:"Sfoglia"}},stats:{health:"Salute",hunger:"Fame",energy:"Energia",happiness:"Felicit",comfort:"Comfort",weight:"Peso"},weight:{healthy:"Peso perfetto! ",gaining:"Sta ingrassando un po'... ",overfed:"Troppo paffutello!  Fallo giocare!",exercising:"Sta dimagrendo! ",warning:"Luna ha bisogno di esercizio!"},messages:{sleeping:"Zzz... ",eating:"Gnam gnam... ",playing:"Weee! ",watching:"Che bello! ",bathing:"Splash! ",driving:"Brum brum! ",shopping:"Bellissimo! ",buying:"Comprato! ",notEnoughCoins:"Servono pi monete!",levelUp:" Livello {level}!",achievementUnlocked:" Obiettivo sbloccato!",dailyReward:" Bonus giornaliero: +{coins} monete!",eventVisitor:" Un amico viene a trovarti! +20 felicit",eventGift:" Hai trovato un regalo! +15 monete",eventRain:" Piove! Moonlight si diverte!",treasureHunt:"Che scoperta! ",building:"Fatto! ",reading:"Che bella storia! ",browsing:"Tanti libri! "},moods:{happy:"Felice!",hungry:"Affamato",sleepy:"Assonnato",playful:"Giocherellone!"},napTimer:{sleeping:"Sto dormendo...",duration:"da {time}",seconds:"{n}s",minutes:"{n}m {s}s"},petNaming:{title:"Dai un nome al tuo animaletto!",placeholder:"Nome del tuo amico...",confirm:"Conferma",skip:"Salta (user Pip)"},petRename:{title:"Rinomina il tuo amico! ",subtitle:"Come vuoi chiamare il tuo animaletto?",placeholder:"Nuovo nome...",confirm:"Salva",cancel:"Annulla",success:"Nome cambiato! ",clickToRename:"Tocca per cambiare nome"},personality:{title:"Personalit",shy:"Timido ",playful:"Giocherellone ",lazy:"Pigrotto ",shyDesc:"Luna  un po' timida, ma quando si apre  dolcissima!",playfulDesc:"Luna adora giocare e fare birichinate!",lazyDesc:"Luna ama dormire e rilassarsi tutto il giorno!",bonus:"Bonus personalit"},timeOfDay:{morning:" Mattina",afternoon:" Pomeriggio",evening:" Sera",night:" Notte"},achievements:{explorer:"Esploratore",firstMeal:"Primo pasto",sleepyHead:"Dormiglione",socialite:"Socievole",shopper:"Shopaholic",wealthy:"Ricco",healthy:"In salute",bookworm:"Topo di biblioteca"},explore:"Esplora la casa!",footer:"Onde Kids ",miniGame:"Mini-gioco!",tapToPlay:"Tocca le stelle!",score:"Punti",wardrobe:{title:"Guardaroba",hats:"Cappelli",accessories:"Accessori",outfits:"Vestiti",collars:"Collari",eyes:"Occhi",unlock:"Sblocca",equip:"Indossa",unequip:"Togli",locked:"Bloccato",levelRequired:"Livello {level} richiesto",notEnoughCoins:"Servono pi monete!",unlocked:"Sbloccato! ",special:"Speciale!"},eyeColor:{title:"Colore Occhi ",subtitle:"Cambia il colore degli occhi di Luna!",current:"Attuale",select:"Seleziona",selected:"Selezionato ",unlock:"Sblocca",locked:"Bloccato",levelRequired:"Livello {level} richiesto",notEnoughCoins:"Servono pi monete!",unlocked:"Sbloccato! ",special:"Speciale!",free:"Gratis!"},furColor:{title:"Colore Pelo ",subtitle:"Cambia il colore di Luna!",current:"Attuale",select:"Seleziona",selected:"Selezionato ",unlock:"Sblocca",locked:"Bloccato",levelRequired:"Livello {level} richiesto",notEnoughCoins:"Servono pi monete!",unlocked:"Sbloccato! ",special:"Speciale!",preview:"Anteprima"},photoMode:{title:"Modalit Foto ",filters:"Filtri",frames:"Cornici",none:"Nessuno",capture:"Scatta! ",saving:"Salvataggio...",saved:"Foto salvata! ",download:"Scarica",share:"Condividi",close:"Chiudi",filterNormal:"Normale",filterSepia:"Seppia",filterGrayscale:"B/N",filterVintage:"Vintage",filterDreamy:"Sognante",filterSunset:"Tramonto",filterNight:"Notte",filterSparkle:"Brillante",frameNone:"Nessuna",frameHearts:"Cuori",frameStars:"Stelle",frameFlowers:"Fiori",framePolaroid:"Polaroid",frameRainbow:"Arcobaleno",frameGold:"Oro",frameMagic:"Magica"},toyBox:{title:"Scatola dei Giochi ",play:"Gioca!",unlock:"Sblocca",locked:"Bloccato",favorite:"Preferito",setFavorite:"Imposta preferito",levelRequired:"Livello {level} richiesto",notEnoughCoins:"Servono pi monete!",notEnoughEnergy:"Luna  troppo stanca!",unlocked:"Sbloccato! ",playing:"Che divertimento! ",common:"Comune",rare:"Raro",legendary:"Leggendario",happiness:"+{amount} Felicit",energy:"-{amount} Energia",catnipActive:" MODALIT PAZZA! ",catnipEnded:"Uff... che corsa! "},sleepSchedule:{title:"Orario della Nanna ",subtitle:"Aiuta Luna ad andare a dormire in orario!",enabled:"Promemoria attivo",disabled:"Promemoria disattivo",bedtime:"Ora della nanna",wakeTime:"Ora sveglia",reminderBefore:"Avvisa {minutes} min prima",save:"Salva",cancel:"Annulla",saved:"Salvato! ",bedtimeReminder:"  quasi ora della nanna!",bedtimeNow:" Luna ha sonno...  ora di dormire!",goodnight:"Sogni d'oro, Luna! ",sleepyLuna:"Luna sbadiglia... ",minutesUntilBed:"{minutes} minuti alla nanna",timeForBed:" ora di andare a letto!",toggle:"On/Off"},treatShop:{title:"Negozio Dolcetti ",subtitle:"Dai da mangiare a Luna!",buy:"Compra",feed:"Dai a Luna!",owned:"Possiedi: {count}",notOwned:"Non ne hai!",unlock:"Sblocca",locked:"Bloccato",levelRequired:"Livello {level} richiesto",notEnoughCoins:"Servono pi monete!",purchased:"Acquistato! ",feeding:"Gnam gnam! ",yummy:"Che buono! ",tooFull:"Luna  troppo sazia!",common:"Comune",rare:"Raro",premium:"Premium",stats:{hunger:"+{amount} Fame",happiness:"+{amount} Felicit",weight:"+{amount} Peso",healthy:"Sano! "},inventory:"Inventario",shop:"Negozio",totalFed:"Bocconcini dati: {count}",special:"Speciale! "},grooming:{brush:"Spazzola",brushing:"Che morbido! ",cooldown:"Luna ha bisogno di una pausa!",happinessBoost:"+{amount} Felicit"},cuddle:{holding:"Ti voglio bene! ",release:"Che belle coccole! ",hint:"Tieni premuto per abbracciarla!",happinessBoost:"+{amount} Felicit"},birthday:{title:"Buon Compleanno! ",message:"Oggi  il compleanno di {name}!",age:"{name} compie {age}!",ageYears:"{years} anno",ageYearsPlural:"{years} anni",ageMonths:"{months} mese",ageMonthsPlural:"{months} mesi",firstBirthday:" il primo compleanno!",reward:"Regalo di compleanno: +{coins} monete!",celebrate:"Festeggia! "},moodJournal:{title:"Diario dell'Umore ",subtitle:"Come si sente {name} oggi?",todayMood:"Umore di oggi",addNote:"Aggiungi una nota...",saveEntry:"Salva nel diario",history:"Pagine Precedenti",noEntries:"Il diario  vuoto. Scrivi il primo pensiero!",saved:"Salvato! ",alreadyLogged:"Hai gi scritto oggi!",moodHappy:"Felice",moodHungry:"Affamato",moodSleepy:"Assonnato",moodPlayful:"Giocherellone",today:"Oggi",yesterday:"Ieri",daysAgo:"{days} giorni fa",viewAll:"Vedi tutto",close:"Chiudi",rateYourDay:"Vota la tua giornata",stars:"stelle",star:"stella"},dailyQuests:{title:"Missioni del Giorno ",subtitle:"Completa le missioni per bonus!",progress:"{current}/{target}",completed:"Completata!",claimed:"Ritirato!",claim:"Ritira Premio",reward:"+{coins}  +{xp} ",allComplete:"Tutte completate! Torna domani! ",newQuests:"Nuove missioni disponibili!"},friendCode:{title:"Codice Amico ",subtitle:"Condividi il tuo codice con gli amici!",yourCode:"Il tuo codice:",copy:"Copia",copied:"Copiato! ",share:"Condividi",shareText:"Ecco il mio codice amico di Moonlight: {code}! Vieni a giocare con {name}! ",info:"I tuoi amici potranno trovarti con questo codice!"},giftSending:{title:"Invia Regalo ",subtitle:"Manda un regalo a un amico!",selectGift:"Scegli un regalo",friendCode:"Codice amico",friendCodePlaceholder:"XXXX-XXXX",send:"Invia! ",sending:"Invio...",sent:"Regalo inviato! ",notEnoughCoins:"Servono pi monete!",invalidCode:"Codice non valido!",cost:"Costo",common:"Comune",rare:"Raro",legendary:"Leggendario",history:"Regali inviati",noHistory:"Non hai ancora inviato regali!",totalSent:"Totale inviati: {count}",giftFor:"Regalo per {code}"},petAlbum:{title:"Album dei Cuccioli ",subtitle:"Colleziona tutti gli amici!",discovered:"Scoperto!",notDiscovered:"???",progress:"{count}/{total} scoperto",rarity:{common:"Comune",rare:"Raro",legendary:"Leggendario",mythic:"Mitico"},newDiscovery:"Nuovo amico scoperto! ",hint:"Continua a esplorare per trovare nuovi amici!",unlockHint:{level:"Raggiungi il livello {level}",room:"Visita {room}",random:"Incontro casuale!",secret:"Segreto..."}},petTraining:{title:"Addestramento ",subtitle:"Insegna a Luna nuovi trucchi!",selectTrick:"Scegli un trucco",practice:"Pratica",learned:"Imparato!",locked:"Bloccato",levelRequired:"Livello {level} richiesto",difficulty:{easy:"Facile",medium:"Medio",hard:"Difficile"},xpReward:"+{xp} XP",instructions:"Premi i tasti nell'ordine giusto!",success:"Bravissima Luna! ",fail:"Riprova! Luna sta imparando...",perfect:"Perfetto! Trucco imparato! ",progress:"Progresso: {current}/{total}",tricksLearned:"Trucchi imparati: {count}",noTricks:"Nessun trucco ancora imparato!",startTraining:"Inizia!",showOff:"Esibisciti!",close:"Chiudi"},healthCheckup:{title:"Visita Veterinaria ",subtitle:"Controllo di salute per {name}",overallHealth:"Salute Generale",excellent:"Eccellente! ",good:"Buona ",fair:"Cos cos ",poor:"Ha bisogno di cure ",critical:"Attenzione! ",categories:{energy:"Energia",hunger:"Alimentazione",happiness:"Felicit",health:"Salute Fisica"},tips:{energy:{low:"Luna  stanca! Portala a dormire nella camera da letto.",medium:"Luna ha un po' di energia. Un riposino potrebbe aiutare!",high:"Luna  piena di energia! Perfetto per giocare!"},hunger:{low:"Luna ha fame! Corri in cucina a darle da mangiare.",medium:"Luna potrebbe fare uno spuntino presto.",high:"Luna  sazia e felice! "},happiness:{low:"Luna  triste... Gioca con lei o accarezzala!",medium:"Luna  serena. Qualche coccola in pi?",high:"Luna  felicissima! Ottimo lavoro! "},health:{low:"Luna non sta bene. Falle fare un bagno e dagli da mangiare!",medium:"Luna sta abbastanza bene. Continua cos!",high:"Luna  in ottima salute! "}},checkupBonus:"Bonus visita: +{coins}  +{xp} XP",lastCheckup:"Ultima visita: {time}",neverChecked:"Prima visita!",doctorSays:"Il dottore dice:",close:"Chiudi",checkNow:"Fai la Visita! "},vaccination:{title:"Libretto Vaccinazioni ",subtitle:"Le vaccinazioni di {name}",tabCheckup:"Visita",tabVaccines:"Vaccini",noRecords:"Nessun vaccino registrato",addVaccine:"Aggiungi Vaccino",vaccineAdded:"Vaccino registrato! ",nextDue:"Prossima dose: {date}",overdue:"Scaduto! ",upToDate:"In regola ",dueIn:"Scade tra {days} giorni",dueSoon:"Scade presto!",administered:"Somministrato: {date}",selectVaccine:"Scegli un vaccino da registrare",confirmAdd:"Registra Vaccino",cancel:"Annulla",healthBonus:"+{health} Salute ",allUpToDate:"Tutti i vaccini sono in regola! ",needsAttention:"{count} vaccini da fare",viewAll:"Vedi tutti",delete:"Elimina",deleteConfirm:"Eliminare questo vaccino?"},activityLog:{title:"Diario di Luna ",subtitle:"Cosa ha fatto oggi {name}?",today:"Oggi",noActivities:`Luna non ha ancora fatto nulla oggi!
Comincia a giocare! `,activitiesCount:"{count} attivit",timeline:"Timeline",summary:"Riassunto",morning:"Mattina",afternoon:"Pomeriggio",evening:"Sera",night:"Notte",categories:{rest:"Riposo & Relax",food:"Cibo & Snack",play:"Giochi & Divertimento",care:"Cura & Igiene",explore:"Esplorazione",social:"Coccole & Affetto"},stats:{happiness:"Felicit guadagnata",energy:"Energia usata",coins:"Monete raccolte",playtime:"Tempo totale giocato"},close:"Chiudi",activities:{sleep:"Ha dormito nella camera",eat:"Ha mangiato in cucina",play:"Ha giocato in giardino",bath:"Ha fatto il bagno",explore:"Ha esplorato",shop:"Ha fatto shopping",pet:"Ha ricevuto coccole",brush:" stata spazzolata",toy:"Ha giocato con un giocattolo",train:"Si  allenata",game:"Ha completato un mini-gioco",treasure:"Ha cercato tesori",read:"Ha letto un libro"}},favoriteRoom:{title:"Stanza Preferita ",subtitle:"Dove ama stare di pi {name}?",favorite:"Stanza preferita",noFavorite:"Esplora di pi!",visits:"{count} visite",topRooms:"Stanze pi visitate",justStarted:"Luna sta esplorando...",loves:"{name} adora stare qui!",tip:"Visita pi stanze per scoprire la preferita!"},moodRing:{title:"Anello dell'Umore ",subtitle:"Come si sente {name}?",tap:"Tocca per vedere l'umore!",moods:{happy:"Serena",playful:"Energica",hungry:"Affamata",sleepy:"Assonnata"},colors:{purple:"Viola = Felice ",green:"Verde = Giocherellona ",orange:"Arancione = Ha fame ",blue:"Blu = Ha sonno "}},fortune:{title:"Oracolo di Luna ",subtitle:"Scopri cosa ti riserva il futuro!",crystalBall:"Sfera di Cristallo",askFortune:"Chiedi la Fortuna!",thinking:"Luna sta guardando nel futuro...",revealed:"Il tuo destino  rivelato!",categories:{luck:" Fortuna",love:" Amicizia",adventure:" Avventura",play:" Gioco",magic:" Magia"},fortunes:{luck:["Oggi troverai qualcosa di speciale! ","La fortuna ti sorride! Prova un mini-gioco! ","Un tesoro ti aspetta in soffitta! ","Le stelle sono dalla tua parte! ","Qualcosa di meraviglioso sta per succedere! "],love:["Un nuovo amico peloso ti aspetta! ","Luna ti vuole tantissimo bene! ","Le coccole di oggi saranno extra speciali! ","L'amicizia brilla pi delle stelle! ","Qualcuno pensa a te proprio ora! "],adventure:["Un'avventura ti aspetta in giardino! ","Esplora una nuova stanza oggi! ","Il mondo  pieno di meraviglie da scoprire! ","Oggi  il giorno perfetto per esplorare! ","Grandi scoperte ti attendono! "],play:[" il momento perfetto per giocare! ","Prova un nuovo giocattolo oggi! ","Divertimento assicurato nei prossimi minuti! ","Un mini-gioco ti porter fortuna! ","Luna vuole giocare con te! "],magic:["La magia ti circonda oggi! ","Cose magiche stanno per accadere! ","Luna sente energie positive! ","Il tuo spirito brilla di luce propria! ","Sei destinato a cose straordinarie! "]},dailyLimit:"Torna domani per un'altra fortuna!",fortunesLeft:"{count} fortune rimaste oggi",reward:"+{coins} monete ",close:"Chiudi",newFortune:"Nuova Fortuna"},funFacts:{title:"Lo Sapevi? ",subtitle:"Fatti curiosi sui gatti!",nextFact:"Altro Fatto!",close:"Chiudi",category:{behavior:" Comportamento",body:" Corpo",history:" Storia",senses:" Sensi",sleep:" Sonno",communication:" Comunicazione"},facts:[{text:"I gatti passano il 70% della loro vita dormendo!",category:"sleep",emoji:""},{text:"I gatti possono ruotare le orecchie di 180 gradi!",category:"body",emoji:""},{text:"Un gatto ha 230 ossa nel corpo, pi di un umano!",category:"body",emoji:""},{text:"I gatti non sentono il gusto dolce!",category:"senses",emoji:""},{text:"Il naso di ogni gatto  unico come un'impronta digitale!",category:"body",emoji:""},{text:"I gatti possono saltare fino a 6 volte la loro lunghezza!",category:"body",emoji:""},{text:"Le fusa dei gatti hanno effetti curativi!",category:"communication",emoji:""},{text:"I gatti vedono benissimo al buio!",category:"senses",emoji:""},{text:"Un gatto adulto ha 30 denti!",category:"body",emoji:""},{text:"I gatti passano il 30% del tempo a pulirsi!",category:"behavior",emoji:""},{text:"I gatti domestici esistono da oltre 10.000 anni!",category:"history",emoji:""},{text:"I baffi dei gatti li aiutano a misurare gli spazi!",category:"senses",emoji:""},{text:"I gatti possono correre fino a 48 km/h!",category:"body",emoji:""},{text:"Il cuore di un gatto batte 2-3 volte pi veloce di quello umano!",category:"body",emoji:""},{text:"I gatti possono fare oltre 100 suoni diversi!",category:"communication",emoji:""},{text:"I gatti arancioni sono spesso maschi!",category:"body",emoji:""},{text:"I gatti sognano proprio come gli umani!",category:"sleep",emoji:""},{text:"Nell'antico Egitto i gatti erano considerati sacri!",category:"history",emoji:""},{text:"I gatti possono riconoscere la voce del loro padrone!",category:"senses",emoji:""},{text:"Il primo gatto nello spazio era francese e si chiamava Flicette!",category:"history",emoji:""}],learned:"Hai imparato {count} fatti!",newFact:"Nuovo fatto sbloccato! "}},en:{title:"Moonlight Magic House",rooms:{bedroom:"Bedroom",kitchen:"Kitchen",garden:"Garden",living:"Living Room",bathroom:"Bathroom",garage:"Garage",shop:"Boutique",supermarket:"Supermarket",attic:"Attic",basement:"Basement",library:"Library"},actions:{bedroom:{primary:"Sleep",secondary:"Read"},kitchen:{primary:"Eat",secondary:"Cook"},garden:{primary:"Play",secondary:"Water"},living:{primary:"Watch TV",secondary:"Relax"},bathroom:{primary:"Bath",secondary:"Wash"},garage:{primary:"Drive",secondary:"Fix"},shop:{primary:"Buy clothes",secondary:"Try on"},supermarket:{primary:"Buy food",secondary:"Explore"},attic:{primary:"Treasure hunt",secondary:"Explore"},basement:{primary:"Build",secondary:"Organize"},library:{primary:"Read",secondary:"Browse"}},stats:{health:"Health",hunger:"Hunger",energy:"Energy",happiness:"Happiness",comfort:"Comfort",weight:"Weight"},weight:{healthy:"Perfect weight! ",gaining:"Getting a bit chubby... ",overfed:"Too chubby!  Time to play!",exercising:"Losing weight! ",warning:"Luna needs some exercise!"},messages:{sleeping:"Zzz... ",eating:"Yum yum... ",playing:"Weee! ",watching:"So cool! ",bathing:"Splash! ",driving:"Vroom vroom! ",shopping:"Beautiful! ",buying:"Bought! ",notEnoughCoins:"Need more coins!",levelUp:" Level {level}!",achievementUnlocked:" Achievement unlocked!",dailyReward:" Daily bonus: +{coins} coins!",eventVisitor:" A friend visits! +20 happiness",eventGift:" You found a gift! +15 coins",eventRain:" It's raining! Moonlight loves it!",treasureHunt:"What a find! ",building:"Done! ",reading:"What a great story! ",browsing:"So many books! "},moods:{happy:"Happy!",hungry:"Hungry",sleepy:"Sleepy",playful:"Playful!"},napTimer:{sleeping:"Sleeping...",duration:"for {time}",seconds:"{n}s",minutes:"{n}m {s}s"},petNaming:{title:"Name your pet!",placeholder:"Your friend's name...",confirm:"Confirm",skip:"Skip (I'll use Pip)"},petRename:{title:"Rename your friend! ",subtitle:"What do you want to call your pet?",placeholder:"New name...",confirm:"Save",cancel:"Cancel",success:"Name changed! ",clickToRename:"Tap to change name"},personality:{title:"Personality",shy:"Shy ",playful:"Playful ",lazy:"Lazy ",shyDesc:"Luna is a bit shy, but super sweet once she opens up!",playfulDesc:"Luna loves to play and cause mischief!",lazyDesc:"Luna loves to sleep and relax all day!",bonus:"Personality bonus"},timeOfDay:{morning:" Morning",afternoon:" Afternoon",evening:" Evening",night:" Night"},achievements:{explorer:"Explorer",firstMeal:"First meal",sleepyHead:"Sleepy head",socialite:"Socialite",shopper:"Shopaholic",wealthy:"Wealthy",healthy:"Healthy",bookworm:"Bookworm"},explore:"Explore the house!",footer:"Onde Kids ",miniGame:"Mini-game!",tapToPlay:"Tap the stars!",score:"Score",wardrobe:{title:"Wardrobe",hats:"Hats",accessories:"Accessories",outfits:"Outfits",collars:"Collars",eyes:"Eyes",unlock:"Unlock",equip:"Wear",unequip:"Remove",locked:"Locked",levelRequired:"Level {level} required",notEnoughCoins:"Need more coins!",unlocked:"Unlocked! ",special:"Special!"},eyeColor:{title:"Eye Color ",subtitle:"Change Luna's eye color!",current:"Current",select:"Select",selected:"Selected ",unlock:"Unlock",locked:"Locked",levelRequired:"Level {level} required",notEnoughCoins:"Need more coins!",unlocked:"Unlocked! ",special:"Special!",free:"Free!"},furColor:{title:"Fur Color ",subtitle:"Change Luna's fur color!",current:"Current",select:"Select",selected:"Selected ",unlock:"Unlock",locked:"Locked",levelRequired:"Level {level} required",notEnoughCoins:"Need more coins!",unlocked:"Unlocked! ",special:"Special!",preview:"Preview"},photoMode:{title:"Photo Mode ",filters:"Filters",frames:"Frames",none:"None",capture:"Capture! ",saving:"Saving...",saved:"Photo saved! ",download:"Download",share:"Share",close:"Close",filterNormal:"Normal",filterSepia:"Sepia",filterGrayscale:"B&W",filterVintage:"Vintage",filterDreamy:"Dreamy",filterSunset:"Sunset",filterNight:"Night",filterSparkle:"Sparkle",frameNone:"None",frameHearts:"Hearts",frameStars:"Stars",frameFlowers:"Flowers",framePolaroid:"Polaroid",frameRainbow:"Rainbow",frameGold:"Gold",frameMagic:"Magic"},toyBox:{title:"Toy Box ",play:"Play!",unlock:"Unlock",locked:"Locked",favorite:"Favorite",setFavorite:"Set as favorite",levelRequired:"Level {level} required",notEnoughCoins:"Need more coins!",notEnoughEnergy:"Luna is too tired!",unlocked:"Unlocked! ",playing:"So much fun! ",common:"Common",rare:"Rare",legendary:"Legendary",happiness:"+{amount} Happiness",energy:"-{amount} Energy",catnipActive:" CRAZY MODE! ",catnipEnded:"Phew... what a rush! "},sleepSchedule:{title:"Bedtime Schedule ",subtitle:"Help Luna go to sleep on time!",enabled:"Reminder on",disabled:"Reminder off",bedtime:"Bedtime",wakeTime:"Wake time",reminderBefore:"Alert {minutes} min before",save:"Save",cancel:"Cancel",saved:"Saved! ",bedtimeReminder:" It's almost bedtime!",bedtimeNow:" Luna is sleepy... time for bed!",goodnight:"Sweet dreams, Luna! ",sleepyLuna:"Luna is yawning... ",minutesUntilBed:"{minutes} minutes until bedtime",timeForBed:"Time for bed!",toggle:"On/Off"},treatShop:{title:"Treat Shop ",subtitle:"Feed Luna some treats!",buy:"Buy",feed:"Feed Luna!",owned:"Owned: {count}",notOwned:"You don't have any!",unlock:"Unlock",locked:"Locked",levelRequired:"Level {level} required",notEnoughCoins:"Need more coins!",purchased:"Purchased! ",feeding:"Yum yum! ",yummy:"So tasty! ",tooFull:"Luna is too full!",common:"Common",rare:"Rare",premium:"Premium",stats:{hunger:"+{amount} Hunger",happiness:"+{amount} Happiness",weight:"+{amount} Weight",healthy:"Healthy! "},inventory:"Inventory",shop:"Shop",totalFed:"Treats fed: {count}",special:"Special! "},grooming:{brush:"Brush",brushing:"So fluffy! ",cooldown:"Luna needs a break!",happinessBoost:"+{amount} Happiness"},cuddle:{holding:"I love you! ",release:"Such lovely cuddles! ",hint:"Hold to cuddle her!",happinessBoost:"+{amount} Happiness"},birthday:{title:"Happy Birthday! ",message:"It's {name}'s birthday today!",age:"{name} is turning {age}!",ageYears:"{years} year",ageYearsPlural:"{years} years",ageMonths:"{months} month",ageMonthsPlural:"{months} months",firstBirthday:"It's the first birthday!",reward:"Birthday gift: +{coins} coins!",celebrate:"Celebrate! "},moodJournal:{title:"Mood Journal ",subtitle:"How is {name} feeling today?",todayMood:"Today's mood",addNote:"Add a note...",saveEntry:"Save to journal",history:"Previous Pages",noEntries:"Journal is empty. Write the first thought!",saved:"Saved! ",alreadyLogged:"Already logged today!",moodHappy:"Happy",moodHungry:"Hungry",moodSleepy:"Sleepy",moodPlayful:"Playful",today:"Today",yesterday:"Yesterday",daysAgo:"{days} days ago",viewAll:"View all",close:"Close",rateYourDay:"Rate your day",stars:"stars",star:"star"},dailyQuests:{title:"Daily Quests ",subtitle:"Complete quests for bonuses!",progress:"{current}/{target}",completed:"Completed!",claimed:"Claimed!",claim:"Claim Reward",reward:"+{coins}  +{xp} ",allComplete:"All done! Come back tomorrow! ",newQuests:"New quests available!"},friendCode:{title:"Friend Code ",subtitle:"Share your code with friends!",yourCode:"Your code:",copy:"Copy",copied:"Copied! ",share:"Share",shareText:"Here's my Moonlight friend code: {code}! Come play with {name}! ",info:"Your friends can find you with this code!"},giftSending:{title:"Send Gift ",subtitle:"Send a gift to a friend!",selectGift:"Choose a gift",friendCode:"Friend code",friendCodePlaceholder:"XXXX-XXXX",send:"Send! ",sending:"Sending...",sent:"Gift sent! ",notEnoughCoins:"Need more coins!",invalidCode:"Invalid code!",cost:"Cost",common:"Common",rare:"Rare",legendary:"Legendary",history:"Gifts sent",noHistory:"You haven't sent any gifts yet!",totalSent:"Total sent: {count}",giftFor:"Gift for {code}"},petAlbum:{title:"Pet Album ",subtitle:"Collect all the friends!",discovered:"Discovered!",notDiscovered:"???",progress:"{count}/{total} discovered",rarity:{common:"Common",rare:"Rare",legendary:"Legendary",mythic:"Mythic"},newDiscovery:"New friend discovered! ",hint:"Keep exploring to find new friends!",unlockHint:{level:"Reach level {level}",room:"Visit {room}",random:"Random encounter!",secret:"Secret..."}},petTraining:{title:"Training ",subtitle:"Teach Luna new tricks!",selectTrick:"Choose a trick",practice:"Practice",learned:"Learned!",locked:"Locked",levelRequired:"Level {level} required",difficulty:{easy:"Easy",medium:"Medium",hard:"Hard"},xpReward:"+{xp} XP",instructions:"Press the buttons in the right order!",success:"Good job Luna! ",fail:"Try again! Luna is learning...",perfect:"Perfect! Trick learned! ",progress:"Progress: {current}/{total}",tricksLearned:"Tricks learned: {count}",noTricks:"No tricks learned yet!",startTraining:"Start!",showOff:"Show off!",close:"Close"},healthCheckup:{title:"Vet Visit ",subtitle:"Health checkup for {name}",overallHealth:"Overall Health",excellent:"Excellent! ",good:"Good ",fair:"Fair ",poor:"Needs care ",critical:"Warning! ",categories:{energy:"Energy",hunger:"Nutrition",happiness:"Happiness",health:"Physical Health"},tips:{energy:{low:"Luna is tired! Take her to the bedroom for a nap.",medium:"Luna has some energy. A little rest might help!",high:"Luna is full of energy! Perfect for playtime!"},hunger:{low:"Luna is hungry! Run to the kitchen to feed her.",medium:"Luna could use a snack soon.",high:"Luna is well-fed and happy! "},happiness:{low:"Luna is sad... Play with her or give her cuddles!",medium:"Luna is okay. Maybe some extra pets?",high:"Luna is super happy! Great job! "},health:{low:"Luna is not feeling well. Give her a bath and food!",medium:"Luna is doing okay. Keep it up!",high:"Luna is in great health! "}},checkupBonus:"Checkup bonus: +{coins}  +{xp} XP",lastCheckup:"Last visit: {time}",neverChecked:"First visit!",doctorSays:"The doctor says:",close:"Close",checkNow:"Do Checkup! "},vaccination:{title:"Vaccination Record ",subtitle:"{name}'s vaccinations",tabCheckup:"Checkup",tabVaccines:"Vaccines",noRecords:"No vaccines recorded",addVaccine:"Add Vaccine",vaccineAdded:"Vaccine recorded! ",nextDue:"Next due: {date}",overdue:"Overdue! ",upToDate:"Up to date ",dueIn:"Due in {days} days",dueSoon:"Due soon!",administered:"Administered: {date}",selectVaccine:"Select a vaccine to record",confirmAdd:"Record Vaccine",cancel:"Cancel",healthBonus:"+{health} Health ",allUpToDate:"All vaccines are up to date! ",needsAttention:"{count} vaccines needed",viewAll:"View all",delete:"Delete",deleteConfirm:"Delete this vaccine record?"},activityLog:{title:"Luna's Diary ",subtitle:"What did {name} do today?",today:"Today",noActivities:`Luna hasn't done anything yet today!
Start playing! `,activitiesCount:"{count} activities",timeline:"Timeline",summary:"Summary",morning:"Morning",afternoon:"Afternoon",evening:"Evening",night:"Night",categories:{rest:"Rest & Relax",food:"Food & Snacks",play:"Play & Fun",care:"Care & Hygiene",explore:"Exploration",social:"Cuddles & Love"},stats:{happiness:"Happiness gained",energy:"Energy used",coins:"Coins collected",playtime:"Total playtime"},close:"Close",activities:{sleep:"Slept in the bedroom",eat:"Ate in the kitchen",play:"Played in the garden",bath:"Took a bath",explore:"Explored",shop:"Went shopping",pet:"Got cuddles",brush:"Got brushed",toy:"Played with a toy",train:"Did some training",game:"Completed a mini-game",treasure:"Hunted for treasure",read:"Read a book"}},favoriteRoom:{title:"Favorite Room ",subtitle:"Where does {name} love to be?",favorite:"Favorite room",noFavorite:"Keep exploring!",visits:"{count} visits",topRooms:"Most visited rooms",justStarted:"Luna is exploring...",loves:"{name} loves being here!",tip:"Visit more rooms to find the favorite!"},moodRing:{title:"Mood Ring ",subtitle:"How is {name} feeling?",tap:"Tap to see the mood!",moods:{happy:"Calm",playful:"Energetic",hungry:"Hungry",sleepy:"Drowsy"},colors:{purple:"Purple = Happy ",green:"Green = Playful ",orange:"Orange = Hungry ",blue:"Blue = Sleepy "}},fortune:{title:"Luna's Oracle ",subtitle:"Discover what the future holds!",crystalBall:"Crystal Ball",askFortune:"Ask for Fortune!",thinking:"Luna is gazing into the future...",revealed:"Your destiny is revealed!",categories:{luck:" Luck",love:" Friendship",adventure:" Adventure",play:" Play",magic:" Magic"},fortunes:{luck:["You'll find something special today! ","Luck is smiling at you! Try a mini-game! ","A treasure awaits you in the attic! ","The stars are on your side! ","Something wonderful is about to happen! "],love:["A new furry friend awaits you! ","Luna loves you so much! ","Today's cuddles will be extra special! ","Friendship shines brighter than stars! ","Someone is thinking of you right now! "],adventure:["An adventure awaits you in the garden! ","Explore a new room today! ","The world is full of wonders to discover! ","Today is the perfect day to explore! ","Great discoveries await you! "],play:["It's the perfect time to play! ","Try a new toy today! ","Fun is guaranteed in the next few minutes! ","A mini-game will bring you luck! ","Luna wants to play with you! "],magic:["Magic surrounds you today! ","Magical things are about to happen! ","Luna senses positive energy! ","Your spirit shines with its own light! ","You're destined for extraordinary things! "]},dailyLimit:"Come back tomorrow for another fortune!",fortunesLeft:"{count} fortunes left today",reward:"+{coins} coins ",close:"Close",newFortune:"New Fortune"},funFacts:{title:"Did You Know? ",subtitle:"Fun facts about cats!",nextFact:"Next Fact!",close:"Close",category:{behavior:" Behavior",body:" Body",history:" History",senses:" Senses",sleep:" Sleep",communication:" Communication"},facts:[{text:"Cats spend 70% of their lives sleeping!",category:"sleep",emoji:""},{text:"Cats can rotate their ears 180 degrees!",category:"body",emoji:""},{text:"A cat has 230 bones - more than a human!",category:"body",emoji:""},{text:"Cats can't taste sweetness!",category:"senses",emoji:""},{text:"Each cat's nose print is unique like a fingerprint!",category:"body",emoji:""},{text:"Cats can jump up to 6 times their length!",category:"body",emoji:""},{text:"Cat purrs have healing effects!",category:"communication",emoji:""},{text:"Cats can see very well in the dark!",category:"senses",emoji:""},{text:"An adult cat has 30 teeth!",category:"body",emoji:""},{text:"Cats spend 30% of their time grooming!",category:"behavior",emoji:""},{text:"Domestic cats have existed for over 10,000 years!",category:"history",emoji:""},{text:"Cat whiskers help them measure spaces!",category:"senses",emoji:""},{text:"Cats can run up to 30 mph!",category:"body",emoji:""},{text:"A cat's heart beats 2-3 times faster than a human's!",category:"body",emoji:""},{text:"Cats can make over 100 different sounds!",category:"communication",emoji:""},{text:"Orange cats are often male!",category:"body",emoji:""},{text:"Cats dream just like humans do!",category:"sleep",emoji:""},{text:"In ancient Egypt, cats were considered sacred!",category:"history",emoji:""},{text:"Cats can recognize their owner's voice!",category:"senses",emoji:""},{text:"The first cat in space was a French cat named Flicette!",category:"history",emoji:""}],learned:"You've learned {count} facts!",newFact:"New fact unlocked! "}}},kt=[{key:"bedroom",icon:"",bg:`${ot}assets/backgrounds/room-bedroom.jpg`,category:"home",hotspot:{x:32,y:18,width:22,height:28},lunaPos:{x:43,y:32}},{key:"kitchen",icon:"",bg:`${ot}assets/backgrounds/room-kitchen.jpg`,category:"home",hotspot:{x:32,y:52,width:18,height:30},lunaPos:{x:41,y:67}},{key:"living",icon:"",bg:`${ot}assets/backgrounds/room-living.jpg`,category:"home",hotspot:{x:50,y:52,width:20,height:30},lunaPos:{x:60,y:67}},{key:"bathroom",icon:"",bg:`${ot}assets/backgrounds/room-bathroom.jpg`,category:"home",hotspot:{x:58,y:18,width:18,height:28},lunaPos:{x:67,y:32}},{key:"garden",icon:"",bg:`${ot}assets/backgrounds/room-garden.jpg`,category:"home",hotspot:{x:5,y:45,width:22,height:40},lunaPos:{x:16,y:65}},{key:"garage",icon:"",bg:`${ot}assets/backgrounds/room-garage.jpg`,category:"home",hotspot:{x:70,y:52,width:22,height:30},lunaPos:{x:81,y:67}},{key:"shop",icon:"",bg:`${ot}assets/backgrounds/room-shop.jpg`,category:"outside",hotspot:{x:0,y:0,width:0,height:0},lunaPos:{x:50,y:60}},{key:"supermarket",icon:"",bg:`${ot}assets/backgrounds/room-supermarket.jpg`,category:"outside",hotspot:{x:0,y:0,width:0,height:0},lunaPos:{x:50,y:60}},{key:"library",icon:"",bg:`${ot}assets/backgrounds/room-library.jpg`,category:"home",hotspot:{x:76,y:18,width:18,height:28},lunaPos:{x:85,y:32}},{key:"attic",icon:"",bg:`${ot}assets/backgrounds/room-attic.jpg`,category:"home",hotspot:{x:40,y:2,width:20,height:15},lunaPos:{x:50,y:55}},{key:"basement",icon:"",bg:`${ot}assets/backgrounds/room-basement.jpg`,category:"home",hotspot:{x:40,y:85,width:20,height:13},lunaPos:{x:50,y:60}}],Ib=[{id:"explorer",icon:"",unlocked:!1,progress:0,target:8},{id:"firstMeal",icon:"",unlocked:!1,progress:0,target:1},{id:"sleepyHead",icon:"",unlocked:!1,progress:0,target:5},{id:"socialite",icon:"",unlocked:!1,progress:0,target:10},{id:"shopper",icon:"",unlocked:!1,progress:0,target:10},{id:"wealthy",icon:"",unlocked:!1,progress:0,target:500},{id:"healthy",icon:"",unlocked:!1,progress:0,target:100},{id:"bookworm",icon:"",unlocked:!1,progress:0,target:3}],Cf=()=>{const n=new Date().getHours();return n>=6&&n<12?"morning":n>=12&&n<18?"afternoon":n>=18&&n<22?"evening":"night"},zb=n=>n.hunger<30?"hungry":n.energy<30?"sleepy":n.happiness>70&&n.energy>60?"playful":"happy",qt=n=>({happy:"",hungry:"",sleepy:"",playful:""})[n],Ol=(n,i,a)=>{const c={hungry:{play:{it:"Ho troppa fame per giocare... ",en:"I'm too hungry to play... "},sleep:{it:"La pancia brontola... ",en:"My tummy is rumbling... "},default:{it:"Mmm, ho fame! ",en:"Mmm, I'm hungry! "}},sleepy:{play:{it:"*sbadiglio* Sono stanco... ",en:"*yawn* I'm tired... "},eat:{it:"Forse dopo un sonnellino... ",en:"Maybe after a nap... "},default:{it:"Zzz... ",en:"Zzz... "}},playful:{sleep:{it:"Ma ho voglia di giocare! ",en:"But I wanna play! "},eat:{it:"Ok, ma poi giochiamo! ",en:"Ok, but let's play after! "},default:{it:"Evviva! Giochiamo! ",en:"Yay! Let's play! "}},happy:{default:{it:"Sono felice! ",en:"I'm happy! "}}}[n];return(c[i]||c.default)?.[a]||null},Db=n=>n*100,Fb=n=>{const i=Math.round(n.hunger*.3+n.happiness*.3+n.energy*.2+n.health*.2);return i>=80?{level:"blissful",score:i,emoji:"",color:"#4ade80",label:{it:"Beato!",en:"Blissful!"}}:i>=60?{level:"happy",score:i,emoji:"",color:"#a3e635",label:{it:"Felice",en:"Happy"}}:i>=40?{level:"okay",score:i,emoji:"",color:"#fbbf24",label:{it:"Ok",en:"Okay"}}:i>=20?{level:"uncomfortable",score:i,emoji:"",color:"#fb923c",label:{it:"A disagio",en:"Uncomfortable"}}:{level:"distressed",score:i,emoji:"",color:"#f87171",label:{it:"In difficolt",en:"Distressed"}}},Bb=(n,i)=>{const a=Math.max(i.happiness,i.energy)/100;switch(n){case"happy":return{color:"#9333ea",glowColor:`rgba(147, 51, 234, ${.4+a*.3})`,pulseSpeed:2.5,label:{it:"Sereno",en:"Calm"},description:{it:"Luna  felice e rilassata!",en:"Luna is happy and relaxed!"}};case"playful":return{color:"#22c55e",glowColor:`rgba(34, 197, 94, ${.5+a*.3})`,pulseSpeed:1.2,label:{it:"Energica",en:"Energetic"},description:{it:"Luna vuole giocare!",en:"Luna wants to play!"}};case"hungry":return{color:"#f97316",glowColor:`rgba(249, 115, 22, ${.5+a*.2})`,pulseSpeed:1.5,label:{it:"Affamata",en:"Hungry"},description:{it:"Luna ha fame!",en:"Luna is hungry!"}};case"sleepy":return{color:"#3b82f6",glowColor:`rgba(59, 130, 246, ${.3+a*.2})`,pulseSpeed:3.5,label:{it:"Assonnata",en:"Drowsy"},description:{it:"Luna ha sonno...",en:"Luna is sleepy..."}};default:return{color:"#9333ea",glowColor:"rgba(147, 51, 234, 0.4)",pulseSpeed:2.5,label:{it:"Sereno",en:"Calm"},description:{it:"Luna sta bene!",en:"Luna is doing well!"}}}},$l=n=>n<=2?{stage:"baby",emoji:"",label:{it:"Cucciolo",en:"Baby"},scale:.75,glowColor:"rgba(255, 182, 193, 0.6)",nextLevel:3}:n<=5?{stage:"kitten",emoji:"",label:{it:"Gattino",en:"Kitten"},scale:.9,glowColor:"rgba(255, 215, 0, 0.5)",nextLevel:6}:{stage:"adult",emoji:"",label:{it:"Gatto Adulto",en:"Adult Cat"},scale:1,glowColor:"rgba(147, 112, 219, 0.6)",nextLevel:null},m0="moonlight-house-save",Vb=(n,i)=>{const l=(Date.now()-i)/(1e3*60*60);if(l<.1)return{stats:n,hoursAway:0};const c=Math.min(l*3,60),u=Math.min(l*2,50),p=Math.min(l*5,40),m=Math.min(l*1,20);return{stats:{...n,hunger:Math.max(0,n.hunger-c),happiness:Math.max(0,n.happiness-u),energy:Math.min(100,n.energy+p),health:n.hunger-c<20?Math.max(0,n.health-l*2):n.health,weight:Math.max(30,(n.weight??50)-m)},hoursAway:l}},Ob=(n,i)=>n<.1?null:n<1?{message:"Bentornato!",emoji:""}:n<24?{message:"Luna ti ha pensato!",emoji:""}:{message:"Luna si sentiva cos sola senza di te! ",emoji:""},tt=()=>{try{const n=localStorage.getItem(m0);if(!n)return null;const i=JSON.parse(n);return{...i,lastVisit:i.lastVisit||Date.parse(i.savedAt)||Date.now(),totalVisits:i.totalVisits||1,createdAt:i.createdAt||i.savedAt||new Date().toISOString(),lastBirthdayCelebrated:i.lastBirthdayCelebrated,friendCode:i.friendCode,personality:i.personality,furColor:i.furColor||"orange",unlockedFurColors:i.unlockedFurColors||["orange"]}}catch{return null}},$b=n=>{const i=new Date(n),a=new Date;return i.getMonth()===a.getMonth()&&i.getDate()===a.getDate()},_b=n=>{const i=new Date(n),a=new Date;let l=a.getFullYear()-i.getFullYear(),c=a.getMonth()-i.getMonth(),u=a.getDate()-i.getDate();return u<0&&(c--,u+=new Date(a.getFullYear(),a.getMonth(),0).getDate()),c<0&&(l--,c+=12),{years:l,months:c,days:u}},Ub=(n,i,a,l,c,u,p,m,f,g,y,v,k,N,L,j,C,R,A,S,I)=>{try{const M={stats:n,achievements:i,gameState:{...a,roomsVisited:Array.from(a.roomsVisited)},savedAt:new Date().toISOString(),lastVisit:Date.now(),totalVisits:l,petName:c,costumes:u,toyBox:p,createdAt:m||new Date().toISOString(),lastBirthdayCelebrated:f,moodJournal:g,playHistory:y,dailyQuests:v,friendCode:k,petAlbum:N,personality:L,furColor:j||"orange",unlockedFurColors:C||["orange"],activityLog:R,favoriteRoomState:A,sleepSchedule:S,vaccinationState:I};localStorage.setItem(m0,JSON.stringify(M))}catch{console.warn("Failed to save game")}};function qb({onComplete:n,lang:i}){const[a,l]=x.useState([]),[c,u]=x.useState(0),[p,m]=x.useState(10),[f,g]=x.useState(!0),y=He[i];x.useEffect(()=>{if(!f)return;const k=setInterval(()=>{l(L=>[...L.filter(j=>!j.caught),{id:Date.now(),x:Math.random()*80+10,y:Math.random()*60+20,caught:!1}].slice(-8))},800),N=setInterval(()=>{m(L=>L<=1?(g(!1),clearInterval(k),clearInterval(N),0):L-1)},1e3);return()=>{clearInterval(k),clearInterval(N)}},[f]),x.useEffect(()=>{!f&&p===0&&setTimeout(()=>n(c),1500)},[f,p,c,n]);const v=k=>{l(N=>N.map(L=>L.id===k?{...L,caught:!0}:L)),u(N=>N+10)};return r.jsx("div",{className:"mini-game-overlay",children:r.jsxs("div",{className:"mini-game-container glass-card",children:[r.jsxs("div",{className:"mini-game-header",children:[r.jsxs("span",{className:"mini-game-title",children:[" ",y.miniGame]}),r.jsxs("span",{className:"mini-game-timer",children:[" ",p,"s"]}),r.jsxs("span",{className:"mini-game-score",children:[y.score,": ",c]})]}),r.jsxs("div",{className:"mini-game-area",children:[f&&r.jsx("p",{className:"tap-hint",children:y.tapToPlay}),a.map(k=>!k.caught&&r.jsx("button",{className:"star-target",style:{left:`${k.x}%`,top:`${k.y}%`},onClick:()=>v(k.id),children:""},k.id)),!f&&r.jsxs("div",{className:"mini-game-result",children:[r.jsx("span",{className:"result-emoji",children:""}),r.jsxs("span",{className:"result-score",children:[c," ",y.score,"!"]}),r.jsxs("span",{className:"result-coins",children:["+",Math.floor(c/2)," "]})]})]})]})})}function Hb({lang:n,onCollectCoins:i,onFeedFish:a,onClose:l}){const c=["","","","","","","",""],u=["","","","",""],[p,m]=x.useState(()=>{const C=4+Math.floor(Math.random()*3);return{fish:Array.from({length:C},(A,S)=>({id:S,x:10+Math.random()*80,y:20+Math.random()*50,emoji:c[Math.floor(Math.random()*5)],speed:.3+Math.random()*.4,direction:Math.random()*Math.PI*2,size:.8+Math.random()*.4,hasCoins:Math.random()<.3,hunger:50+Math.random()*50})),coins:[],food:[],totalCoinsCollected:0,feedCount:0}}),[f,g]=x.useState(!1),[y,v]=x.useState(null),k={title:n==="it"?"Acquario ":"Fish Tank ",feed:n==="it"?" Dai da Mangiare":" Feed Fish",collect:n==="it"?"Tocca i pesci per le monete!":"Tap fish for coins!",feeding:n==="it"?"Gnam gnam! ":"Yum yum! ",cooldown:n==="it"?"Aspetta un po'...":"Wait a bit...",coinGet:"+1 ",fishHappy:n==="it"?"I pesci sono felici!":"Fish are happy!"};x.useEffect(()=>{const C=setInterval(()=>{m(R=>{const A=R.fish.map(z=>{let O=z.direction;Math.random()<.02&&(O=z.direction+(Math.random()-.5)*Math.PI/2);let U=z.x+Math.cos(O)*z.speed,W=z.y+Math.sin(O)*z.speed;(U<5||U>95)&&(O=Math.PI-O,U=Math.max(5,Math.min(95,U))),(W<15||W>75)&&(O=-O,W=Math.max(15,Math.min(75,W)));const ce=z.hunger>70&&Math.random()<.005;return{...z,x:U,y:W,direction:O,hasCoins:z.hasCoins||ce,hunger:Math.max(0,z.hunger-.05)}}),S=R.food.map(z=>({...z,y:z.y+.5})).filter(z=>z.y<80);let I=A,M=S;S.forEach(z=>{const O=I.find(U=>Math.abs(U.x-z.x)<8&&Math.abs(U.y-z.y)<8);O&&(I=I.map(U=>U.id===O.id?{...U,hunger:Math.min(100,U.hunger+20),hasCoins:!0}:U),M=M.filter(U=>U.id!==z.id))});const V=R.coins.map(z=>({...z,y:z.y-.3})).filter(z=>z.y>5);return{...R,fish:I,food:M,coins:V}})},50);return()=>clearInterval(C)},[]);const N=()=>{if(f){v(k.cooldown),setTimeout(()=>v(null),1e3);return}const C=Array.from({length:5},(R,A)=>({id:Date.now()+A,x:20+Math.random()*60,y:10}));m(R=>({...R,food:[...R.food,...C],feedCount:R.feedCount+1})),v(k.feeding),setTimeout(()=>v(null),1500),g(!0),setTimeout(()=>g(!1),3e3),a()},L=C=>{m(R=>{const A=R.fish.find(I=>I.id===C);if(!A?.hasCoins)return R;const S={id:Date.now(),x:A.x,y:A.y};return{...R,fish:R.fish.map(I=>I.id===C?{...I,hasCoins:!1}:I),coins:[...R.coins,S],totalCoinsCollected:R.totalCoinsCollected+1}}),v(k.coinGet),setTimeout(()=>v(null),800),i(1)},j=p.fish.reduce((C,R)=>C+R.hunger,0)/p.fish.length;return r.jsx(P.div,{className:"fish-tank-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:r.jsxs(P.div,{className:"fish-tank-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:C=>C.stopPropagation(),children:[r.jsxs("div",{className:"fish-tank-header",children:[r.jsx("h2",{className:"fish-tank-title",children:k.title}),r.jsxs("div",{className:"fish-tank-stats",children:[r.jsxs("span",{className:"fish-tank-coins",children:[" ",p.totalCoinsCollected]}),r.jsx("span",{className:"fish-tank-happiness",title:k.fishHappy,children:j>70?"":j>40?"":""})]}),r.jsx("button",{className:"fish-tank-close",onClick:l,children:""})]}),r.jsx(Ne,{children:y&&r.jsx(P.div,{className:"fish-tank-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:y})}),r.jsxs("div",{className:"fish-tank-container",children:[r.jsxs("div",{className:"fish-tank-water",children:[r.jsx("div",{className:"fish-tank-bubbles",children:[...Array(8)].map((C,R)=>r.jsx(P.span,{className:"bubble",initial:{y:100,x:10+Math.random()*80,opacity:.6},animate:{y:-20,opacity:[.6,.8,0],x:10+Math.random()*80+(Math.random()-.5)*20},transition:{duration:3+Math.random()*2,repeat:1/0,delay:R*.5,ease:"easeOut"},children:""},R))}),r.jsx("div",{className:"fish-tank-decorations",children:u.map((C,R)=>r.jsx("span",{className:"tank-decoration",style:{left:`${10+R*20}%`,bottom:"5%",fontSize:"1.5rem"},children:C},R))}),p.food.map(C=>r.jsx(P.span,{className:"fish-food",style:{left:`${C.x}%`,top:`${C.y}%`},initial:{scale:.5},animate:{scale:1},children:""},C.id)),p.coins.map(C=>r.jsx(P.span,{className:"fish-coin",style:{left:`${C.x}%`,top:`${C.y}%`},animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.5},children:""},C.id)),p.fish.map(C=>r.jsxs(P.button,{className:`tank-fish ${C.hasCoins?"has-coins":""}`,style:{left:`${C.x}%`,top:`${C.y}%`,fontSize:`${C.size*2}rem`,transform:`scaleX(${Math.cos(C.direction)<0?-1:1})`},onClick:()=>L(C.id),whileHover:{scale:1.2},whileTap:{scale:.9},children:[C.emoji,C.hasCoins&&r.jsx(P.span,{className:"fish-coin-indicator",animate:{scale:[1,1.3,1],opacity:[1,.7,1]},transition:{duration:1,repeat:1/0},children:""})]},C.id))]}),r.jsx("div",{className:"fish-tank-frame"})]}),r.jsx("p",{className:"fish-tank-hint",children:k.collect}),r.jsx(P.button,{className:`fish-tank-feed-btn ${f?"cooldown":""}`,onClick:N,whileHover:f?{}:{scale:1.05},whileTap:f?{}:{scale:.95},children:k.feed})]})})}function Nf({achievement:n,lang:i,onClose:a}){const l=He[i];return x.useEffect(()=>{const c=setTimeout(a,3e3);return()=>clearTimeout(c)},[a]),r.jsxs("div",{className:"achievement-popup glass-card",onClick:a,children:[r.jsx("span",{className:"achievement-icon",children:n.icon}),r.jsxs("div",{className:"achievement-info",children:[r.jsx("span",{className:"achievement-title",children:l.messages.achievementUnlocked}),r.jsx("span",{className:"achievement-name",children:l.achievements[n.id]})]})]})}function Wb({evolution:n,petName:i,lang:a,onClose:l}){x.useEffect(()=>{const u=setTimeout(l,4e3);return()=>clearTimeout(u)},[l]);const c={baby:{it:" nato!",en:"is born!"},kitten:{it:" cresciuto!",en:"has grown!"},adult:{it:" diventato adulto!",en:"is now an adult!"}};return r.jsx(P.div,{className:"evolution-popup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:r.jsxs(P.div,{className:"evolution-popup glass-card",initial:{scale:.3,opacity:0,rotate:-10},animate:{scale:[.3,1.2,1],opacity:1,rotate:[-10,5,0]},transition:{type:"spring",damping:12,stiffness:200,duration:.6},onClick:u=>u.stopPropagation(),children:[r.jsx(P.div,{className:"evolution-sparkles",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:["","","",""].map((u,p)=>r.jsx(P.span,{className:"evolution-sparkle",style:{position:"absolute",left:`${50+40*Math.cos(p*Math.PI/2)}%`,top:`${50+40*Math.sin(p*Math.PI/2)}%`},animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:p*.3},children:u},p))}),r.jsx(P.span,{className:"evolution-emoji",animate:{scale:[1,1.3,1],y:[0,-10,0]},transition:{duration:.8,repeat:1/0,repeatType:"reverse"},children:n.emoji}),r.jsxs("h2",{className:"evolution-title",children:[" ",a==="it"?"Evoluzione!":"Evolution!"," "]}),r.jsxs("p",{className:"evolution-message",children:[i," ",c[n.stage][a]]}),r.jsx("p",{className:"evolution-stage-name",children:n.label[a]}),r.jsx(P.button,{className:"evolution-btn",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,children:a==="it"?"Fantastico!":"Awesome!"})]})})}function Tf({roomKey:n,roomIcon:i,lang:a,onClose:l}){const c=He[a];x.useEffect(()=>{const m=setTimeout(l,2500);return()=>clearTimeout(m)},[l]);const u=c.rooms[n],p=a==="it"?"Nuova stanza sbloccata!":"New room unlocked!";return r.jsxs(P.div,{className:"room-unlock-popup glass-card",initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{type:"spring",damping:15,stiffness:300},onClick:l,children:[r.jsx(P.span,{className:"room-unlock-icon",initial:{rotate:-15,scale:.5},animate:{rotate:[0,-10,10,-5,5,0],scale:1},transition:{duration:.6,ease:"easeOut"},children:i}),r.jsxs("div",{className:"room-unlock-info",children:[r.jsxs("span",{className:"room-unlock-title",children:[" ",p]}),r.jsx("span",{className:"room-unlock-name",children:u})]}),r.jsxs(P.div,{className:"room-unlock-sparkles",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[r.jsx("span",{className:"sparkle s1",children:""}),r.jsx("span",{className:"sparkle s2",children:""}),r.jsx("span",{className:"sparkle s3",children:""})]})]})}function Gb({message:n,emoji:i,hoursAway:a,totalVisits:l,lang:c,onClose:u}){const p=()=>{if(a<1){const f=Math.round(a*60);return c==="it"?`${f} minuti`:`${f} minutes`}if(a<24){const f=Math.round(a);return c==="it"?`${f} ore`:`${f} hours`}const m=Math.round(a/24);return c==="it"?`${m} giorni`:`${m} days`};return r.jsx(P.div,{className:"welcome-back-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:r.jsxs(P.div,{className:"welcome-back-popup glass-card",initial:{scale:.5,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:m=>m.stopPropagation(),children:[r.jsx("span",{className:"welcome-emoji",children:i}),r.jsx("h2",{className:"welcome-title",children:n}),r.jsx("p",{className:"welcome-time",children:c==="it"?`Eri via da ${p()}`:`You were away for ${p()}`}),r.jsxs("p",{className:"welcome-visits",children:[c==="it"?`Visita #${l}`:`Visit #${l}`,r.jsx("span",{className:"visit-star",children:""})]}),a>=24&&r.jsx("p",{className:"welcome-warning",children:c==="it"?" Luna aveva fame e si sentiva sola!":" Luna was hungry and lonely!"}),r.jsx("button",{className:"welcome-btn",onClick:u,children:c==="it"?" Ciao Luna!":" Hi Luna!"})]})})}function Yb({lang:n,onConfirm:i}){const[a,l]=x.useState(""),c=He[n],u=()=>{const m=a.trim()||"Pip";i(m)},p=()=>{i("Pip")};return r.jsx(P.div,{className:"pet-naming-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs(P.div,{className:"pet-naming-modal glass-card",initial:{scale:.5,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},children:[r.jsx("span",{className:"pet-naming-emoji",children:""}),r.jsx("h2",{className:"pet-naming-title",children:c.petNaming.title}),r.jsx("input",{type:"text",className:"pet-naming-input",placeholder:c.petNaming.placeholder,value:a,onChange:m=>l(m.target.value),maxLength:20,autoFocus:!0,onKeyDown:m=>m.key==="Enter"&&u()}),r.jsxs("div",{className:"pet-naming-buttons",children:[r.jsx("button",{className:"pet-naming-btn confirm",onClick:u,children:c.petNaming.confirm}),r.jsx("button",{className:"pet-naming-btn skip",onClick:p,children:c.petNaming.skip})]})]})})}function Xb({coins:n,streak:i,lang:a,onClose:l}){const c=He[a];return r.jsx("div",{className:"daily-reward-overlay",onClick:l,children:r.jsxs("div",{className:"daily-reward-popup glass-card",children:[r.jsx("span",{className:"reward-icon",children:""}),r.jsx("span",{className:"reward-title",children:c.messages.dailyReward.replace("{coins}",String(n))}),r.jsxs("span",{className:"reward-streak",children:[" ",i," ",a==="it"?"giorni di fila!":"day streak!"]}),r.jsx("button",{className:"reward-claim-btn",children:a==="it"?"Riscuoti!":"Claim!"})]})})}function Mf({weather:n,isLoading:i,lang:a,compact:l=!1}){const c=f=>({clear:"linear-gradient(135deg, #87CEEB 0%, #FFD700 100%)",cloudy:"linear-gradient(135deg, #a8b4c4 0%, #d4dbe6 100%)",rain:"linear-gradient(135deg, #4a6b8a 0%, #7a9bb8 100%)",storm:"linear-gradient(135deg, #2c3e50 0%, #4a5568 100%)",snow:"linear-gradient(135deg, #e8f4fc 0%, #cde5f5 100%)",hot:"linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%)",windy:"linear-gradient(135deg, #89CFF0 0%, #a8e6cf 100%)"})[f],u=f=>({clear:"weather-sunny",cloudy:"weather-cloudy",rain:"weather-rain",storm:"weather-storm",snow:"weather-snow",hot:"weather-hot",windy:"weather-windy"})[f],p=f=>({clear:"",cloudy:"",rain:"",storm:"",snow:"",hot:"",windy:""})[f],m=(f,g)=>({clear:{it:"Sereno",en:"Clear"},cloudy:{it:"Nuvoloso",en:"Cloudy"},rain:{it:"Pioggia",en:"Rain"},storm:{it:"Temporale",en:"Storm"},snow:{it:"Neve",en:"Snow"},hot:{it:"Caldo",en:"Hot"},windy:{it:"Ventoso",en:"Windy"}})[f][g];return l?r.jsxs(P.div,{className:"weather-widget-compact glass-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},title:`${m(n.condition,a)} ${n.temperature}C`,children:[r.jsx("span",{className:`weather-icon-compact ${u(n.condition)}`,children:p(n.condition)}),r.jsxs("span",{className:"weather-temp-compact",children:[n.temperature,""]})]}):r.jsxs(P.div,{className:`weather-widget glass-card ${u(n.condition)}`,initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,type:"spring",damping:15},style:{background:c(n.condition)},children:[r.jsxs("div",{className:"weather-effects",children:[n.condition==="rain"&&r.jsx(r.Fragment,{children:[...Array(15)].map((f,g)=>r.jsx(P.span,{className:"rain-drop",initial:{y:-20,x:Math.random()*100,opacity:.7},animate:{y:100,opacity:0},transition:{duration:.8+Math.random()*.4,repeat:1/0,delay:Math.random()*1,ease:"linear"},style:{left:`${Math.random()*100}%`},children:""},g))}),n.condition==="snow"&&r.jsx(r.Fragment,{children:[...Array(12)].map((f,g)=>r.jsx(P.span,{className:"snow-flake",initial:{y:-20,x:Math.random()*100,opacity:.9},animate:{y:100,x:`${Math.random()*100}%`,rotate:360,opacity:0},transition:{duration:2+Math.random()*1.5,repeat:1/0,delay:Math.random()*2,ease:"linear"},style:{left:`${Math.random()*100}%`},children:""},g))}),n.condition==="storm"&&r.jsx(P.span,{className:"lightning",animate:{opacity:[0,1,0,0,0,1,0,0,0,0]},transition:{duration:3,repeat:1/0,repeatDelay:2},children:""})]}),r.jsxs("div",{className:"weather-main",children:[r.jsx(P.span,{className:"weather-icon",animate:n.condition==="clear"?{rotate:[0,15,-15,0],scale:[1,1.1,1]}:n.condition==="windy"?{x:[-5,5,-5],rotate:[-10,10,-10]}:n.condition==="hot"?{scale:[1,1.15,1],filter:["brightness(1)","brightness(1.3)","brightness(1)"]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:p(n.condition)}),r.jsxs("div",{className:"weather-info",children:[r.jsxs("span",{className:"weather-temp",children:[n.temperature,"C"]}),r.jsx("span",{className:"weather-label",children:m(n.condition,a)})]})]}),r.jsxs("div",{className:"weather-details",children:[r.jsxs("span",{className:"weather-detail",title:a==="it"?"Umidit":"Humidity",children:[" ",Math.round(n.humidity),"%"]}),r.jsxs("span",{className:"weather-detail",title:a==="it"?"Vento":"Wind",children:[" ",Math.round(n.windSpeed)," km/h"]})]}),r.jsxs("div",{className:"weather-source",children:[n.isRealWeather?r.jsxs("span",{className:"weather-real",children:[" ",a==="it"?"Meteo reale":"Real weather"]}):r.jsxs("span",{className:"weather-story",children:[" ",a==="it"?"Meteo magico":"Magic weather"]}),i&&r.jsx("span",{className:"weather-loading",children:"..."})]})]})}function Kb({timeOfDay:n,room:i}){if(!["bedroom","living","kitchen","library","attic"].includes(i))return null;const l=()=>{switch(n){case"morning":return"linear-gradient(180deg, #87CEEB 0%, #FFE4B5 50%, #FFDAB9 100%)";case"afternoon":return"linear-gradient(180deg, #1E90FF 0%, #87CEEB 50%, #B0E0E6 100%)";case"evening":return"linear-gradient(180deg, #FF6B6B 0%, #FF8C42 30%, #FFD93D 60%, #6BCB77 100%)";case"night":return"linear-gradient(180deg, #0D1B2A 0%, #1B263B 40%, #415A77 100%)"}},u=(()=>{switch(n){case"morning":return{icon:"",position:{bottom:"15%",left:"20%"},size:"2rem"};case"afternoon":return{icon:"",position:{top:"20%",left:"50%"},size:"2.5rem"};case"evening":return{icon:"",position:{bottom:"10%",right:"25%"},size:"2rem"};case"night":return{icon:"",position:{top:"15%",right:"25%"},size:"2rem"}}})(),m=(()=>{switch(i){case"bedroom":return{top:"8%",right:"8%"};case"living":return{top:"10%",left:"15%"};case"kitchen":return{top:"12%",right:"12%"};case"library":return{top:"15%",left:"8%"};case"attic":return{top:"5%",left:"50%",transform:"translateX(-50%)"};default:return{top:"10%",right:"10%"}}})();return r.jsxs(P.div,{className:"window-view-container",style:{position:"absolute",...m,width:i==="attic"?"100px":"120px",height:i==="attic"?"80px":"140px",borderRadius:i==="attic"?"50px 50px 0 0":"8px",overflow:"hidden",boxShadow:"inset 0 0 20px rgba(0,0,0,0.3), 0 4px 15px rgba(0,0,0,0.2)",border:"6px solid #8B4513",zIndex:5,pointerEvents:"none"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},children:[r.jsx("div",{className:"window-sky",style:{position:"absolute",inset:0,background:l(),transition:"background 2s ease"}}),(n==="night"||n==="evening")&&r.jsx("div",{className:"window-stars",style:{position:"absolute",inset:0},children:[...Array(n==="night"?12:5)].map((f,g)=>r.jsx(P.span,{style:{position:"absolute",left:`${10+Math.random()*80}%`,top:`${5+Math.random()*50}%`,fontSize:`${.3+Math.random()*.4}rem`,color:"white",textShadow:"0 0 4px white"},animate:{opacity:[.4,1,.4],scale:[.8,1.2,.8]},transition:{duration:1.5+Math.random()*2,repeat:1/0,delay:Math.random()*2},children:""},g))}),r.jsx(P.span,{style:{position:"absolute",...u.position,fontSize:u.size,filter:n==="afternoon"?"drop-shadow(0 0 10px rgba(255,200,0,0.8))":"drop-shadow(0 0 8px rgba(255,255,200,0.6))"},animate:n==="afternoon"?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:n==="night"?{y:[0,-3,0]}:{},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:u.icon}),(n==="morning"||n==="afternoon")&&r.jsxs(r.Fragment,{children:[r.jsx(P.span,{style:{position:"absolute",top:"20%",fontSize:"1.2rem",opacity:.9},animate:{x:["-20%","120%"]},transition:{duration:20,repeat:1/0,ease:"linear"},children:""}),r.jsx(P.span,{style:{position:"absolute",top:"40%",fontSize:"0.9rem",opacity:.7},animate:{x:["120%","-20%"]},transition:{duration:25,repeat:1/0,ease:"linear",delay:5},children:""})]}),n==="evening"&&r.jsx(P.span,{style:{position:"absolute",bottom:"30%",fontSize:"1rem",opacity:.6,filter:"brightness(0.7) hue-rotate(-20deg)"},animate:{x:["-10%","110%"]},transition:{duration:30,repeat:1/0,ease:"linear"},children:""}),i!=="attic"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{position:"absolute",top:0,left:"50%",width:"4px",height:"100%",background:"#8B4513",transform:"translateX(-50%)",boxShadow:"inset 0 0 3px rgba(0,0,0,0.3)"}}),r.jsx("div",{style:{position:"absolute",top:"50%",left:0,width:"100%",height:"4px",background:"#8B4513",transform:"translateY(-50%)",boxShadow:"inset 0 0 3px rgba(0,0,0,0.3)"}})]}),r.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%, rgba(255,255,255,0.1) 100%)",pointerEvents:"none"}}),r.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"8px",background:"linear-gradient(90deg, rgba(139,90,43,0.4), transparent)"}}),r.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"8px",background:"linear-gradient(-90deg, rgba(139,90,43,0.4), transparent)"}})]})}function Qb({petName:n,age:i,lang:a,onClose:l}){const c=He[a],[u,p]=x.useState([]);x.useEffect(()=>{const g=["","","","","","","","","",""],y=Array.from({length:30},(v,k)=>({id:k,x:Math.random()*100,delay:Math.random()*2,color:g[Math.floor(Math.random()*g.length)]}));p(y)},[]);const m=50+i.years*25+i.months*5,f=()=>{if(i.years===0&&i.months===0)return c.birthday.firstBirthday;const g=[];return i.years>0&&g.push(i.years===1?c.birthday.ageYears.replace("{years}","1"):c.birthday.ageYearsPlural.replace("{years}",String(i.years))),i.months>0&&i.years<2&&g.push(i.months===1?c.birthday.ageMonths.replace("{months}","1"):c.birthday.ageMonthsPlural.replace("{months}",String(i.months))),c.birthday.age.replace("{name}",n).replace("{age}",g.join(a==="it"?" e ":" and "))};return r.jsxs(P.div,{className:"birthday-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[u.map(g=>r.jsx(P.span,{className:"birthday-confetti",initial:{y:-50,x:`${g.x}%`,opacity:1,rotate:0},animate:{y:"110vh",opacity:[1,1,.8,0],rotate:[0,180,360,540]},transition:{duration:4+Math.random()*2,delay:g.delay,repeat:1/0,ease:"linear"},style:{position:"fixed",top:0,fontSize:"1.5rem",pointerEvents:"none",zIndex:1e3},children:g.color},g.id)),r.jsxs(P.div,{className:"birthday-popup glass-card",initial:{scale:.5,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:12,stiffness:200},children:[r.jsx(P.div,{className:"birthday-cake",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:""}),r.jsx("div",{className:"birthday-balloons",children:["","",""].map((g,y)=>r.jsx(P.span,{animate:{y:[0,-10,0],x:[0,y===1?5:-5,0]},transition:{duration:2+y*.3,repeat:1/0,ease:"easeInOut",delay:y*.2},style:{display:"inline-block",fontSize:"2rem",filter:y===0?"hue-rotate(0deg)":y===1?"hue-rotate(120deg)":"hue-rotate(240deg)"},children:g},y))}),r.jsx("h2",{className:"birthday-title",children:c.birthday.title}),r.jsxs(P.div,{className:"birthday-pet",animate:{rotate:[-5,5,-5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:["",r.jsx("span",{className:"birthday-hat",children:""})]}),r.jsx("p",{className:"birthday-message",children:c.birthday.message.replace("{name}",n)}),r.jsx("p",{className:"birthday-age",children:f()}),r.jsxs("div",{className:"birthday-reward",children:[r.jsx("span",{className:"reward-sparkle",children:""}),r.jsx("span",{children:c.birthday.reward.replace("{coins}",String(m))}),r.jsx("span",{className:"reward-sparkle",children:""})]}),r.jsx(P.button,{className:"birthday-btn",onClick:()=>l(m),whileHover:{scale:1.05},whileTap:{scale:.95},children:c.birthday.celebrate})]})]})}function Jb({lang:n,costumes:i,playerLevel:a,playerCoins:l,onUnlock:c,onEquip:u,onUnlockEyeColor:p,onSelectEyeColor:m,onClose:f}){const g=He[n],[y,v]=x.useState("hat"),[k,N]=x.useState(null),L=Po.find(S=>S.id===i.eyeColor)||Po[0],j=S=>{N(S),setTimeout(()=>N(null),2e3)},C=y!=="eyes"?Be.filter(S=>S.category===y):[],R=S=>{const I=i.unlocked.includes(S.id),M=i.equipped[S.category]===S.id,V=l>=S.price,z=!S.unlockLevel||a>=S.unlockLevel;M?u("",S.category):I?u(S.id,S.category):z?V?(c(S.id,S.price),j(g.wardrobe.unlocked)):j(g.wardrobe.notEnoughCoins):j(g.wardrobe.levelRequired.replace("{level}",String(S.unlockLevel)))},A=S=>{const I=i.unlockedEyeColors?.includes(S.id)||S.price===0,M=i.eyeColor===S.id,V=l>=S.price,z=!S.unlockLevel||a>=S.unlockLevel;M?j(g.eyeColor.selected):I?(m(S.id),j(g.eyeColor.selected)):z?V?(p(S.id,S.price),j(g.eyeColor.unlocked)):j(g.eyeColor.notEnoughCoins):j(g.eyeColor.levelRequired.replace("{level}",String(S.unlockLevel)))};return r.jsx(P.div,{className:"wardrobe-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:f,children:r.jsxs(P.div,{className:"wardrobe-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"wardrobe-header",children:[r.jsxs("h2",{className:"wardrobe-title",children:[" ",g.wardrobe.title]}),r.jsx("button",{className:"wardrobe-close",onClick:f,children:""})]}),r.jsxs("div",{className:"wardrobe-tabs",children:[r.jsxs("button",{className:`wardrobe-tab ${y==="hat"?"active":""}`,onClick:()=>v("hat"),children:[" ",g.wardrobe.hats]}),r.jsxs("button",{className:`wardrobe-tab ${y==="accessory"?"active":""}`,onClick:()=>v("accessory"),children:[" ",g.wardrobe.accessories]}),r.jsxs("button",{className:`wardrobe-tab ${y==="outfit"?"active":""}`,onClick:()=>v("outfit"),children:[" ",g.wardrobe.outfits]}),r.jsxs("button",{className:`wardrobe-tab ${y==="collar"?"active":""}`,onClick:()=>v("collar"),children:[" ",g.wardrobe.collars]}),r.jsxs("button",{className:`wardrobe-tab ${y==="eyes"?"active":""}`,onClick:()=>v("eyes"),children:[" ",g.wardrobe.eyes]})]}),r.jsxs("div",{className:"wardrobe-coins",children:[r.jsx("span",{className:"coin-icon",children:""}),r.jsx("span",{children:l})]}),k&&r.jsx(P.div,{className:"wardrobe-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:k}),y==="eyes"?r.jsx("div",{className:"wardrobe-grid eye-color-grid",children:Po.map(S=>{const I=i.unlockedEyeColors?.includes(S.id)||S.price===0,M=i.eyeColor===S.id,V=!S.unlockLevel||a>=S.unlockLevel;return r.jsxs("button",{className:`costume-item eye-color-item ${I?"unlocked":"locked"} ${M?"equipped":""} ${S.special?"special":""}`,onClick:()=>A(S),children:[r.jsx("span",{className:"costume-icon eye-color-preview",style:{background:(S.id==="rainbow",S.color),boxShadow:`0 0 12px ${S.glowColor}`,width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:M?"3px solid #fff":"2px solid rgba(255,255,255,0.3)"},children:S.icon}),r.jsx("span",{className:"costume-name",children:S.name[n]}),!I&&r.jsx("span",{className:"costume-price",children:V?S.price===0?g.eyeColor.free:`${S.price} `:` Lv.${S.unlockLevel}`}),M&&r.jsx("span",{className:"equipped-badge",children:""}),S.special&&!I&&r.jsx("span",{className:"special-badge",children:""})]},S.id)})}):r.jsx("div",{className:"wardrobe-grid",children:C.map(S=>{const I=i.unlocked.includes(S.id),M=i.equipped[S.category]===S.id,V=!S.unlockLevel||a>=S.unlockLevel;return r.jsxs("button",{className:`costume-item ${I?"unlocked":"locked"} ${M?"equipped":""} ${S.special?"special":""}`,onClick:()=>R(S),children:[r.jsx("span",{className:"costume-icon",children:S.icon}),r.jsx("span",{className:"costume-name",children:S.name[n]}),!I&&r.jsx("span",{className:"costume-price",children:V?`${S.price} `:` Lv.${S.unlockLevel}`}),M&&r.jsx("span",{className:"equipped-badge",children:""}),S.special&&!I&&r.jsx("span",{className:"special-badge",children:""})]},S.id)})}),r.jsxs("div",{className:"wardrobe-preview",children:[r.jsx("span",{className:"preview-label",children:n==="it"?"Anteprima:":"Preview:"}),r.jsxs("div",{className:"preview-pet",style:{position:"relative"},children:["",r.jsx("span",{className:"preview-eye-glow",style:{position:"absolute",top:"35%",left:"50%",transform:"translateX(-50%)",width:"24px",height:"10px",background:(L.id==="rainbow",L.color),borderRadius:"50%",boxShadow:`0 0 8px ${L.glowColor}, 0 0 16px ${L.glowColor}`,opacity:.9,pointerEvents:"none"}}),i.equipped.hat&&r.jsx("span",{className:"preview-hat",children:Be.find(S=>S.id===i.equipped.hat)?.icon}),i.equipped.accessory&&r.jsx("span",{className:"preview-accessory",children:Be.find(S=>S.id===i.equipped.accessory)?.icon}),i.equipped.outfit&&r.jsx("span",{className:"preview-outfit",children:Be.find(S=>S.id===i.equipped.outfit)?.icon}),i.equipped.collar&&r.jsx("span",{className:"preview-collar",children:Be.find(S=>S.id===i.equipped.collar)?.icon})]})]})]})})}function Zb({lang:n,currentColor:i,unlockedColors:a,playerLevel:l,playerCoins:c,onUnlock:u,onSelect:p,onClose:m}){const f=He[n],[g,y]=x.useState(null),[v,k]=x.useState(i),N=j=>{y(j),setTimeout(()=>y(null),2e3)},L=j=>{const C=a.includes(j.id),R=c>=j.price,A=!j.unlockLevel||l>=j.unlockLevel;C?(p(j.id),N(f.furColor.selected)):A?R?(u(j.id,j.price),N(f.furColor.unlocked)):N(f.furColor.notEnoughCoins):N(f.furColor.levelRequired.replace("{level}",String(j.unlockLevel)))};return r.jsx(P.div,{className:"wardrobe-overlay fur-color-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m,children:r.jsxs(P.div,{className:"wardrobe-modal fur-color-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:j=>j.stopPropagation(),children:[r.jsxs("div",{className:"wardrobe-header",children:[r.jsx("h2",{className:"wardrobe-title",children:f.furColor.title}),r.jsx("button",{className:"wardrobe-close",onClick:m,children:""})]}),r.jsx("p",{className:"fur-color-subtitle",children:f.furColor.subtitle}),r.jsxs("div",{className:"wardrobe-coins",children:[r.jsx("span",{className:"coin-icon",children:""}),r.jsx("span",{children:c})]}),g&&r.jsx(P.div,{className:"wardrobe-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:g}),r.jsx("div",{className:"fur-color-grid",children:Zl.map(j=>{const C=a.includes(j.id),R=i===j.id,A=!j.unlockLevel||l>=j.unlockLevel;return r.jsxs("button",{className:`fur-color-item ${C?"unlocked":"locked"} ${R?"selected":""} ${j.special?"special":""}`,onClick:()=>L(j),onMouseEnter:()=>k(j.id),onMouseLeave:()=>k(i),children:[r.jsx("span",{className:"fur-color-emoji",children:j.emoji}),r.jsx("span",{className:"fur-color-name",children:j.name[n]}),!C&&r.jsx("span",{className:"fur-color-price",children:A?j.price>0?`${j.price} `:f.furColor.select:` Lv.${j.unlockLevel}`}),R&&r.jsx("span",{className:"selected-badge",children:""}),j.special&&!C&&r.jsx("span",{className:"special-badge",children:""})]},j.id)})}),r.jsxs("div",{className:"fur-color-preview",children:[r.jsxs("span",{className:"preview-label",children:[f.furColor.preview,":"]}),r.jsx("div",{className:"preview-pet-fur",children:r.jsx("span",{className:"preview-cat-emoji",style:{filter:Zl.find(j=>j.id===v)?.cssFilter||"none",fontSize:"3rem"},children:""})})]})]})})}function e5({lang:n,toyBox:i,playerLevel:a,playerCoins:l,playerEnergy:c,onUnlock:u,onPlay:p,onSetFavorite:m,onClose:f}){const g=He[n],[y,v]=x.useState(null),[k,N]=x.useState(null),L=S=>{v(S),setTimeout(()=>v(null),2e3)},j=S=>{switch(S){case"common":return"#8bc34a";case"rare":return"#2196f3";case"legendary":return"#ff9800"}},C=S=>{const I=i.unlockedToys.includes(S.id),M=S.price?l>=S.price:!0,V=!S.unlockLevel||a>=S.unlockLevel,z=c>=S.energyCost;if(I){if(!z){L(g.toyBox.notEnoughEnergy);return}N(S.id),setTimeout(()=>{N(null),p(S)},1e3)}else V?S.unlockMethod==="shop"&&(M?(u(S.id,S.price||0),L(g.toyBox.unlocked)):L(g.toyBox.notEnoughCoins)):L(g.toyBox.levelRequired.replace("{level}",String(S.unlockLevel)))},R=ui.filter(S=>i.unlockedToys.includes(S.id)),A=ui.filter(S=>!i.unlockedToys.includes(S.id));return r.jsx(P.div,{className:"toybox-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:f,children:r.jsxs(P.div,{className:"toybox-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"toybox-header",children:[r.jsx("h2",{className:"toybox-title",children:g.toyBox.title}),r.jsx("button",{className:"toybox-close",onClick:f,children:""})]}),r.jsxs("div",{className:"toybox-stats",children:[r.jsxs("span",{className:"toybox-stat",children:[" ",l]}),r.jsxs("span",{className:"toybox-stat",children:[" ",Math.round(c)]})]}),y&&r.jsx(P.div,{className:"toybox-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:y}),r.jsxs("div",{className:"toybox-grid",children:[R.map(S=>{const I=i.favoriteToy===S.id,M=k===S.id,V=c>=S.energyCost;return r.jsxs(P.button,{className:`toy-item unlocked ${I?"favorite":""} ${M?"playing":""} ${V?"":"tired"}`,onClick:()=>C(S),whileHover:{scale:1.05},whileTap:{scale:.95},animate:M?{rotate:S.animation==="spin"?[0,360]:S.animation==="wiggle"?[-10,10,-10]:S.animation==="bounce"?[0,-20,0]:0,scale:S.animation==="sparkle"?[1,1.3,1]:1}:{},transition:M?{duration:.5,repeat:1}:{},children:[r.jsx("span",{className:"toy-icon",style:{fontSize:"2.5rem"},children:S.icon}),r.jsx("span",{className:"toy-name",children:S.name[n]}),r.jsx("span",{className:"toy-rarity",style:{color:j(S.rarity)},children:g.toyBox[S.rarity]}),r.jsxs("div",{className:"toy-stats",children:[r.jsxs("span",{className:"toy-happiness",children:[" +",S.happinessBoost]}),r.jsxs("span",{className:"toy-energy",children:[" -",S.energyCost]})]}),I&&r.jsx("span",{className:"favorite-badge",children:""}),r.jsx("button",{className:"favorite-btn",onClick:z=>{z.stopPropagation(),m(I?null:S.id)},title:g.toyBox.setFavorite,children:I?"":""})]},S.id)}),A.map(S=>{const I=!S.unlockLevel||a>=S.unlockLevel,M=S.price?l>=S.price:!0,V=S.unlockMethod==="shop"&&I&&M,z=S.unlockLevel&&a<S.unlockLevel;return r.jsxs(P.button,{className:`toy-item locked ${V?"can-unlock":""}`,onClick:()=>C(S),whileHover:V?{scale:1.05}:{},whileTap:V?{scale:.95}:{},children:[r.jsx("span",{className:"toy-icon locked-icon",style:{fontSize:"2rem",opacity:.5},children:S.icon}),r.jsx("span",{className:"toy-name",children:S.name[n]}),r.jsx("span",{className:"toy-rarity",style:{color:j(S.rarity)},children:g.toyBox[S.rarity]}),z?r.jsxs("span",{className:"toy-lock",children:[" Lv.",S.unlockLevel]}):S.unlockMethod==="shop"?r.jsxs("span",{className:`toy-price ${M?"":"expensive"}`,children:[S.price," "]}):r.jsx("span",{className:"toy-lock",children:""})]},S.id)})]}),i.favoriteToy&&r.jsxs("div",{className:"toybox-favorite-section",children:[r.jsxs("span",{className:"favorite-label",children:[" ",g.toyBox.favorite,":"]}),r.jsxs("button",{className:"favorite-play-btn",onClick:()=>{const S=ui.find(I=>I.id===i.favoriteToy);S&&C(S)},children:[ui.find(S=>S.id===i.favoriteToy)?.icon," ",g.toyBox.play]})]})]})})}function t5({lang:n,treatShop:i,playerLevel:a,playerCoins:l,petHunger:c,onBuy:u,onFeed:p,onClose:m}){const f=He[n],[g,y]=x.useState(null),[v,k]=x.useState(null),[N,L]=x.useState("shop"),j=M=>{y(M),setTimeout(()=>y(null),2e3)},C=M=>{switch(M){case"common":return"#8bc34a";case"rare":return"#2196f3";case"premium":return"#ff9800"}},R=M=>{const V=i.unlockedTreats.includes(M.id)||!M.unlockLevel||a>=M.unlockLevel,z=l>=M.price;if(!V){j(f.treatShop.levelRequired.replace("{level}",String(M.unlockLevel)));return}if(!z){j(f.treatShop.notEnoughCoins);return}u(M.id,M.price),j(f.treatShop.purchased)},A=M=>{if((i.inventory[M.id]||0)<=0){j(f.treatShop.notOwned);return}if(c>=95){j(f.treatShop.tooFull);return}k(M.id),setTimeout(()=>{k(null),p(M),j(f.treatShop.yummy)},800)},S={common:Ia.filter(M=>M.rarity==="common"),rare:Ia.filter(M=>M.rarity==="rare"),premium:Ia.filter(M=>M.rarity==="premium")},I=Ia.filter(M=>(i.inventory[M.id]||0)>0);return r.jsx(P.div,{className:"treatshop-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},children:r.jsxs(P.div,{className:"treatshop-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:M=>M.stopPropagation(),style:{background:"linear-gradient(135deg, rgba(255,248,240,0.95), rgba(255,235,220,0.95))",borderRadius:"24px",padding:"20px",maxWidth:"420px",width:"100%",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(255,150,50,0.3)",border:"3px solid rgba(255,180,100,0.5)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[r.jsx("h2",{style:{margin:0,fontSize:"1.4rem",color:"#d97706"},children:f.treatShop.title}),r.jsx("button",{onClick:m,style:{background:"rgba(0,0,0,0.1)",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",fontSize:"1.2rem"},children:""})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"rgba(255,255,255,0.5)",borderRadius:"12px",marginBottom:"12px",fontSize:"0.9rem"},children:[r.jsxs("span",{children:[" ",l]}),r.jsxs("span",{children:[" ",Math.round(c),"%"]}),r.jsxs("span",{children:[" ",f.treatShop.totalFed.replace("{count}",String(i.totalFed))]})]}),g&&r.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{background:"linear-gradient(135deg, #fef3c7, #fde68a)",borderRadius:"12px",padding:"10px",textAlign:"center",marginBottom:"12px",fontWeight:"600",color:"#92400e"},children:g}),r.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[r.jsxs("button",{onClick:()=>L("shop"),style:{flex:1,padding:"10px",border:"none",borderRadius:"12px",background:N==="shop"?"linear-gradient(135deg, #f59e0b, #d97706)":"rgba(0,0,0,0.1)",color:N==="shop"?"white":"#666",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:[" ",f.treatShop.shop]}),r.jsxs("button",{onClick:()=>L("inventory"),style:{flex:1,padding:"10px",border:"none",borderRadius:"12px",background:N==="inventory"?"linear-gradient(135deg, #10b981, #059669)":"rgba(0,0,0,0.1)",color:N==="inventory"?"white":"#666",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",position:"relative"},children:[" ",f.treatShop.inventory,I.length>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",borderRadius:"50%",width:"18px",height:"18px",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center"},children:I.length})]})]}),r.jsx("div",{style:{flex:1,overflowY:"auto",paddingRight:"8px"},children:N==="shop"?r.jsx("div",{children:Object.entries(S).map(([M,V])=>r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:C(M),marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},children:M==="common"?f.treatShop.common:M==="rare"?f.treatShop.rare:f.treatShop.premium}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:V.map(z=>{const O=z.unlockLevel&&a<z.unlockLevel,U=l>=z.price,W=i.inventory[z.id]||0;return r.jsxs(P.button,{onClick:()=>!O&&R(z),whileHover:O?{}:{scale:1.02},whileTap:O?{}:{scale:.98},style:{background:O?"rgba(0,0,0,0.1)":"linear-gradient(135deg, rgba(255,255,255,0.8), rgba(255,255,255,0.6))",border:`2px solid ${O?"#ccc":C(z.rarity)}`,borderRadius:"12px",padding:"10px",cursor:O?"not-allowed":"pointer",opacity:O?.6:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[r.jsx("span",{style:{fontSize:"2rem"},children:z.icon}),r.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#333"},children:z.name[n]}),O?r.jsxs("span",{style:{fontSize:"0.7rem",color:"#999"},children:[" Lv.",z.unlockLevel]}):r.jsxs("span",{style:{fontSize:"0.75rem",color:U?"#059669":"#dc2626",fontWeight:"600"},children:[z.price," "]}),W>0&&r.jsxs("span",{style:{fontSize:"0.65rem",color:"#666",background:"rgba(0,0,0,0.1)",padding:"2px 6px",borderRadius:"8px"},children:[" ",W]}),z.special&&r.jsx("span",{style:{fontSize:"0.7rem"},children:""})]},z.id)})})]},M))}):r.jsx("div",{children:I.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#888"},children:[r.jsx("div",{style:{fontSize:"3rem",marginBottom:"12px"},children:""}),r.jsx("div",{children:f.treatShop.notOwned})]}):r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:I.map(M=>{const V=i.inventory[M.id]||0,z=v===M.id,O=c>=95;return r.jsxs(P.div,{animate:z?{scale:[1,1.05,1],rotate:[0,-5,5,0]}:{},style:{background:"linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7))",border:`2px solid ${C(M.rarity)}`,borderRadius:"16px",padding:"12px",display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("span",{style:{fontSize:"2.5rem"},children:M.icon}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:"600",color:"#333"},children:M.name[n]}),r.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"2px"},children:M.description[n]}),r.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"4px",fontSize:"0.7rem"},children:[r.jsxs("span",{style:{color:"#059669"},children:["+",M.hungerRestore]}),r.jsxs("span",{style:{color:"#ec4899"},children:["+",M.happinessBoost]}),M.weightGain>0?r.jsxs("span",{style:{color:"#f59e0b"},children:["+",M.weightGain]}):r.jsx("span",{style:{color:"#10b981"},children:""})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[r.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#666"},children:["",V]}),r.jsx(P.button,{onClick:()=>A(M),whileHover:{scale:1.05},whileTap:{scale:.95},disabled:O,style:{background:O?"rgba(0,0,0,0.1)":"linear-gradient(135deg, #10b981, #059669)",color:O?"#999":"white",border:"none",borderRadius:"8px",padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",cursor:O?"not-allowed":"pointer"},children:z?"":f.treatShop.feed})]})]},M.id)})})})})]})})}const od=[{id:"normal",css:"none",icon:""},{id:"sepia",css:"sepia(80%)",icon:""},{id:"grayscale",css:"grayscale(100%)",icon:""},{id:"vintage",css:"sepia(30%) contrast(90%) brightness(95%)",icon:""},{id:"dreamy",css:"blur(1px) brightness(110%) saturate(120%)",icon:""},{id:"sunset",css:"hue-rotate(20deg) saturate(140%) brightness(95%)",icon:""},{id:"night",css:"brightness(70%) saturate(80%) hue-rotate(200deg)",icon:""},{id:"sparkle",css:"contrast(110%) saturate(130%) brightness(105%)",icon:""}],rd=[{id:"none",emoji:"",borderStyle:"none",cornerEmojis:[]},{id:"hearts",emoji:"",borderStyle:"4px solid #ff69b4",cornerEmojis:["","","",""]},{id:"stars",emoji:"",borderStyle:"4px solid #ffd700",cornerEmojis:["","","",""]},{id:"flowers",emoji:"",borderStyle:"4px solid #ffb6c1",cornerEmojis:["","","",""]},{id:"polaroid",emoji:"",borderStyle:"12px solid white",cornerEmojis:[]},{id:"rainbow",emoji:"",borderStyle:"4px solid transparent",cornerEmojis:["","","",""]},{id:"gold",emoji:"",borderStyle:"6px solid #daa520",cornerEmojis:["","","",""]},{id:"magic",emoji:"",borderStyle:"4px solid #9370db",cornerEmojis:["","","",""]}];function n5({lang:n,petName:i,mood:a,costumeState:l,roomBg:c,roomKey:u,playSound:p,onClose:m}){const f=He[n],[g,y]=x.useState("normal"),[v,k]=x.useState("none"),[N,L]=x.useState(!1),[j,C]=x.useState(null),[R,A]=x.useState(!1),S=x.useRef(null),I=od.find(U=>U.id===g)||od[0],M=rd.find(U=>U.id===v)||rd[0],V=async()=>{if(S.current){L(!0),p("ui-click");try{const U=document.createElement("canvas"),W=U.getContext("2d");if(!W)throw new Error("No canvas context");const ce=400,X=400;U.width=ce,U.height=X;const ae=new Image;ae.crossOrigin="anonymous",await new Promise((se,_)=>{ae.onload=()=>se(),ae.onerror=()=>_(),ae.src=c}).catch(()=>{const se=W.createLinearGradient(0,0,0,X);se.addColorStop(0,"#e8e0f0"),se.addColorStop(1,"#c0d0e8"),W.fillStyle=se,W.fillRect(0,0,ce,X)}),ae.complete&&ae.naturalWidth>0&&W.drawImage(ae,0,0,ce,X),I.css!=="none"&&(W.filter=I.css,W.drawImage(U,0,0),W.filter="none");const ee=new Image;if(ee.crossOrigin="anonymous",await new Promise(se=>{ee.onload=()=>se(),ee.onerror=()=>se(),ee.src=`${ot}assets/character/luna-happy.jpg`}),ee.complete&&ee.naturalWidth>0){const _=(ce-150)/2,Q=(X-150)/2+30;I.css!=="none"&&(W.filter=I.css),W.save(),W.beginPath(),W.arc(_+150/2,Q+150/2,150/2,0,Math.PI*2),W.clip(),W.drawImage(ee,_,Q,150,150),W.restore(),W.filter="none",W.save(),W.globalAlpha=.3,W.shadowColor="#ffd700",W.shadowBlur=20,W.beginPath(),W.arc(_+150/2,Q+150/2,150/2+5,0,Math.PI*2),W.strokeStyle="#ffd700",W.lineWidth=3,W.stroke(),W.restore()}if(W.font="40px serif",W.textAlign="center",l.equipped.hat){const se=Be.find(_=>_.id===l.equipped.hat)?.icon||"";W.fillText(se,ce/2,X/2-40)}if(l.equipped.accessory){const se=Be.find(_=>_.id===l.equipped.accessory)?.icon||"";W.fillText(se,ce/2+40,X/2+20)}if(l.equipped.outfit){const se=Be.find(_=>_.id===l.equipped.outfit)?.icon||"";W.fillText(se,ce/2,X/2+90)}if(l.equipped.collar){const se=Be.find(_=>_.id===l.equipped.collar)?.icon||"";W.fillText(se,ce/2,X/2+50)}if(W.font="30px serif",W.fillText(qt(a),ce/2+60,X/2),M.cornerEmojis&&M.cornerEmojis.length>0){W.font="36px serif";const se=30;W.fillText(M.cornerEmojis[0],se,se+30),W.fillText(M.cornerEmojis[1],ce-se,se+30),W.fillText(M.cornerEmojis[2],se,X-se),W.fillText(M.cornerEmojis[3],ce-se,X-se)}if(v==="polaroid")W.fillStyle="white",W.fillRect(0,0,ce,20),W.fillRect(0,0,20,X),W.fillRect(ce-20,0,20,X),W.fillRect(0,X-60,ce,60),W.fillStyle="#333",W.font="20px cursive, sans-serif",W.fillText(`${i} ${qt(a)}`,ce/2,X-25);else if(v==="rainbow"){const se=W.createLinearGradient(0,0,ce,X);se.addColorStop(0,"#ff0000"),se.addColorStop(.17,"#ff8000"),se.addColorStop(.33,"#ffff00"),se.addColorStop(.5,"#00ff00"),se.addColorStop(.67,"#0080ff"),se.addColorStop(.83,"#8000ff"),se.addColorStop(1,"#ff0080"),W.strokeStyle=se,W.lineWidth=8,W.strokeRect(4,4,ce-8,X-8)}else if(M.borderStyle!=="none"){const se=M.borderStyle.match(/#[a-fA-F0-9]+|white|gold/);se&&(W.strokeStyle=se[0],W.lineWidth=6,W.strokeRect(3,3,ce-6,X-6))}W.fillStyle="rgba(255, 255, 255, 0.8)",W.font="16px sans-serif",W.textAlign="left",W.fillText(` ${i}`,15,X-15);const le=U.toDataURL("image/png");C(le),p("achievement"),ie.success()}catch(U){console.error("Photo capture failed:",U)}finally{L(!1)}}},z=()=>{if(!j)return;p("ui-success"),ie.medium();const U=document.createElement("a");U.download=`${i}-moonlight-${Date.now()}.png`,U.href=j,U.click(),A(!0),setTimeout(()=>A(!1),2e3)},O=async()=>{if(j){p("ui-click");try{const W=await(await fetch(j)).blob(),ce=new File([W],`${i}-moonlight.png`,{type:"image/png"});navigator.share&&navigator.canShare?.({files:[ce]})?(await navigator.share({title:`${i} - Moonlight Magic House`,text:n==="it"?`Guarda ${i}! `:`Look at ${i}! `,files:[ce]}),ie.success()):z()}catch{z()}}};return r.jsx(P.div,{className:"photo-mode-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m,children:r.jsxs(P.div,{className:"photo-mode-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:U=>U.stopPropagation(),children:[r.jsxs("div",{className:"photo-mode-header",children:[r.jsx("h2",{className:"photo-mode-title",children:f.photoMode.title}),r.jsx("button",{className:"photo-mode-close",onClick:m,children:""})]}),r.jsxs("div",{className:"photo-preview-container",ref:S,style:{filter:I.css!=="none"?I.css:void 0,border:M.borderStyle,background:v==="rainbow"?"linear-gradient(45deg, #ff0000, #ff8000, #ffff00, #00ff00, #0080ff, #8000ff)":void 0,padding:v==="rainbow"?"4px":void 0},children:[r.jsx("div",{className:"photo-bg",style:{backgroundImage:`url(${c})`}}),M.cornerEmojis&&M.cornerEmojis.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"frame-corner tl",children:M.cornerEmojis[0]}),r.jsx("span",{className:"frame-corner tr",children:M.cornerEmojis[1]}),r.jsx("span",{className:"frame-corner bl",children:M.cornerEmojis[2]}),r.jsx("span",{className:"frame-corner br",children:M.cornerEmojis[3]})]}),r.jsxs("div",{className:"photo-luna",children:[r.jsx("img",{src:`${ot}assets/character/luna-happy.jpg`,alt:i,className:"photo-luna-img"}),r.jsx("div",{className:"photo-luna-glow"}),l.equipped.hat&&r.jsx("span",{className:"photo-costume hat",children:Be.find(U=>U.id===l.equipped.hat)?.icon}),l.equipped.accessory&&r.jsx("span",{className:"photo-costume accessory",children:Be.find(U=>U.id===l.equipped.accessory)?.icon}),l.equipped.outfit&&r.jsx("span",{className:"photo-costume outfit",children:Be.find(U=>U.id===l.equipped.outfit)?.icon}),l.equipped.collar&&r.jsx("span",{className:"photo-costume collar",children:Be.find(U=>U.id===l.equipped.collar)?.icon}),r.jsx("span",{className:"photo-mood",children:qt(a)})]}),r.jsxs("div",{className:"photo-watermark",children:[" ",i]}),v==="polaroid"&&r.jsxs("div",{className:"polaroid-caption",children:[i," ",qt(a)]})]}),r.jsxs("div",{className:"photo-section",children:[r.jsx("h3",{className:"photo-section-title",children:f.photoMode.filters}),r.jsx("div",{className:"photo-options-row",children:od.map(U=>r.jsx("button",{className:`photo-option-btn ${g===U.id?"active":""}`,onClick:()=>{y(U.id),p("ui-click"),ie.light()},title:f.photoMode[`filter${U.id.charAt(0).toUpperCase()+U.id.slice(1)}`],children:r.jsx("span",{className:"option-icon",children:U.icon})},U.id))})]}),r.jsxs("div",{className:"photo-section",children:[r.jsx("h3",{className:"photo-section-title",children:f.photoMode.frames}),r.jsx("div",{className:"photo-options-row",children:rd.map(U=>r.jsx("button",{className:`photo-option-btn ${v===U.id?"active":""}`,onClick:()=>{k(U.id),p("ui-click"),ie.light()},title:f.photoMode[`frame${U.id.charAt(0).toUpperCase()+U.id.slice(1)}`],children:r.jsx("span",{className:"option-icon",children:U.emoji})},U.id))})]}),r.jsx("div",{className:"photo-actions",children:j?r.jsxs("div",{className:"photo-result-actions",children:[r.jsxs(P.button,{className:"photo-download-btn",onClick:z,whileHover:{scale:1.05},whileTap:{scale:.95},children:[" ",f.photoMode.download]}),r.jsxs(P.button,{className:"photo-share-btn",onClick:O,whileHover:{scale:1.05},whileTap:{scale:.95},children:[" ",f.photoMode.share]}),r.jsx("button",{className:"photo-retake-btn",onClick:()=>C(null),children:""})]}):r.jsx(P.button,{className:"photo-capture-btn",onClick:V,disabled:N,whileHover:{scale:1.05},whileTap:{scale:.95},children:N?r.jsxs("span",{className:"capture-loading",children:[" ",f.photoMode.saving]}):r.jsx("span",{children:f.photoMode.capture})})}),r.jsx(Ne,{children:R&&r.jsx(P.div,{className:"photo-saved-toast",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:f.photoMode.saved})})]})})}function i5({lang:n,petName:i,currentMood:a,currentStats:l,journalState:c,onSaveEntry:u,onClose:p,playSound:m}){const f=He[n],[g,y]=x.useState(""),[v,k]=x.useState(a),[N,L]=x.useState(!1),[j,C]=x.useState(!1),[R,A]=x.useState(0),[S,I]=x.useState(0),M=new Date().toDateString(),V=c.lastEntryDate===M,z=[{mood:"happy",emoji:"",color:"#ffd700"},{mood:"playful",emoji:"",color:"#ff69b4"},{mood:"hungry",emoji:"",color:"#ff8c00"},{mood:"sleepy",emoji:"",color:"#9370db"}],O=X=>{const ae=new Date(X),ee=new Date,le=new Date(ee);if(le.setDate(le.getDate()-1),ae.toDateString()===ee.toDateString())return f.moodJournal.today;if(ae.toDateString()===le.toDateString())return f.moodJournal.yesterday;const se=Math.floor((ee.getTime()-ae.getTime())/(1e3*60*60*24));return f.moodJournal.daysAgo.replace("{days}",String(se))},U=X=>({happy:f.moodJournal.moodHappy,hungry:f.moodJournal.moodHungry,sleepy:f.moodJournal.moodSleepy,playful:f.moodJournal.moodPlayful})[X],W=()=>{if(V){m("ui-error"),ie.error();return}const X={id:Date.now().toString(),date:new Date().toISOString(),mood:v,note:g.trim(),petName:i,stats:l,starRating:R>0?R:void 0};u(X),m("ui-success"),m("sparkle"),ie.success(),L(!0),setTimeout(()=>L(!1),2e3),y("")},ce=j?[...c.entries].reverse():[...c.entries].reverse().slice(0,5);return r.jsx(P.div,{className:"mood-journal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,children:r.jsxs(P.div,{className:"mood-journal-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:X=>X.stopPropagation(),children:[r.jsxs("div",{className:"mood-journal-header",children:[r.jsx("h2",{className:"mood-journal-title",children:f.moodJournal.title}),r.jsx("button",{className:"mood-journal-close",onClick:p,children:""})]}),r.jsx("p",{className:"mood-journal-subtitle",children:f.moodJournal.subtitle.replace("{name}",i)}),r.jsxs("div",{className:"mood-journal-section",children:[r.jsx("h3",{className:"mood-journal-section-title",children:f.moodJournal.todayMood}),r.jsx("div",{className:"mood-selector",children:z.map(({mood:X,emoji:ae,color:ee})=>r.jsxs(P.button,{className:`mood-option ${v===X?"selected":""}`,style:{borderColor:v===X?ee:"transparent",backgroundColor:v===X?`${ee}20`:"transparent"},onClick:()=>{k(X),m("ui-click"),ie.light()},whileHover:{scale:1.1},whileTap:{scale:.95},children:[r.jsx("span",{className:"mood-emoji",children:ae}),r.jsx("span",{className:"mood-label",children:U(X)})]},X))})]}),r.jsxs("div",{className:"mood-journal-section",children:[r.jsxs("h3",{className:"mood-journal-section-title",children:[f.moodJournal.rateYourDay," "]}),r.jsx("div",{className:"star-rating-selector",children:[1,2,3,4,5].map(X=>r.jsx(P.button,{className:`star-btn ${X<=(S||R)?"filled":"empty"}`,onMouseEnter:()=>I(X),onMouseLeave:()=>I(0),onClick:()=>{A(X===R?0:X),m("ui-click"),ie.light()},whileHover:{scale:1.2},whileTap:{scale:.9},"aria-label":`${X} ${X===1?f.moodJournal.star:f.moodJournal.stars}`,children:r.jsx("span",{className:"star-icon",children:X<=(S||R)?"":""})},X))}),R>0&&r.jsxs(P.p,{className:"star-rating-label",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},children:[R," ",R===1?f.moodJournal.star:f.moodJournal.stars,"! ",R>=4?"":R>=2?"":""]})]}),r.jsx("div",{className:"mood-journal-section",children:r.jsx("textarea",{className:"mood-journal-note",placeholder:f.moodJournal.addNote,value:g,onChange:X=>y(X.target.value),maxLength:200,rows:3})}),r.jsx(P.button,{className:`mood-journal-save-btn ${V?"disabled":""}`,onClick:W,disabled:V,whileHover:{scale:V?1:1.03},whileTap:{scale:V?1:.97},children:V?f.moodJournal.alreadyLogged:f.moodJournal.saveEntry}),r.jsx(Ne,{children:N&&r.jsx(P.div,{className:"mood-journal-saved-toast",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:f.moodJournal.saved})}),r.jsxs("div",{className:"mood-journal-section mood-journal-history",children:[r.jsx("h3",{className:"mood-journal-section-title",children:f.moodJournal.history}),c.entries.length===0?r.jsx("p",{className:"mood-journal-empty",children:f.moodJournal.noEntries}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mood-journal-entries",children:ce.map(X=>r.jsxs(P.div,{className:"mood-journal-entry",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[r.jsxs("div",{className:"entry-header",children:[r.jsx("span",{className:"entry-mood",children:qt(X.mood)}),r.jsx("span",{className:"entry-date",children:O(X.date)}),X.starRating&&X.starRating>0&&r.jsx("span",{className:"entry-stars",title:`${X.starRating} ${X.starRating===1?f.moodJournal.star:f.moodJournal.stars}`,children:"".repeat(X.starRating)})]}),X.note&&r.jsx("p",{className:"entry-note",children:X.note}),r.jsxs("div",{className:"entry-stats",children:[r.jsxs("span",{children:[" ",X.stats.happiness,"%"]}),r.jsxs("span",{children:[" ",X.stats.energy,"%"]}),r.jsxs("span",{children:[" ",X.stats.hunger,"%"]})]})]},X.id))}),c.entries.length>5&&!j&&r.jsxs("button",{className:"mood-journal-view-all",onClick:()=>C(!0),children:[f.moodJournal.viewAll," (",c.entries.length,")"]})]})]})]})})}function o5({lang:n,questState:i,onClaimReward:a,onClose:l,playSound:c}){const u=He[n],p=i.quests.every(m=>m.claimed);return r.jsx(P.div,{className:"quest-panel-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:r.jsxs(P.div,{className:"quest-panel-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{className:"quest-panel-header",children:[r.jsx("h2",{className:"quest-panel-title",children:u.dailyQuests.title}),r.jsx("button",{className:"quest-panel-close",onClick:l,children:""})]}),r.jsx("p",{className:"quest-panel-subtitle",children:u.dailyQuests.subtitle}),r.jsx("div",{className:"quest-list",children:i.quests.map(m=>r.jsxs(P.div,{className:`quest-item ${m.completed?"completed":""} ${m.claimed?"claimed":""}`,initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[r.jsx("div",{className:"quest-icon",children:m.icon}),r.jsxs("div",{className:"quest-info",children:[r.jsx("span",{className:"quest-name",children:m.name[n]}),r.jsx("span",{className:"quest-description",children:m.description[n]}),r.jsx("div",{className:"quest-progress-bar",children:r.jsx(P.div,{className:"quest-progress-fill",initial:{width:0},animate:{width:`${Math.min(100,m.progress/m.target*100)}%`},transition:{duration:.5}})}),r.jsx("span",{className:"quest-progress-text",children:u.dailyQuests.progress.replace("{current}",String(Math.min(m.progress,m.target))).replace("{target}",String(m.target))})]}),r.jsx("div",{className:"quest-reward",children:m.claimed?r.jsxs("span",{className:"quest-claimed-badge",children:[" ",u.dailyQuests.claimed]}):m.completed?r.jsxs(P.button,{className:"quest-claim-btn",onClick:()=>{a(m.id),c("coin-collect"),c("ui-success"),ie.success()},whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.dailyQuests.claim,r.jsx("span",{className:"quest-reward-preview",children:u.dailyQuests.reward.replace("{coins}",String(m.reward.coins)).replace("{xp}",String(m.reward.xp))})]}):r.jsx("span",{className:"quest-reward-preview",children:u.dailyQuests.reward.replace("{coins}",String(m.reward.coins)).replace("{xp}",String(m.reward.xp))})})]},m.id))}),p&&r.jsxs(P.div,{className:"quest-all-complete",initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10},children:[r.jsx("span",{className:"quest-complete-emoji",children:""}),r.jsx("span",{children:u.dailyQuests.allComplete})]})]})})}function r5({lang:n,petName:i,friendCode:a,onClose:l,playSound:c}){const u=He[n],[p,m]=x.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(a),m(!0),c("ui-success"),ie.success(),setTimeout(()=>m(!1),2e3)}catch{const y=document.createElement("textarea");y.value=a,document.body.appendChild(y),y.select(),document.execCommand("copy"),document.body.removeChild(y),m(!0),c("ui-success"),ie.success(),setTimeout(()=>m(!1),2e3)}},g=async()=>{const y=u.friendCode.shareText.replace("{code}",a).replace("{name}",i);c("ui-click"),ie.medium();try{navigator.share?(await navigator.share({title:`${i} - Moonlight Magic House`,text:y}),ie.success()):(await navigator.clipboard.writeText(y),m(!0),setTimeout(()=>m(!1),2e3))}catch{f()}};return r.jsx(P.div,{className:"friend-code-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:r.jsxs(P.div,{className:"friend-code-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"friend-code-header",children:[r.jsx("h2",{className:"friend-code-title",children:u.friendCode.title}),r.jsx("button",{className:"friend-code-close",onClick:l,children:""})]}),r.jsx("p",{className:"friend-code-subtitle",children:u.friendCode.subtitle}),r.jsxs(P.div,{className:"friend-code-avatar",animate:{scale:[1,1.05,1],rotate:[-2,2,-2]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[r.jsx("span",{className:"avatar-emoji",children:""}),r.jsx("span",{className:"avatar-name",children:i})]}),r.jsxs("div",{className:"friend-code-display",children:[r.jsx("span",{className:"code-label",children:u.friendCode.yourCode}),r.jsx(P.div,{className:"code-value",animate:{boxShadow:["0 0 20px rgba(255, 215, 0, 0.3)","0 0 30px rgba(255, 215, 0, 0.5)","0 0 20px rgba(255, 215, 0, 0.3)"]},transition:{duration:2,repeat:1/0},children:r.jsx("span",{className:"code-text",children:a})})]}),r.jsxs("div",{className:"friend-code-actions",children:[r.jsx(P.button,{className:`friend-code-btn copy-btn ${p?"copied":""}`,onClick:f,whileHover:{scale:1.05},whileTap:{scale:.95},children:p?r.jsxs(r.Fragment,{children:[" ",u.friendCode.copied]}):r.jsxs(r.Fragment,{children:[" ",u.friendCode.copy]})}),r.jsxs(P.button,{className:"friend-code-btn share-btn",onClick:g,whileHover:{scale:1.05},whileTap:{scale:.95},children:[" ",u.friendCode.share]})]}),r.jsxs("p",{className:"friend-code-info",children:[r.jsx("span",{className:"info-icon",children:""}),u.friendCode.info]}),r.jsx("div",{className:"friend-code-sparkles",children:["","","",""].map((y,v)=>r.jsx(P.span,{className:"sparkle-decoration",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:1.5,delay:v*.3,repeat:1/0},style:{position:"absolute",left:`${15+v*25}%`,bottom:"10%",fontSize:"1.2rem"},children:y},v))})]})})}function a5({lang:n,petName:i,playerCoins:a,giftState:l,onSendGift:c,onClose:u,playSound:p}){const m=He[n],[f,g]=x.useState(null),[y,v]=x.useState(""),[k,N]=x.useState(!1),[L,j]=x.useState(!1),[C,R]=x.useState(null),[A,S]=x.useState(null),I=O=>{const U=O.toUpperCase().replace(/[^A-Z0-9-]/g,"");U.length===4&&!U.includes("-")?v(U+"-"):U.length<=9&&v(U),R(null)},M=O=>/^[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(O),V=O=>{switch(O){case"common":return"#8bc34a";case"rare":return"#2196f3";case"legendary":return"#ff9800"}},z=()=>{if(f){if(!M(y)){R(m.giftSending.invalidCode),p("ui-error"),ie.error();return}if(a<f.cost){R(m.giftSending.notEnoughCoins),p("ui-error"),ie.error();return}N(!0),p("ui-click"),setTimeout(()=>{c(f,y)?(N(!1),j(!0),S(f),p("achievement"),p("sparkle"),ie.success(),setTimeout(()=>{j(!1),S(null),g(null),v("")},2500)):(N(!1),R(m.giftSending.notEnoughCoins),ie.error())},800)}};return r.jsx(P.div,{className:"gift-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:r.jsxs(P.div,{className:"gift-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"gift-modal-header",children:[r.jsx("h2",{className:"gift-modal-title",children:m.giftSending.title}),r.jsx("button",{className:"gift-modal-close",onClick:u,children:""})]}),r.jsx("p",{className:"gift-modal-subtitle",children:m.giftSending.subtitle}),r.jsxs("div",{className:"gift-coins-display",children:[r.jsx("span",{className:"coin-icon",children:""}),r.jsx("span",{className:"coin-amount",children:a})]}),r.jsx(Ne,{children:A&&r.jsxs(P.div,{className:"gift-sent-animation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[r.jsxs(P.div,{className:"gift-flying",initial:{scale:.5,y:0},animate:{scale:[.5,1.5,1,1.5,.5],y:[0,-50,-100,-150,-200],opacity:[1,1,1,.8,0],rotate:A.animation==="spin"?[0,360,720]:0},transition:{duration:2,ease:"easeOut"},children:[r.jsx("span",{className:"gift-emoji",children:A.icon}),[0,1,2,3,4,5].map(O=>r.jsx(P.span,{className:"gift-sparkle",initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:Math.cos(O*Math.PI/3)*40,y:Math.sin(O*Math.PI/3)*40},transition:{delay:.2+O*.1,duration:.8},style:{position:"absolute",fontSize:"1rem"},children:""},O))]}),r.jsx(P.p,{className:"gift-sent-text",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m.giftSending.sent}),A.animation==="hearts"&&[...Array(8)].map((O,U)=>r.jsx(P.span,{initial:{opacity:0,scale:0,x:0,y:0},animate:{opacity:[0,1,0],scale:[.3,1,.5],x:(Math.random()-.5)*100,y:-100-Math.random()*100},transition:{delay:U*.1,duration:1.5},style:{position:"absolute",top:"50%",left:"50%",fontSize:"1.5rem"},children:["","","",""][U%4]},U))]})}),r.jsxs("div",{className:"gift-section",children:[r.jsx("h3",{className:"gift-section-title",children:m.giftSending.selectGift}),r.jsx("div",{className:"gift-grid",children:Sf.map(O=>{const U=a>=O.cost,W=f?.id===O.id;return r.jsxs(P.button,{className:`gift-item ${W?"selected":""} ${U?"":"expensive"}`,onClick:()=>{g(O),p("ui-click"),ie.light()},whileHover:{scale:1.05},whileTap:{scale:.95},style:{borderColor:W?V(O.rarity):"transparent"},children:[r.jsx("span",{className:"gift-icon",children:O.icon}),r.jsx("span",{className:"gift-name",children:O.name[n]}),r.jsx("span",{className:"gift-rarity",style:{color:V(O.rarity)},children:m.giftSending[O.rarity]}),r.jsxs("span",{className:`gift-cost ${U?"":"expensive"}`,children:[O.cost," "]})]},O.id)})})]}),f&&r.jsxs(P.div,{className:"gift-selected-preview",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[r.jsx("span",{className:"preview-icon",children:f.icon}),r.jsxs("div",{className:"preview-info",children:[r.jsx("span",{className:"preview-name",children:f.name[n]}),r.jsx("span",{className:"preview-desc",children:f.description[n]})]})]}),r.jsxs("div",{className:"gift-section",children:[r.jsx("h3",{className:"gift-section-title",children:m.giftSending.friendCode}),r.jsx("input",{type:"text",className:"gift-code-input",placeholder:m.giftSending.friendCodePlaceholder,value:y,onChange:O=>I(O.target.value),maxLength:9})]}),C&&r.jsxs(P.div,{className:"gift-error",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:[" ",C]}),r.jsx(P.button,{className:`gift-send-btn ${!f||!M(y)||k?"disabled":""}`,onClick:z,disabled:!f||!M(y)||k,whileHover:{scale:!f||!M(y)||k?1:1.05},whileTap:{scale:!f||!M(y)||k?1:.95},children:k?m.giftSending.sending:m.giftSending.send}),l.sentGifts.length>0&&r.jsxs("div",{className:"gift-history",children:[r.jsxs("h3",{className:"gift-section-title",children:[m.giftSending.history,r.jsxs("span",{className:"history-count",children:["(",m.giftSending.totalSent.replace("{count}",String(l.totalSent)),")"]})]}),r.jsx("div",{className:"gift-history-list",children:l.sentGifts.slice(-5).reverse().map(O=>{const U=Sf.find(W=>W.id===O.giftId);return U?r.jsxs("div",{className:"gift-history-item",children:[r.jsx("span",{className:"history-icon",children:U.icon}),r.jsx("span",{className:"history-code",children:m.giftSending.giftFor.replace("{code}",O.toCode)})]},O.id):null})})]})]})})}function s5({lang:n,albumState:i,playerLevel:a,onClose:l,playSound:c}){const u=He[n],[p,m]=x.useState(null),f=j=>{switch(j){case"common":return{color:"#8bc34a",glow:"rgba(139, 195, 74, 0.3)"};case"rare":return{color:"#2196f3",glow:"rgba(33, 150, 243, 0.4)"};case"legendary":return{color:"#ff9800",glow:"rgba(255, 152, 0, 0.5)"};case"mythic":return{color:"#e91e63",glow:"rgba(233, 30, 99, 0.6)"}}},g=j=>{switch(j.unlockCondition){case"level":return u.petAlbum.unlockHint.level.replace("{level}",String(j.unlockLevel));case"room":const C=u.rooms[j.unlockRoom]||j.unlockRoom||"";return u.petAlbum.unlockHint.room.replace("{room}",C);case"random":return u.petAlbum.unlockHint.random;case"secret":return u.petAlbum.unlockHint.secret;default:return""}},y={mythic:0,legendary:1,rare:2,common:3},v=[...kr].sort((j,C)=>{const R=i.discoveredPets.includes(j.id),A=i.discoveredPets.includes(C.id);return R!==A?R?-1:1:y[j.rarity]-y[C.rarity]}),k=i.discoveredPets.length,N=kr.length,L=Math.round(k/N*100);return r.jsx(P.div,{className:"pet-album-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:r.jsxs(P.div,{className:"pet-album-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:j=>j.stopPropagation(),children:[r.jsxs("div",{className:"pet-album-header",children:[r.jsx("h2",{className:"pet-album-title",children:u.petAlbum.title}),r.jsx("button",{className:"pet-album-close",onClick:l,children:""})]}),r.jsx("p",{className:"pet-album-subtitle",children:u.petAlbum.subtitle}),r.jsxs("div",{className:"pet-album-progress",children:[r.jsx("div",{className:"progress-text",children:u.petAlbum.progress.replace("{count}",String(k)).replace("{total}",String(N))}),r.jsx("div",{className:"progress-bar-track",children:r.jsx(P.div,{className:"progress-bar-fill",initial:{width:0},animate:{width:`${L}%`},transition:{duration:.8,ease:"easeOut"}})}),r.jsxs("span",{className:"progress-percent",children:[L,"%"]})]}),r.jsx("div",{className:"pet-album-grid",children:v.map(j=>{const C=i.discoveredPets.includes(j.id),R=f(j.rarity);return r.jsx(P.button,{className:`pet-album-item ${C?"discovered":"locked"}`,onClick:()=>{C?(m(j),c("ui-click"),ie.light()):(c("ui-error"),ie.error())},whileHover:{scale:C?1.05:1.02},whileTap:{scale:C?.95:1},style:{borderColor:C?R.color:"rgba(255,255,255,0.2)",boxShadow:C?`0 0 15px ${R.glow}`:"none"},children:C?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"pet-emoji",children:j.emoji}),r.jsx("span",{className:"pet-name",children:j.name[n]}),r.jsx("span",{className:"pet-rarity",style:{color:R.color},children:u.petAlbum.rarity[j.rarity]})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"pet-emoji locked",children:""}),r.jsx("span",{className:"pet-name",children:u.petAlbum.notDiscovered}),r.jsx("span",{className:"pet-hint",children:g(j)})]})},j.id)})}),r.jsx(Ne,{children:p&&r.jsx(P.div,{className:"pet-detail-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(null),children:r.jsxs(P.div,{className:"pet-detail-card glass-card",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",damping:15},onClick:j=>j.stopPropagation(),children:[r.jsx(P.span,{className:"pet-detail-emoji",animate:{scale:[1,1.2,1],rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:p.emoji}),r.jsx("h3",{className:"pet-detail-name",children:p.name[n]}),r.jsxs("span",{className:"pet-detail-rarity",style:{color:f(p.rarity).color},children:[" ",u.petAlbum.rarity[p.rarity]," "]}),r.jsx("p",{className:"pet-detail-description",children:p.description[n]}),r.jsx("button",{className:"pet-detail-close",onClick:()=>m(null),children:n==="it"?"Chiudi":"Close"})]})})}),r.jsxs("p",{className:"pet-album-hint",children:[" ",u.petAlbum.hint]})]})})}function Pf({pet:n,lang:i,onClose:a}){const l=He[i],c=u=>{switch(u){case"common":return"#8bc34a";case"rare":return"#2196f3";case"legendary":return"#ff9800";case"mythic":return"#e91e63"}};return x.useEffect(()=>{const u=setTimeout(a,4e3);return()=>clearTimeout(u)},[a]),r.jsx(P.div,{className:"pet-discovery-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,children:r.jsxs(P.div,{className:"pet-discovery-popup glass-card",initial:{scale:.3,opacity:0,y:50},animate:{scale:[.3,1.1,1],opacity:1,y:0},transition:{type:"spring",damping:12,stiffness:200},onClick:u=>u.stopPropagation(),style:{borderColor:c(n.rarity),boxShadow:`0 0 30px ${c(n.rarity)}40`},children:[r.jsx(P.div,{className:"discovery-sparkles",animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},children:["","","","","",""].map((u,p)=>r.jsx(P.span,{className:"discovery-sparkle",style:{position:"absolute",left:`${50+45*Math.cos(p*Math.PI/3)}%`,top:`${50+45*Math.sin(p*Math.PI/3)}%`},animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:p*.2},children:u},p))}),r.jsx("h2",{className:"discovery-title",children:l.petAlbum.newDiscovery}),r.jsx(P.span,{className:"discovery-pet-emoji",animate:{scale:[1,1.3,1],y:[0,-10,0]},transition:{duration:.8,repeat:1/0,repeatType:"reverse"},children:n.emoji}),r.jsx("h3",{className:"discovery-pet-name",children:n.name[i]}),r.jsx("span",{className:"discovery-rarity",style:{color:c(n.rarity)},children:l.petAlbum.rarity[n.rarity]}),r.jsx("p",{className:"discovery-description",children:n.description[i]})]})})}function l5({isEating:n,lang:i}){const[a,l]=x.useState([]);return x.useEffect(()=>{if(!n){l([]);return}const c=["","","","","","","",""],u=Array.from({length:8},(m,f)=>({id:Date.now()+f,x:35+Math.random()*30,emoji:c[Math.floor(Math.random()*c.length)],delay:f*.15}));l(u);const p=setTimeout(()=>{l([])},2500);return()=>clearTimeout(p)},[n]),r.jsxs("div",{className:"food-bowl-container",style:{position:"absolute",left:"30%",bottom:"18%",zIndex:15,pointerEvents:"none"},children:[r.jsxs(P.div,{className:"food-bowl",animate:n?{scale:[1,1.1,1,1.1,1],rotate:[0,-3,0,3,0]}:{scale:1,rotate:0},transition:n?{duration:.5,repeat:3,ease:"easeInOut"}:{},style:{fontSize:"3rem",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3))",display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("span",{style:{fontSize:"2.5rem"},children:""}),r.jsx(P.span,{animate:n?{opacity:[.7,1,.7]}:{opacity:.7},transition:{duration:1,repeat:1/0},style:{fontSize:"0.6rem",background:"rgba(255,255,255,0.8)",padding:"2px 6px",borderRadius:"8px",marginTop:"2px",fontWeight:"bold",color:"#8b4513"},children:"Luna"})]}),r.jsx(Ne,{children:a.map(c=>r.jsx(P.span,{initial:{opacity:0,scale:.3,x:c.x-35,y:0},animate:{opacity:[0,1,1,0],scale:[.3,1.2,1,.5],y:-80-Math.random()*40,x:c.x-35+(Math.random()-.5)*60,rotate:[0,180,360]},exit:{opacity:0,scale:0},transition:{duration:1.8+Math.random()*.5,delay:c.delay,ease:"easeOut"},style:{position:"absolute",fontSize:"1.5rem",pointerEvents:"none",zIndex:20},children:c.emoji},c.id))}),n&&r.jsx(P.div,{initial:{scale:.5,opacity:0},animate:{scale:[.5,1.5,2],opacity:[0,.6,0]},transition:{duration:1,repeat:2,ease:"easeOut"},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80px",height:"80px",borderRadius:"50%",border:"3px solid #ffd700",pointerEvents:"none"}}),r.jsx(Ne,{children:n&&r.jsx(P.div,{initial:{opacity:0,y:20,scale:.5},animate:{opacity:1,y:-50,scale:1},exit:{opacity:0,y:-70,scale:.8},transition:{delay:.3,duration:.5},style:{position:"absolute",top:"-20px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #ff9a56 0%, #ff6b6b 100%)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"bold",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(255,107,107,0.4)"},children:i==="it"?"Gnam! ":"Yummy! "})})]})}function Rf({mood:n,stats:i,lang:a,isExpanded:l,onToggle:c,petName:u}){const p=He[a],m=Bb(n,i);return r.jsxs(P.div,{className:"mood-ring-container",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[r.jsxs(P.button,{className:"mood-ring-button",onClick:()=>{c(),ie.light()},whileTap:{scale:.95},style:{width:"40px",height:"40px",borderRadius:"50%",border:`3px solid ${m.color}`,background:`radial-gradient(circle at 30% 30%, ${m.color}40, ${m.color}80)`,boxShadow:`0 0 12px ${m.glowColor}, 0 0 24px ${m.glowColor}, inset 0 0 8px ${m.glowColor}`,cursor:"pointer",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"visible"},animate:{boxShadow:[`0 0 12px ${m.glowColor}, 0 0 24px ${m.glowColor}, inset 0 0 8px ${m.glowColor}`,`0 0 20px ${m.glowColor}, 0 0 35px ${m.glowColor}, inset 0 0 12px ${m.glowColor}`,`0 0 12px ${m.glowColor}, 0 0 24px ${m.glowColor}, inset 0 0 8px ${m.glowColor}`]},transition:{duration:m.pulseSpeed,repeat:1/0,ease:"easeInOut"},title:p.moodRing?.tap||"Tap to see mood!",children:[r.jsx(P.div,{style:{position:"absolute",width:"70%",height:"70%",borderRadius:"50%",border:`2px solid ${m.color}`,opacity:.7},animate:{scale:[1,1.1,1],opacity:[.7,.9,.7]},transition:{duration:m.pulseSpeed*.8,repeat:1/0,ease:"easeInOut"}}),r.jsx("span",{style:{fontSize:"1.1rem",zIndex:2},children:""})]}),r.jsx("span",{style:{fontSize:"0.6rem",color:m.color,fontWeight:"bold",textShadow:`0 0 4px ${m.glowColor}`,opacity:.9},children:""}),r.jsx(Ne,{children:l&&r.jsxs(P.div,{className:"mood-ring-popup glass-card",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{duration:.2},style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"8px",padding:"12px 16px",borderRadius:"12px",background:"rgba(30, 30, 50, 0.95)",border:`2px solid ${m.color}`,boxShadow:`0 4px 20px ${m.glowColor}`,minWidth:"160px",zIndex:200,textAlign:"center"},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"bold",color:"#fff",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[" ",p.moodRing?.title||"Mood Ring"]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[r.jsx(P.div,{style:{width:"32px",height:"32px",borderRadius:"50%",background:m.color,boxShadow:`0 0 15px ${m.glowColor}`},animate:{boxShadow:[`0 0 15px ${m.glowColor}`,`0 0 25px ${m.glowColor}`,`0 0 15px ${m.glowColor}`]},transition:{duration:1.5,repeat:1/0}}),r.jsxs("div",{style:{textAlign:"left"},children:[r.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:m.color},children:m.label[a]}),r.jsxs("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.7)"},children:[qt(n)," ",p.moodRing?.moods?.[n]||n]})]})]}),r.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.8)",fontStyle:"italic",marginBottom:"8px"},children:m.description[a]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px",fontSize:"0.6rem",color:"rgba(255,255,255,0.6)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[r.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#9333ea"}}),r.jsx("span",{children:a==="it"?"Felice":"Happy"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[r.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#22c55e"}}),r.jsx("span",{children:a==="it"?"Gioco":"Play"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[r.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#f97316"}}),r.jsx("span",{children:a==="it"?"Fame":"Hungry"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[r.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#3b82f6"}}),r.jsx("span",{children:a==="it"?"Sonno":"Sleepy"})]})]})]})})]})}function c5({isSleeping:n,lunaX:i,lunaY:a,lang:l,napStartTime:c}){const u=["","","","","","","","","","","","","","",""],[p,m]=x.useState([]),[f,g]=x.useState(0);x.useEffect(()=>{if(!n||!c){g(0);return}const v=()=>{const N=Math.floor((Date.now()-c)/1e3);g(N)};v();const k=setInterval(v,1e3);return()=>clearInterval(k)},[n,c]);const y=v=>{if(v<60)return l==="it"?`${v}s`:`${v}s`;const k=Math.floor(v/60),N=v%60;return l==="it"?`${k}m ${N}s`:`${k}m ${N}s`};return x.useEffect(()=>{if(!n){m([]);return}const v=()=>{const N=Array.from({length:3},(L,j)=>({id:Date.now()+j,icon:u[Math.floor(Math.random()*u.length)],delay:j*.8}));m(N)};v();const k=setInterval(v,3e3);return()=>clearInterval(k)},[n]),!n||p.length===0?null:r.jsxs("div",{className:"sleep-dreams-container",style:{position:"absolute",left:`${i}%`,top:`${a-20}%`,transform:"translateX(-50%)",zIndex:100,pointerEvents:"none"},children:[r.jsxs(P.div,{className:"thought-bubble-main",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},style:{position:"relative",background:"rgba(255, 255, 255, 0.95)",borderRadius:"50%",padding:"15px 20px",minWidth:"70px",minHeight:"50px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.15), inset 0 -2px 5px rgba(0, 0, 0, 0.05)",border:"2px solid rgba(255, 255, 255, 0.8)"},children:[r.jsx(Ne,{mode:"wait",children:p.map((v,k)=>r.jsx(P.span,{initial:{opacity:0,scale:.3,y:10},animate:{opacity:[0,1,1,0],scale:[.3,1.2,1,.8],y:[10,-5,-5,-15],rotate:[0,5,-5,0]},exit:{opacity:0,scale:.3},transition:{duration:2.5,delay:v.delay,ease:"easeInOut"},style:{position:k===0?"relative":"absolute",fontSize:"1.8rem",filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2))"},children:v.icon},v.id))}),r.jsx(P.span,{style:{position:"absolute",top:"-8px",right:"-5px",fontSize:"1rem",color:"#9c88ff"},animate:{y:[0,-8,0],opacity:[.7,1,.7],scale:[.9,1.1,.9]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:""})]}),r.jsx(P.div,{className:"thought-bubble-connector",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.1},style:{position:"absolute",bottom:"-12px",left:"30%",width:"18px",height:"18px",background:"rgba(255, 255, 255, 0.9)",borderRadius:"50%",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}),r.jsx(P.div,{className:"thought-bubble-connector-small",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.2},style:{position:"absolute",bottom:"-22px",left:"20%",width:"10px",height:"10px",background:"rgba(255, 255, 255, 0.85)",borderRadius:"50%",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"}}),[0,1,2].map(v=>r.jsx(P.span,{style:{position:"absolute",fontSize:"0.8rem",left:`${-10+v*45}%`,top:`${-20+v%2*10}%`},animate:{y:[0,-10,0],opacity:[.3,.8,.3],scale:[.8,1.2,.8],rotate:[0,180,360]},transition:{duration:3+v*.5,repeat:1/0,delay:v*.5,ease:"easeInOut"},children:v===0?"":v===1?"":""},v)),c&&r.jsxs(P.div,{className:"nap-timer",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},style:{position:"absolute",top:"110%",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, rgba(156, 136, 255, 0.95), rgba(130, 100, 220, 0.95))",borderRadius:"20px",padding:"6px 14px",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 4px 12px rgba(156, 136, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3)",border:"2px solid rgba(255, 255, 255, 0.3)",whiteSpace:"nowrap"},children:[r.jsx(P.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{fontSize:"1rem"},children:""}),r.jsx("span",{style:{color:"white",fontSize:"0.85rem",fontWeight:"bold",textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},children:y(f)}),r.jsx(P.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{fontSize:"0.9rem"},children:""})]})]})}function u5({lang:n,playedDates:i,petName:a,streak:l}){const[c,u]=x.useState(!1),p=new Date,m=p.getMonth(),f=p.getFullYear(),g=new Date(f,m+1,0).getDate(),y=new Date(f,m,1).getDay(),v=new Set(i),k=C=>{const R=`${f}-${String(m+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`;return v.has(R)},N=Array.from({length:g},(C,R)=>R+1).filter(C=>k(C)).length,L=n==="it"?["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]:["January","February","March","April","May","June","July","August","September","October","November","December"],j=n==="it"?["D","L","M","M","G","V","S"]:["S","M","T","W","T","F","S"];return r.jsxs(P.div,{className:`play-calendar glass-card ${c?"expanded":"collapsed"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[r.jsxs("button",{className:"calendar-toggle",onClick:()=>u(!c),children:[r.jsx("span",{className:"calendar-icon",children:""}),!c&&r.jsxs("div",{className:"calendar-mini-info",children:[r.jsxs("span",{className:"calendar-streak",children:[" ",l]}),r.jsxs("span",{className:"calendar-played",children:[N,"/",g]})]}),r.jsx("span",{className:"calendar-chevron",children:c?"":""})]}),r.jsx(Ne,{children:c&&r.jsxs(P.div,{className:"calendar-expanded",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:[r.jsxs("div",{className:"calendar-header",children:[r.jsxs("span",{className:"calendar-month",children:[L[m]," ",f]}),r.jsxs("span",{className:"calendar-subtitle",children:[n==="it"?`${a} giocato`:`${a} played`,": ",N," ",n==="it"?"giorni":"days"]})]}),r.jsx("div",{className:"calendar-days-header",children:j.map((C,R)=>r.jsx("span",{className:"calendar-day-abbrev",children:C},R))}),r.jsxs("div",{className:"calendar-grid",children:[Array.from({length:y},(C,R)=>r.jsx("span",{className:"calendar-day empty"},`empty-${R}`)),Array.from({length:g},(C,R)=>{const A=R+1,S=A===p.getDate(),I=k(A),M=A>p.getDate();return r.jsxs("span",{className:`calendar-day ${I?"played":""} ${S?"today":""} ${M?"future":""}`,children:[r.jsx("span",{className:"day-number",children:A}),I&&r.jsx("span",{className:"played-dot",children:""})]},A)})]}),r.jsx("div",{className:"calendar-footer",children:r.jsxs("span",{className:"streak-badge",children:[" ",l," ",n==="it"?"giorni di fila!":"day streak!"]})})]})})]})}function d5({lang:n}){return r.jsx("div",{className:"loading-spinner-overlay",children:r.jsxs("div",{className:"loading-spinner-container",children:[r.jsx(P.div,{className:"loading-moon",animate:{scale:[1,1.1,1],rotate:[0,360]},transition:{scale:{duration:2,repeat:1/0,ease:"easeInOut"},rotate:{duration:8,repeat:1/0,ease:"linear"}},children:""}),[0,1,2].map(i=>r.jsx(P.span,{className:"loading-star",animate:{rotate:360},transition:{duration:2+i*.5,repeat:1/0,ease:"linear",delay:i*.3},style:{position:"absolute",transformOrigin:"0 60px"},children:r.jsx(P.span,{animate:{scale:[.8,1.2,.8],opacity:[.6,1,.6]},transition:{duration:1.5,repeat:1/0,delay:i*.2},style:{display:"block",fontSize:`${1.2-i*.2}rem`},children:""})},i)),r.jsx(P.p,{className:"loading-text",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:n==="it"?"Caricamento...":"Loading..."}),r.jsx("div",{className:"loading-dots",children:[0,1,2].map(i=>r.jsx(P.span,{className:"loading-dot",animate:{y:[0,-10,0],scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:i*.15,ease:"easeInOut"},children:""},i))})]})})}function p5({lang:n,petName:i,playerLevel:a,trainingState:l,onLearnTrick:c,onPractice:u,onClose:p,playSound:m}){const f=He[n],[g,y]=x.useState(null),[v,k]=x.useState(!1),[N,L]=x.useState([]),[j,C]=x.useState(!1),[R,A]=x.useState(0),[S,I]=x.useState(null),[M,V]=x.useState(null),[z,O]=x.useState(0),U=Y=>{switch(Y){case"easy":return"#4caf50";case"medium":return"#ff9800";case"hard":return"#f44336"}},W=Y=>a>=Y.unlockLevel,ce=Y=>l.learnedTricks.includes(Y),X=Y=>{y(Y),k(!1),L([]),I(null),C(!0),A(0),O(l.practiceCount[Y.id]||0),m("ui-click"),ie.medium();let J=0;const B=setInterval(()=>{A(J),m("ui-click"),ie.light(),J++,J>=Y.sequence.length&&(clearInterval(B),setTimeout(()=>{C(!1),k(!0)},800))},600)},ae=Y=>{if(!v||!g)return;m("ui-click"),ie.light();const J=[...N,Y];L(J);const B=J.length-1;if(g.sequence[B]!==Y){I("fail"),k(!1),m("ui-error"),ie.error(),setTimeout(()=>{I(null),L([])},1500);return}if(J.length===g.sequence.length){if(k(!1),ce(g.id))I("success"),m("ui-success"),ie.success(),u(g.id),O(be=>be+1);else{const be=g.difficulty==="easy"?2:g.difficulty==="medium"?3:4,Te=(l.practiceCount[g.id]||0)+1;Te>=be?(I("perfect"),m("achievement"),m("sparkle"),ie.success(),c(g.id,g.xpReward)):(I("success"),m("ui-success"),ie.success(),u(g.id),O(Te))}setTimeout(()=>{I(null),L([]),S==="perfect"&&y(null)},2e3)}},ee=Y=>{V(Y.id),m("action-play"),ie.success(),setTimeout(()=>{V(null)},2e3)},le=Y=>{const J=l.practiceCount[Y.id]||0,B=Y.difficulty==="easy"?2:Y.difficulty==="medium"?3:4;return{current:J,required:B}},se=id.filter(Y=>Y.difficulty==="easy"),_=id.filter(Y=>Y.difficulty==="medium"),Q=id.filter(Y=>Y.difficulty==="hard");return r.jsx(P.div,{className:"pet-training-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,children:r.jsxs(P.div,{className:"pet-training-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:Y=>Y.stopPropagation(),children:[r.jsxs("div",{className:"training-header",children:[r.jsx("h2",{className:"training-title",children:f.petTraining.title}),r.jsx("button",{className:"training-close",onClick:p,children:""})]}),r.jsx("p",{className:"training-subtitle",children:f.petTraining.subtitle}),r.jsxs("div",{className:"training-stats",children:[r.jsxs("span",{className:"training-stat",children:[" ",f.petTraining.tricksLearned.replace("{count}",String(l.learnedTricks.length))]}),r.jsxs("span",{className:"training-stat level",children:["Lv.",a]})]}),g&&r.jsxs(P.div,{className:"training-active",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"training-trick-display",children:[r.jsx(P.span,{className:"trick-emoji-large",animate:M===g.id?{scale:[1,1.3,1],rotate:g.id==="spin"?[0,360]:g.id==="jump"?[0,0]:[-5,5,-5],y:g.id==="jump"?[0,-30,0]:0}:{scale:1},transition:{duration:.8},children:g.emoji}),r.jsx("span",{className:"trick-name-large",children:g.name[n]}),!ce(g.id)&&r.jsxs("div",{className:"trick-progress",children:[r.jsx("span",{className:"progress-label",children:f.petTraining.progress.replace("{current}",String(le(g).current)).replace("{total}",String(le(g).required))}),r.jsx("div",{className:"progress-bar",children:r.jsx(P.div,{className:"progress-fill",initial:{width:0},animate:{width:`${le(g).current/le(g).required*100}%`}})})]})]}),j&&r.jsxs("div",{className:"sequence-display",children:[r.jsx("p",{className:"sequence-instruction",children:f.petTraining.instructions}),r.jsx("div",{className:"sequence-arrows",children:g.sequence.map((Y,J)=>r.jsx(P.span,{className:`sequence-arrow ${J<=R?"visible":""}`,initial:{scale:0,opacity:0},animate:J<=R?{scale:1,opacity:1}:{scale:0,opacity:0},transition:{type:"spring",damping:12},children:Y},J))})]}),v&&r.jsxs("div",{className:"training-input",children:[r.jsx("p",{className:"input-instruction",children:f.petTraining.instructions}),r.jsx("div",{className:"input-sequence",children:g.sequence.map((Y,J)=>r.jsx("span",{className:`input-slot ${N[J]?"filled":""}`,children:N[J]||"?"},J))}),r.jsxs("div",{className:"arrow-buttons",children:[r.jsx("div",{className:"arrow-row",children:r.jsx("button",{className:"arrow-btn",onClick:()=>ae(""),children:""})}),r.jsxs("div",{className:"arrow-row",children:[r.jsx("button",{className:"arrow-btn",onClick:()=>ae(""),children:""}),r.jsx("button",{className:"arrow-btn",onClick:()=>ae(""),children:""}),r.jsx("button",{className:"arrow-btn",onClick:()=>ae(""),children:""})]})]})]}),r.jsx(Ne,{children:S&&r.jsxs(P.div,{className:`training-result ${S}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:[S==="perfect"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"result-emoji",children:""}),r.jsx("span",{className:"result-text",children:f.petTraining.perfect}),r.jsx("span",{className:"result-xp",children:f.petTraining.xpReward.replace("{xp}",String(g.xpReward))})]}),S==="success"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"result-emoji",children:""}),r.jsx("span",{className:"result-text",children:f.petTraining.success})]}),S==="fail"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"result-emoji",children:""}),r.jsx("span",{className:"result-text",children:f.petTraining.fail})]})]})}),r.jsxs("button",{className:"training-back-btn",onClick:()=>y(null),children:[" ",f.petTraining.selectTrick]})]}),!g&&r.jsxs("div",{className:"tricks-list",children:[r.jsxs("div",{className:"tricks-section",children:[r.jsxs("h3",{className:"section-title",style:{color:U("easy")},children:[" ",f.petTraining.difficulty.easy]}),r.jsx("div",{className:"tricks-grid",children:se.map(Y=>{const J=W(Y),B=ce(Y.id),Z=le(Y);return r.jsxs(P.button,{className:`trick-item ${J?"":"locked"} ${B?"learned":""}`,onClick:()=>J&&X(Y),whileHover:J?{scale:1.05}:{},whileTap:J?{scale:.95}:{},disabled:!J,children:[r.jsx("span",{className:"trick-emoji",children:Y.emoji}),r.jsx("span",{className:"trick-name",children:Y.name[n]}),!J&&r.jsxs("span",{className:"trick-lock",children:[" Lv.",Y.unlockLevel]}),J&&B&&r.jsx("span",{className:"trick-learned-badge",children:""}),J&&!B&&Z.current>0&&r.jsxs("span",{className:"trick-progress-mini",children:[Z.current,"/",Z.required]}),B&&r.jsx("button",{className:"show-off-btn",onClick:be=>{be.stopPropagation(),ee(Y)},children:f.petTraining.showOff})]},Y.id)})})]}),r.jsxs("div",{className:"tricks-section",children:[r.jsxs("h3",{className:"section-title",style:{color:U("medium")},children:[" ",f.petTraining.difficulty.medium]}),r.jsx("div",{className:"tricks-grid",children:_.map(Y=>{const J=W(Y),B=ce(Y.id),Z=le(Y);return r.jsxs(P.button,{className:`trick-item ${J?"":"locked"} ${B?"learned":""}`,onClick:()=>J&&X(Y),whileHover:J?{scale:1.05}:{},whileTap:J?{scale:.95}:{},disabled:!J,children:[r.jsx("span",{className:"trick-emoji",children:Y.emoji}),r.jsx("span",{className:"trick-name",children:Y.name[n]}),!J&&r.jsxs("span",{className:"trick-lock",children:[" Lv.",Y.unlockLevel]}),J&&B&&r.jsx("span",{className:"trick-learned-badge",children:""}),J&&!B&&Z.current>0&&r.jsxs("span",{className:"trick-progress-mini",children:[Z.current,"/",Z.required]}),B&&r.jsx("button",{className:"show-off-btn",onClick:be=>{be.stopPropagation(),ee(Y)},children:f.petTraining.showOff})]},Y.id)})})]}),r.jsxs("div",{className:"tricks-section",children:[r.jsxs("h3",{className:"section-title",style:{color:U("hard")},children:[" ",f.petTraining.difficulty.hard]}),r.jsx("div",{className:"tricks-grid",children:Q.map(Y=>{const J=W(Y),B=ce(Y.id),Z=le(Y);return r.jsxs(P.button,{className:`trick-item ${J?"":"locked"} ${B?"learned":""}`,onClick:()=>J&&X(Y),whileHover:J?{scale:1.05}:{},whileTap:J?{scale:.95}:{},disabled:!J,children:[r.jsx("span",{className:"trick-emoji",children:Y.emoji}),r.jsx("span",{className:"trick-name",children:Y.name[n]}),!J&&r.jsxs("span",{className:"trick-lock",children:[" Lv.",Y.unlockLevel]}),J&&B&&r.jsx("span",{className:"trick-learned-badge",children:""}),J&&!B&&Z.current>0&&r.jsxs("span",{className:"trick-progress-mini",children:[Z.current,"/",Z.required]}),B&&r.jsx("button",{className:"show-off-btn",onClick:be=>{be.stopPropagation(),ee(Y)},children:f.petTraining.showOff})]},Y.id)})})]})]}),r.jsxs(P.div,{className:"training-luna",animate:M?{scale:[1,1.2,1],rotate:M==="spin"?[0,360]:M==="roll"?[0,360]:[-5,5,-5],y:M==="jump"||M==="backflip"?[0,-30,0]:0}:{scale:1},transition:{duration:1,ease:"easeInOut"},children:[r.jsx("span",{className:"luna-emoji",children:""}),M&&r.jsx(P.div,{className:"show-off-sparkles",initial:{opacity:0},animate:{opacity:1},children:["","","",""].map((Y,J)=>r.jsx(P.span,{animate:{y:[0,-20,0],opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:1.5,delay:J*.2,repeat:1},style:{position:"absolute",left:`${20+J*20}%`,top:"-20px"},children:Y},J))})]})]})})}function h5({lang:n,petName:i,stats:a,lastCheckup:l,onCheckup:c,onClose:u,playSound:p,vaccinationState:m,onUpdateVaccination:f}){const g=He[n],[y,v]=x.useState(!1),[k,N]=x.useState(!1),[L,j]=x.useState("checkup"),[C,R]=x.useState(!1),[A,S]=x.useState(null),I=Math.round(a.health*.35+a.hunger*.25+a.happiness*.25+a.energy*.15),M=()=>I>=80?{text:g.healthCheckup.excellent,color:"#4ade80",emoji:""}:I>=60?{text:g.healthCheckup.good,color:"#a3e635",emoji:""}:I>=40?{text:g.healthCheckup.fair,color:"#fbbf24",emoji:""}:I>=20?{text:g.healthCheckup.poor,color:"#fb923c",emoji:""}:{text:g.healthCheckup.critical,color:"#f87171",emoji:""},V=X=>X<35?"low":X<70?"medium":"high",z=()=>{const ae=[{key:"hunger",value:a.hunger},{key:"energy",value:a.energy},{key:"health",value:a.health},{key:"happiness",value:a.happiness}].reduce((ee,le)=>le.value<ee.value?le:ee);return g.healthCheckup.tips[ae.key][V(ae.value)]},O=()=>{if(!l)return g.healthCheckup.neverChecked;const X=Date.now()-l,ae=Math.floor(X/6e4),ee=Math.floor(X/36e5),le=Math.floor(X/864e5);return le>0?g.healthCheckup.lastCheckup.replace("{time}",n==="it"?`${le} giorni fa`:`${le} days ago`):ee>0?g.healthCheckup.lastCheckup.replace("{time}",n==="it"?`${ee} ore fa`:`${ee} hours ago`):ae>0?g.healthCheckup.lastCheckup.replace("{time}",n==="it"?`${ae} minuti fa`:`${ae} minutes ago`):g.healthCheckup.lastCheckup.replace("{time}",n==="it"?"poco fa":"just now")},U=()=>{p("ui-click"),ie.medium(),N(!0),Date.now()-l>36e5&&!y?(c(10,15),v(!0),p("coin-collect"),p("ui-success"),ie.success()):p("ui-success")},W=M(),ce=Date.now()-l>36e5&&!y;return r.jsx(P.div,{className:"health-checkup-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:r.jsxs(P.div,{className:"health-checkup-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15},onClick:X=>X.stopPropagation(),style:{background:"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(240,248,255,0.95))",borderRadius:"24px",padding:"24px",maxWidth:"400px",width:"100%",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3), 0 0 40px rgba(100,200,255,0.2)",border:"3px solid #87ceeb"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[r.jsx("h2",{style:{margin:0,fontSize:"1.5rem",color:"#2c3e50"},children:g.healthCheckup.title}),r.jsx("button",{onClick:u,style:{background:"rgba(0,0,0,0.1)",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",fontSize:"1.2rem"},children:""})]}),r.jsx("p",{style:{margin:"0 0 20px",color:"#666",fontSize:"0.95rem"},children:g.healthCheckup.subtitle.replace("{name}",i)}),r.jsx(P.div,{style:{textAlign:"center",marginBottom:"16px"},animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx("span",{style:{fontSize:"4rem"},children:""})}),k?r.jsxs(r.Fragment,{children:[r.jsxs(P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:12},style:{background:`linear-gradient(135deg, ${W.color}22, ${W.color}11)`,border:`2px solid ${W.color}`,borderRadius:"20px",padding:"20px",textAlign:"center",marginBottom:"20px"},children:[r.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.9rem",color:"#666"},children:g.healthCheckup.overallHealth}),r.jsx(P.div,{style:{fontSize:"3rem",marginBottom:"8px"},animate:{rotate:[0,-10,10,-10,0],scale:[1,1.1,1]},transition:{duration:.5},children:W.emoji}),r.jsx("p",{style:{margin:0,fontSize:"1.3rem",fontWeight:"bold",color:W.color},children:W.text}),r.jsxs("p",{style:{margin:"8px 0 0",fontSize:"2rem",fontWeight:"bold",color:W.color},children:[I,"%"]})]}),r.jsx("div",{style:{marginBottom:"20px"},children:[{key:"health",value:a.health,emoji:"",color:"#ef4444"},{key:"hunger",value:a.hunger,emoji:"",color:"#f59e0b"},{key:"happiness",value:a.happiness,emoji:"",color:"#ec4899"},{key:"energy",value:a.energy,emoji:"",color:"#3b82f6"}].map((X,ae)=>r.jsxs(P.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:ae*.1},style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",padding:"8px 12px",background:"rgba(255,255,255,0.5)",borderRadius:"12px"},children:[r.jsx("span",{style:{fontSize:"1.5rem"},children:X.emoji}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[r.jsx("span",{style:{fontSize:"0.85rem",color:"#555"},children:g.healthCheckup.categories[X.key]}),r.jsxs("span",{style:{fontSize:"0.85rem",fontWeight:"bold",color:X.color},children:[X.value,"%"]})]}),r.jsx("div",{style:{height:"8px",background:"rgba(0,0,0,0.1)",borderRadius:"4px",overflow:"hidden"},children:r.jsx(P.div,{initial:{width:0},animate:{width:`${X.value}%`},transition:{duration:.5,delay:ae*.1},style:{height:"100%",background:`linear-gradient(90deg, ${X.color}, ${X.color}aa)`,borderRadius:"4px"}})})]})]},X.key))}),r.jsxs(P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},style:{background:"linear-gradient(135deg, #e0f2fe, #dbeafe)",padding:"16px",borderRadius:"16px",marginBottom:"16px"},children:[r.jsxs("p",{style:{margin:"0 0 8px",fontWeight:"bold",color:"#1e40af",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("span",{children:""})," ",g.healthCheckup.doctorSays]}),r.jsx("p",{style:{margin:0,color:"#1e3a5f",fontSize:"0.95rem",lineHeight:1.5},children:z()})]}),y&&r.jsx(P.div,{initial:{scale:0},animate:{scale:1},style:{background:"linear-gradient(135deg, #dcfce7, #bbf7d0)",padding:"12px",borderRadius:"12px",textAlign:"center",marginBottom:"16px"},children:r.jsxs("p",{style:{margin:0,color:"#166534",fontWeight:"bold"},children:[" ",g.healthCheckup.checkupBonus.replace("{coins}","10").replace("{xp}","15")]})}),r.jsx(P.button,{onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px",fontSize:"1.1rem",fontWeight:"bold",background:"linear-gradient(135deg, #6366f1, #8b5cf6)",color:"white",border:"none",borderRadius:"14px",cursor:"pointer",boxShadow:"0 4px 15px rgba(99, 102, 241, 0.3)"},children:g.healthCheckup.close})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{background:"rgba(135, 206, 235, 0.2)",padding:"16px",borderRadius:"16px",textAlign:"center",marginBottom:"16px"},children:[r.jsx("p",{style:{margin:"0 0 8px",color:"#555"},children:O()}),ce&&r.jsx(P.p,{style:{margin:0,color:"#4ade80",fontWeight:"bold"},animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},children:g.healthCheckup.checkupBonus.replace("{coins}","10").replace("{xp}","15")})]}),r.jsx(P.button,{onClick:U,whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",padding:"16px",fontSize:"1.2rem",fontWeight:"bold",background:"linear-gradient(135deg, #4ade80, #22c55e)",color:"white",border:"none",borderRadius:"16px",cursor:"pointer",boxShadow:"0 4px 15px rgba(34, 197, 94, 0.4)"},children:g.healthCheckup.checkNow})]})]})})}function m5({lang:n,petName:i,activityLog:a,totalPlayMinutes:l,onClose:c}){const u=He[n],p=N=>{const L=new Date(N).getHours();return L>=6&&L<12?"morning":L>=12&&L<18?"afternoon":L>=18&&L<22?"evening":"night"},m=N=>new Date(N).toLocaleTimeString(n==="it"?"it-IT":"en-US",{hour:"2-digit",minute:"2-digit",hour12:n==="en"}),f=N=>{if(N<60)return`${N}m`;const L=Math.floor(N/60),j=N%60;return j>0?`${L}h ${j}m`:`${L}h`},g=[...a.entries].sort((N,L)=>L.timestamp-N.timestamp),y=g.reduce((N,L)=>({happinessGained:N.happinessGained+(L.stats?.happiness||0),energyUsed:N.energyUsed+Math.abs(L.stats?.energy||0),coinsCollected:N.coinsCollected+(L.stats?.coins||0)}),{happinessGained:0,energyUsed:0,coinsCollected:0}),v={morning:g.filter(N=>p(N.timestamp)==="morning"),afternoon:g.filter(N=>p(N.timestamp)==="afternoon"),evening:g.filter(N=>p(N.timestamp)==="evening"),night:g.filter(N=>p(N.timestamp)==="night")},k={morning:{emoji:"",label:u.activityLog.morning},afternoon:{emoji:"",label:u.activityLog.afternoon},evening:{emoji:"",label:u.activityLog.evening},night:{emoji:"",label:u.activityLog.night}};return r.jsx(P.div,{className:"activity-log-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:r.jsxs(P.div,{className:"activity-log-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:20},onClick:N=>N.stopPropagation(),style:{background:"linear-gradient(135deg, rgba(255,255,255,0.95), rgba(245,245,255,0.95))",borderRadius:"24px",padding:"24px",maxWidth:"420px",width:"100%",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"16px"},children:[r.jsx(P.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{fontSize:"3rem",marginBottom:"8px"},children:""}),r.jsx("h2",{style:{margin:"0 0 4px",color:"#4a4a6a",fontSize:"1.4rem"},children:u.activityLog.title}),r.jsx("p",{style:{margin:0,color:"#888",fontSize:"0.9rem"},children:u.activityLog.subtitle.replace("{name}",i)}),r.jsxs("div",{style:{display:"inline-block",background:"linear-gradient(135deg, #a78bfa, #818cf8)",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold",marginTop:"8px"},children:[u.activityLog.today,"  ",u.activityLog.activitiesCount.replace("{count}",String(g.length))]})]}),g.length>0&&r.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",justifyContent:"center"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #fef3c7, #fde68a)",padding:"8px 12px",borderRadius:"12px",textAlign:"center",flex:1},children:[r.jsx("div",{style:{fontSize:"1.2rem"},children:""}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"#92400e"},children:["+",y.happinessGained]})]}),r.jsxs("div",{style:{background:"linear-gradient(135deg, #d1fae5, #a7f3d0)",padding:"8px 12px",borderRadius:"12px",textAlign:"center",flex:1},children:[r.jsx("div",{style:{fontSize:"1.2rem"},children:""}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"#065f46"},children:["-",y.energyUsed]})]}),r.jsxs("div",{style:{background:"linear-gradient(135deg, #ede9fe, #ddd6fe)",padding:"8px 12px",borderRadius:"12px",textAlign:"center",flex:1},children:[r.jsx("div",{style:{fontSize:"1.2rem"},children:""}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"#5b21b6"},children:["+",y.coinsCollected]})]})]}),r.jsxs("div",{style:{background:"linear-gradient(135deg, #fce7f3, #fbcfe8)",padding:"12px 16px",borderRadius:"14px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 2px 8px rgba(236, 72, 153, 0.15)"},children:[r.jsx("div",{style:{fontSize:"1.8rem"},children:""}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"0.75rem",color:"#9d174d",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:u.activityLog.stats.playtime}),r.jsx("div",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#831843"},children:f(l)})]}),r.jsx("div",{style:{fontSize:"1.5rem"},children:""})]}),r.jsx("div",{style:{flex:1,overflowY:"auto",paddingRight:"8px",marginBottom:"16px"},children:g.length===0?r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center",padding:"32px 16px",color:"#888"},children:[r.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),r.jsx("p",{style:{whiteSpace:"pre-line",lineHeight:1.6},children:u.activityLog.noActivities})]}):Object.entries(v).map(([N,L])=>{if(L.length===0)return null;const j=k[N];return r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",padding:"4px 8px",background:"rgba(0,0,0,0.03)",borderRadius:"8px"},children:[r.jsx("span",{style:{fontSize:"1.1rem"},children:j.emoji}),r.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#666"},children:j.label}),r.jsx("span",{style:{marginLeft:"auto",fontSize:"0.7rem",background:"#e5e7eb",padding:"2px 8px",borderRadius:"10px",color:"#555"},children:L.length})]}),L.map((C,R)=>r.jsxs(P.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:R*.05},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",marginBottom:"6px",background:"white",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",borderLeft:"4px solid #a78bfa"},children:[r.jsx("div",{style:{fontSize:"1.5rem",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f3ff, #ede9fe)",borderRadius:"10px"},children:C.emoji}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#374151",marginBottom:"2px"},children:C.description[n]}),r.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:m(C.timestamp)})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"flex-end"},children:[C.stats?.happiness&&C.stats.happiness>0&&r.jsxs("span",{style:{fontSize:"0.7rem",color:"#f59e0b"},children:["+",C.stats.happiness," "]}),C.stats?.coins&&C.stats.coins>0&&r.jsxs("span",{style:{fontSize:"0.7rem",color:"#8b5cf6"},children:["+",C.stats.coins," "]})]})]},C.id))]},N)})}),r.jsx(P.button,{onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px",fontSize:"1.1rem",fontWeight:"bold",background:"linear-gradient(135deg, #a78bfa, #818cf8)",color:"white",border:"none",borderRadius:"14px",cursor:"pointer",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.3)"},children:u.activityLog.close})]})})}function f5({lang:n,petName:i,favoriteRoomState:a,onClose:l}){const c=He[n],u=y=>({bedroom:"",kitchen:"",garden:"",living:"",bathroom:"",garage:"",shop:"",supermarket:"",attic:"",basement:"",library:""})[y]||"",p=Object.entries(a.visitCounts).sort(([,y],[,v])=>v-y).filter(([,y])=>y>0),m=p.reduce((y,[,v])=>y+v,0),f=a.favoriteRoom,g=f?a.visitCounts[f]:0;return r.jsx(P.div,{className:"favorite-room-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:r.jsxs(P.div,{className:"favorite-room-modal glass-card",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0},onClick:y=>y.stopPropagation(),style:{background:"linear-gradient(135deg, #fff9e6, #fff5f8, #f5f0ff)",borderRadius:"24px",padding:"24px",maxWidth:"380px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.25)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[r.jsx(P.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},style:{fontSize:"3rem",marginBottom:"8px"},children:""}),r.jsx("h2",{style:{margin:0,fontSize:"1.5rem",color:"#7c3aed"},children:c.favoriteRoom.title}),r.jsx("p",{style:{margin:"8px 0 0",color:"#666",fontSize:"0.9rem"},children:c.favoriteRoom.subtitle.replace("{name}",i)})]}),f&&m>=5?r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"linear-gradient(135deg, #fef3c7, #fde68a)",borderRadius:"16px",padding:"20px",textAlign:"center",marginBottom:"20px",border:"3px solid #fbbf24",boxShadow:"0 4px 15px rgba(251, 191, 36, 0.3)"},children:[r.jsx("div",{style:{fontSize:"3.5rem",marginBottom:"8px"},children:u(f)}),r.jsx("div",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#92400e",marginBottom:"4px"},children:c.rooms[f]}),r.jsxs("div",{style:{fontSize:"0.85rem",color:"#78350f"},children:[c.favoriteRoom.visits.replace("{count}",String(g))," "]}),r.jsx(P.div,{animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},style:{marginTop:"8px",fontSize:"0.8rem",color:"#b45309"},children:c.favoriteRoom.loves.replace("{name}",i)})]}):r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(139, 92, 246, 0.1)",borderRadius:"16px",padding:"24px",textAlign:"center",marginBottom:"20px",border:"2px dashed #a78bfa"},children:[r.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"8px"},children:""}),r.jsx("div",{style:{fontSize:"1rem",color:"#7c3aed",fontWeight:"600"},children:c.favoriteRoom.justStarted}),r.jsx("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"8px"},children:c.favoriteRoom.tip})]}),p.length>0&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#666",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[" ",c.favoriteRoom.topRooms]}),p.slice(0,5).map(([y,v],k)=>{const N=m>0?v/m*100:0,L=y===f;return r.jsxs(P.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:k*.1},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",marginBottom:"8px",background:L?"linear-gradient(135deg, #fef9c3, #fef08a)":"white",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",border:L?"2px solid #fbbf24":"1px solid #e5e7eb"},children:[r.jsx("div",{style:{fontSize:"1.2rem",width:"28px",textAlign:"center"},children:k===0?"":k===1?"":k===2?"":`${k+1}.`}),r.jsx("div",{style:{fontSize:"1.5rem",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f3ff, #ede9fe)",borderRadius:"10px"},children:u(y)}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:c.rooms[y]}),r.jsx("div",{style:{height:"6px",background:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:r.jsx(P.div,{initial:{width:0},animate:{width:`${N}%`},transition:{duration:.5,delay:k*.1},style:{height:"100%",background:L?"linear-gradient(90deg, #fbbf24, #f59e0b)":"linear-gradient(90deg, #a78bfa, #818cf8)",borderRadius:"3px"}})})]}),r.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:L?"#b45309":"#8b5cf6",minWidth:"50px",textAlign:"right"},children:v})]},y)})]}),p.length===0&&r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center",padding:"20px",color:"#888"},children:[r.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:""}),r.jsx("p",{children:c.favoriteRoom.noFavorite})]}),r.jsx(P.button,{onClick:l,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px",fontSize:"1.1rem",fontWeight:"bold",background:"linear-gradient(135deg, #a78bfa, #818cf8)",color:"white",border:"none",borderRadius:"14px",cursor:"pointer",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.3)"},children:c.activityLog.close})]})})}function g5(){const[n,i]=x.useState("it"),a=He[n],[l,c]=x.useState(!0),{playSound:u,playAmbient:p,toggleMute:m,isMuted:f}=Gw(),[g,y]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-ambient-volume");return w?parseFloat(w):.5}catch{return .5}}),[v,k]=x.useState(()=>{try{return localStorage.getItem("moonlight-use-real-weather")==="true"}catch{return!1}}),[N,L]=x.useState(()=>(tt()?.totalVisits??0)+1),[j,C]=x.useState(()=>tt()?.petName??null),[R,A]=x.useState(()=>tt()?.personality??Rb()),[S,I]=x.useState(()=>!tt()?.petName),[M,V]=x.useState(!1),[z,O]=x.useState(null),[U,W]=x.useState(()=>tt()?.createdAt||new Date().toISOString()),[ce,X]=x.useState(()=>tt()?.lastBirthdayCelebrated),[ae,ee]=x.useState(!1),[le,se]=x.useState(()=>{const T=tt()?.playHistory||[],F=new Date().toISOString().split("T")[0];return T.includes(F)?T:[...T,F]}),[_,Q]=x.useState(()=>{const w=tt();if(!w)return{health:80,hunger:60,energy:90,happiness:75,coins:100,level:1,xp:0,weight:50};const{stats:T,hoursAway:F}=Vb(w.stats,w.lastVisit),G=Ob(F);return G&&F>=.1&&setTimeout(()=>{O({...G,hoursAway:F})},500),T}),[Y,J]=x.useState(0),[B,Z]=x.useState(!1),[be,Te]=x.useState(""),[Pe,Ee]=x.useState(!0),[we,Ae]=x.useState({x:50,y:50}),[Ve,Et]=x.useState(0),[Qt,Ya]=x.useState(Cf()),{weather:hi,isLoading:Eo}=tb({enabled:v,timeOfDay:Qt}),[Ge,Xa]=x.useState("happy"),[Ao,Wn]=x.useState(()=>tt()?.achievements??Ib),[ht,Rn]=x.useState(()=>{const w=tt();return w?{...w.gameState,roomsVisited:new Set(w.gameState.roomsVisited),totalPlayMinutes:w.gameState.totalPlayMinutes??0}:{dayCount:1,totalActions:0,roomsVisited:new Set,lastDailyReward:null,streak:0,totalPlayMinutes:0}}),[gn,Xi]=x.useState(null),[Ka,Mr]=x.useState(!1),[Pr,Qa]=x.useState(0),[Rr,Gn]=x.useState(!1),[Dt,Ye]=x.useState(null),[En,Lo]=x.useState(""),[Yn,Io]=x.useState(null),[Ja,zo]=x.useState(null),[Do,Er]=x.useState(()=>{const w=tt();return $l(w?.stats.level??1).stage}),[Ar,Lr]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-unlocked-books");return w?JSON.parse(w):[]}catch{return[]}}),[Le,yn]=x.useState(()=>tt()?.costumes??{unlocked:[],equipped:{hat:null,accessory:null,outfit:null,collar:null},eyeColor:"amber",unlockedEyeColors:["amber"]}),[Za,Ir]=x.useState(!1),[Jt,zr]=x.useState(()=>tt()?.furColor??"orange"),[Fo,Dr]=x.useState(()=>tt()?.unlockedFurColors??["orange"]),[es,mi]=x.useState(!1),[Zt,fi]=x.useState(()=>{const w=tt(),T=ui.filter(F=>F.unlockMethod==="default").map(F=>F.id);return w?.toyBox??{unlockedToys:T,favoriteToy:null}}),[oc,An]=x.useState(!1),[yt,Ki]=x.useState(null),[Bo,ts]=x.useState(()=>{try{const T=localStorage.getItem("moonlight-treat-shop");if(T)return JSON.parse(T)}catch{}return{unlockedTreats:Ia.filter(T=>T.rarity==="common"&&!T.unlockLevel).map(T=>T.id),inventory:{},totalFed:0}}),[rc,ns]=x.useState(!1),[Xn,Fr]=x.useState(!1),[is,Br]=x.useState(!1),[os,rs]=x.useState(""),[as,Vr]=x.useState(!1),[gi,ac]=x.useState(!1),[_e,sc]=x.useState(()=>tt()?.moodJournal??{entries:[],lastEntryDate:null}),[Or,$r]=x.useState(!1),[xn,_r]=x.useState(()=>{const w=tt(),T=new Date().toISOString().split("T")[0];return w?.dailyQuests&&w.dailyQuests.lastRefreshDate===T?w.dailyQuests:{quests:jf(),lastRefreshDate:T,completedToday:0}}),[ss,Qi]=x.useState(!1),[en,lc]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-gift-state");return w?JSON.parse(w):{sentGifts:[],totalSent:0}}catch{return{sentGifts:[],totalSent:0}}}),[Ht,ls]=x.useState(!1),[tn,cc]=x.useState(()=>{const w=tt(),T=["luna"];if(w?.petAlbum){const F=w.petAlbum.discoveredPets.includes("luna")?w.petAlbum.discoveredPets:[...w.petAlbum.discoveredPets,"luna"];return{...w.petAlbum,discoveredPets:F}}return{discoveredPets:T,lastDiscovery:null,totalDiscovered:1}}),[Vo,yi]=x.useState(!1),[Ln,xi]=x.useState(null),[Ur]=x.useState(()=>{const w=tt();return w?.friendCode?w.friendCode:{code:Ab(),createdAt:new Date().toISOString()}}),[uc,Ji]=x.useState(!1),[cs,Oo]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-pet-training");return w?JSON.parse(w):{learnedTricks:[],practiceCount:{},lastTrainingDate:null}}catch{return{learnedTricks:[],practiceCount:{},lastTrainingDate:null}}}),[Zi,qr]=x.useState(!1),[Hr,Ie]=x.useState(!1),[us,ds]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-last-health-checkup");return w?parseInt(w):0}catch{return 0}}),[xt,ps]=x.useState(()=>{const w=tt(),T=new Date().toISOString().split("T")[0];return w?.activityLog&&w.activityLog.lastResetDate===T?w.activityLog:{entries:[],lastResetDate:T}}),[hs,$o]=x.useState(!1),[Wt,_o]=x.useState(()=>{const w=tt();return w?.favoriteRoomState?w.favoriteRoomState:{visitCounts:{bedroom:0,kitchen:0,garden:0,living:0,bathroom:0,garage:0,shop:0,supermarket:0,attic:0,basement:0,library:0},favoriteRoom:null,lastUpdated:new Date().toISOString()}}),[In,nn]=x.useState(!1),[on,eo]=x.useState(()=>{const w=tt();return w?.vaccinationState?w.vaccinationState:{records:[],lastCheckDate:null}}),[zn,vn]=x.useState(!1),[dc,Wr]=x.useState(!1),[Je,pc]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-fortune-state");if(w){const T=JSON.parse(w),F=new Date().toISOString().split("T")[0];return T.lastFortuneDate!==F?{lastFortuneDate:null,fortunesToday:0,lastFortune:null}:T}}catch{}return{lastFortuneDate:null,fortunesToday:0,lastFortune:null}}),[ms,vi]=x.useState(!1),[Gt,fs]=x.useState(()=>{try{const w=localStorage.getItem("moonlight-seen-facts");return w?JSON.parse(w):[]}catch{return[]}}),[Dn,Kn]=x.useState(null),[wi,bi]=x.useState(!0),[Uo,gs]=x.useState(()=>{try{return!localStorage.getItem("moonlight-movement-hint-seen")}catch{return!0}}),[wn,ki]=x.useState(!1),[qo,Gr]=x.useState({x:0,y:0}),[rn,Yr]=x.useState(null),[jt,to]=x.useState(!1),[Si,Qn]=x.useState("right"),[no,Ct]=x.useState(null),[ji,Ho]=x.useState(!1),[Ci,io]=x.useState(Date.now()),[Xr,Wo]=x.useState([]),[Ni,Go]=x.useState(0),[Kr,ys]=x.useState(!1),[Qr,xs]=x.useState(!1),[Jr,vs]=x.useState(null),[ws,hc]=x.useState(0),[Zr,bs]=x.useState(!1),[ks,Ss]=x.useState([]),[Ti,js]=x.useState(!1),[mc,oo]=x.useState(0),[fc,ea]=x.useState([]),[Mi,ta]=x.useState(!1),[gc,Cs]=x.useState([]),[Jn,Ns]=x.useState(!1),[yc,Ts]=x.useState([]),an=x.useRef(null),Fn=x.useRef(null),ro=x.useCallback(w=>{w&&w.focus()},[]),ao=kt[Y]?.key??"bedroom";Zw({currentRoom:ao,timeOfDay:Qt,isMuted:f,volume:g,weatherCondition:hi.condition}),x.useEffect(()=>{const w=setInterval(()=>Et(T=>(T+1)%360),50);return()=>clearInterval(w)},[]),x.useEffect(()=>{(async()=>{const F=[`${ot}assets/backgrounds/house-map.jpg`,`${ot}assets/character/luna-happy.jpg`,`${ot}assets/backgrounds/room-bedroom.jpg`,`${ot}assets/backgrounds/room-kitchen.jpg`,`${ot}assets/backgrounds/room-garden.jpg`].map(G=>new Promise(ue=>{const de=new Image;de.onload=()=>ue(),de.onerror=()=>ue(),de.src=G}));await Promise.all([Promise.all(F),new Promise(G=>setTimeout(G,800))]),c(!1)})()},[]),x.useEffect(()=>{const w=setInterval(()=>{const T=Date.now()-Ci;Ho(T>3e3&&!jt&&!B)},500);return()=>clearInterval(w)},[Ci,jt,B]),x.useEffect(()=>{(jt||B)&&(io(Date.now()),Ho(!1))},[jt,B]);const na=x.useCallback(()=>{if(Uo){gs(!1);try{localStorage.setItem("moonlight-movement-hint-seen","true")}catch{}}},[Uo]);x.useEffect(()=>{if(Pe)return;const w=3,T=F=>{if(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA")return;let G=0,ue=0;switch(F.key.toLowerCase()){case"w":case"arrowup":ue=-w;break;case"s":case"arrowdown":ue=w;break;case"a":case"arrowleft":G=-w,Qn("left");break;case"d":case"arrowright":G=w,Qn("right");break;default:return}F.preventDefault(),to(!0),Ae(de=>({x:Math.max(10,Math.min(90,de.x+G)),y:Math.max(30,Math.min(85,de.y+ue))})),na(),setTimeout(()=>to(!1),150)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[Pe,na]),x.useEffect(()=>{if(!no)return;const T=setInterval(()=>{Ae(F=>{const G=no.x-F.x,ue=no.y-F.y,de=Math.sqrt(G*G+ue*ue);if(de<2)return to(!1),Ct(null),F;const ve=Math.min(3,de*.15),Me=F.x+G/de*ve,je=F.y+ue/de*ve;return Math.abs(G)>.5&&Qn(G>0?"right":"left"),{x:Me,y:je}})},16);return()=>clearInterval(T)},[no]);const Ms=w=>{if(w.target.closest(".action-btn, .header, .mini-stats, .interactive-object, .luna-container"))return;const T=w.currentTarget.getBoundingClientRect(),F=(w.clientX-T.left)/T.width*100,G=(w.clientY-T.top)/T.height*100,ue=Math.max(10,Math.min(90,F)),de=Math.max(30,Math.min(85,G));if(Ct({x:ue,y:de}),to(!0),u("ui-click"),Uo){gs(!1);try{localStorage.setItem("moonlight-movement-hint-seen","true")}catch{}}};x.useEffect(()=>{const w=setInterval(()=>Ya(Cf()),6e4);return()=>clearInterval(w)},[]),x.useEffect(()=>{Xa(zb(_))},[_]),x.useEffect(()=>{const w=setInterval(()=>{Rn(T=>({...T,totalPlayMinutes:T.totalPlayMinutes+1}))},6e4);return()=>clearInterval(w)},[]),x.useEffect(()=>{Ub(_,Ao,ht,N,j??void 0,Le,Zt,U,ce,_e,le,xn,Ur,tn,R,Jt,Fo,xt,Wt,void 0,on)},[_,Ao,ht,N,j,Le,Zt,U,ce,_e,le,xn,Ur,tn,Jt,Fo,xt,Wt,on]),x.useEffect(()=>{const w=new Date().toISOString().split("T")[0];xn.lastRefreshDate!==w&&_r({quests:jf(),lastRefreshDate:w,completedToday:0})},[xn.lastRefreshDate]),x.useEffect(()=>{const w=new Date().getFullYear().toString();if(ce!==w&&j&&$b(U)){const T=setTimeout(()=>{ee(!0)},2e3);return()=>clearTimeout(T)}},[U,j,ce]),x.useEffect(()=>{if(Pe){p("home");return}const w=kt[Y];w.category==="outside"?p("shop"):w.key==="garden"?p("garden"):p("home")},[Y,Pe,p]),x.useEffect(()=>{const w=Qt==="night"?.5:1,T=setInterval(()=>{Q(F=>({...F,hunger:Math.max(0,F.hunger-1*w),energy:Math.max(0,F.energy-.5*w),happiness:Math.max(0,F.happiness-.3*w),health:F.hunger<20?Math.max(0,F.health-1):F.health,weight:Math.max(30,(F.weight??50)-.1*w)}))},5e3);return()=>clearInterval(T)},[Qt]),x.useEffect(()=>{const w=setInterval(()=>{if(Math.random()<.1){const T=[{message:a.messages.eventVisitor,effect:()=>Q(G=>({...G,happiness:Math.min(100,G.happiness+20)}))},{message:a.messages.eventGift,effect:()=>Q(G=>({...G,coins:G.coins+15}))},{message:a.messages.eventRain,effect:()=>Q(G=>({...G,happiness:Math.min(100,G.happiness+10)}))}],F=T[Math.floor(Math.random()*T.length)];Lo(F.message),F.effect(),setTimeout(()=>Lo(""),3e3)}},3e4);return()=>clearInterval(w)},[a.messages]),x.useEffect(()=>{const w=new Date().toDateString();if(ht.lastDailyReward!==w){const T=20+ht.streak*5;Qa(T),Mr(!0)}},[ht.lastDailyReward,ht.streak]);const ia=x.useCallback(()=>{Wn(w=>w.map(T=>{if(T.unlocked)return T;let F=T.progress;switch(T.id){case"explorer":F=ht.roomsVisited.size;break;case"wealthy":F=_.coins;break;case"healthy":F=_.health;break}const G=F>=T.target;return G&&!T.unlocked&&(Xi({...T,unlocked:!0,progress:F}),Q(ue=>({...ue,coins:ue.coins+25,xp:ue.xp+50})),u("achievement"),ie.success()),{...T,progress:F,unlocked:G}}))},[ht.roomsVisited,_.coins,_.health]);x.useEffect(()=>{ia()},[ia]),x.useEffect(()=>{const w=Db(_.level);if(_.xp>=w){const T=_.level+1;Q(G=>({...G,level:T,xp:G.xp-w,coins:G.coins+50})),lt(a.messages.levelUp.replace("{level}",String(T))),u("level-up"),u("coin-collect"),ie.heavy();const F=$l(T);F.stage!==Do&&setTimeout(()=>{zo(F),Er(F.stage),u("achievement"),ie.success()},1500)}},[_.xp,_.level,a.messages.levelUp,u,Do]);const lt=w=>{Te(w),setTimeout(()=>Te(""),2e3)},ct=x.useCallback((w,T=1)=>{_r(F=>({...F,quests:F.quests.map(G=>{if(G.type!==w||G.completed)return G;const ue=G.progress+T,de=ue>=G.target;return{...G,progress:ue,completed:de}})}))},[]),rt=x.useCallback((w,T,F)=>{const G={sleep:{it:"Ha dormito nella camera",en:"Slept in the bedroom"},eat:{it:"Ha mangiato in cucina",en:"Ate in the kitchen"},play:{it:"Ha giocato in giardino",en:"Played in the garden"},bath:{it:"Ha fatto il bagno",en:"Took a bath"},explore:{it:`Ha esplorato ${He.it.rooms[T]}`,en:`Explored the ${He.en.rooms[T]}`},shop:{it:"Ha fatto shopping",en:"Went shopping"},pet:{it:"Ha ricevuto coccole",en:"Got cuddles"},brush:{it:" stata spazzolata",en:"Got brushed"},toy:{it:"Ha giocato con un giocattolo",en:"Played with a toy"},train:{it:"Si  allenata",en:"Did some training"},game:{it:"Ha completato un mini-gioco",en:"Completed a mini-game"},treasure:{it:"Ha cercato tesori",en:"Hunted for treasure"},read:{it:"Ha letto un libro",en:"Read a book"}},ue={id:Date.now().toString(),timestamp:Date.now(),type:w,room:T,description:G[w],emoji:Eb[w].emoji,stats:F};ps(de=>({...de,entries:[...de.entries,ue]}))},[]),so=x.useCallback(w=>{if(tn.discoveredPets.includes(w))return;const T=kr.find(G=>G.id===w);if(!T)return;cc(G=>({...G,discoveredPets:[...G.discoveredPets,w],lastDiscovery:new Date().toISOString(),totalDiscovered:G.totalDiscovered+1})),xi(T),u("achievement"),ie.success();const F=T.rarity==="mythic"?50:T.rarity==="legendary"?30:T.rarity==="rare"?15:5;Q(G=>({...G,coins:G.coins+F}))},[tn.discoveredPets,u]),xc=x.useCallback(w=>{const T=kr.filter(G=>G.unlockCondition==="room"&&G.unlockRoom===w);for(const G of T)if(!tn.discoveredPets.includes(G.id)){so(G.id);break}const F=kr.filter(G=>G.unlockCondition==="random"&&G.unlockChance&&!tn.discoveredPets.includes(G.id));for(const G of F)if(Math.random()<(G.unlockChance||0)){so(G.id);break}},[tn.discoveredPets,so]);x.useEffect(()=>{const w=kr.filter(T=>T.unlockCondition==="level"&&T.unlockLevel&&T.unlockLevel<=_.level&&!tn.discoveredPets.includes(T.id));w.length>0&&so(w[0].id)},[_.level,tn.discoveredPets,so]);const vc=x.useCallback(w=>{w.stopPropagation();const T=Date.now();if(T-Ni<300)return;Go(T),ie.double(),ys(!0),setTimeout(()=>ys(!1),500);const F=Math.random();F<.5?u("cat-meow"):F<.8?u("cat-happy"):u("cat-purr"),u("heart-pop"),u("sparkle");const G=T,ue=Array.from({length:3+Math.floor(Math.random()*3)},(je,Fe)=>({id:G+Fe,x:we.x+(Math.random()-.5)*15,y:we.y-10-Math.random()*10}));Wo(je=>[...je,...ue]),setTimeout(()=>{Wo(je=>je.filter(Fe=>!ue.some(xe=>xe.id===Fe.id)))},1500);const de=yr[R],ve=Math.round(2*de.socialBonus);Q(je=>({...je,happiness:Math.min(100,je.happiness+ve)})),io(T);const Me=["","","","","",""];lt(Me[Math.floor(Math.random()*Me.length)]),rt("pet",kt[Y]?.key||"living",{happiness:ve}),ct("pet")},[Ni,we,u,ct,rt,Y]),Ps=x.useCallback(()=>{const w=Date.now(),T=1e4,F=8;if(w-ws<T){u("ui-error"),ie.error(),lt(a.grooming.cooldown);return}hc(w),ie.success(),bs(!0),setTimeout(()=>bs(!1),1200),u("sparkle"),u("ui-success");const G=w,ue=Array.from({length:12},(de,ve)=>({id:G+ve,x:we.x+(Math.random()-.5)*20,y:we.y-5-Math.random()*15,angle:ve/12*360+Math.random()*30}));Ss(de=>[...de,...ue]),setTimeout(()=>{Ss(de=>de.filter(ve=>!ue.some(Me=>Me.id===ve.id)))},2e3),Q(de=>({...de,happiness:Math.min(100,de.happiness+F),health:Math.min(100,de.health+2)})),io(w),rt("brush",kt[Y]?.key||"living",{happiness:F}),lt(a.grooming.brushing)},[ws,we,u,a.grooming,rt,Y]),oa=x.useCallback(()=>{Jn||Ti||Mi||(Fn.current=Date.now(),an.current=setTimeout(()=>{Ns(!0),ie.success(),u("cat-purr"),u("sparkle"),lt(a.cuddle.holding);const w=()=>{if(!Fn.current)return;const F=Date.now(),G=["","","","","","","",""],ue=Array.from({length:2},(de,ve)=>({id:F+ve,x:we.x+(Math.random()-.5)*30,y:we.y-15-Math.random()*20,emoji:G[Math.floor(Math.random()*G.length)]}));Ts(de=>[...de,...ue]),setTimeout(()=>{Ts(de=>de.filter(ve=>!ue.some(Me=>Me.id===ve.id)))},1500)};w();const T=setInterval(()=>{Fn.current?w():clearInterval(T)},400);an.heartInterval=T},500))},[Jn,Ti,Mi,u,a.cuddle,we]),Zn=x.useCallback(()=>{an.current&&(clearTimeout(an.current),an.heartInterval&&clearInterval(an.heartInterval));const w=Fn.current?Date.now()-Fn.current:0;if(Fn.current=null,Jn){Ns(!1),ie.light(),u("sparkle"),u("cat-happy");const T=yr[R],F=Math.min(15,Math.floor(w/1e3)*3+5),G=Math.round(F*T.socialBonus);Q(ue=>({...ue,happiness:Math.min(100,ue.happiness+G)})),lt(a.cuddle.release),rt("pet",kt[Y]?.key||"living",{happiness:G}),ct("pet"),io(Date.now())}},[Jn,u,a.cuddle,R,rt,Y,ct]);x.useEffect(()=>()=>{an.current&&(clearTimeout(an.current),an.heartInterval&&clearInterval(an.heartInterval))},[]);const lo=()=>{const w=new Date().toDateString(),T=new Date(Date.now()-864e5).toDateString(),F=ht.lastDailyReward===T?ht.streak+1:1;Q(G=>({...G,coins:G.coins+Pr})),Rn(G=>({...G,lastDailyReward:w,streak:F})),Mr(!1),u("coin-collect"),u("ui-success"),ie.success()},wc=x.useCallback(w=>{_r(T=>{const F=T.quests.find(G=>G.id===w);return!F||!F.completed||F.claimed?T:(Q(G=>({...G,coins:G.coins+F.reward.coins,xp:G.xp+F.reward.xp})),{...T,quests:T.quests.map(G=>G.id===w?{...G,claimed:!0}:G),completedToday:T.completedToday+1})})},[]),[ra,bc]=x.useState(new Set),Rs=w=>{const T=Math.floor(w/2);Q(F=>({...F,coins:F.coins+T,happiness:Math.min(100,F.happiness+15),xp:F.xp+w})),ie.success(),Gn(!1),rt("game","garden",{happiness:15,coins:T}),ct("game")},aa=(w,T)=>{B||(Z(!0),T(),Rn(F=>({...F,totalActions:F.totalActions+1})),setTimeout(()=>Z(!1),w))},Yo=w=>{const T=kt[Y],F=w==="primary"?5:3;let G=w==="primary"?15:10;const ue=yr[R];let de=1,ve=null;const Me=T.key==="bedroom"?"sleep":T.key==="kitchen"||T.key==="supermarket"?"eat":T.key==="garden"?"play":"default";if(Ge==="hungry"?Me!=="eat"?(de=.5,ve=Ol("hungry",Me,n)):de=1.5:Ge==="sleepy"?Me==="sleep"?de=1.5:Me==="play"&&(de=.3,ve=Ol("sleepy",Me,n)):Ge==="playful"&&(Me==="play"?(de=2,ve=Ol("playful","default",n)):Me==="sleep"&&(de=.5,ve=Ol("playful",Me,n))),G=Math.round(G*de),(T.key==="shop"||T.key==="supermarket")&&_.coins<F){u("ui-error"),ie.error(),lt(a.messages.notEnoughCoins);return}u("ui-click"),ie.medium();const je=Ge==="playful"?.4:.2;if(T.key==="garden"&&w==="primary"&&Math.random()<je){Gn(!0);return}aa(2e3,()=>{let Fe="",xe={xp:_.xp+G};switch(T.key){case"bedroom":Fe=a.messages.sleeping,xe={...xe,energy:Math.min(100,_.energy+40),health:Math.min(100,_.health+10)},Wn(kn=>kn.map(Ze=>Ze.id==="sleepyHead"?{...Ze,progress:Ze.progress+1}:Ze)),u("action-sleep"),xs(!0),vs(Date.now()),setTimeout(()=>{xs(!1),vs(null)},4e3),ct("sleep");break;case"kitchen":Fe=a.messages.eating;const vt=Math.min(100,(_.weight??50)+8);xe={...xe,hunger:Math.min(100,_.hunger+30),health:Math.min(100,_.health+5),weight:vt},vt>80&&Lo(a.weight?.overfed||" Too chubby! Time to play!"),Wn(kn=>kn.map(Ze=>Ze.id==="firstMeal"?{...Ze,progress:1}:Ze)),u("action-eat"),ct("feed");break;case"garden":Fe=a.messages.playing;const po=Math.max(0,(_.weight??50)-5);xe={...xe,happiness:Math.min(100,_.happiness+25),energy:Math.max(0,_.energy-10),coins:_.coins+10,weight:po},Wn(kn=>kn.map(Ze=>Ze.id==="socialite"?{...Ze,progress:Ze.progress+1}:Ze)),u("action-play"),u("coin-collect"),ct("play");break;case"living":Fe=a.messages.watching,xe={...xe,happiness:Math.min(100,_.happiness+15),energy:Math.min(100,_.energy+5)},u("ui-success");break;case"bathroom":Fe=a.messages.bathing,xe={...xe,health:Math.min(100,_.health+15),happiness:Math.min(100,_.happiness+10)},u("action-bath"),ct("bath"),ta(!0);const er=Array.from({length:12},(kn,Ze)=>({id:Date.now()+Ze,x:we.x+(Math.random()-.5)*30,y:we.y+(Math.random()-.5)*25,size:8+Math.random()*16,delay:Math.random()*.5}));Cs(er),setTimeout(()=>{ta(!1),Cs([])},2500);break;case"garage":Fe=a.messages.driving,xe={...xe,happiness:Math.min(100,_.happiness+20),energy:Math.max(0,_.energy-5)},u("action-drive");break;case"shop":Fe=a.messages.shopping,xe={...xe,happiness:Math.min(100,_.happiness+30),coins:_.coins-F},Wn(kn=>kn.map(Ze=>Ze.id==="shopper"?{...Ze,progress:Ze.progress+1}:Ze)),u("action-shop"),ct("shop");break;case"supermarket":Fe=a.messages.buying;const ei=Math.min(100,(_.weight??50)+6);xe={...xe,hunger:Math.min(100,_.hunger+25),coins:_.coins-F,weight:ei},ei>80&&Lo(a.weight?.overfed||" Too chubby! Time to play!"),u("action-shop"),ct("feed");break;case"attic":Fe=a.messages.treasureHunt,Math.random()<.3?(xe={...xe,happiness:Math.min(100,_.happiness+20),coins:_.coins+25},u("coin-collect")):xe={...xe,happiness:Math.min(100,_.happiness+10),xp:_.xp+10},u("ui-success"),ct("treasure");break;case"basement":Fe=a.messages.building,xe={...xe,happiness:Math.min(100,_.happiness+15),energy:Math.max(0,_.energy-10),xp:_.xp+15},u("ui-success");break;case"library":Fe=a.messages.reading,xe={...xe,happiness:Math.min(100,_.happiness+25),health:Math.min(100,_.health+10),xp:_.xp+20},u("ui-success");break}if(ve&&de<1?(lt(ve),setTimeout(()=>lt(Fe),1500)):ve&&de>=1?lt(`${Fe} ${qt(Ge)}`):lt(Fe),xe.happiness&&typeof xe.happiness=="number"){const vt=xe.happiness-_.happiness;vt>0&&(xe.happiness=Math.min(100,_.happiness+Math.round(vt*de)))}if(xe.happiness&&typeof xe.happiness=="number"){const vt=xe.happiness-_.happiness;vt>0&&(xe.happiness=Math.min(100,_.happiness+Math.round(vt*ue.happinessMultiplier)))}if(xe.energy&&typeof xe.energy=="number"){const vt=xe.energy-_.energy;vt<0&&(xe.energy=Math.max(0,_.energy+Math.round(vt*ue.energyMultiplier)))}const Vn={bedroom:"sleep",kitchen:"eat",garden:"play",living:"play",bathroom:"bath",garage:"play",shop:"shop",supermarket:"eat",attic:"treasure",basement:"explore",library:"read"},qs={happiness:xe.happiness&&typeof xe.happiness=="number"?Math.max(0,xe.happiness-_.happiness):0,energy:xe.energy&&typeof xe.energy=="number"?xe.energy-_.energy:0,coins:xe.coins&&typeof xe.coins=="number"?xe.coins-_.coins:0};rt(Vn[T.key],T.key,qs),Q(vt=>({...vt,...xe}))})},Xo=w=>{const T=kt[w],F=T.key,G=!ht.roomsVisited.has(F);Rn(ue=>({...ue,roomsVisited:new Set([...ue.roomsVisited,F])})),J(w),Ee(!1),Ae({x:50,y:60}),u("ui-click"),ie.medium(),_o(ue=>{const de={...ue.visitCounts};de[F]=(de[F]||0)+1;let ve=0,Me=null;for(const[je,Fe]of Object.entries(de))Fe>ve&&(ve=Fe,Me=je);return{visitCounts:de,favoriteRoom:Me,lastUpdated:new Date().toISOString()}}),bc(ue=>{const de=new Set(ue);return de.has(F)||(de.add(F),ct("visit")),de}),G&&(Io({roomKey:F,roomIcon:T.icon}),u("achievement"),ie.success()),setTimeout(()=>xc(F),1500)},Es=()=>{i(n==="it"?"en":"it"),ie.light()},sa=Math.sin(Ve*Math.PI/180)*8,As=w=>{w.preventDefault(),ki(!0);const T="touches"in w?w.touches[0].clientX:w.clientX,F="touches"in w?w.touches[0].clientY:w.clientY;Gr({x:T,y:F})},Ls=w=>{if(!wn)return;w.preventDefault();const T="touches"in w?w.touches[0].clientX:w.clientX,F="touches"in w?w.touches[0].clientY:w.clientY;Gr({x:T,y:F})},la=w=>{if(!wn||!rn){ki(!1);return}const T="changedTouches"in w?w.changedTouches[0].clientX:w.clientX,F="changedTouches"in w?w.changedTouches[0].clientY:w.clientY,G=rn.getBoundingClientRect(),ue=(T-G.left)/G.width*100,de=(F-G.top)/G.height*100,ve=Ft.find(Me=>{const je=Me.hotspot;return ue>=je.x&&ue<=je.x+je.width&&de>=je.y&&de<=je.y+je.height});ve&&Xo(kt.findIndex(Me=>Me.key===ve.key)),ki(!1)},Oe=kt[Y],Is=a.actions[Oe.key],Ft=kt.filter(w=>w.hotspot.width>0),co=kt.filter(w=>w.category==="outside"),ca=`time-${Qt}`,bn=w=>{const T=Math.floor(w/2);Q(F=>({...F,coins:F.coins+T,happiness:Math.min(100,F.happiness+15),xp:F.xp+w})),Ye(null),u("coin-collect"),ie.success(),rt("game","living",{happiness:15,coins:T})},zs=w=>{w==="stars"?(Gn(!0),Ye(null)):Ye(w)},Ds=w=>{bi(!1),ie.medium(),w==="stars"?Gn(!0):Ye(w==="quiz"?"quiz":w)},Ko=w=>{bi(!1),ie.light(),Q(T=>({...T,coins:T.coins+(w.coins||0),xp:T.xp+(w.xp||0),happiness:Math.min(100,T.happiness+(w.happiness||0)),health:Math.min(100,T.health+(w.health||0))}))},kc=w=>{bi(!1),rs(w),Br(!0)},Sc=w=>{C(w),I(!1)},Pi=(w,T)=>{_.coins>=T&&(Q(F=>({...F,coins:F.coins-T})),yn(F=>({...F,unlocked:[...F.unlocked,w]})),u("coin-collect"),u("ui-success"))},ua=(w,T)=>{yn(F=>({...F,equipped:{...F.equipped,[T]:w||null}})),u("ui-click")},uo=(w,T)=>{_.coins>=T&&(Q(F=>({...F,coins:F.coins-T})),Dr(F=>[...F,w]),zr(w),u("coin-collect"),u("ui-success"),ie.success())},da=w=>{zr(w),u("ui-click"),ie.light()},Fs=(w,T)=>{_.coins>=T&&(Q(F=>({...F,coins:F.coins-T})),yn(F=>({...F,unlockedEyeColors:[...F.unlockedEyeColors||["amber"],w],eyeColor:w})),u("coin-collect"),u("ui-success"),ie.success())},Qo=w=>{yn(T=>({...T,eyeColor:w})),u("ui-click"),ie.light()},Ri=(w,T)=>{_.coins>=T&&(Q(F=>({...F,coins:F.coins-T})),fi(F=>({...F,unlockedToys:[...F.unlockedToys,w]})),u("coin-collect"),u("ui-success"),ie.success())},Jo=w=>{const T=yr[R],F=Math.round(w.energyCost*T.energyMultiplier);if(_.energy<F)return;u("action-play"),ie.medium();const G=Math.round(w.happinessBoost*T.happinessMultiplier),ue=Math.max(0,Math.floor(F/3));if(Q(de=>({...de,happiness:Math.min(100,de.happiness+G),energy:Math.max(0,de.energy-F),xp:de.xp+Math.floor(G/2),weight:Math.max(30,(de.weight??50)-ue)})),w.id==="catnip")Vs();else{Ki({toy:w,x:we.x,y:we.y}),setTimeout(()=>Ki(null),2e3);const de=n==="it"?["Che bello! ","Evviva! ","Adoro questo gioco! ","Ancora, ancora! "]:["So fun! ","Yay! ","I love this toy! ","More, more! "];lt(de[Math.floor(Math.random()*de.length)])}rt("toy",kt[Y]?.key||"living",{happiness:G,energy:-F}),ct("toy"),An(!1)},Bs=(w,T)=>{_.coins>=T&&(Q(F=>({...F,coins:F.coins-T})),ts(F=>{const G={...F,inventory:{...F.inventory,[w]:(F.inventory[w]||0)+1}};try{localStorage.setItem("moonlight-treat-shop",JSON.stringify(G))}catch{}return G}),u("coin-collect"),ie.medium(),ct("shop"))},Zo=w=>{if((Bo.inventory[w.id]||0)<=0||_.hunger>=100)return;u("action-eat"),ie.success(),ts(G=>{const ue={...G,inventory:{...G.inventory,[w.id]:Math.max(0,(G.inventory[w.id]||0)-1)},totalFed:G.totalFed+1};try{localStorage.setItem("moonlight-treat-shop",JSON.stringify(ue))}catch{}return ue}),Q(G=>({...G,hunger:Math.min(100,G.hunger+w.hungerRestore),happiness:Math.min(100,G.happiness+w.happinessBoost),weight:Math.min(100,(G.weight??50)+w.weightGain),xp:G.xp+Math.floor(w.happinessBoost/2)}));const F=n==="it"?["Gnam gnam! ","Che buono! ","Delizioso! ","Ancora! "]:["Yum yum! ","So tasty! ","Delicious! ","More! "];lt(F[Math.floor(Math.random()*F.length)]),rt("eat",kt[Y]?.key||"kitchen",{hunger:w.hungerRestore,happiness:w.happinessBoost}),ct("feed")},Vs=x.useCallback(()=>{js(!0),oo(8e3);const T=n==="it"?["MIAOOO!! ","SONO PAZZAAA! ","WHEEE!! ","ZOOM ZOOM! "]:["MEOWWW!! ","I'M CRAZYYY! ","WHEEE!! ","ZOOM ZOOM! "];lt(T[Math.floor(Math.random()*T.length)]),ie.heavy(),u("sparkle"),pa();const F=setInterval(()=>{const ue=20+Math.random()*60,de=30+Math.random()*40;Ae({x:ue,y:de}),Qn(Math.random()>.5?"left":"right"),pa(),ie.light()},400),G=setInterval(()=>{oo(ue=>ue<=100?0:ue-100)},100);setTimeout(()=>{clearInterval(F),clearInterval(G),js(!1),oo(0),ea([]),Ae({x:50,y:50}),lt(a.toyBox.catnipEnded),u("ui-success"),ie.success()},8e3)},[n,u,lt,a.toyBox.catnipEnded]),pa=x.useCallback(()=>{const w=["","","","","","","","","",""],T=Array.from({length:5},(F,G)=>({id:Date.now()+G,x:we.x+(Math.random()-.5)*40,y:we.y+(Math.random()-.5)*30,emoji:w[Math.floor(Math.random()*w.length)]}));ea(F=>[...F,...T].slice(-30)),setTimeout(()=>{ea(F=>F.filter(G=>!T.some(ue=>ue.id===G.id)))},1e3)},[we]),Os=w=>{fi(T=>({...T,favoriteToy:w})),u("ui-click"),ie.light()},$s=w=>{sc(T=>({entries:[...T.entries,w],lastEntryDate:new Date().toDateString()}))},_s=x.useCallback((w,T)=>{if(_.coins<w.cost)return!1;Q(G=>({...G,coins:G.coins-w.cost}));const F={id:Date.now().toString(),giftId:w.id,toCode:T,sentAt:new Date().toISOString()};return lc(G=>{const ue={sentGifts:[...G.sentGifts,F],totalSent:G.totalSent+1};try{localStorage.setItem("moonlight-gift-state",JSON.stringify(ue))}catch{}return ue}),!0},[_.coins]),Us=x.useCallback((w,T)=>{Oo(F=>{const G={...F,learnedTricks:[...F.learnedTricks,w],practiceCount:{...F.practiceCount,[w]:0},lastTrainingDate:new Date().toISOString()};try{localStorage.setItem("moonlight-pet-training",JSON.stringify(G))}catch{}return G}),Q(F=>({...F,xp:F.xp+T,happiness:Math.min(100,F.happiness+10)})),rt("train","living",{happiness:10})},[rt]),Bn=x.useCallback(w=>{Oo(T=>{const F={...T,practiceCount:{...T.practiceCount,[w]:(T.practiceCount[w]||0)+1},lastTrainingDate:new Date().toISOString()};try{localStorage.setItem("moonlight-pet-training",JSON.stringify(F))}catch{}return F}),Q(T=>({...T,xp:T.xp+5}))},[]);if(l)return r.jsx(d5,{lang:n});if(S)return r.jsx(Yb,{lang:n,onConfirm:Sc});if(z)return r.jsx(Gb,{message:z.message,emoji:z.emoji,hoursAway:z.hoursAway,totalVisits:N,lang:n,onClose:()=>O(null)});if(Ka)return r.jsx(Xb,{coins:Pr,streak:ht.streak,lang:n,onClose:lo});if(ae&&j){const w=_b(U);return r.jsx(Qb,{petName:j,age:w,lang:n,onClose:T=>{Q(F=>({...F,coins:F.coins+T,happiness:100})),X(new Date().getFullYear().toString()),ee(!1),u("achievement"),u("coin-collect"),ie.success()}})}if(Ja)return r.jsx(Wb,{evolution:Ja,petName:j||"Luna",lang:n,onClose:()=>zo(null)});if(Za)return r.jsx(Jb,{lang:n,costumes:Le,playerLevel:_.level,playerCoins:_.coins,onUnlock:Pi,onEquip:ua,onUnlockEyeColor:Fs,onSelectEyeColor:Qo,onClose:()=>Ir(!1)});if(es)return r.jsx(Zb,{lang:n,currentColor:Jt,unlockedColors:Fo,playerLevel:_.level,playerCoins:_.coins,onUnlock:uo,onSelect:da,onClose:()=>mi(!1)});if(oc)return r.jsx(e5,{lang:n,toyBox:Zt,playerLevel:_.level,playerCoins:_.coins,playerEnergy:_.energy,onUnlock:Ri,onPlay:Jo,onSetFavorite:Os,onClose:()=>An(!1)});if(rc)return r.jsx(t5,{lang:n,treatShop:Bo,playerLevel:_.level,playerCoins:_.coins,petHunger:_.hunger,onBuy:Bs,onFeed:Zo,onClose:()=>ns(!1)});if(Xn)return r.jsx(Hb,{lang:n,onCollectCoins:w=>{Q(T=>({...T,coins:T.coins+w})),u("coin-collect"),ie.light()},onFeedFish:()=>{Q(w=>({...w,happiness:Math.min(100,w.happiness+5)})),u("ui-success"),ie.medium()},onClose:()=>Fr(!1)});if(as)return r.jsx(n5,{lang:n,petName:j||"Pip",mood:Ge,costumeState:Le,roomBg:Oe.bg,roomKey:Oe.key,playSound:u,onClose:()=>Vr(!1)});if(Or)return r.jsx(i5,{lang:n,petName:j||"Pip",currentMood:Ge,currentStats:{happiness:_.happiness,energy:_.energy,hunger:_.hunger},journalState:_e,onSaveEntry:$s,onClose:()=>$r(!1),playSound:u});if(ss)return r.jsx(o5,{lang:n,questState:xn,onClaimReward:wc,onClose:()=>Qi(!1),playSound:u});if(uc)return r.jsx(r5,{lang:n,petName:j||"Pip",friendCode:Ur.code,onClose:()=>Ji(!1),playSound:u});if(Ht)return r.jsx(a5,{lang:n,petName:j||"Pip",playerCoins:_.coins,giftState:en,onSendGift:_s,onClose:()=>ls(!1),playSound:u});if(Zi)return r.jsx(p5,{lang:n,petName:j||"Luna",playerLevel:_.level,trainingState:cs,onLearnTrick:Us,onPractice:Bn,onClose:()=>qr(!1),playSound:u});if(Vo)return r.jsx(s5,{lang:n,albumState:tn,playerLevel:_.level,onClose:()=>yi(!1),playSound:u});if(Hr)return r.jsx(h5,{lang:n,petName:j||"Luna",stats:_,lastCheckup:us,onCheckup:(w,T)=>{Q(F=>({...F,coins:F.coins+w,xp:F.xp+T})),ds(Date.now());try{localStorage.setItem("moonlight-last-health-checkup",Date.now().toString())}catch{}},onClose:()=>Ie(!1),playSound:u,vaccinationState:on,onUpdateVaccination:eo});if(hs)return r.jsx(m5,{lang:n,petName:j||"Luna",activityLog:xt,totalPlayMinutes:ht.totalPlayMinutes,onClose:()=>$o(!1)});if(dc){const w=a.fortune,T=["luck","love","adventure","play","magic"],F=new Date().toISOString().split("T")[0],G=Je.lastFortuneDate!==F||Je.fortunesToday<3,ue=Je.lastFortuneDate===F?3-Je.fortunesToday:3,de=()=>{if(!G)return;const ve=T[Math.floor(Math.random()*T.length)],Me=w.fortunes[ve],je=Me[Math.floor(Math.random()*Me.length)],Fe=Math.floor(Math.random()*10)+5,xe={lastFortuneDate:F,fortunesToday:(Je.lastFortuneDate===F?Je.fortunesToday:0)+1,lastFortune:{category:ve,text:je}};pc(xe);try{localStorage.setItem("moonlight-fortune-state",JSON.stringify(xe))}catch{}Q(Vn=>({...Vn,coins:Vn.coins+Fe})),u("ui-success"),ie.success()};return r.jsx("div",{className:"modal-overlay fortune-modal",children:r.jsxs(P.div,{className:"modal-content glass-card",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},style:{maxWidth:"380px",width:"90%",padding:"24px",background:"linear-gradient(135deg, rgba(88, 28, 135, 0.95), rgba(126, 34, 206, 0.9))",borderRadius:"24px",border:"3px solid rgba(233, 213, 255, 0.5)",boxShadow:"0 0 40px rgba(168, 85, 247, 0.4), inset 0 0 30px rgba(233, 213, 255, 0.1)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[r.jsx(P.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},style:{fontSize:"4rem",marginBottom:"8px"},children:""}),r.jsx("h2",{style:{fontSize:"1.5rem",color:"#e9d5ff",marginBottom:"4px",textShadow:"0 0 10px rgba(168, 85, 247, 0.8)"},children:w.title}),r.jsx("p",{style:{fontSize:"0.9rem",color:"#c4b5fd",opacity:.9},children:w.subtitle})]}),r.jsxs(P.div,{style:{width:"120px",height:"120px",margin:"0 auto 20px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, rgba(233, 213, 255, 0.4), rgba(168, 85, 247, 0.2), rgba(88, 28, 135, 0.6))",border:"4px solid rgba(233, 213, 255, 0.3)",boxShadow:"0 0 30px rgba(168, 85, 247, 0.5), inset 0 0 20px rgba(233, 213, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},animate:{boxShadow:["0 0 30px rgba(168, 85, 247, 0.5), inset 0 0 20px rgba(233, 213, 255, 0.2)","0 0 50px rgba(168, 85, 247, 0.7), inset 0 0 30px rgba(233, 213, 255, 0.4)","0 0 30px rgba(168, 85, 247, 0.5), inset 0 0 20px rgba(233, 213, 255, 0.2)"]},transition:{duration:2,repeat:1/0},children:[r.jsx(P.div,{style:{position:"absolute",width:"100%",height:"100%",background:"conic-gradient(from 0deg, transparent, rgba(233, 213, 255, 0.3), transparent, rgba(168, 85, 247, 0.3), transparent)",borderRadius:"50%"},animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"}}),Je.lastFortune?r.jsx("span",{style:{fontSize:"2.5rem",zIndex:1},children:w.categories[Je.lastFortune.category]?.split(" ")[0]||""}):r.jsx(P.span,{style:{fontSize:"2rem",zIndex:1},animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:""})]}),Je.lastFortune&&Je.lastFortuneDate===F&&r.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{background:"rgba(233, 213, 255, 0.15)",borderRadius:"16px",padding:"16px",marginBottom:"16px",textAlign:"center",border:"2px solid rgba(233, 213, 255, 0.3)"},children:[r.jsx("div",{style:{fontSize:"0.85rem",color:"#c4b5fd",marginBottom:"8px"},children:w.categories[Je.lastFortune.category]}),r.jsxs("div",{style:{fontSize:"1.1rem",color:"#f3e8ff",fontStyle:"italic",lineHeight:1.4},children:['"',Je.lastFortune.text,'"']})]}),r.jsx("div",{style:{textAlign:"center",marginBottom:"16px",display:"flex",justifyContent:"center",gap:"8px"},children:[0,1,2].map(ve=>r.jsx(P.div,{style:{width:"24px",height:"24px",borderRadius:"50%",background:ve<ue?"linear-gradient(135deg, #a855f7, #7c3aed)":"rgba(100, 100, 100, 0.3)",border:"2px solid rgba(233, 213, 255, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem"},animate:ve<ue?{scale:[1,1.1,1]}:{},transition:{duration:1,repeat:1/0,delay:ve*.2},children:ve<ue?"":""},ve))}),r.jsx("p",{style:{textAlign:"center",fontSize:"0.8rem",color:"#c4b5fd",marginBottom:"16px"},children:w.fortunesLeft.replace("{count}",String(ue))}),r.jsx(P.button,{onClick:de,disabled:!G,style:{width:"100%",padding:"14px",borderRadius:"16px",border:"none",background:G?"linear-gradient(135deg, #a855f7, #7c3aed)":"rgba(100, 100, 100, 0.4)",color:"white",fontSize:"1.1rem",fontWeight:"bold",cursor:G?"pointer":"not-allowed",marginBottom:"12px",boxShadow:G?"0 4px 15px rgba(168, 85, 247, 0.4)":"none"},whileHover:G?{scale:1.02}:{},whileTap:G?{scale:.98}:{},children:G?Je.lastFortune&&Je.lastFortuneDate===F?w.newFortune+" ":w.askFortune:w.dailyLimit}),r.jsx("button",{onClick:()=>Wr(!1),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid rgba(233, 213, 255, 0.3)",background:"transparent",color:"#e9d5ff",fontSize:"1rem",cursor:"pointer"},children:w.close})]})})}if(ms){const w=a.funFacts,T=w.facts,F=()=>{const ve=T.map((Me,je)=>je).filter(Me=>!Gt.includes(Me));return ve.length>0?ve[Math.floor(Math.random()*ve.length)]:Math.floor(Math.random()*T.length)};if(Dn===null){const ve=F();if(Kn(ve),!Gt.includes(ve)){const Me=[...Gt,ve];fs(Me);try{localStorage.setItem("moonlight-seen-facts",JSON.stringify(Me))}catch{}}}const G=Dn!==null?T[Dn]:T[0],ue=w.category[G.category]||G.category,de=()=>{const ve=F();if(Kn(ve),!Gt.includes(ve)){const Me=[...Gt,ve];fs(Me);try{localStorage.setItem("moonlight-seen-facts",JSON.stringify(Me))}catch{}}u("ui-click"),ie.light()};return r.jsx("div",{className:"modal-overlay fun-facts-modal",children:r.jsxs(P.div,{className:"modal-content glass-card",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},style:{maxWidth:"380px",width:"90%",padding:"24px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(37, 99, 235, 0.9))",borderRadius:"24px",border:"3px solid rgba(191, 219, 254, 0.5)",boxShadow:"0 0 40px rgba(59, 130, 246, 0.4), inset 0 0 30px rgba(191, 219, 254, 0.1)"},children:[r.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[r.jsx(P.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},style:{fontSize:"3.5rem",marginBottom:"8px"},children:""}),r.jsx("h2",{style:{fontSize:"1.5rem",color:"#e0f2fe",marginBottom:"4px",textShadow:"0 0 10px rgba(59, 130, 246, 0.8)"},children:w.title}),r.jsx("p",{style:{fontSize:"0.9rem",color:"#bfdbfe",opacity:.9},children:w.subtitle})]}),r.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"inline-block",background:"rgba(255, 255, 255, 0.2)",borderRadius:"20px",padding:"6px 14px",fontSize:"0.85rem",color:"#e0f2fe",marginBottom:"16px",textAlign:"center",width:"100%"},children:ue}),r.jsxs(P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{type:"spring",damping:20},style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",padding:"24px",marginBottom:"20px",textAlign:"center",border:"2px solid rgba(191, 219, 254, 0.3)",minHeight:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[r.jsx(P.span,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},style:{fontSize:"2.5rem",marginBottom:"12px"},children:G.emoji}),r.jsx("p",{style:{fontSize:"1.1rem",color:"white",lineHeight:"1.5",fontWeight:"500"},children:G.text})]},Dn),r.jsxs("div",{style:{textAlign:"center",marginBottom:"16px",color:"#bfdbfe",fontSize:"0.85rem"},children:[w.learned.replace("{count}",String(Gt.length))," (",Gt.length,"/",T.length,")"]}),r.jsx("div",{style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",height:"8px",marginBottom:"20px",overflow:"hidden"},children:r.jsx(P.div,{initial:{width:0},animate:{width:`${Gt.length/T.length*100}%`},transition:{duration:.5},style:{height:"100%",background:"linear-gradient(90deg, #fbbf24, #f59e0b)",borderRadius:"10px"}})}),r.jsxs(P.button,{onClick:de,style:{width:"100%",padding:"14px",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #fbbf24, #f59e0b)",color:"white",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",marginBottom:"12px",boxShadow:"0 4px 15px rgba(251, 191, 36, 0.4)"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[w.nextFact," "]}),r.jsx("button",{onClick:()=>{vi(!1),Kn(null)},style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid rgba(191, 219, 254, 0.3)",background:"transparent",color:"#e0f2fe",fontSize:"1rem",cursor:"pointer"},children:w.close}),["","","",""].map((ve,Me)=>r.jsx(P.span,{animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:1.5,delay:Me*.3,repeat:1/0},style:{position:"absolute",left:`${15+Me*25}%`,bottom:"10%",fontSize:"1.2rem"},children:ve},Me))]})})}return In?r.jsx(f5,{lang:n,petName:j||"Luna",favoriteRoomState:Wt,onClose:()=>nn(!1)}):Rr?r.jsx(qb,{onComplete:Rs,lang:n}):Dt==="hub"?r.jsx(ob,{lang:n,onSelectGame:zs,onBack:()=>Ye(null)}):Dt==="puzzle"?r.jsx(ab,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="drawing"?r.jsx(cb,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="memory"?r.jsx(db,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="bubbles"?r.jsx(pb,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="simon"?r.jsx(mb,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="catch"?r.jsx(fb,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="gardening"?r.jsx(yb,{onClose:()=>Ye(null),onReward:w=>{Q(T=>({...T,coins:T.coins+w}))}}):Dt==="cooking"?r.jsx(xb,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="quiz"?r.jsx(wb,{lang:n,onComplete:bn,onBack:()=>Ye(null)}):Dt==="library"?r.jsx(Tb,{lang:n,coins:_.coins,onUnlockBook:(w,T)=>{Q(F=>({...F,coins:F.coins-T})),Lr(F=>[...F,w])},onBack:()=>Ye(null),unlockedBooks:Ar,onReward:w=>{Ko(w),Wn(T=>T.map(F=>F.id==="bookworm"?{...F,progress:F.progress+1}:F))}}):Pe?r.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},transition:{duration:.3,ease:"easeInOut"},className:`full-page-bg map-view ${ca} ${gi?"night-vision":""}`,children:[gn&&r.jsx(Nf,{achievement:gn,lang:n,onClose:()=>Xi(null)}),En&&r.jsx("div",{className:"event-toast glass-card",children:En}),r.jsx(Ne,{children:Yn&&r.jsx(Tf,{roomKey:Yn.roomKey,roomIcon:Yn.roomIcon,lang:n,onClose:()=>Io(null)})}),r.jsx(Ne,{children:Ln&&r.jsx(Pf,{pet:Ln,lang:n,onClose:()=>xi(null)})}),r.jsxs("div",{className:"house-map-container",ref:Yr,onMouseMove:Ls,onMouseUp:la,onMouseLeave:la,onTouchMove:Ls,onTouchEnd:la,children:[r.jsx("img",{src:`${ot}assets/backgrounds/house-map.jpg`,alt:"Moonlight House",className:"house-map-image"}),Ft.map(w=>r.jsx("button",{className:`room-hotspot ${wn?"drag-target":""}`,onClick:()=>!wn&&Xo(kt.findIndex(T=>T.key===w.key)),style:{left:`${w.hotspot.x}%`,top:`${w.hotspot.y}%`,width:`${w.hotspot.width}%`,height:`${w.hotspot.height}%`},title:a.rooms[w.key],children:r.jsxs("span",{className:"hotspot-label glass-card",children:[w.icon," ",a.rooms[w.key]]})},w.key)),(()=>{const w=$l(_.level);return r.jsxs("div",{className:`luna-map ${wn?"dragging":""} evolution-${w.stage}`,style:wn&&rn?{position:"fixed",left:`${qo.x}px`,top:`${qo.y}px`,transform:"translate(-50%, -50%) scale(1.2)",zIndex:100}:{left:`${kt[Y].lunaPos.x}%`,top:`${kt[Y].lunaPos.y}%`,transform:`translate(-50%, -50%) translateY(${sa}px) scale(${w.scale})`},onMouseDown:As,onTouchStart:As,children:[r.jsx("img",{src:`${ot}assets/character/luna-happy.jpg`,alt:j||"Pip",className:`luna-map-img mood-${Ge} ${Jt==="rainbow"?"fur-rainbow":""}`,style:Jt!=="rainbow"?{filter:Zl.find(T=>T.id===Jt)?.cssFilter||"none"}:{}}),Le.equipped.hat&&r.jsx("span",{className:"luna-map-costume hat",style:{top:"-15%"},children:Be.find(T=>T.id===Le.equipped.hat)?.icon}),Le.equipped.accessory&&r.jsx("span",{className:"luna-map-costume accessory",children:Be.find(T=>T.id===Le.equipped.accessory)?.icon}),Le.equipped.collar&&r.jsx("span",{className:"luna-map-costume collar",style:{top:"25%"},children:Be.find(T=>T.id===Le.equipped.collar)?.icon}),(()=>{const T=Po.find(F=>F.id===Le.eyeColor)||Po[0];return r.jsx("div",{className:"luna-map-eye-glow",style:{position:"absolute",top:"38%",left:"50%",transform:"translateX(-50%)",width:"20px",height:"8px",background:T.color,borderRadius:"50%",boxShadow:`0 0 8px ${T.glowColor}, 0 0 16px ${T.glowColor}`,zIndex:5,pointerEvents:"none"}})})(),r.jsx("div",{className:"luna-map-glow",style:{boxShadow:`0 0 20px ${w.glowColor}`}}),r.jsx("span",{className:"luna-evolution-badge",children:w.emoji}),r.jsx("span",{className:"luna-mood-indicator",children:qt(Ge)}),j&&r.jsxs("span",{className:"luna-name-label",children:[j," ",qt(Ge)]})]})})(),!wn&&r.jsx("div",{className:"drag-hint",children:n==="it"?" Trascina Moonlight!":" Drag Moonlight!"})]}),r.jsxs("div",{className:"map-header",children:[r.jsxs("div",{className:"header glass-card",children:[r.jsx("h1",{className:"title",children:a.title}),j&&r.jsxs("button",{className:"pet-name-badge clickable",onClick:()=>{V(!0),u("ui-click"),ie.light()},title:a.petRename.clickToRename,children:[" ",j," ",qt(Ge)," "]}),r.jsxs("div",{className:"header-right simple",children:[r.jsx("span",{className:"time-indicator",children:a.timeOfDay[Qt]}),r.jsx("button",{className:"wardrobe-btn",onClick:()=>Ir(!0),title:a.wardrobe.title,children:""}),r.jsx("button",{className:"fur-color-btn",onClick:()=>{mi(!0),ie.light()},title:a.furColor.title,children:""}),r.jsx("button",{className:"toybox-btn",onClick:()=>{An(!0),ie.light()},title:a.toyBox.title,children:""}),r.jsx("button",{className:"treatshop-btn",onClick:()=>{ns(!0),u("ui-click"),ie.light()},title:a.treatShop.title,style:{background:"linear-gradient(135deg, rgba(251,191,36,0.3), rgba(245,158,11,0.2))",border:"2px solid #f59e0b",borderRadius:"10px",padding:"4px 8px",cursor:"pointer",fontSize:"1rem"},children:""}),r.jsx("button",{className:"training-btn",onClick:()=>{qr(!0),u("ui-click"),ie.medium()},title:a.petTraining.title,children:""}),r.jsxs("button",{className:"quest-btn",onClick:()=>{Qi(!0),ie.light()},title:a.dailyQuests.title,children:["",xn.quests.some(w=>w.completed&&!w.claimed)&&r.jsx("span",{className:"quest-notification",children:"!"})]}),r.jsx("button",{className:"pet-album-btn",onClick:()=>{yi(!0),u("ui-click"),ie.light()},title:a.petAlbum.title,children:""}),r.jsx("button",{className:"friend-code-btn",onClick:()=>{Ji(!0),u("ui-click"),ie.light()},title:a.friendCode.title,children:""}),r.jsx("button",{className:"health-checkup-btn",onClick:()=>{Ie(!0),u("ui-click"),ie.medium()},title:a.healthCheckup.title,style:{background:_.health<40||_.hunger<30?"linear-gradient(135deg, rgba(248,113,113,0.4), rgba(239,68,68,0.3))":"linear-gradient(135deg, rgba(135,206,235,0.3), rgba(100,200,255,0.2))",border:_.health<40||_.hunger<30?"2px solid #ef4444":"2px solid #87ceeb",borderRadius:"10px",padding:"4px 8px",cursor:"pointer",fontSize:"1rem",animation:_.health<40||_.hunger<30?"pulse 1.5s infinite":"none"},children:""}),r.jsxs("button",{className:"activity-log-btn",onClick:()=>{$o(!0),u("ui-click"),ie.medium()},title:a.activityLog.title,style:{background:xt.entries.length>0?"linear-gradient(135deg, rgba(167,139,250,0.3), rgba(129,140,248,0.2))":"linear-gradient(135deg, rgba(200,200,200,0.3), rgba(180,180,180,0.2))",border:xt.entries.length>0?"2px solid #a78bfa":"2px solid #ccc",borderRadius:"10px",padding:"4px 8px",cursor:"pointer",fontSize:"1rem",position:"relative"},children:["",xt.entries.length>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#a78bfa",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:xt.entries.length>9?"9+":xt.entries.length})]}),r.jsxs("button",{className:"favorite-room-btn",onClick:()=>{nn(!0),u("ui-click"),ie.medium()},title:a.favoriteRoom.title,style:{background:Wt.favoriteRoom?"linear-gradient(135deg, rgba(251,191,36,0.3), rgba(245,158,11,0.2))":"linear-gradient(135deg, rgba(200,200,200,0.3), rgba(180,180,180,0.2))",border:Wt.favoriteRoom?"2px solid #fbbf24":"2px solid #ccc",borderRadius:"10px",padding:"4px 8px",cursor:"pointer",fontSize:"1rem",position:"relative"},children:["",Wt.favoriteRoom&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#fbbf24",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:""})]}),r.jsxs("button",{className:"fortune-btn",onClick:()=>{Wr(!0),u("ui-click"),ie.medium()},title:a.fortune.title,style:{background:"linear-gradient(135deg, rgba(168,85,247,0.4), rgba(126,34,206,0.3))",border:"2px solid #a855f7",borderRadius:"10px",padding:"4px 8px",cursor:"pointer",fontSize:"1rem",position:"relative",boxShadow:"0 0 10px rgba(168,85,247,0.3)"},children:["",(()=>{const w=new Date().toISOString().split("T")[0],T=Je.lastFortuneDate===w?3-Je.fortunesToday:3;return T>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#a855f7",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:T})})()]}),r.jsxs("button",{className:"fun-facts-btn",onClick:()=>{vi(!0),u("ui-click"),ie.medium()},title:a.funFacts.title,style:{background:"linear-gradient(135deg, rgba(59,130,246,0.4), rgba(37,99,235,0.3))",border:"2px solid #3b82f6",borderRadius:"10px",padding:"4px 8px",cursor:"pointer",fontSize:"1rem",position:"relative",boxShadow:"0 0 10px rgba(59,130,246,0.3)"},children:["",Gt.length<a.funFacts.facts.length&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#3b82f6",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"!"})]}),r.jsx("button",{className:`night-vision-toggle ${gi?"active":""}`,onClick:()=>{ac(!gi),u("ui-click"),ie.medium()},title:gi?n==="it"?"Visione notturna ON":"Night Vision ON":n==="it"?"Visione notturna OFF":"Night Vision OFF",children:gi?"":""}),r.jsx("button",{className:"sound-toggle",onClick:()=>{m(),u("ui-click"),ie.light()},title:f?"Unmute":"Mute",children:f?"":""}),r.jsx("button",{className:"lang-toggle",onClick:Es,children:n==="it"?"":""}),r.jsxs("div",{className:"coin-container",children:[r.jsx("span",{className:"coin-icon",children:""}),r.jsx("span",{className:"coin-text",children:_.coins})]})]})]}),r.jsxs("div",{className:"mini-stats glass-card simple",children:[r.jsx("span",{className:"mood-display big",children:qt(Ge)}),r.jsx("span",{className:_.hunger<30?"low pulse":"",children:""}),r.jsx("span",{className:_.happiness<30?"low pulse":"",children:""})]}),r.jsxs("div",{className:"personality-badge glass-card simple",title:yr[R].description[n],children:[r.jsx("span",{className:"personality-emoji",children:yr[R].emoji}),r.jsx("span",{className:"personality-label",children:a.personality[R]})]}),r.jsx(Rf,{mood:Ge,stats:_,lang:n,isExpanded:zn,onToggle:()=>vn(!zn),petName:j||"Luna"}),r.jsx(Mf,{weather:hi,isLoading:Eo,lang:n}),r.jsx(u5,{lang:n,playedDates:le,petName:j||"Luna",streak:ht.streak})]}),r.jsxs("div",{className:"outside-bar glass-card",children:[r.jsxs("span",{className:"outside-label",children:[" ",n==="it"?"Esci":"Go out",":"]}),co.map(w=>r.jsxs("button",{className:"outside-btn",onClick:()=>Xo(kt.findIndex(T=>T.key===w.key)),children:[w.icon," ",a.rooms[w.key]]},w.key)),r.jsxs("button",{className:"outside-btn games-btn",onClick:()=>{Ye("hub"),ie.medium()},children:[" ",n==="it"?"Giochi":"Games"]})]}),r.jsx("p",{className:"footer map-footer",children:a.footer})]},"map-view"):r.jsxs(P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3,ease:"easeOut"},className:`full-page-bg room-view ${ca} room-${Oe.key} ${gi?"night-vision":""}`,style:{backgroundImage:`url(${Oe.bg})`},onClick:Ms,ref:ro,tabIndex:0,children:[r.jsx("div",{className:"overlay"}),r.jsx("div",{className:"room-vignette"}),r.jsx("div",{className:"room-depth-shadow"}),r.jsx("div",{className:"dust-particles",children:[...Array(8)].map((w,T)=>r.jsx("div",{className:"dust-mote"},T))}),Oe.key==="bedroom"&&r.jsx("div",{className:"room-ambient room-bedroom"}),Oe.key==="kitchen"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"room-ambient room-kitchen"}),r.jsx("div",{className:"steam-effect"}),r.jsx(l5,{isEating:B,lang:n})]}),Oe.key==="garden"&&r.jsx("div",{className:"fireflies room-garden",children:[...Array(6)].map((w,T)=>r.jsx("div",{className:"firefly"},T))}),Oe.key==="bathroom"&&r.jsx("div",{className:"steam-overlay room-bathroom"}),Oe.key==="living"&&r.jsx("div",{className:"tv-glow room-living"}),Oe.key==="garage"&&r.jsx("div",{className:"industrial-light room-garage"}),Oe.key==="shop"&&r.jsx("div",{className:"spotlights room-shop"}),Oe.key==="supermarket"&&r.jsx("div",{className:"fluorescent room-supermarket"}),Oe.key==="attic"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"attic-ambiance room-attic"}),r.jsx("div",{className:"cobweb-effect room-attic"})]}),Oe.key==="basement"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"basement-ambiance room-basement"}),r.jsx("div",{className:"workshop-light room-basement"}),r.jsx("div",{className:"pipes-ambiance room-basement"})]}),r.jsx("div",{className:"window-reflection"}),r.jsx(Kb,{timeOfDay:Qt,room:Oe.key}),gn&&r.jsx(Nf,{achievement:gn,lang:n,onClose:()=>Xi(null)}),En&&r.jsx("div",{className:"event-toast glass-card",children:En}),r.jsx(Ne,{children:Yn&&r.jsx(Tf,{roomKey:Yn.roomKey,roomIcon:Yn.roomIcon,lang:n,onClose:()=>Io(null)})}),r.jsx(Sb,{room:Oe.key,lang:n,stats:{level:_.level,coins:_.coins},onGameStart:Ds,onReward:Ko,onStory:kc,playSound:u}),r.jsx(Ne,{children:is&&r.jsx(P.div,{className:"story-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Br(!1),children:r.jsxs(P.div,{className:"story-modal",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},onClick:w=>w.stopPropagation(),children:[r.jsx("p",{className:"story-text",children:os}),r.jsx("button",{className:"story-close-btn",onClick:()=>Br(!1),children:n==="it"?"Continua":"Continue"})]})})}),wi&&r.jsxs("div",{className:"objects-hint",children:[r.jsx("span",{className:"objects-hint-icon",children:""}),n==="it"?"Tocca gli oggetti!":"Tap the objects!"]}),Uo&&!Pe&&r.jsx("div",{className:"movement-hint",children:n==="it"?r.jsxs(r.Fragment,{children:["Muovi Luna: ",r.jsx("kbd",{children:"WASD"})," o tocca!"]}):r.jsxs(r.Fragment,{children:["Move Luna: ",r.jsx("kbd",{children:"WASD"})," or tap!"]})}),r.jsx("div",{className:"particles",children:[...Array(8)].map((w,T)=>r.jsx("div",{className:"particle",style:{left:`${10+T*12}%`,animationDelay:`${T*.5}s`,animationDuration:`${3+T%3}s`}},T))}),r.jsxs("div",{className:"header glass-card",children:[r.jsx("button",{className:"back-btn",onClick:()=>{Ee(!0),ie.light()},children:" "}),r.jsxs("h1",{className:"title room-title",children:[Oe.icon," ",a.rooms[Oe.key]]}),r.jsxs("div",{className:"header-right",children:[j&&r.jsxs("button",{className:"pet-name-badge small clickable",onClick:()=>{V(!0),u("ui-click"),ie.light()},title:a.petRename.clickToRename,children:[" ",j," ",qt(Ge)," "]}),r.jsx("button",{className:"photo-mode-btn",onClick:()=>{Vr(!0),u("ui-click"),ie.medium()},title:n==="it"?"Modalit Foto":"Photo Mode",children:""}),r.jsx("button",{className:"mood-journal-btn",onClick:()=>{$r(!0),u("ui-click"),ie.medium()},title:n==="it"?"Diario dell'Umore":"Mood Journal",children:""}),r.jsx("button",{className:"pet-album-btn",onClick:()=>{yi(!0),u("ui-click"),ie.medium()},title:a.petAlbum.title,children:""}),r.jsx("button",{className:"friend-code-btn",onClick:()=>{Ji(!0),u("ui-click"),ie.medium()},title:a.friendCode.title,children:""}),r.jsx("button",{className:"gift-btn",onClick:()=>{ls(!0),u("ui-click"),ie.medium()},title:a.giftSending.title,children:""}),r.jsx("button",{className:"health-checkup-btn",onClick:()=>{Ie(!0),u("ui-click"),ie.medium()},title:a.healthCheckup.title,style:{background:"linear-gradient(135deg, rgba(135,206,235,0.3), rgba(100,200,255,0.2))",border:"2px solid #87ceeb",borderRadius:"12px",padding:"6px 10px",cursor:"pointer",fontSize:"1.2rem",transition:"all 0.2s ease"},children:""}),r.jsxs("button",{className:"activity-log-btn",onClick:()=>{$o(!0),u("ui-click"),ie.medium()},title:a.activityLog.title,style:{background:xt.entries.length>0?"linear-gradient(135deg, rgba(167,139,250,0.3), rgba(129,140,248,0.2))":"linear-gradient(135deg, rgba(200,200,200,0.3), rgba(180,180,180,0.2))",border:xt.entries.length>0?"2px solid #a78bfa":"2px solid #ccc",borderRadius:"12px",padding:"6px 10px",cursor:"pointer",fontSize:"1.2rem",transition:"all 0.2s ease",position:"relative"},children:["",xt.entries.length>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#a78bfa",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:xt.entries.length>9?"9+":xt.entries.length})]}),r.jsxs("button",{className:"favorite-room-btn",onClick:()=>{nn(!0),u("ui-click"),ie.medium()},title:a.favoriteRoom.title,style:{background:Wt.favoriteRoom?"linear-gradient(135deg, rgba(251,191,36,0.3), rgba(245,158,11,0.2))":"linear-gradient(135deg, rgba(200,200,200,0.3), rgba(180,180,180,0.2))",border:Wt.favoriteRoom?"2px solid #fbbf24":"2px solid #ccc",borderRadius:"12px",padding:"6px 10px",cursor:"pointer",fontSize:"1.2rem",transition:"all 0.2s ease",position:"relative"},children:["",Wt.favoriteRoom&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#fbbf24",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:""})]}),r.jsxs("button",{className:"fun-facts-btn",onClick:()=>{vi(!0),u("ui-click"),ie.medium()},title:a.funFacts.title,style:{background:"linear-gradient(135deg, rgba(59,130,246,0.3), rgba(37,99,235,0.2))",border:"2px solid #3b82f6",borderRadius:"12px",padding:"6px 10px",cursor:"pointer",fontSize:"1.2rem",transition:"all 0.2s ease",position:"relative"},children:["",Gt.length<a.funFacts.facts.length&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#3b82f6",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"0.65rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"!"})]}),r.jsxs("div",{className:"level-badge glass-card",children:["Lv.",_.level]}),r.jsxs("div",{className:"coin-container",children:[r.jsx("span",{className:"coin-icon",children:""}),r.jsx("span",{className:"coin-text",children:_.coins})]})]})]}),r.jsxs("div",{className:"stat-bars glass-card simple",children:[r.jsxs("div",{className:"stat-bar-item",children:[r.jsx("span",{className:"stat-bar-icon",title:a.stats.hunger,children:""}),r.jsx("div",{className:"stat-bar-track",children:r.jsx("div",{className:`stat-bar-fill hunger ${_.hunger<30?"low pulse":""}`,style:{width:`${_.hunger}%`}})})]}),r.jsxs("div",{className:"stat-bar-item",children:[r.jsx("span",{className:"stat-bar-icon",title:a.stats.happiness,children:""}),r.jsx("div",{className:"stat-bar-track",children:r.jsx("div",{className:`stat-bar-fill happiness ${_.happiness<30?"low pulse":""}`,style:{width:`${_.happiness}%`}})})]}),r.jsxs("div",{className:"stat-bar-item",title:a.stats.weight+": "+((_.weight??50)>80?a.weight.overfed:(_.weight??50)>60?a.weight.gaining:a.weight.healthy),children:[r.jsx("span",{className:"stat-bar-icon",style:{filter:(_.weight??50)>80?"none":"grayscale(0.3)"},children:(_.weight??50)>80?"":(_.weight??50)>60?"":""}),r.jsx("div",{className:"stat-bar-track",children:r.jsx("div",{className:`stat-bar-fill weight ${(_.weight??50)>80?"high pulse":""}`,style:{width:`${_.weight??50}%`,background:(_.weight??50)>80?"linear-gradient(90deg, #f59e0b, #ef4444)":(_.weight??50)>60?"linear-gradient(90deg, #84cc16, #f59e0b)":"linear-gradient(90deg, #22c55e, #84cc16)"}})})]}),r.jsx(Mf,{weather:hi,isLoading:Eo,lang:n,compact:!0}),r.jsx("div",{className:"mood-display",children:qt(Ge)}),r.jsx(Rf,{mood:Ge,stats:_,lang:n,isExpanded:zn,onToggle:()=>vn(!zn),petName:j||"Luna"}),(()=>{const w=Fb(_);return r.jsxs(P.div,{className:`comfort-indicator comfort-${w.level}`,title:`${a.stats.comfort}: ${w.label[n]} (${w.score}%)`,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:[r.jsx(P.span,{className:"comfort-emoji",animate:w.level==="blissful"?{scale:[1,1.15,1],rotate:[0,-5,5,0]}:w.level==="distressed"?{y:[0,-2,0],opacity:[1,.7,1]}:{},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:w.emoji}),r.jsx("div",{className:"comfort-bar-track",children:r.jsx(P.div,{className:"comfort-bar-fill",style:{backgroundColor:w.color},initial:{width:0},animate:{width:`${w.score}%`},transition:{duration:.5,ease:"easeOut"}})})]})})()]}),r.jsx(jb,{isMoving:jt,x:we.x,y:we.y,facingDirection:Si}),r.jsx(Nb,{isMoving:jt,x:we.x,y:we.y,facingDirection:Si,surfaceType:ao==="garden"?"grass":ao==="bathroom"?"water":ao==="basement"||ao==="garage"?"stone":"floor"}),(()=>{const w=$l(_.level);return r.jsxs(P.div,{className:`luna-container ${jt?"walking":""} ${Si==="left"?"facing-left":""} ${Qr?"sleeping":""} ${Ti?"catnip-crazy":""} ${Mi?"bathing":""} ${Jn?"cuddling":""} evolution-${w.stage}`,style:{left:`${we.x}%`,top:`${we.y}%`,transform:`translate(-50%, -50%) translateY(${jt?0:sa}px) scale(${w.scale})`,transition:Ti?"left 0.2s ease-out, top 0.2s ease-out":jt?"none":"transform 0.3s ease-out",cursor:"pointer"},onClick:vc,onMouseDown:oa,onMouseUp:Zn,onMouseLeave:Zn,onTouchStart:oa,onTouchEnd:Zn,title:n==="it"?"Accarezza Luna! (Tieni premuto per abbracciarla)":"Pet Luna! (Hold to cuddle her)",animate:Ti?{scale:[w.scale,w.scale*1.3,w.scale*.9,w.scale*1.2,w.scale],rotate:[-15,15,-20,20,-10,10,0],y:[0,-20,5,-15,0],transition:{duration:.4,ease:"easeInOut",repeat:1/0,repeatType:"mirror"}}:Kr?{scale:[w.scale,w.scale*1.03,w.scale,w.scale*1.03,w.scale],rotate:[0,-1.5,0,1.5,0],transition:{duration:.4,ease:"easeInOut",times:[0,.25,.5,.75,1]}}:Zr?{scale:[w.scale,w.scale*1.05,w.scale,w.scale*1.05,w.scale],rotate:[0,-3,0,3,0,-2,0,2,0],y:[0,-5,0,-3,0],transition:{duration:1,ease:"easeInOut"}}:Mi?{scale:[w.scale,w.scale*.92,w.scale*1.08,w.scale*.95,w.scale*1.05,w.scale],rotate:[0,-5,5,-4,4,0],y:[0,8,-12,5,-8,0],transition:{duration:.6,ease:"easeInOut",repeat:1/0,repeatType:"mirror"}}:Jn?{scale:[w.scale*1.15,w.scale*1.18,w.scale*1.15],rotate:[-3,3,-3],y:[-20,-25,-20],transition:{duration:1.2,ease:"easeInOut",repeat:1/0,repeatType:"mirror"}}:{scale:w.scale,rotate:0},children:[be&&r.jsx("div",{className:"bubble glass-card",children:r.jsx("span",{className:"bubble-text",children:be})}),r.jsx("img",{src:`${ot}assets/character/luna-happy.jpg`,alt:"Moonlight",className:`luna-img mood-${Ge} ${B?"acting":""} ${jt?"walking":""} ${Jt==="rainbow"?"fur-rainbow":""}`,style:Jt!=="rainbow"?{filter:Zl.find(T=>T.id===Jt)?.cssFilter||"none"}:{}}),(()=>{const T=Po.find(F=>F.id===Le.eyeColor)||Po[0];return r.jsx(P.div,{className:"luna-eye-glow",animate:{opacity:[.7,1,.7],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",top:"35%",left:"50%",transform:"translateX(-50%)",width:"30px",height:"12px",background:(T.id==="rainbow",T.color),borderRadius:"50%",boxShadow:`0 0 10px ${T.glowColor}, 0 0 20px ${T.glowColor}, 0 0 30px ${T.glowColor}`,zIndex:5,pointerEvents:"none"}})})(),Le.equipped.outfit&&r.jsx("span",{className:"costume-overlay costume-outfit",style:{position:"absolute",left:"50%",top:`${50+(Be.find(T=>T.id===Le.equipped.outfit)?.offset?.y??20)}%`,transform:"translateX(-50%)",fontSize:"1.8rem",zIndex:2,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",pointerEvents:"none"},children:Be.find(T=>T.id===Le.equipped.outfit)?.icon}),Le.equipped.hat&&r.jsx("span",{className:"costume-overlay costume-hat",style:{position:"absolute",left:`${50+(Be.find(T=>T.id===Le.equipped.hat)?.offset?.x??0)}%`,top:`${Be.find(T=>T.id===Le.equipped.hat)?.offset?.y??-25}%`,transform:"translateX(-50%)",fontSize:"2rem",zIndex:10,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",pointerEvents:"none"},children:Be.find(T=>T.id===Le.equipped.hat)?.icon}),Le.equipped.accessory&&r.jsx("span",{className:"costume-overlay costume-accessory",style:{position:"absolute",left:`${50+(Be.find(T=>T.id===Le.equipped.accessory)?.offset?.x??0)}%`,top:`${50+(Be.find(T=>T.id===Le.equipped.accessory)?.offset?.y??0)}%`,transform:"translateX(-50%)",fontSize:"1.5rem",zIndex:9,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",pointerEvents:"none"},children:Be.find(T=>T.id===Le.equipped.accessory)?.icon}),Le.equipped.collar&&r.jsx("span",{className:"costume-overlay costume-collar",style:{position:"absolute",left:`${50+(Be.find(T=>T.id===Le.equipped.collar)?.offset?.x??0)}%`,top:`${50+(Be.find(T=>T.id===Le.equipped.collar)?.offset?.y??12)}%`,transform:"translateX(-50%)",fontSize:"1.3rem",zIndex:8,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",pointerEvents:"none"},children:Be.find(T=>T.id===Le.equipped.collar)?.icon}),r.jsx("div",{className:"luna-glow",style:{boxShadow:`0 0 30px ${w.glowColor}`}}),r.jsx("span",{className:"luna-evolution-badge room-badge",children:w.emoji}),r.jsx("span",{className:"luna-mood-badge",children:qt(Ge)}),r.jsx(Ne,{children:Kr&&r.jsx(P.span,{initial:{opacity:0,scale:.5,y:-10},animate:{opacity:1,scale:1,y:-25},exit:{opacity:0,scale:.5},transition:{duration:.2},style:{position:"absolute",top:"-5%",left:"50%",transform:"translateX(-50%)",fontSize:"1.5rem",zIndex:101,pointerEvents:"none"},children:""})}),r.jsx(Ne,{children:Zr&&r.jsx(P.span,{initial:{opacity:0,scale:.5,y:-10},animate:{opacity:1,scale:1.2,y:-30},exit:{opacity:0,scale:.5},transition:{duration:.3},style:{position:"absolute",top:"-10%",left:"50%",transform:"translateX(-50%)",fontSize:"1.8rem",zIndex:101,pointerEvents:"none"},children:""})}),r.jsx(Ne,{children:Jn&&r.jsx(P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:[1,1.1,1],y:[-35,-40,-35]},exit:{opacity:0,scale:.5},transition:{duration:1,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",top:"-15%",left:"50%",transform:"translateX(-50%)",fontSize:"2rem",zIndex:101,pointerEvents:"none",display:"flex",gap:"2px"},children:""})}),r.jsx(Pb,{isHappy:Ge==="happy"||Ge==="playful",isIdle:ji,onWagComplete:()=>io(Date.now())}),jt&&r.jsx("div",{className:"walk-dust"})]})})(),r.jsx(Ne,{children:Qr&&Oe.key==="bedroom"&&r.jsx(c5,{isSleeping:Qr,lunaX:we.x,lunaY:we.y,lang:n,napStartTime:Jr})}),r.jsx(Ne,{children:Ln&&r.jsx(Pf,{pet:Ln,lang:n,onClose:()=>xi(null)})}),r.jsx(Ne,{children:Xr.map(w=>r.jsx(P.div,{className:"pet-heart",initial:{opacity:1,scale:.5,x:0,y:0},animate:{opacity:0,scale:1.5,y:-60,x:(Math.random()-.5)*40},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},style:{position:"absolute",left:`${w.x}%`,top:`${w.y}%`,fontSize:"2rem",pointerEvents:"none",zIndex:100},children:["","","","",""][Math.floor(Math.random()*5)]},w.id))}),r.jsx(Ne,{children:yc.map(w=>r.jsx(P.div,{className:"cuddle-heart",initial:{opacity:1,scale:.3,y:0},animate:{opacity:0,scale:1.8,y:-80,x:(Math.random()-.5)*60,rotate:(Math.random()-.5)*30},exit:{opacity:0},transition:{duration:1.5,ease:"easeOut"},style:{position:"absolute",left:`${w.x}%`,top:`${w.y}%`,fontSize:"2.2rem",pointerEvents:"none",zIndex:100},children:w.emoji},w.id))}),r.jsx(Ne,{children:ks.map(w=>r.jsx(P.div,{className:"brush-sparkle",initial:{opacity:1,scale:.3},animate:{opacity:0,scale:1.2,x:Math.cos(w.angle*Math.PI/180)*60,y:Math.sin(w.angle*Math.PI/180)*40-30,rotate:w.angle},exit:{opacity:0},transition:{duration:1.5,ease:"easeOut"},style:{position:"absolute",left:`${w.x}%`,top:`${w.y}%`,fontSize:"1.5rem",pointerEvents:"none",zIndex:100},children:["","","","",""][Math.floor(Math.random()*5)]},w.id))}),r.jsx(Ne,{children:fc.map(w=>r.jsx(P.div,{className:"catnip-sparkle",initial:{opacity:1,scale:.5,rotate:0},animate:{opacity:0,scale:[.5,2,1.5],x:(Math.random()-.5)*100,y:(Math.random()-.5)*80-20,rotate:Math.random()*720-360},exit:{opacity:0},transition:{duration:1,ease:"easeOut"},style:{position:"absolute",left:`${w.x}%`,top:`${w.y}%`,fontSize:"2rem",pointerEvents:"none",zIndex:100,filter:"drop-shadow(0 0 8px rgba(147, 255, 147, 0.8))"},children:w.emoji},w.id))}),r.jsx(Ne,{children:Ti&&r.jsxs(P.div,{className:"catnip-mode-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:200,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[r.jsx(P.div,{className:"catnip-banner glass-card",animate:{scale:[1,1.1,1],rotate:[-2,2,-2]},transition:{duration:.3,repeat:1/0},style:{padding:"8px 16px",borderRadius:"20px",background:"linear-gradient(135deg, #90EE90, #32CD32)",color:"#1a5c1a",fontWeight:"bold",fontSize:"1rem",boxShadow:"0 4px 15px rgba(50, 205, 50, 0.5)",border:"2px solid #228B22"},children:a.toyBox.catnipActive}),r.jsx(P.div,{className:"catnip-timer",style:{width:"120px",height:"6px",borderRadius:"3px",background:"rgba(255,255,255,0.3)",overflow:"hidden"},children:r.jsx(P.div,{style:{width:`${mc/8e3*100}%`,height:"100%",background:"linear-gradient(90deg, #90EE90, #32CD32)",borderRadius:"3px"},transition:{duration:.1}})})]})}),r.jsx(Ne,{children:gc.map(w=>r.jsx(P.div,{className:"bath-bubble",initial:{opacity:0,scale:.3,y:0},animate:{opacity:[0,.9,.9,0],scale:[.3,1,1.1,.8],y:[-10,-40,-70,-100],x:(Math.random()-.5)*30},exit:{opacity:0},transition:{duration:2.5,ease:"easeOut",delay:w.delay},style:{position:"absolute",left:`${w.x}%`,top:`${w.y}%`,width:`${w.size}px`,height:`${w.size}px`,borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(135,206,250,0.6), rgba(100,149,237,0.3))",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 0 8px rgba(135,206,250,0.6), inset 0 0 10px rgba(255,255,255,0.3)",pointerEvents:"none",zIndex:150}},w.id))}),r.jsx(Ne,{children:Mi&&r.jsx(r.Fragment,{children:[...Array(8)].map((w,T)=>r.jsx(P.div,{className:"bath-splash",initial:{opacity:0,scale:0,y:0},animate:{opacity:[0,1,1,0],scale:[.2,.8,.6,.3],y:[0,-20-Math.random()*30,-10,20],x:(Math.random()-.5)*60},transition:{duration:1.2,delay:T*.15,repeat:1/0,repeatDelay:.3},style:{position:"absolute",left:`${we.x+(Math.random()-.5)*20}%`,top:`${we.y+5}%`,fontSize:"1rem",pointerEvents:"none",zIndex:145,filter:"drop-shadow(0 0 4px rgba(135,206,250,0.8))"},children:""},`splash-${T}`))})}),r.jsx(Ne,{children:Mi&&r.jsxs(P.div,{className:"bathing-indicator",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{position:"absolute",top:"15%",left:"50%",transform:"translateX(-50%)",zIndex:200,display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"25px",background:"linear-gradient(135deg, rgba(135,206,250,0.9), rgba(100,149,237,0.8))",boxShadow:"0 4px 20px rgba(100,149,237,0.5)",border:"2px solid rgba(255,255,255,0.5)"},children:[r.jsx(P.span,{animate:{rotate:[0,-10,10,-10,0],scale:[1,1.1,1]},transition:{duration:.5,repeat:1/0},style:{fontSize:"1.5rem"},children:""}),r.jsx("span",{style:{fontWeight:"bold",color:"#1e3a5f",fontSize:"1rem"},children:n==="it"?"Bagnetto! ":"Bath time! "}),r.jsx(P.span,{animate:{rotate:[0,15,-15,0],y:[0,-3,0]},transition:{duration:.8,repeat:1/0,delay:.2},style:{fontSize:"1.3rem"},children:""})]})}),r.jsx(Ne,{children:yt&&r.jsx(P.div,{className:"toy-play-animation",initial:{opacity:0,scale:.5},animate:{opacity:[0,1,1,0],scale:[.5,1.5,1.5,.5],y:[0,-40,-60,-80],rotate:yt.toy.animation==="spin"?[0,360,720,1080]:yt.toy.animation==="wiggle"?[0,-15,15,-15,15,0]:yt.toy.animation==="bounce"?[0,-30,0,-20,0]:0},exit:{opacity:0},transition:{duration:2,ease:"easeOut"},style:{position:"absolute",left:`${yt.x}%`,top:`${yt.y-15}%`,fontSize:"3rem",pointerEvents:"none",zIndex:150,textShadow:yt.toy.rarity==="legendary"?"0 0 20px gold, 0 0 40px orange":yt.toy.rarity==="rare"?"0 0 15px #2196f3":"none"},children:yt.toy.icon})}),r.jsx(Ne,{children:yt?.toy.animation==="sparkle"&&r.jsx(r.Fragment,{children:[...Array(8)].map((w,T)=>r.jsx(P.span,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],x:Math.cos(T*Math.PI/4)*50,y:Math.sin(T*Math.PI/4)*50-30},transition:{duration:1.5,delay:T*.1},style:{position:"absolute",left:`${yt.x}%`,top:`${yt.y-10}%`,fontSize:"1.5rem",pointerEvents:"none",zIndex:149},children:""},T))})}),r.jsxs("div",{className:"room-actions",children:[r.jsxs("button",{className:`action-btn glass-card ${B?"disabled":""}`,onClick:()=>Yo("primary"),disabled:B,children:[r.jsx("span",{className:"action-label",children:Is.primary}),(Oe.key==="shop"||Oe.key==="supermarket")&&r.jsx("span",{className:"action-cost",children:"-5 "}),Oe.key==="garden"&&r.jsx("span",{className:"action-bonus",children:"?"})]}),r.jsx("button",{className:`action-btn secondary glass-card ${B?"disabled":""}`,onClick:()=>Yo("secondary"),disabled:B,children:r.jsx("span",{className:"action-label",children:Is.secondary})}),r.jsx("button",{className:`action-btn brush-btn glass-card ${Zr?"brushing":""}`,onClick:Ps,title:a.grooming.brush,children:r.jsxs("span",{className:"action-label",children:[" ",a.grooming.brush]})}),Zt.favoriteToy&&r.jsx("button",{className:`action-btn toy-btn glass-card ${_.energy<(ui.find(w=>w.id===Zt.favoriteToy)?.energyCost||0)?"disabled":""}`,onClick:()=>{const w=ui.find(T=>T.id===Zt.favoriteToy);w&&Jo(w)},disabled:_.energy<(ui.find(w=>w.id===Zt.favoriteToy)?.energyCost||0),title:a.toyBox.play,children:r.jsx("span",{className:"action-label",children:ui.find(w=>w.id===Zt.favoriteToy)?.icon})}),r.jsx("button",{className:"action-btn training-btn glass-card",onClick:()=>{qr(!0),u("ui-click"),ie.medium()},title:a.petTraining.title,children:r.jsx("span",{className:"action-label",children:""})}),r.jsx("button",{className:"action-btn toybox-open glass-card",onClick:()=>{An(!0),ie.light()},title:a.toyBox.title,children:r.jsx("span",{className:"action-label",children:""})}),Oe.key==="living"&&r.jsx("button",{className:"action-btn fish-tank-btn glass-card",onClick:()=>{Fr(!0),u("ui-click"),ie.medium()},title:n==="it"?"Acquario":"Fish Tank",children:r.jsx("span",{className:"action-label",children:""})})]}),r.jsx("p",{className:"footer",children:a.footer})]},`room-${Y}`)}uy.createRoot(document.getElementById("root")).render(r.jsx(x.StrictMode,{children:r.jsx(g5,{})}));
