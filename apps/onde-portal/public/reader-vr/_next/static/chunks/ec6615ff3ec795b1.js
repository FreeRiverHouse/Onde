(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87506,(e,t,n)=>{"use strict";function r(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else if(u<i&&0>o(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s,l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],f=1,p=null,m=3,g=!1,v=!1,_=!1,b=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,S="u">typeof setImmediate?setImmediate:null;function w(e){for(var t=i(h);null!==t;){if(null===t.callback)a(h);else if(t.startTime<=e)a(h),t.sortIndex=t.expirationTime,r(d,t);else break;t=i(h)}}function E(e){if(_=!1,w(e),!v)if(null!==i(d))v=!0,T||(T=!0,s());else{var t=i(h);null!==t&&N(E,t.startTime-e)}}var T=!1,M=-1,C=5,A=-1;function R(){return!!b||!(n.unstable_now()-A<C)}function P(){if(b=!1,T){var e=n.unstable_now();A=e;var t=!0;try{e:{v=!1,_&&(_=!1,x(M),M=-1),g=!0;var r=m;try{t:{for(w(e),p=i(d);null!==p&&!(p.expirationTime>e&&R());){var o=p.callback;if("function"==typeof o){p.callback=null,m=p.priorityLevel;var l=o(p.expirationTime<=e);if(e=n.unstable_now(),"function"==typeof l){p.callback=l,w(e),t=!0;break t}p===i(d)&&a(d),w(e)}else a(d);p=i(d)}if(null!==p)t=!0;else{var u=i(h);null!==u&&N(E,u.startTime-e),t=!1}}break e}finally{p=null,m=r,g=!1}}}finally{t?s():T=!1}}}if("function"==typeof S)s=function(){S(P)};else if("u">typeof MessageChannel){var L=new MessageChannel,I=L.port2;L.port1.onmessage=P,s=function(){I.postMessage(null)}}else s=function(){y(P,0)};function N(e,t){M=y(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},n.unstable_scheduleCallback=function(e,t,a){var o=n.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:f++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>o?(e.sortIndex=a,r(h,e),null===i(d)&&e===i(h)&&(_?(x(M),M=-1):_=!0,N(E,a-o))):(e.sortIndex=l,r(d,e),v||g||(v=!0,T||(T=!0,s()))),e},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},13647,(e,t,n)=>{"use strict";t.exports=e.r(87506)},27665,(e,t,n)=>{"use strict";var r=void 0;t.exports=function(e){return e!==r&&null!==e}},96827,(e,t,n)=>{"use strict";var r=e.r(27665),i={object:!0,function:!0,undefined:!0};t.exports=function(e){return!!r(e)&&hasOwnProperty.call(i,typeof e)}},17187,(e,t,n)=>{"use strict";var r=e.r(96827);t.exports=function(e){if(!r(e))return!1;try{if(!e.constructor)return!1;return e.constructor.prototype===e}catch(e){return!1}}},69852,(e,t,n)=>{"use strict";var r=e.r(17187);t.exports=function(e){if("function"!=typeof e||!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length||"function"!=typeof e.call||"function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},35832,(e,t,n)=>{"use strict";var r=e.r(69852),i=/^\s*class[\s{/}]/,a=Function.prototype.toString;t.exports=function(e){return!(!r(e)||i.test(a.call(e)))}},69556,(e,t,n)=>{"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},97707,(e,t,n)=>{"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},46680,(e,t,n)=>{"use strict";t.exports=function(){}},78326,(e,t,n)=>{"use strict";var r=e.r(46680)();t.exports=function(e){return e!==r&&null!==e}},602,(e,t,n)=>{"use strict";var r=e.r(78326),i=Object.keys;t.exports=function(e){return i(r(e)?Object(e):e)}},15112,(e,t,n)=>{"use strict";t.exports=e.r(97707)()?Object.keys:e.r(602)},37876,(e,t,n)=>{"use strict";var r=e.r(78326);t.exports=function(e){if(!r(e))throw TypeError("Cannot use null or undefined");return e}},2758,(e,t,n)=>{"use strict";var r=e.r(15112),i=e.r(37876),a=Math.max;t.exports=function(e,t){var n,o,s,l=a(arguments.length,2);for(o=1,e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}};o<l;++o)t=arguments[o],r(t).forEach(s);if(void 0!==n)throw n;return e}},7953,(e,t,n)=>{"use strict";t.exports=e.r(69556)()?Object.assign:e.r(2758)},79627,(e,t,n)=>{"use strict";var r=e.r(78326),i=Array.prototype.forEach,a=Object.create,o=function(e,t){var n;for(n in e)t[n]=e[n]};t.exports=function(e){var t=a(null);return i.call(arguments,function(e){r(e)&&o(Object(e),t)}),t}},613,(e,t,n)=>{"use strict";t.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},79879,(e,t,n)=>{var r=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return r()}try{if(!__global__)return r();return __global__}finally{delete Object.prototype.__global__}}()},17190,(e,t,n)=>{"use strict";t.exports=e.r(613)()?globalThis:e.r(79879)},70324,(e,t,n)=>{"use strict";var r=e.r(17190),i={object:!0,symbol:!0};t.exports=function(){var e,t=r.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!i[typeof t.iterator]&&!!i[typeof t.toPrimitive]&&!!i[typeof t.toStringTag]}},42540,(e,t,n)=>{"use strict";t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},47352,(e,t,n)=>{"use strict";var r=e.r(42540);t.exports=function(e){if(!r(e))throw TypeError(e+" is not a symbol");return e}},42379,(e,t,n)=>{"use strict";var r=e.r(69648),i=Object.defineProperty,a=Object.prototype,o=(0,Object.create)(null);t.exports=function(e){for(var t,n,s=0;o[e+(s||"")];)++s;return o[e+=s||""]=!0,i(a,t="@@"+e,r.gs(null,function(e){n||(n=!0,i(this,t,r(e)),n=!1)})),t}},33249,(e,t,n)=>{"use strict";var r=e.r(69648),i=e.r(17190).Symbol;t.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",i&&i.hasInstance||e("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",i&&i.iterator||e("iterator")),match:r("",i&&i.match||e("match")),replace:r("",i&&i.replace||e("replace")),search:r("",i&&i.search||e("search")),species:r("",i&&i.species||e("species")),split:r("",i&&i.split||e("split")),toPrimitive:r("",i&&i.toPrimitive||e("toPrimitive")),toStringTag:r("",i&&i.toStringTag||e("toStringTag")),unscopables:r("",i&&i.unscopables||e("unscopables"))})}},48412,(e,t,n)=>{"use strict";var r=e.r(69648),i=e.r(47352),a=Object.create(null);t.exports=function(e){return Object.defineProperties(e,{for:r(function(t){return a[t]?a[t]:a[t]=e(String(t))}),keyFor:r(function(e){var t;for(t in i(e),a)if(a[t]===e)return t})})}},88267,(e,t,n)=>{"use strict";var r,i,a,o=e.r(69648),s=e.r(47352),l=e.r(17190).Symbol,u=e.r(42379),c=e.r(33249),d=e.r(48412),h=Object.create,f=Object.defineProperties,p=Object.defineProperty;if("function"==typeof l)try{String(l()),a=!0}catch(e){}else l=null;i=function(e){if(this instanceof i)throw TypeError("Symbol is not a constructor");return r(e)},t.exports=r=function e(t){if(this instanceof e)throw TypeError("Symbol is not a constructor");return a?l(t):f(h(i.prototype),{__description__:o("",t=void 0===t?"":String(t)),__name__:o("",u(t))})},c(r),d(r),f(i.prototype,{constructor:o(r),toString:o("",function(){return this.__name__})}),f(r.prototype,{toString:o(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:o(function(){return s(this)})}),p(r.prototype,r.toPrimitive,o("",function(){var e=s(this);return"symbol"==typeof e?e:e.toString()})),p(r.prototype,r.toStringTag,o("c","Symbol")),p(i.prototype,r.toStringTag,o("c",r.prototype[r.toStringTag])),p(i.prototype,r.toPrimitive,o("c",r.prototype[r.toPrimitive]))},13365,(e,t,n)=>{"use strict";t.exports=e.r(70324)()?e.r(17190).Symbol:e.r(88267)},607,(e,t,n)=>{"use strict";var r=e.r(13365).iterator;t.exports=function(){var e,t,n="ðŸ™ˆf";return"function"==typeof n[r]&&!!(e=n[r]())&&"function"==typeof e.next&&!!(t=e.next())&&"ðŸ™ˆ"===t.value&&!1===t.done}},89176,(e,t,n)=>{"use strict";var r=Object.create,i=Object.getPrototypeOf,a={};t.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&i(e(t(null),a))===a}},35969,(e,t,n)=>{"use strict";var r=e.r(78326),i={function:!0,object:!0};t.exports=function(e){return r(e)&&i[typeof e]||!1}},85303,(e,t,n)=>{"use strict";var r,i,a,o,s=Object.create;e.r(89176)()||(o=e.r(82431)),t.exports=o&&1===o.level?(r={},i={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if("__proto__"===e){i[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}i[e]=a}),Object.defineProperties(r,i),Object.defineProperty(o,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:r}),function(e,t){return s(null===e?r:e,t)}):s},82431,(e,t,n)=>{"use strict";var r,i,a,o,s=e.r(35969),l=e.r(37876),u=Object.prototype.isPrototypeOf,c=Object.defineProperty,d={configurable:!0,enumerable:!1,writable:!0,value:void 0};o=function(e,t){if(l(e),null===t||s(t))return e;throw TypeError("Prototype must be null or an object")},t.exports=(r=function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return(t.__proto__=n,Object.getPrototypeOf(t)===n)?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}())?(2===r.level?r.set?(a=r.set,i=function(e,t){return a.call(o(e,t),t),e}):i=function(e,t){return o(e,t).__proto__=t,e}:i=function e(t,n){var r;return o(t,n),(r=u.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,r&&c(e.nullPolyfill,"__proto__",d),t},Object.defineProperty(i,"level",{configurable:!1,enumerable:!1,writable:!1,value:r.level})):null,e.r(85303)},18224,(e,t,n)=>{"use strict";t.exports=e.r(89176)()?Object.setPrototypeOf:e.r(82431)},73970,(e,t,n)=>{"use strict";var r=e.r(37876);t.exports=function(){return r(this).length=0,this}},19618,(e,t,n)=>{"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function");return e}},99525,(e,t,n)=>{"use strict";var r=e.r(27665),i=e.r(96827),a=Object.prototype.toString;t.exports=function(e){if(!r(e))return null;if(i(e)){var t=e.toString;if("function"!=typeof t||t===a)return null}try{return""+e}catch(e){return null}}},29918,(e,t,n)=>{"use strict";t.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(e){return null}}}},66711,(e,t,n)=>{"use strict";var r=e.r(29918),i=/[\n\r\u2028\u2029]/g;t.exports=function(e){var t=r(e);return null===t?"<Non-coercible to string value>":(t.length>100&&(t=t.slice(0,99)+"â€¦"),t=t.replace(i,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("Unexpected character")}}))}},44425,(e,t,n)=>{"use strict";var r=e.r(99525),i=e.r(66711);t.exports=function(e,t,n){n&&n.errorMessage&&(e=r(n.errorMessage));var a=e.indexOf("%v"),o=a>-1?i(t):null;if(n&&n.name){var s,l,u,c,d=e.indexOf("%n");if(d>-1)return a>-1?(d>a?(s=o,u=a,l=n.name,c=d):(s=n.name,u=d,l=o,c=a),e.slice(0,u)+s+e.slice(u+2,c)+l+e.slice(c+2)):e.slice(0,d)+n.name+e.slice(d+2)}return a>-1?e.slice(0,a)+o+e.slice(a+2):e}},31132,(e,t,n)=>{"use strict";var r=e.r(27665),i=e.r(44425);t.exports=function(e,t,n){if(n&&!r(e)){if("default"in n)return n.default;if(n.isOptional)return null}var a=new(n&&n.Error||TypeError)(i(t,e,n));throw n&&n.errorCode&&(a.code=n.errorCode),a}},1834,(e,t,n)=>{"use strict";var r=e.r(31132),i=e.r(27665);t.exports=function(e){if(i(e))return e;var t=arguments[1];return r(e,t&&t.name?"Expected a value for %n, received %v":"Cannot use %v",t)}},59742,(e,t,n)=>{"use strict";var r=e.r(31132),i=e.r(35832);t.exports=function(e){if(i(e))return e;var t=arguments[1];return r(e,t&&t.name?"Expected a plain function for %n, received %v":"%v is not a plain function",t)}},54736,(e,t,n)=>{"use strict";t.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&!!((t=n(e=["raz","dwa"]))&&t!==e&&"dwa"===t[1])}},17606,(e,t,n)=>{"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());t.exports=function(e){return r.call(e)===i}},18784,(e,t,n)=>{"use strict";var r=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(e){return"function"==typeof e&&i(r.call(e))}},72429,(e,t,n)=>{"use strict";t.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},88861,(e,t,n)=>{"use strict";t.exports=function(e){return isNaN(e=Number(e))||0===e?e:e>0?1:-1}},76729,(e,t,n)=>{"use strict";t.exports=e.r(72429)()?Math.sign:e.r(88861)},28245,(e,t,n)=>{"use strict";var r=e.r(76729),i=Math.abs,a=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*a(i(e)):e}},36296,(e,t,n)=>{"use strict";var r=e.r(28245),i=Math.max;t.exports=function(e){return i(0,r(e))}},42364,(e,t,n)=>{"use strict";var r=Object.prototype.toString,i=r.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},22350,(e,t,n)=>{"use strict";var r=e.r(13365).iterator,i=e.r(17606),a=e.r(18784),o=e.r(36296),s=e.r(19618),l=e.r(37876),u=e.r(78326),c=e.r(42364),d=Array.isArray,h=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(e){var t,n,m,g,v,_,b,y,x,S,w=arguments[1],E=arguments[2];if(e=Object(l(e)),u(w)&&s(w),this&&this!==Array&&a(this))t=this;else{if(!w){if(i(e))return 1!==(v=e.length)?Array.apply(null,e):((g=[,])[0]=e[0],g);if(d(e)){for(n=0,g=Array(v=e.length);n<v;++n)g[n]=e[n];return g}}g=[]}if(!d(e)){if(void 0!==(x=e[r])){for(b=s(x).call(e),t&&(g=new t),y=b.next(),n=0;!y.done;)S=w?h.call(w,E,y.value,n):y.value,t?(f.value=S,p(g,n,f)):g[n]=S,y=b.next(),++n;v=n}else if(c(e)){for(v=e.length,t&&(g=new t),n=0,m=0;n<v;++n)S=e[n],n+1<v&&(_=S.charCodeAt(0))>=55296&&_<=56319&&(S+=e[++n]),S=w?h.call(w,E,S,m):S,t?(f.value=S,p(g,m,f)):g[m]=S,++m;v=m}}if(void 0===v)for(v=o(e.length),t&&(g=new t(v)),n=0;n<v;++n)S=w?h.call(w,E,e[n],n):e[n],t?(f.value=S,p(g,n,f)):g[n]=S;return t&&(f.value=null,g.length=v),g}},6090,(e,t,n)=>{"use strict";t.exports=e.r(54736)()?Array.from:e.r(22350)},74540,(e,t,n)=>{"use strict";var r=e.r(6090),i=e.r(7953),a=e.r(37876);t.exports=function(e){var t=Object(a(e)),n=arguments[1],o=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(o.ensure||t in e)&&(s[t]=e[t])}):i(s,e),s}},63821,(e,t,n)=>{"use strict";var r=e.r(19618),i=e.r(37876),a=Function.prototype.bind,o=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(n,u){var c,d=arguments[2],h=arguments[3];return n=Object(i(n)),r(u),c=s(n),h&&c.sort("function"==typeof h?a.call(h,n):void 0),"function"!=typeof e&&(e=c[e]),o.call(e,c,function(e,r){return l.call(n,e)?o.call(u,d,n[e],e,n,r):t})}}},87922,(e,t,n)=>{"use strict";t.exports=e.r(63821)("forEach")},11546,(e,t,n)=>{"use strict";var r=e.r(19618),i=e.r(87922),a=Function.prototype.call;t.exports=function(e,t){var n={},o=arguments[2];return r(t),i(e,function(e,r,i,s){n[r]=a.call(t,o,e,r,i,s)}),n}},43638,(e,t,n)=>{"use strict";var r,i=e.r(27665),a=e.r(1834),o=e.r(59742),s=e.r(74540),l=e.r(79627),u=e.r(11546),c=Function.prototype.bind,d=Object.defineProperty,h=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,i=a(t)&&o(t.value);return r=s(t),delete r.writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&h.call(this,e)?i:(t.value=c.call(i,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},t.exports=function(e){var t=l(arguments[1]);return i(t.resolveContext)&&o(t.resolveContext),u(e,function(e,n){return r(n,e,t)})}},75881,(e,t,n)=>{"use strict";var r,i=e.r(73970),a=e.r(7953),o=e.r(19618),s=e.r(37876),l=e.r(69648),u=e.r(43638),c=e.r(13365),d=Object.defineProperty,h=Object.defineProperties;t.exports=r=function(e,t){if(!(this instanceof r))throw TypeError("Constructor requires 'new'");h(this,{__list__:l("w",s(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(o(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,h(r.prototype,a({_next:l(function(){var e;if(this.__list__){if(this.__redo__&&void 0!==(e=this.__redo__.shift()))return e;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[c.toStringTag]||"Object")+"]"})},u({_onAdd:l(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void d(this,"__redo__",l("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:l(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,c.iterator,l(function(){return this}))},53031,(e,t,n)=>{"use strict";var r,i=e.r(18224),a=e.r(69648),o=e.r(13365),s=e.r(75881),l=Object.defineProperty;r=t.exports=function(e){if(!(this instanceof r))throw TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),l(this,"__length__",a("",e.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:a(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:a(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),l(r.prototype,o.toStringTag,a("c","String Iterator"))},83333,(e,t,n)=>{"use strict";var r=e.r(53031),i=e.r(37876);t.exports=function(){return new r(i(this))}},26744,(e,t,n)=>{"use strict";t.exports=e.r(607)()?String.prototype[e.r(13365).iterator]:e.r(83333)},55257,(e,t,n)=>{"use strict";var r=e.r(28245),i=e.r(37876);t.exports=function(e){var t,n,a,o,s=String(i(this)),l=s.length;return(e=r(e))<=-1||e>=l?"":(e|=0,t=s.charCodeAt(e),a=e+1,o=1,t>=55296&&t<=56319&&l>a&&(n=s.charCodeAt(a))>=56320&&n<=57343&&(o=2),s.slice(e,e+o))}},7819,(e,t,n)=>{"use strict";t.exports=function(e){return"function"==typeof e}},2138,(e,t,n)=>{"use strict";var r=e.r(7819);t.exports=function(e){try{if(e&&r(e.toString))return e.toString();return String(e)}catch(e){throw TypeError("Passed argument cannot be stringifed")}}},72077,(e,t,n)=>{"use strict";var r=e.r(37876),i=e.r(2138);t.exports=function(e){return i(r(e))}},70554,(e,t,n)=>{"use strict";var r=e.r(72077);t.exports=function(e){var t=r(this),n=0,i=0;if(!(e=r(e)))throw TypeError("Search string cannot be empty");for(;-1!==(i=t.indexOf(e,i));)++n,i+=e.length;return n}},56936,(e,t,n)=>{"use strict";var r=String.prototype.replace,i=/([A-Z])/g;t.exports=function(){var e=r.call(this,i,"-$1").toLowerCase();return"-"===e[0]&&(e=e.slice(1)),e}},23178,(e,t,n)=>{"use strict";var r=e.r(37876);t.exports=function(){var e=String(r(this));return e.charAt(0).toUpperCase()+e.slice(1)}},95949,(e,t,n)=>{"use strict";var r=String.prototype.toLowerCase;t.exports=function(e){return r.call(this).localeCompare(r.call(String(e)))}},17874,(e,t,n)=>{"use strict";var r="abcðŒ†def";t.exports=function(){return"function"==typeof r.codePointAt&&119558===r.codePointAt(3)}},40463,(e,t,n)=>{"use strict";var r=e.r(28245),i=e.r(37876);t.exports=function(e){var t,n,a=String(i(this)),o=a.length;if(!((e=r(e))<0)&&!(e>=o))return(t=a.charCodeAt(e))>=55296&&t<=56319&&o>e+1&&(n=a.charCodeAt(e+1))>=56320&&n<=57343?(t-55296)*1024+n-56320+65536:t}},41936,(e,t,n)=>{"use strict";t.exports=e.r(17874)()?String.prototype.codePointAt:e.r(40463)},43340,(e,t,n)=>{"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},94651,(e,t,n)=>{"use strict";var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}},13753,(e,t,n)=>{"use strict";t.exports=e.r(43340)()?String.prototype.contains:e.r(94651)},95728,(e,t,n)=>{"use strict";var r=String.prototype.replace,i=/-([a-z0-9])/g,a=function(e,t){return t.toUpperCase()};t.exports=function(){return r.call(this,i,a)}},66767,(e,t,n)=>{"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.endsWith&&!0===r.endsWith("trzy")&&!1===r.endsWith("raz")}},5896,(e,t,n)=>{"use strict";var r=e.r(28245),i=e.r(37876),a=e.r(78326),o=Math.min,s=Math.max;t.exports=function(e){var t,n,l;return t=String(i(this)),e=String(e),l=arguments[1],!((n=(a(l)?o(s(r(l),0),t.length):t.length)-e.length)<0)&&t.indexOf(e,n)===n}},83528,(e,t,n)=>{"use strict";t.exports=e.r(66767)()?String.prototype.endsWith:e.r(5896)},41372,(e,t,n)=>{"use strict";t.exports=function(){return"function"==typeof"foo".repeat&&"foofoo"==="foo".repeat(2)}},88705,(e,t,n)=>{"use strict";var r=e.r(37876),i=e.r(28245);t.exports=function(e){var t,n=String(r(this));if((e=i(e))<0)throw RangeError("Count must be >= 0");if(!isFinite(e))throw RangeError("Count must be < âˆž");for(t="";e;)e%2&&(t+=n),e>1&&(n+=n),e>>=1;return t}},41791,(e,t,n)=>{"use strict";t.exports=e.r(41372)()?String.prototype.repeat:e.r(88705)},54924,(e,t,n)=>{"use strict";var r=e.r(78326),i=e.r(41791),a=String.prototype.replace,o=/(\r\n|[\n\r\u2028\u2029])([\u0000-\u0009\u000b-\uffff]+)/g;t.exports=function(e){var t=arguments[1];return(e=i.call(String(e),r(t)?t:1))+a.call(this,o,"$1"+e+"$2")}},55937,(e,t,n)=>{"use strict";var r=e.r(37876);t.exports=function(){var e=String(r(this)),t=e.length;return t?e[t-1]:null}},95218,(e,t,n)=>{"use strict";var r="Ã¦Ã¸Ã¥Ã¤Ã¼Ã¶";t.exports=function(){return"function"==typeof r.normalize&&"Ã¦Ã¸aÌŠaÌˆuÌˆoÌˆ"===r.normalize("NFKD")}},81222,(e,t,n)=>{"use strict";var r=Array.prototype.forEach,i=Object.create;t.exports=function(e){var t=i(null);return r.call(arguments,function(e){t[e]=!0}),t}},54243,(e,t,n)=>{"use strict";t.exports={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70080:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230]},5632:{71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{44013:[,9]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}}},3581,(e,t,n)=>{"use strict";var r,i,a,o,s,l,u,c,d=e.r(81222),h=e.r(37876),f=e.r(54243),p=Math.floor,m=d("NFC","NFD","NFKC","NFKD"),g=[null,0,{}],v={},_=[];r=function(e,t){this.codepoint=e,this.feature=t};for(var b=0;b<=255;++b)_[b]=0;i=[function(e,t,n){return t<60||t>13311&&t<42607?new r(t,g):e(t,n)},function(e,t,n){var r=v[t];return!r&&(r=e(t,n)).feature&&++_[t>>8&255]>10&&(v[t]=r),r},function(e,t,n){return n?e(t,n):new r(t,null)},function(e,t,n){var i,a,o,s,l,u,c,d;if(t<4352||4371<=t&&t<44032||55204<t)return e(t,n);if(4352<=t&&t<4371){for(o=0,i={},a=(t-4352)*21;o<21;++o)i[4449+o]=44032+28*(o+a);return(s=[,,,])[2]=i,new r(t,s)}if(u=(l=t-44032)%28,c=[],0===u)for(d=1,c[0]=[4352+p(l/588),4449+p(l%588/28)],c[2]={};d<28;++d)c[2][4519+d]=t+d;else c[0]=[44032+l-u,4519+u];return new r(t,c)},function(e,t){var n=65280&t,i=(r.udata[n]||{})[t];return i?new r(t,i):new r(t,g)}],r.fromCharCode=i.reduceRight(function(e,t){return function(n,r){return t(e,n,r)}},null),r.isHighSurrogate=function(e){return e>=55296&&e<=56319},r.isLowSurrogate=function(e){return e>=56320&&e<=57343},r.prototype.prepFeature=function(){this.feature||(this.feature=r.fromCharCode(this.codepoint,!0).feature)},r.prototype.toString=function(){var e;return this.codepoint<65536?String.fromCharCode(this.codepoint):String.fromCharCode(p((e=this.codepoint-65536)/1024)+55296,e%1024+56320)},r.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},r.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&256&this.feature[1]},r.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&512&this.feature[1]},r.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?255&this.feature[1]:0},r.prototype.getComposite=function(e){var t;return(this.prepFeature(),this.feature[2]&&(t=this.feature[2][e.codepoint]))?r.fromCharCode(t):null},(a=function(e){this.str=e,this.cursor=0}).prototype.next=function(){if(this.str&&this.cursor<this.str.length){var e,t=this.str.charCodeAt(this.cursor++);return r.isHighSurrogate(t)&&this.cursor<this.str.length&&r.isLowSurrogate(e=this.str.charCodeAt(this.cursor))&&(t=(t-55296)*1024+(e-56320)+65536,++this.cursor),r.fromCharCode(t)}return this.str=null,null},(o=function(e,t){this.it=e,this.canonical=t,this.resBuf=[]}).prototype.next=function(){var e,t;if(e=function(t,n){var i,a,o,s,l=n.getDecomp();if(l&&!(t&&n.isCompatibility())){for(a=0,i=[];a<l.length;++a)for(s=0,o=e(t,r.fromCharCode(l[a]));s<o.length;++s)i.push(o[s]);return i}return[n]},0===this.resBuf.length){if(!(t=this.it.next()))return null;this.resBuf=e(this.canonical,t)}return this.resBuf.shift()},(s=function(e){this.it=e,this.resBuf=[]}).prototype.next=function(){var e,t,n;if(0===this.resBuf.length)do{if(!(t=this.it.next()))break;if(e=t.getCanonicalClass(),n=this.resBuf.length,0!==e)for(;n>0&&!(this.resBuf[n-1].getCanonicalClass()<=e);--n);this.resBuf.splice(n,0,t)}while(0!==e)return this.resBuf.shift()},(l=function(e){this.it=e,this.procBuf=[],this.resBuf=[],this.lastClass=null}).prototype.next=function(){for(var e,t,n;0===this.resBuf.length;){if(!(e=this.it.next())){this.resBuf=this.procBuf,this.procBuf=[];break}0===this.procBuf.length?(this.lastClass=e.getCanonicalClass(),this.procBuf.push(e)):(t=this.procBuf[0].getComposite(e),n=e.getCanonicalClass(),t&&(this.lastClass<n||0===this.lastClass)?this.procBuf[0]=t:(0===n&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=n,this.procBuf.push(e)))}return this.resBuf.shift()},u=function(e,t){switch(e){case"NFD":return new s(new o(new a(t),!0));case"NFKD":return new s(new o(new a(t),!1));case"NFC":return new l(new s(new o(new a(t),!0)));case"NFKC":return new l(new s(new o(new a(t),!1)));default:throw Error(e+" is invalid")}},c=function(e,t){for(var n,r=u(e,t),i="";n=r.next();)i+=n.toString();return i},r.udata=f,t.exports=function(){var e=String(h(this)),t=arguments[0];if(!m[t=void 0===t?"NFC":String(t)])throw RangeError("Invalid normalization form: "+t);return c(t,e)}},19107,(e,t,n)=>{"use strict";t.exports=e.r(95218)()?String.prototype.normalize:e.r(3581)},84804,(e,t,n)=>{"use strict";var r=e.r(28245),i=e.r(37876),a=e.r(41791),o=Math.abs,s=Math.max;t.exports=function(e){var t=String(i(this)),n=t.length,l=arguments[1];return(l=isNaN(l)?1:r(l),e=a.call(String(e),o(l)),l>=0)?e.slice(0,s(0,l-n))+t:t+(n+l>=0?"":e.slice(l+n))}},2783,(e,t,n)=>{"use strict";var r=String.prototype.indexOf,i=String.prototype.slice;t.exports=function(e,t){var n=r.call(this,e);return -1===n?String(this):i.call(this,0,n)+t+i.call(this,n+String(e).length)}},53367,(e,t,n)=>{"use strict";var r=e.r(37876);t.exports=function(e,t){var n,i,a,o=0,s=String(r(this));for(e=String(e),t=String(t),i=e.length,a=t.length;-1!==(n=s.indexOf(e,o));)s=s.slice(0,n)+t+s.slice(n+i),o=n+a;return s}},19088,(e,t,n)=>{"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.startsWith&&!1===r.startsWith("trzy")&&!0===r.startsWith("raz")}},35552,(e,t,n)=>{"use strict";var r=e.r(37876),i=e.r(28245),a=Math.max,o=Math.min;t.exports=function(e){var t,n=String(r(this));return t=o(a(i(arguments[1]),0),n.length),n.indexOf(e,t)===t}},91978,(e,t,n)=>{"use strict";t.exports=e.r(19088)()?String.prototype.startsWith:e.r(35552)},57145,(e,t,n)=>{"use strict";var r=e.r(72077);t.exports=function(){var e=r(this);return e.charAt(0).toLowerCase()+e.slice(1)}},48610,(e,t,n)=>{"use strict";t.exports={"@@iterator":e.r(26744),at:e.r(55257),count:e.r(70554),camelToHyphen:e.r(56936),capitalize:e.r(23178),caseInsensitiveCompare:e.r(95949),codePointAt:e.r(41936),contains:e.r(13753),hyphenToCamel:e.r(95728),endsWith:e.r(83528),indent:e.r(54924),last:e.r(55937),normalize:e.r(19107),pad:e.r(84804),plainReplace:e.r(2783),plainReplaceAll:e.r(53367),repeat:e.r(41791),startsWith:e.r(91978),uncapitalize:e.r(57145)}},57647,(e,t,n)=>{"use strict";var r=e.r(7819),i=e.r(37876),a=Function.prototype.call;t.exports=function(e){return e=Object(i(e)),function(t){var n=this;return i(n),(t=String(t)).replace(/%([a-zA-Z]+)|\\([\u0000-\uffff])/g,function(t,i,o){var s,l;if(o)return o;for(s=i;s&&!(l=e[s]);)s=s.slice(0,-1);return l?(r(l)&&(l=a.call(l,n)),l+i.slice(s.length)):t})}}},61778,(e,t,n)=>{"use strict";t.exports=function(){var e=String.fromCodePoint;return"function"==typeof e&&"ðŒ†aðŒ‡"===e(119558,97,119559)}},98949,(e,t,n)=>{"use strict";var r=Math.floor,i=String.fromCharCode;t.exports=function(e){var t,n,a=[],o=arguments.length,s="";for(t=0;t<o;++t){if(n=Number(arguments[t]),!isFinite(n)||n<0||n>1114111||r(n)!==n)throw RangeError("Invalid code point "+n);n<65536?a.push(n):(n-=65536,a.push((n>>10)+55296,n%1024+56320)),t+1!==o&&a.length<=16384||(s+=i.apply(null,a),a.length=0)}return s}},61804,(e,t,n)=>{"use strict";t.exports=e.r(61778)()?String.fromCodePoint:e.r(98949)},27359,(e,t,n)=>{"use strict";var r=e.r(78326),i=e.r(36296),a=Object.create(null),o=Math.random,s=function(){return o().toString(36).slice(2)},l=function(){var e=s(),t=arguments[0];if(!r(t))return e;for(;e.length<t;)e+=s();return e.slice(0,t)};t.exports=function(){var e=Object(arguments[0]),t=e.length,n=e.isUnique;r(t)&&(t=i(t));var o=l(t);if(n){for(var s=0;a[o];){if(100==++s)throw Error("Cannot generate random string.\nString.random is not designed to effectively generate many short and unique random strings");o=l(t)}a[o]=!0}return o}},52809,(e,t,n)=>{"use strict";var r=Object.create(null),i=Math.random;t.exports=function(){var e;do e=i().toString(36).slice(2);while(r[e])return e}},22053,(e,t,n)=>{"use strict";t.exports=function(){var e,t=String.raw;return"function"==typeof t&&((e=["foo\nbar","marko\n"]).raw=["foo\\nbar","marko\\n"],"foo\\nbarINSE\nRTmarko\\n"===t(e,"INSE\nRT"))}},94657,(e,t,n)=>{"use strict";var r=e.r(36296),i=e.r(37876),a=Array.prototype.reduce;t.exports=function(e){var t,n=Object(i(Object(i(e)).raw));return r(n.length)?(t=arguments,a.call(n,function(e,n,r){return e+String(t[r])+n})):""}},59735,(e,t,n)=>{"use strict";t.exports=e.r(22053)()?String.raw:e.r(94657)},24803,(e,t,n)=>{"use strict";t.exports={"#":e.f({"./":{id:()=>24803,module:()=>e.r(24803)},"./#":{id:()=>48610,module:()=>e.r(48610)}})("./#"),formatMethod:e.r(57647),fromCodePoint:e.r(61804),isString:e.r(42364),random:e.r(27359),randomUniq:e.r(52809),raw:e.r(59735)}},69648,(e,t,n)=>{"use strict";var r=e.r(27665),i=e.r(35832),a=e.r(7953),o=e.r(79627),s=e.f({"es5-ext/string/":{id:()=>24803,module:()=>e.r(24803)},"es5-ext/string/#/contains":{id:()=>13753,module:()=>e.r(13753)}})("es5-ext/string/#/contains");(t.exports=function(e,t){var n,i,l,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],r(e)?(n=s.call(e,"c"),i=s.call(e,"e"),l=s.call(e,"w")):(n=l=!0,i=!1),c={value:t,configurable:n,enumerable:i,writable:l},u?a(o(u),c):c}).gs=function(e,t,n){var l,u,c,d;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],r(t)?i(t)?r(n)?i(n)||(c=n,n=void 0):n=void 0:(c=t,t=n=void 0):t=void 0,r(e)?(l=s.call(e,"c"),u=s.call(e,"e")):(l=!0,u=!1),d={get:t,set:n,configurable:l,enumerable:u},c?a(o(c),d):d}},1109,(e,t,n)=>{"use strict";var r,i,a,o,s,l,u,c=e.r(69648),d=e.r(19618),h=Function.prototype.apply,f=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return d(t),v.call(this,"__ee__")?n=this.__ee__:(n=_.value=p(null),m(this,"__ee__",_),_.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},i=function(e,t){var n,i;return d(t),i=this,r.call(this,e,n=function(){a.call(i,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},s={on:r,once:i,off:a=function(e,t){var n,r,i,a;if(d(t),!v.call(this,"__ee__")||!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(a=0;i=r[a];++a)(i===t||i.__eeOnceListener__===t)&&(2===r.length?n[e]=r[+!a]:r.splice(a,1));else(r===t||r.__eeOnceListener__===t)&&delete n[e];return this},emit:o=function(e){var t,n,r,i,a;if(v.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(t=1,n=arguments.length,a=Array(n-1);t<n;++t)a[t-1]=arguments[t];for(t=0,i=i.slice();r=i[t];++t)h.call(r,this,a)}else switch(arguments.length){case 1:f.call(i,this);break;case 2:f.call(i,this,arguments[1]);break;case 3:f.call(i,this,arguments[1],arguments[2]);break;default:for(t=1,n=arguments.length,a=Array(n-1);t<n;++t)a[t-1]=arguments[t];h.call(i,this,a)}}},u=g({},l={on:c(r),once:c(i),off:c(a),emit:c(o)}),t.exports=n=function(e){return null==e?p(u):g(Object(e),l)},n.methods=s},7598,(e,t,n)=>{"use strict";function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=r({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),a=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===a.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});n.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},n.freeze=r,n.MIME_TYPE=i,n.NAMESPACE=a},49684,(e,t,n)=>{var r=e.r(7598),i=r.find,a=r.NAMESPACE;function o(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){return e?Object.keys((e?e.split(/[\t\n\f\r ]+/).filter(o):[]).reduce(s,{})):[]}function u(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function c(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,u(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var d={},h=d.ELEMENT_NODE=1,f=d.ATTRIBUTE_NODE=2,p=d.TEXT_NODE=3,m=d.CDATA_SECTION_NODE=4,g=d.ENTITY_REFERENCE_NODE=5,v=d.ENTITY_NODE=6,_=d.PROCESSING_INSTRUCTION_NODE=7,b=d.COMMENT_NODE=8,y=d.DOCUMENT_NODE=9,x=d.DOCUMENT_TYPE_NODE=10,S=d.DOCUMENT_FRAGMENT_NODE=11,w=d.NOTATION_NODE=12,E={},T={};T[1]="Index size error",E.INDEX_SIZE_ERR=1,T[2]="DOMString size error",E.DOMSTRING_SIZE_ERR=2;var M=(T[3]="Hierarchy request error",E.HIERARCHY_REQUEST_ERR=3);T[4]="Wrong document",E.WRONG_DOCUMENT_ERR=4,T[5]="Invalid character",E.INVALID_CHARACTER_ERR=5,T[6]="No data allowed",E.NO_DATA_ALLOWED_ERR=6,T[7]="No modification allowed",E.NO_MODIFICATION_ALLOWED_ERR=7;var C=(T[8]="Not found",E.NOT_FOUND_ERR=8);T[9]="Not supported",E.NOT_SUPPORTED_ERR=9;var A=(T[10]="Attribute in use",E.INUSE_ATTRIBUTE_ERR=10);function R(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,R);return n.code=e,t&&(this.message=this.message+": "+t),n}function P(){}function L(e,t){this._node=e,this._refresh=t,I(this)}function I(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(em(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];u(n,e),e._inc=t}}function N(){}function D(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function U(e,t,n,r){if(r?t[D(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i,o,s,l=e.ownerDocument;l&&(r&&j(l,e,r),i=l,o=e,s=n,i&&i._inc++,s.namespaceURI===a.XMLNS&&(o._nsMap[s.prefix?s.localName:""]=s.value))}}function k(e,t,n){var r=D(t,n);if(r>=0){for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(j(a,e,n),n.ownerElement=null)}}else throw new R(C,Error(e.tagName+"@"+n))}function O(){}function F(){}function B(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function z(e,t){if(t(e))return!0;if(e=e.firstChild)do if(z(e,t))return!0;while(e=e.nextSibling)}function G(){this.ownerDocument=this}function j(e,t,n,r){e&&e._inc++,n.namespaceURI===a.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a,delete r[r.length]}}}function V(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,H(e.ownerDocument,e),t}function W(e){return e&&e.nodeType===F.DOCUMENT_TYPE_NODE}function q(e){return e&&e.nodeType===F.ELEMENT_NODE}function X(e){return e&&e.nodeType===F.TEXT_NODE}function Y(e,t){var n=e.childNodes||[];if(i(n,q)||W(t))return!1;var r=i(n,W);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function K(e,t){var n=e.childNodes||[];if(i(n,function(e){return q(e)&&e!==t}))return!1;var r=i(n,W);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function $(e,t,n){var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var o=a.filter(q);if(o.length>1||i(a,X))throw new R(M,"More than one element or text in fragment");if(1===o.length&&!K(e,n))throw new R(M,"Element in fragment can not be inserted before doctype")}if(q(t)&&!K(e,n))throw new R(M,"Only one element can be added and only after doctype");if(W(t)){if(i(r,function(e){return W(e)&&e!==n}))throw new R(M,"Only one doctype is allowed");var s=i(r,q);if(n&&r.indexOf(s)<r.indexOf(n))throw new R(M,"Doctype can only be inserted before an element")}}function Z(e,t,n,r){if(!(e&&(e.nodeType===F.DOCUMENT_NODE||e.nodeType===F.DOCUMENT_FRAGMENT_NODE||e.nodeType===F.ELEMENT_NODE)))throw new R(M,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new R(C,"child not in parent");if(!(t&&(q(t)||X(t)||W(t)||t.nodeType===F.DOCUMENT_FRAGMENT_NODE||t.nodeType===F.COMMENT_NODE||t.nodeType===F.PROCESSING_INSTRUCTION_NODE))||W(t)&&e.nodeType!==F.DOCUMENT_NODE)throw new R(M,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType);e.nodeType===F.DOCUMENT_NODE&&(r||function(e,t,n){var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var o=a.filter(q);if(o.length>1||i(a,X))throw new R(M,"More than one element or text in fragment");if(1===o.length&&!Y(e,n))throw new R(M,"Element in fragment can not be inserted before doctype")}if(q(t)&&!Y(e,n))throw new R(M,"Only one element can be added and only after doctype");if(W(t)){if(i(r,W))throw new R(M,"Only one doctype is allowed");var s=i(r,q);if(n&&r.indexOf(s)<r.indexOf(n))throw new R(M,"Doctype can only be inserted before an element");if(!n&&s)throw new R(M,"Doctype can not be appended since element is present")}})(e,t,n);var a=t.parentNode;if(a&&a.removeChild(t),t.nodeType===S){var o=t.firstChild;if(null==o)return t;var s=t.lastChild}else o=s=t;var l=n?n.previousSibling:e.lastChild;o.previousSibling=l,s.nextSibling=n,l?l.nextSibling=o:e.firstChild=o,null==n?e.lastChild=s:n.previousSibling=s;do o.parentNode=e;while(o!==s&&(o=o.nextSibling))return H(e.ownerDocument||e,e),t.nodeType==S&&(t.firstChild=t.lastChild=null),t}function Q(){this._nsMap={}}function J(){}function ee(){}function et(){}function en(){}function er(){}function ei(){}function ea(){}function eo(){}function es(){}function el(){}function eu(){}function ec(){}function ed(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i){var i=r.lookupPrefix(a);if(null==i)var o=[{namespace:a,prefix:null}]}return ep(this,n,e,t,o),n.join("")}function eh(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i||"xml"===r&&i===a.XML||i===a.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===r)return s.namespace!==i}return!0}function ef(e,t,n){e.push(" ",t,'="',n.replace(/[<&"]/g,B),'"')}function ep(e,t,n,r,i){if(i||(i=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var o,s=e.attributes,l=s.length,u=e.firstChild,c=e.tagName;n=a.isHTML(e.namespaceURI)||n;var d=c;if(!n&&!e.prefix&&e.namespaceURI){for(var v=0;v<s.length;v++)if("xmlns"===s.item(v).name){o=s.item(v).value;break}if(!o)for(var w=i.length-1;w>=0;w--){var E=i[w];if(""===E.prefix&&E.namespace===e.namespaceURI){o=E.namespace;break}}if(o!==e.namespaceURI)for(var w=i.length-1;w>=0;w--){var E=i[w];if(E.namespace===e.namespaceURI){E.prefix&&(d=E.prefix+":"+c);break}}}t.push("<",d);for(var T=0;T<l;T++){var M=s.item(T);"xmlns"==M.prefix?i.push({prefix:M.localName,namespace:M.value}):"xmlns"==M.nodeName&&i.push({prefix:"",namespace:M.value})}for(var T=0;T<l;T++){var M=s.item(T);if(eh(M,n,i)){var C=M.prefix||"",A=M.namespaceURI;ef(t,C?"xmlns:"+C:"xmlns",A),i.push({prefix:C,namespace:A})}ep(M,t,n,r,i)}if(c===d&&eh(e,n,i)){var C=e.prefix||"",A=e.namespaceURI;ef(t,C?"xmlns:"+C:"xmlns",A),i.push({prefix:C,namespace:A})}if(u||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;u;)u.data?t.push(u.data):ep(u,t,n,r,i.slice()),u=u.nextSibling;else for(;u;)ep(u,t,n,r,i.slice()),u=u.nextSibling;t.push("</",d,">")}else t.push("/>");return;case y:case S:for(var u=e.firstChild;u;)ep(u,t,n,r,i.slice()),u=u.nextSibling;return;case f:return ef(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&]/g,B).replace(/]]>/g,"]]&gt;"));case m:return t.push("<![CDATA[",e.data,"]]>");case b:return t.push("<!--",e.data,"-->");case x:var R=e.publicId,P=e.systemId;if(t.push("<!DOCTYPE ",e.name),R)t.push(" PUBLIC ",R),P&&"."!=P&&t.push(" ",P),t.push(">");else if(P&&"."!=P)t.push(" SYSTEM ",P,">");else{var L=e.internalSubset;L&&t.push(" [",L,"]"),t.push(">")}return;case _:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function em(e,t,n){e[t]=n}T[11]="Invalid state",E.INVALID_STATE_ERR=11,T[12]="Syntax error",E.SYNTAX_ERR=12,T[13]="Invalid modification",E.INVALID_MODIFICATION_ERR=13,T[14]="Invalid namespace",E.NAMESPACE_ERR=14,T[15]="Invalid access",E.INVALID_ACCESS_ERR=15,R.prototype=Error.prototype,u(E,R),P.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ep(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},L.prototype.item=function(e){return I(this),this[e]||null},c(L,P),N.prototype={length:0,item:P.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new R(A);var n=this.getNamedItem(e.nodeName);return U(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new R(A);return t=this.getNamedItemNS(e.namespaceURI,e.localName),U(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return k(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},O.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new G;if(r.implementation=this,r.childNodes=new P,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new ei;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Z(this,e,t)},replaceChild:function(e,t){Z(this,e,t,$),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a];"object"!=typeof o&&o!=i[a]&&(i[a]=o)}switch(n.childNodes&&(i.childNodes=new P),i.ownerDocument=t,i.nodeType){case h:var s=n.attributes,l=i.attributes=new N,u=s.length;l._ownerElement=i;for(var c=0;c<u;c++)i.setAttributeNode(e(t,s.item(c),!0));break;case f:r=!0}if(r)for(var d=n.firstChild;d;)i.appendChild(e(t,d,r)),d=d.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r}t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},u(d,F),u(d,F.prototype),G.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==S){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return Z(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},replaceChild:function(e,t){Z(this,e,t,$),e.ownerDocument=this,t&&this.removeChild(t),q(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case h:(i=n.cloneNode(!1)).ownerDocument=t;case S:break;case f:r=!0}if(i||(i=n.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var a=n.firstChild;a;)i.appendChild(e(t,a,r)),a=a.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return z(this.documentElement,function(n){if(n.nodeType==h&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=l(e);return new L(this,function(n){var r=[];return t.length>0&&z(n.documentElement,function(i){if(i!==n&&i.nodeType===h){var a=i.getAttribute("class");if(a){var o=e===a;if(!o){var s=l(a);o=t.every(function(e){return s&&-1!==s.indexOf(e)})}o&&r.push(i)}}}),r})},createElement:function(e){var t=new Q;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new P,(t.attributes=new N)._ownerElement=t,t},createDocumentFragment:function(){var e=new el;return e.ownerDocument=this,e.childNodes=new P,e},createTextNode:function(e){var t=new et;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new en;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new er;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new eu;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new J;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new es;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Q,r=t.split(":"),i=n.attributes=new N;return n.childNodes=new P,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new J,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},c(G,F),Q.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===S?this.insertBefore(e,null):(e.parentNode&&e.parentNode.removeChild(e),e.parentNode=this,e.previousSibling=this.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:this.firstChild=e,this.lastChild=e,H(this.ownerDocument,this,e),e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new L(this,function(t){var n=[];return z(t,function(r){r!==t&&r.nodeType==h&&("*"===e||r.tagName==e)&&n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new L(this,function(n){var r=[];return z(n,function(i){i!==n&&i.nodeType===h&&("*"===e||i.namespaceURI===e)&&("*"===t||i.localName==t)&&r.push(i)}),r})}},G.prototype.getElementsByTagName=Q.prototype.getElementsByTagName,G.prototype.getElementsByTagNameNS=Q.prototype.getElementsByTagNameNS,c(Q,F),J.prototype.nodeType=f,c(J,F),ee.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(T[M])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},c(ee,F),et.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},c(et,ee),en.prototype={nodeName:"#comment",nodeType:b},c(en,ee),er.prototype={nodeName:"#cdata-section",nodeType:m},c(er,ee),ei.prototype.nodeType=x,c(ei,F),ea.prototype.nodeType=w,c(ea,F),eo.prototype.nodeType=v,c(eo,F),es.prototype.nodeType=g,c(es,F),el.prototype.nodeName="#document-fragment",el.prototype.nodeType=S,c(el,F),eu.prototype.nodeType=_,c(eu,F),ec.prototype.serializeToString=function(e,t,n){return ed.call(e,t,n)},F.prototype.toString=ed;try{Object.defineProperty&&(Object.defineProperty(L.prototype,"length",{get:function(){return I(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case h:case S:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case h:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),em=function(e,t,n){e["$$"+t]=n})}catch(e){}n.DocumentType=ei,n.DOMException=R,n.DOMImplementation=O,n.Element=Q,n.Node=F,n.NodeList=P,n.XMLSerializer=ec},53393,(e,t,n)=>{"use strict";var r=e.r(7598).freeze;n.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=r({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ð",acy:"Ð°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ð”„",afr:"ð”ž",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ð”¸",aopf:"ð•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ð’œ",ascr:"ð’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âŽµ",bbrktbrk:"âŽ¶",bcong:"â‰Œ",Bcy:"Ð‘",bcy:"Ð±",bdquo:"â€ž",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ð”…",bfr:"ð”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ð”¹",bopf:"ð•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠž",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•ž",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ð’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰Ž",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰Ž",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ð” ",CHcy:"Ð§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ð•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ð’ž",cscr:"ð’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹ž",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹ž",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹Ž",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹Ž",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"ÄŽ",dcaron:"Ä",Dcy:"Ð”",dcy:"Ð´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ð”‡",dfr:"ð”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ð‚",djcy:"Ñ’",dlcorn:"âŒž",dlcrop:"âŒ",dollar:"$",Dopf:"ð”»",dopf:"ð••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥ž",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ð’Ÿ",dscr:"ð’¹",DScy:"Ð…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ð”ˆ",efr:"ð”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ð”¼",eopf:"ð•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ð¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ð”‰",ffr:"ð”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ð”½",fopf:"ð•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…ž",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ð’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Äž",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ð“",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ð”Š",gfr:"ð”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ðƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ð”¾",gopf:"ð•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ð’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âªŽ",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ðª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ð”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ð•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ð’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰Ž",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"ÃŽ",icirc:"Ã®",Icy:"Ð˜",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð•",iecy:"Ðµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ð”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆž",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ð•€",iopf:"ð•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ð’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð™",jcy:"Ð¹",Jfr:"ð”",jfr:"ð”§",jmath:"È·",Jopf:"ð•",jopf:"ð•›",Jscr:"ð’¥",jscr:"ð’¿",Jsercy:"Ðˆ",jsercy:"Ñ˜",Jukcy:"Ð„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ðš",kcy:"Ðº",Kfr:"ð”Ž",kfr:"ð”¨",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ…",KJcy:"ÐŒ",kjcy:"Ñœ",Kopf:"ð•‚",kopf:"ð•œ",Kscr:"ð’¦",kscr:"ð“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†ž",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤Ž",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ð›",lcy:"Ð»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€ž",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥Ž",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ð”",lfr:"ð”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ð‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒž",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"âŽ°",lmoustache:"âŽ°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ð•ƒ",lopf:"ð•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€Ž",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ð“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ðœ",mcy:"Ð¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ð”",mfr:"ð”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ð•„",mopf:"ð•ž",mp:"âˆ“",Mscr:"â„³",mscr:"ð“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰ŽÌ¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ð",ncy:"Ð½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ð”‘",nfr:"ð”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡Ž",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ÐŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡Ž",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ð•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰ŽÌ¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ð’©",nscr:"ð“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§ž",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ðž",ocy:"Ð¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ð”’",ofr:"ð”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ð•†",oopf:"ð• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ð’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"âž",OverBracket:"âŽ´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ÐŸ",pcy:"Ð¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ð”“",pfr:"ð”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜Ž",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„Ž",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠž",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ð•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ð’«",pscr:"ð“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ð””",qfr:"ð”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ð•¢",qprime:"â—",Qscr:"ð’¬",qscr:"ð“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤ž",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦Ž",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ð ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ð”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"âŽ±",rmoustache:"âŽ±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ð•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ð“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§Ž",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„ž",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Åž",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ð¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ð”–",sfr:"ð”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ð©",shchcy:"Ñ‰",SHcy:"Ð¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âªž",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ð¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ð•Š",sopf:"ð•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ð’®",sscr:"ð“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"	",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"âŽ´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ð”—",tfr:"ð”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ãž",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ð•‹",topf:"ð•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ð’¯",tscr:"ð“‰",TScy:"Ð¦",tscy:"Ñ†",TSHcy:"Ð‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†ž",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"ÐŽ",ubrcy:"Ñž",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð”˜",ufr:"ð”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âŽµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠŽ",Uogon:"Å²",uogon:"Å³",Uopf:"ð•Œ",uopf:"ð•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠŽ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒŽ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ð’°",uscr:"ð“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð’",vcy:"Ð²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ð”™",vfr:"ð”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ð•",vopf:"ð•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ð’±",vscr:"ð“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ð”š",wfr:"ð”´",Wopf:"ð•Ž",wopf:"ð•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ð’²",wscr:"ð“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ð”›",xfr:"ð”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Îž",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ð•",xopf:"ð•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ð’³",xscr:"ð“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ð”œ",yfr:"ð”¶",YIcy:"Ð‡",yicy:"Ñ—",Yopf:"ð•",yopf:"ð•ª",Yscr:"ð’´",yscr:"ð“Ž",YUcy:"Ð®",yucy:"ÑŽ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð—",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ð”·",ZHcy:"Ð–",zhcy:"Ð¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ð•«",Zscr:"ð’µ",zscr:"ð“",zwj:"â€",zwnj:"â€Œ"}),n.entityMap=n.HTML_ENTITIES},18882,(e,t,n)=>{var r=e.r(7598).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function u(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],l=s.qName,u=s.value,c=l.indexOf(":");if(c>0)var h=s.prefix=l.slice(0,c),f=l.slice(c+1),p="xmlns"===h&&f;else f=l,h=null,p="xmlns"===l&&"";s.localName=f,!1!==p&&(null==a&&(a={},d(n,n={})),n[p]=a[p]=u,s.uri=r.XMLNS,t.startPrefixMapping(p,u))}for(var o=e.length;o--;){var h=(s=e[o]).prefix;h&&("xml"===h&&(s.uri=r.XML),"xmlns"!==h&&(s.uri=n[h||""]))}var c=i.indexOf(":");c>0?(h=e.prefix=i.slice(0,c),f=e.localName=i.slice(c+1)):(h=null,f=e.localName=i);var m=e.uri=n[h||""];if(t.startElement(m,f,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(m,f,i),a)for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&t.endPrefixMapping(h)}function d(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function h(){this.attributeNames={}}s.prototype=Error(),s.prototype.name=s.name,l.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),d(t,t={}),function(e,t,n,i,a){function o(e){var t,r=e.slice(1,-1);return r in n?n[r]:"#"===r.charAt(0)?(t=parseInt(r.substr(1).replace("x","0x")))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):String.fromCharCode(t):(a.error("entity not found:"+e),e)}function l(t){if(t>b){var n=e.substring(b,t).replace(/&#?\w+;/g,o);g&&d(b),i.characters(n,0,t-b),b=t}}function d(t,n){for(;t>=p&&(n=m.exec(e));)p=(f=n.index)+n[0].length,g.lineNumber++;g.columnNumber=t-f+1}for(var f=0,p=0,m=/.*(?:\r\n?|\n)|.*$/g,g=i.locator,v=[{currentNSMap:t}],_={},b=0;;){try{var y=e.indexOf("<",b);if(y<0){if(!e.substr(b).match(/^\s*$/)){var x=i.doc,S=x.createTextNode(e.substr(b));x.appendChild(S),i.currentElement=S}return}switch(y>b&&l(y),e.charAt(y+1)){case"/":var w=e.indexOf(">",y+3),E=e.substring(y+2,w).replace(/[ \t\n\r]+$/g,""),T=v.pop();w<0?(E=e.substring(y+2).replace(/[\s<].*/,""),a.error("end tag name: "+E+" is not complete:"+T.tagName),w=y+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),a.error("end tag name: "+E+" maybe not complete"),w=y+1+E.length);var M=T.localNSMap,C=T.tagName==E;if(C||T.tagName&&T.tagName.toLowerCase()==E.toLowerCase()){if(i.endElement(T.uri,T.localName,E),M)for(var A in M)Object.prototype.hasOwnProperty.call(M,A)&&i.endPrefixMapping(A);C||a.fatalError("end tag name: "+E+" is not match the current start tagName:"+T.tagName)}else v.push(T);w++;break;case"?":g&&d(y),w=function(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i)return i[0].length,n.processingInstruction(i[1],i[2]),r+2}return -1}(e,y,i);break;case"!":g&&d(y),w=function(e,t,n,r){if("-"===e.charAt(t+2)){if("-"===e.charAt(t+3)){var i=e.indexOf("-->",t+4);if(i>t)return n.comment(e,t+4,i-t-4),i+3;r.error("Unclosed comment")}}else{if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],l=!1,u=!1;o>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],u=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var c=a[o-1];return n.startDTD(s,l,u),n.endDTD(),c.index+c[0].length}}return -1}(e,y,i,a);break;default:g&&d(y);var R=new h,P=v[v.length-1].currentNSMap,w=function(e,t,n,i,a,o){function s(e,t,r){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var l,u,c=++t,d=0;;){var h=e.charAt(c);switch(h){case"=":if(1===d)l=e.slice(t,c),d=3;else if(2===d)d=3;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(3===d||1===d)if(1===d&&(o.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,(c=e.indexOf(h,t))>0)s(l,u=e.slice(t,c).replace(/&#?\w+;/g,a),t-1),d=5;else throw Error("attribute value no end '"+h+"' match");else if(4==d)s(l,u=e.slice(t,c).replace(/&#?\w+;/g,a),t),o.warning('attribute "'+l+'" missed start quot('+h+")!!"),t=c+1,d=5;else throw Error('attribute value must after "="');break;case"/":switch(d){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:d=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==d&&n.setTagName(e.slice(t,c)),c;case">":switch(d){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(u=e.slice(t,c)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case 2:2===d&&(u=l),4==d?(o.warning('attribute "'+u+'" missed quot(")!'),s(l,u.replace(/&#?\w+;/g,a),t)):(r.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,t));break;case 3:throw Error("attribute value missed!!")}return c;case"Â€":h=" ";default:if(h<=" ")switch(d){case 0:n.setTagName(e.slice(t,c)),d=6;break;case 1:l=e.slice(t,c),d=2;break;case 4:var u=e.slice(t,c).replace(/&#?\w+;/g,a);o.warning('attribute "'+u+'" missed quot(")!!'),s(l,u,t);case 5:d=6}else switch(d){case 2:n.tagName,r.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,d=1;break;case 5:o.warning('attribute space is required"'+l+'"!!');case 6:d=1,t=c;break;case 3:d=4,t=c;break;case 7:throw Error("elements closed character '/' and '>' must be connected to")}}c++}}(e,y,R,P,o,a),L=R.length;if(!R.closed&&function(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}(e,w,R.tagName,_)&&(R.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),g&&L){for(var I=u(g,{}),N=0;N<L;N++){var D=R[N];d(D.offset),D.locator=u(g,{})}i.locator=I,c(R,i,P)&&v.push(R),i.locator=g}else c(R,i,P)&&v.push(R);r.isHTML(R.uri)&&!R.closed?w=function(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)||(o=o.replace(/&#?\w+;/g,r)),i.characters(o,0,o.length),a}return t+1}(e,w,R.tagName,o,i):w++}}catch(e){if(e instanceof s)throw e;a.error("element parse error: "+e),w=-1}w>b?b=w:l(Math.max(y,b)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},h.prototype={setTagName:function(e){if(!o.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},n.XMLReader=l,n.ParseError=s},97856,(e,t,n)=>{var r=e.r(7598),i=e.r(49684),a=e.r(53393),o=e.r(18882),s=i.DOMImplementation,l=r.NAMESPACE,u=o.ParseError,c=o.XMLReader;function d(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function p(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,r=new c,i=n.domBuilder||new h,o=n.errorHandler,s=n.locator,u=n.xmlns||{},d=/\/x?html?$/.test(t),f=d?a.HTML_ENTITIES:a.XML_ENTITIES;return s&&i.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof h)return t;e=t}var r={},i=e instanceof Function;function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]	"+e+p(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(o,i,s),r.domBuilder=n.domBuilder||i,d&&(u[""]=l.HTML),u.xml=u.xml||l.XML,e&&"string"==typeof e?r.parse(e,u,f):r.errorHandler.error("invalid doc source"),i.doc},h.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),o=r.length;g(this,a),this.currentElement=a,this.locator&&f(this.locator,a);for(var s=0;s<o;s++){var e=r.getURI(s),l=r.getValue(s),n=r.getQName(s),u=i.createAttributeNS(e,n);this.locator&&f(r.getLocator(s),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else var r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&f(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&f(this.locator,r),g(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&f(this.locator,i),g(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,p(this.locator))},error:function(e){console.error("[xmldom error]	"+e,p(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){h.prototype[e]=function(){return null}}),n.__DOMHandler=h,n.DOMParser=d,n.DOMImplementation=i.DOMImplementation,n.XMLSerializer=i.XMLSerializer},19204,(e,t,n)=>{var r=e.r(49684);n.DOMImplementation=r.DOMImplementation,n.XMLSerializer=r.XMLSerializer,n.DOMParser=e.r(97856).DOMParser},63755,(e,t,n)=>{"use strict";if(!r)var r={cwd:function(){return"/"}};function i(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+e)}function a(e,t){for(var n,r="",i=-1,a=0,o=0;o<=e.length;++o){if(o<e.length)n=e.charCodeAt(o);else if(47===n)break;else n=47;if(47===n){if(i===o-1||1===a);else if(i!==o-1&&2===a){if(r.length<2||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){for(var s=r.length-1,l=s;l>=0&&47!==r.charCodeAt(l);--l);if(l!==s){r=-1===l?"":r.slice(0,l),i=o,a=0;continue}}else if(2===r.length||1===r.length){r="",i=o,a=0;continue}}t&&(r.length>0?r+="/..":r="..")}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o);i=o,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var o={resolve:function(){for(var e,t,n="",o=!1,s=arguments.length-1;s>=-1&&!o;s--)s>=0?t=arguments[s]:(void 0===e&&(e=r.cwd()),t=e),i(t),0!==t.length&&(n=t+"/"+n,o=47===t.charCodeAt(0));if(n=a(n,!o),o)if(n.length>0)return"/"+n;else return"/";return n.length>0?n:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return(0!==(e=a(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t)?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];i(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t||(e=o.resolve(e))===(t=o.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,a=r-n,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,u=a<l?a:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);else if(0===d)return t.slice(s+d)}else a>u&&(47===e.charCodeAt(n+d)?c=d:0===d&&(c=0));break}var h=e.charCodeAt(n+d);if(h!==t.charCodeAt(s+d))break;47===h&&(c=d)}var f="";for(d=n+c+1;d<=r;++d)(d===r||47===e.charCodeAt(d))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(s+c):(s+=c,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){r=o;break}}else a=!1;return -1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');i(e);var n,r=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!o){r=n+1;break}}else -1===l&&(o=!1,l=n+1),s>=0&&(u===t.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=l))}return r===a?a=l:-1===a&&(a=e.length),e.slice(r,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){r=n+1;break}}else -1===a&&(o=!1,a=n+1);return -1===a?"":e.slice(r,a)},extname:function(e){i(e);for(var t=-1,n=0,r=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47===l){if(!a){n=s+1;break}continue}-1===r&&(a=!1,r=s+1),46===l?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return -1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('Parameter "pathObject" must be an object, not '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){i(e);var t,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r=e.charCodeAt(0),a=47===r;a?(n.root="/",t=1):t=0;for(var o=-1,s=0,l=-1,u=!0,c=e.length-1,d=0;c>=t;--c){if(47===(r=e.charCodeAt(c))){if(!u){s=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===r?-1===o?o=c:1!==d&&(d=1):-1!==o&&(d=-1)}return -1===o||-1===l||0===d||1===d&&o===l-1&&o===s+1?-1!==l&&(0===s&&a?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(s,l)):(0===s&&a?(n.name=e.slice(1,o),n.base=e.slice(1,l)):(n.name=e.slice(s,o),n.base=e.slice(s,l)),n.ext=e.slice(o,l)),s>0?n.dir=e.slice(0,s-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",posix:null};t.exports=o},13916,(e,t,n)=>{"use strict";function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}Object.defineProperty(n,"__esModule",{value:!0}),n.createElement=r,n.default={createElement:r}},83707,(e,t,n)=>{"use strict";function r(e,t){if("iframe"===e.nodeName||"IFRAME"===e.nodeName)try{this.target=e.contentDocument}catch(t){this.target=e}else this.target=e;for(var n=["mouseup","mousedown","click","touchstart"],r=0;r<n.length;r++){var a=n[r];this.target.addEventListener(a,function(n){for(var r=t.length-1;r>=0;r--){var a=t[r],o=n.clientX,s=n.clientY;if(n.touches&&n.touches.length&&(o=n.touches[0].clientX,s=n.touches[0].clientY),function(e,t,n,r){var i=t.getBoundingClientRect();function a(e,t,n){var r=e.top-i.top,a=e.left-i.left,o=r+e.height,s=a+e.width;return r<=n&&a<=t&&o>n&&s>t}if(!a(e.getBoundingClientRect(),n,r))return!1;for(var o=e.getClientRects(),s=0,l=o.length;s<l;s++)if(a(o[s],n,r))return!0;return!1}(a,e,o,s)){a.dispatchEvent(i(n));break}}},!1)}}function i(e){var t=Object.assign({},e,{bubbles:!1});try{return new MouseEvent(e.type,t)}catch(r){var n=document.createEvent("MouseEvents");return n.initMouseEvent(e.type,!1,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n}}Object.defineProperty(n,"__esModule",{value:!0}),n.proxyMouse=r,n.clone=i,n.default={proxyMouse:r}},59788,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Underline=n.Highlight=n.Mark=n.Pane=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);if(null===a)return;return e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(e.r(13916)),o=s(e.r(83707));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function u(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.Pane=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;c(this,e),this.target=t,this.element=a.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),o.default.proxyMouse(this.target,this.marks),this.container=n,this.container.appendChild(this.element),this.render()}return i(e,[{key:"addMark",value:function(e){var t=a.default.createElement("g");return this.element.appendChild(t),e.bind(t,this.container),this.marks.push(e),e.render(),e}},{key:"removeMark",value:function(e){var t=this.marks.indexOf(e);if(-1!==t){var n=e.unbind();this.element.removeChild(n),this.marks.splice(t,1)}}},{key:"render",value:function(){o=this.element,s=(r=this.target,i=this.container.getBoundingClientRect(),{top:(a=r.getBoundingClientRect()).top-i.top,left:a.left-i.left,height:r.scrollHeight,width:r.scrollWidth}),o.style.setProperty("top",s.top+"px","important"),o.style.setProperty("left",s.left+"px","important"),o.style.setProperty("height",s.height+"px","important"),o.style.setProperty("width",s.width+"px","important");var e=!0,t=!1,n=void 0;try{for(var r,i,a,o,s,l,u=this.marks[Symbol.iterator]();!(e=(l=u.next()).done);e=!0)l.value.render()}catch(e){t=!0,n=e}finally{try{!e&&u.return&&u.return()}finally{if(t)throw n}}}}]),e}();var d=n.Mark=function(){function e(){c(this,e),this.element=null}return i(e,[{key:"bind",value:function(e,t){this.element=e,this.container=t}},{key:"unbind",value:function(){var e=this.element;return this.element=null,e}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(e){this.element&&this.element.dispatchEvent(e)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var e=[],t=this.element.firstChild;t;)e.push(t.getBoundingClientRect()),t=t.nextSibling;return e}},{key:"filteredRanges",value:function(){var e=Array.from(this.range.getClientRects());return e.filter(function(t){for(var n,r,i=0;i<e.length&&e[i]!==t;i++){if(n=e[i],(r=t).right<=n.right&&r.left>=n.left&&r.top>=n.top&&r.bottom<=n.bottom)return!1}return!0})}}]),e}(),h=n.Highlight=function(e){function t(e,n,r,i){c(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.range=e,a.className=n,a.data=r||{},a.attributes=i||{},a}return u(t,e),i(t,[{key:"bind",value:function(e,n){for(var i in r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bind",this).call(this,e,n),this.data)this.data.hasOwnProperty(i)&&(this.element.dataset[i]=this.data[i]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&this.element.setAttribute(i,this.attributes[i]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),n=this.element.getBoundingClientRect(),r=this.container.getBoundingClientRect(),i=0,o=t.length;i<o;i++){var s=t[i],l=a.default.createElement("rect");l.setAttribute("x",s.left-n.left+r.left),l.setAttribute("y",s.top-n.top+r.top),l.setAttribute("height",s.height),l.setAttribute("width",s.width),e.appendChild(l)}this.element.appendChild(e)}}]),t}(d);n.Underline=function(e){function t(e,n,r,i){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return u(t,e),i(t,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),n=this.element.getBoundingClientRect(),r=this.container.getBoundingClientRect(),i=0,o=t.length;i<o;i++){var s=t[i],l=a.default.createElement("rect");l.setAttribute("x",s.left-n.left+r.left),l.setAttribute("y",s.top-n.top+r.top),l.setAttribute("height",s.height),l.setAttribute("width",s.width),l.setAttribute("fill","none");var u=a.default.createElement("line");u.setAttribute("x1",s.left-n.left+r.left),u.setAttribute("x2",s.left-n.left+r.left+s.width),u.setAttribute("y1",s.top-n.top+r.top+s.height-1),u.setAttribute("y2",s.top-n.top+r.top+s.height-1),u.setAttribute("stroke-width",1),u.setAttribute("stroke","black"),u.setAttribute("stroke-linecap","square"),e.appendChild(l),e.appendChild(u)}this.element.appendChild(e)}}]),t}(h)},12447,(e,t,n)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},236,(e,t,n)=>{t.exports=e.g&&e.g.Object===Object&&e.g},39088,(e,t,n)=>{var r=e.r(236),i="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||i||Function("return this")()},31926,(e,t,n)=>{var r=e.r(39088);t.exports=function(){return r.Date.now()}},48891,(e,t,n)=>{var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},30364,(e,t,n)=>{var r=e.r(48891),i=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},30353,(e,t,n)=>{t.exports=e.r(39088).Symbol},43436,(e,t,n)=>{var r=e.r(30353),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},23243,(e,t,n)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},77684,(e,t,n)=>{var r=e.r(30353),i=e.r(43436),a=e.r(23243),o=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},77289,(e,t,n)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},61884,(e,t,n)=>{var r=e.r(77684),i=e.r(77289);t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},73759,(e,t,n)=>{var r=e.r(30364),i=e.r(12447),a=e.r(61884),o=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}},74009,(e,t,n)=>{var r=e.r(12447),i=e.r(31926),a=e.r(73759),o=Math.max,s=Math.min;t.exports=function(e,t,n){var l,u,c,d,h,f,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function _(t){var n=l,r=u;return l=u=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f,r=e-p;return void 0===f||n>=t||n<0||g&&r>=c}function y(){var e,n,r,a=i();if(b(a))return x(a);h=setTimeout(y,(e=a-f,n=a-p,r=t-e,g?s(r,c-n):r))}function x(e){return(h=void 0,v&&l)?_(e):(l=u=void 0,d)}function S(){var e,n=i(),r=b(n);if(l=arguments,u=this,f=n,r){if(void 0===h)return p=e=f,h=setTimeout(y,t),m?_(e):d;if(g)return clearTimeout(h),h=setTimeout(y,t),_(f)}return void 0===h&&(h=setTimeout(y,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?o(a(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=u=h=void 0},S.flush=function(){return void 0===h?d:x(i())},S}},24283,(e,t,n)=>{var r=e.r(74009),i=e.r(12447);t.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},24401,(e,t,n)=>{var r={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,a=l(e),o=a[0],s=a[1],u=new i((o+s)*3/4-s),c=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(function(e,t,r){for(var i,a=[],o=t;o<r;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};for(var n=[],r=[],i="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},72:function(e,t,n){"use strict";var r=n(675),i=n(783),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);var a=0|f(r,i),l=o(a),u=l.write(r,i);return u!==a&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(R(e,ArrayBuffer)||e&&R(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(R(e,SharedArrayBuffer)||e&&R(e.buffer,SharedArrayBuffer)))return function(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),s.prototype),r}(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return s.from(c,t,n);var p=function(e){if(s.isBuffer(e)){var t=0|h(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(p)return p;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||R(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return C(e).length;default:if(i)return r?-1:T(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){var i,a,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=P[e[a]];return i}(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,a=t,o=n,0===a&&o===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){var a;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(a=n*=1)!=a&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return v(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else -1!==c&&(a-=a-c),c=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(u(e,a+h)!==u(t,h)){d=!1;break}if(d)return a}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(R(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),R(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(R(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?_(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(R(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,o=n-t,l=Math.min(a,o),u=this.slice(r,i),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],o=c[d];break}return a<o?-1:+(o<a)},s.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)};function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(a=e[i+1]))==128&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[i+1],o=e[i+2],(192&a)==128&&(192&o)==128&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}var h=r,f=h.length;if(f<=4096)return String.fromCharCode.apply(String,h);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,h.slice(m,m+=4096));return p}function b(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function y(e,t,n,r,i,a){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function x(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function S(e,t,n,r,a){return t*=1,n>>>=0,a||x(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function w(e,t,n,r,a){return t*=1,n>>>=0,a||x(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,a,o,s,l,u,c,d,h=this.length-t;if((void 0===n||n>h)&&(n=h),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var f=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s,l=parseInt(t.substr(2*o,2),16);if((s=l)!=s)break;e[n+o]=l}return o}(this,e,t,n);case"utf8":case"utf-8":return i=t,a=n,A(T(e,this.length-i),this,i,a);case"ascii":return o=t,s=n,A(M(e),this,o,s);case"latin1":case"binary":return function(e,t,n,r){return A(M(t),e,n,r)}(this,e,t,n);case"base64":return l=t,u=n,A(C(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=n,A(function(e,t){for(var n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;y(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;y(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);y(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);y(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||y(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return S(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return S(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return w(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return w(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,a=e.charCodeAt(0);("utf8"===r&&a<128||"latin1"===r)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%l]}return this};var E=/[^+/0-9A-Za-z-_]/g;function T(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319||o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return a}function M(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function C(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function R(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var P=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},783:function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=u}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,h=5960464477539062e-23*(23===i),f=r?0:a-1,p=r?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+f]=255&o,f+=p,o/=256,u-=8);e[n+f-p]|=128*m}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}},o=!0;try{r[e](n,n.exports,a),o=!1}finally{o&&delete i[e]}return n.exports}a.ab="/ROOT/apps/reader-vr/node_modules/next/dist/compiled/buffer/",t.exports=a(72)},67873,(e,t,n)=>{var r=e.i(24401),i=e.i(13140);t.exports=(function t(n,r,i){function a(s,l){if(!r[s]){if(!n[s]){var u=e.t;return!l&&u?u(s,!0):o(s,!0)}var c=r[s]={exports:{}};n[s][0].call(c.exports,function(e){return a(n[s][1][e]||e)},c,c.exports,t,n,r,i)}return r[s].exports}for(var o=e.t,s=0;s<i.length;s++)a(i[s]);return a})({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,s,l,u,c=[],d=0,h=e.length,f=h,p="string"!==r.getTypeOf(e);d<e.length;)f=h-d,p?(t=e[d++],n=d<h?e[d++]:0,i=d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,i=d<h?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,l=f>1?(15&n)<<2|i>>6:64,u=f>2?63&i:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,o,s,l,u,c,d=0,h=0,f="data:";if(e.substr(0,f.length)===f)throw Error("Invalid base64 input, it looks like a data url.");var p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|p):Array(0|p);d<e.length;)o=a.indexOf(e.charAt(d++)),s=a.indexOf(e.charAt(d++)),l=a.indexOf(e.charAt(d++)),u=a.indexOf(e.charAt(d++)),t=o<<2|s>>4,n=(15&s)<<4|l>>2,r=(3&l)<<6|u,c[h++]=t,64!==l&&(c[h++]=n),64!==u&&(c[h++]=r);return c}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?0xedb88320^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[(e^t[o])&255];return -1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[(e^t.charCodeAt(o))&255];return -1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";t.exports={Promise:"u">typeof Promise?Promise:e("lie")}},{lie:37}],7:[function(e,t,n){"use strict";var r="u">typeof Uint8Array&&"u">typeof Uint16Array&&"u">typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=r?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker"),a=e("../utf8"),o=e("../crc32"),s=e("../signature"),l=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},u=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},c=function(e,t,n,i,c,d){var h,f,p=e.file,m=e.compression,g=d!==a.utf8encode,v=r.transformTo("string",d(p.name)),_=r.transformTo("string",a.utf8encode(p.name)),b=p.comment,y=r.transformTo("string",d(b)),x=r.transformTo("string",a.utf8encode(b)),S=_.length!==p.name.length,w=x.length!==b.length,E="",T="",M="",C=p.dir,A=p.date,R={crc32:0,compressedSize:0,uncompressedSize:0};(!t||n)&&(R.crc32=e.crc32,R.compressedSize=e.compressedSize,R.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),!g&&(S||w)&&(P|=2048);var L=0,I=0;(C&&(L|=16),"UNIX"===c)?(I=798,L|=u(p.unixPermissions,C)):(I=20,L|=63&(p.dosPermissions||0)),h=(A.getUTCHours()<<6|A.getUTCMinutes())<<5|A.getUTCSeconds()/2,f=(A.getUTCFullYear()-1980<<4|A.getUTCMonth()+1)<<5|A.getUTCDate(),S&&(T=l(1,1)+l(o(v),4)+_,E+="up"+l(T.length,2)+T),w&&(M=l(1,1)+l(o(y),4)+x,E+="uc"+l(M.length,2)+M);var N="";return N+="\n\0",N+=l(P,2),N+=m.magic,N+=l(h,2),N+=l(f,2),N+=l(R.crc32,4),N+=l(R.compressedSize,4),N+=l(R.uncompressedSize,4),N+=l(v.length,2),N+=l(E.length,2),{fileRecord:s.LOCAL_FILE_HEADER+N+v+E,dirRecord:s.CENTRAL_FILE_HEADER+l(I,2)+N+l(y.length,2)+"\0\0\0\0"+l(L,4)+l(i,4)+v+E+y}},d=function(e,t,n,i,a){var o=r.transformTo("string",a(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(o.length,2)+o},h=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function f(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(f,i),f.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},f.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:h(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=d(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},f.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},f.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker"),a=function(e,t){var n=e||t,i=r[n];if(!i)throw Error(n+" is not a valid compression method !");return i};n.generateWorker=function(e,t,n){var r=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var i=a(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=o}catch(e){r.error(e)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=e("./object"),r.prototype.loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return new r().loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");t.exports=function(e,t){var n=this;return(t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e))?i.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(function(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}(r[a]));return i.Promise.all(n)}).then(function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],l=s.fileNameStr,u=r.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:void 0!==r.Buffer,newBufferFrom:function(e,t){if(r.Buffer.from&&r.Buffer.from!==Uint8Array.from)return r.Buffer.from(e,t);if("number"==typeof e)throw Error('The "data" argument must not be a number');return new r.Buffer(e,t)},allocBuffer:function(e){if(r.Buffer.alloc)return r.Buffer.alloc(e);var t=new r.Buffer(e);return t.fill(0),t},isBuffer:function(e){return r.Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";var r=e("./utf8"),i=e("./utils"),a=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),c=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),f=function(e,t,n){var r,o=i.getTypeOf(t),c=i.extend(n||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=m(e)),c.createFolders&&(r=p(e))&&g.call(this,r,!0);var f="string"===o&&!1===c.binary&&!1===c.base64;n&&void 0!==n.binary||(c.binary=!f),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",o="string");var v=null;v=t instanceof l||t instanceof a?t:d.isNode&&d.isStream(t)?new h(e,t):i.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var _=new u(e,v,c);this.files[e]=_},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=m(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1==arguments.length)if(v(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}else{var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,f.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw Error("No output type specified.");i.checkSupport(n.type),("darwin"===n.platform||"freebsd"===n.platform||"linux"===n.platform||"sunos"===n.platform)&&(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=c.generateWorker(this,n,s)}catch(e){(t=new a("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return -1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return(r.checkSupport(t),"string"!==t||i.uint8array)?"nodebuffer"===t?new s(e):i.uint8array?new l(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),l=e("../support"),u=e("../external"),c=null;if(l.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new a(r)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){var t;return t=this,new u.Promise(function(n,a){var o=[],l=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",function(t,n){o.push(t),e&&e(n)}).on("error",function(e){o=[],a(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var n,i=0,a=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=0,a=new Uint8Array(o);n<t.length;n++)a.set(t[n],i),i+=t[n].length;return a;case"nodebuffer":return r.Buffer.concat(t);default:throw Error("concat : unsupported type '"+e+"'")}}(l,o),c);n(e)}catch(e){a(e)}o=[]}).resume()})},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="u">typeof ArrayBuffer&&"u">typeof Uint8Array,n.nodebuffer=void 0!==r.Buffer,n.uint8array="u">typeof Uint8Array,"u"<typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),n.blob=0===a.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;var u=function(e){var t,n,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(r=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(o=0,t=i.uint8array?new Uint8Array(l):Array(l),a=0;o<l;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(r=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},c=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&(192&e[n])==128;)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t},d=function(e){var t,n,i,a,o=e.length,l=Array(2*o);for(n=0,t=0;t<o;){if((i=e[t++])<128){l[n++]=i;continue}if((a=s[i])>4){l[n++]=65533,t+=a-1;continue}for(i&=2===a?31:3===a?15:7;a>1&&t<o;)i=i<<6|63&e[t++],a--;if(a>1){l[n++]=65533;continue}i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)};function h(){o.call(this,"utf-8 decode"),this.leftOver=null}function f(){o.call(this,"utf-8 encode")}n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):u(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):d(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(h,o),h.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=c(t),s=t;o!==t.length&&(i.uint8array?(s=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(s=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,r.inherits(f,o),f.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;t>1;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var h={};h.string={string:s,array:function(e){return l(e,Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},h.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},h.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:c,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},h.nodebuffer={string:c,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){return(t||(t=""),e)?(n.checkSupport(e),h[n.getTypeOf(t)][e](t)):t},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."!==i&&(""!==i||0===r||r===t.length-1)&&(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,u){return o.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"u">typeof FileReader?new o.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var c,d,h=n.getTypeOf(t);return h?("arraybuffer"===h?t=n.transformTo("uint8array",t):"string"===h&&(u?t=i.decode(t):a&&!0!==s&&(c=t,d=null,d=r.uint8array?new Uint8Array(c.length):Array(c.length),t=l(c,d))),t):o.Promise.reject(Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4);return this.reader.setIndex(n),r===t},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0){if(!this.isSignature(0,a.LOCAL_FILE_HEADER))throw Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");throw Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support"),c=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null};function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=c(this.compressionMethod)))throw Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var r=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw Error("No output type specified.");n=e.toLowerCase();var i="string"===n||"text"===n;("binarystring"===n||"text"===n)&&(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)l.prototype[u[d]]=c;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(e){"use strict";var t,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),t=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,t=function(){l.port2.postMessage(0)}}var u=[];function c(){r=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}n.exports=function(e){1!==u.push(e)||r||t()}}).call(this,e.g)},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,TypeError("Cannot resolve promise with itself")):a.resolve(e,r)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p(function(){t(i,r)});"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=Array(n),s=0,l=-1,u=new this(i);++l<n;)!function(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(u,o))},function(e){r||(r=!0,a.reject(u,e))})}(e[l],l);return u},u.race=function(e){var t,n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var s=-1,l=new this(i);++s<r;){t=e[s],n.resolve(t).then(function(e){o||(o=!0,a.resolve(l,e))},function(e){o||(o=!0,a.reject(l,e))})}return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r=e("./lib/utils/common").assign,i=e("./lib/deflate"),a=e("./lib/inflate"),o=e("./lib/zlib/constants"),s={};r(s,i,a,o),t.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t,n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var c=r.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(0!==c)throw Error(o[c]);if(n.header&&r.deflateSetHeader(this.strm,n.header),n.dictionary){if(t="string"==typeof n.dictionary?a.string2buf(n.dictionary):"[object ArrayBuffer]"===l.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,0!==(c=r.deflateSetDictionary(this.strm,t)))throw Error(o[c]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}u.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:4*(!0===t),"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(4===o||2===o))&&("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n)return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):(2===o&&(this.onEnd(0),s.avail_out=0),!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(h="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,h)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0===f.avail_out||n===o.Z_STREAM_END||0===f.avail_in&&(s===o.Z_FINISH||s===o.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),u=f.next_out-l,d=a.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==o.Z_STREAM_END)return(n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH)?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):(s===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),f.avail_out=0),!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="u">typeof Uint8Array&&"u">typeof Uint16Array&&"u">typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=0,r=0,n=e.length;t<n;t++)r+=e[t].length;for(t=0,o=new Uint8Array(r),i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(o=0,t=new r.Buf8(l),a=0;o<l;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,u=Array(2*s);for(r=0,n=0;n<s;){if((i=e[n++])<128){u[r++]=i;continue}if((a=o[i])>4){u[r++]=65533,n+=a-1;continue}for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&e[n++],a--;if(a>1){u[r++]=65533;continue}i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&(192&e[n])==128;)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e,a=e>>>16&65535,o=0;0!==n;){o=n>2e3?2e3:n,n-=o;do a=a+(i=i+t[r++]|0)|0;while(--o)i%=65521,a%=65521}return i|a<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?0xedb88320^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^r[(e^t[o])&255];return -1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=573;function c(e,t){return e.msg=l[t],t}function d(e){return(e<<1)-9*(e>4)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function p(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function m(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+258,f=u[a+o-1],p=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]!==p||u[n+o-1]!==f||u[n]!==u[a]||u[++n]!==u[a+1])continue;a+=2,n++;do;while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<h)if(r=258-(h-a),a=h-258,r>o){if(e.match_start=t,o=r,r>=s)break;f=u[a+o-1],p=u[a+o]}}while((t=d[t&c])>l&&0!=--i)return o<=e.lookahead?o:e.lookahead}function _(e){var t,n,r,a,l,u=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-262)){i.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do r=e.head[--t],e.head[t]=r>=u?r-u:0;while(--n)t=n=u;do r=e.prev[--t],e.prev[t]=r>=u?r-u:0;while(--n)a+=u}if(0===e.strm.avail_in)break;if(n=function(e,t,n,r){var a=e.avail_in;return(a>r&&(a=r),0===a)?0:(e.avail_in-=a,i.arraySet(t,e.input,e.next_in,a,n),1===e.state.wrap?e.adler=o(e.adler,t,a,n):2===e.state.wrap&&(e.adler=s(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)}(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var n,r;;){if(e.lookahead<262){if(_(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=v(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function y(e,t){for(var n,r,i;;){if(e.lookahead<262){if(_(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=v(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*u),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=0,a._tr_init(t),0):c(e,-2)}function E(e){var t,n=w(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,a,o){if(!e)return -2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return c(e,-2);8===r&&(r=9);var l=new S;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,E(e)}r=[new x(0,0,0,0,function(e,t){var n=65535;for(65535>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,p(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)}),new x(4,4,8,4,b),new x(4,5,16,8,b),new x(4,6,32,32,b),new x(4,4,16,16,y),new x(8,16,32,32,y),new x(8,16,128,128,y),new x(8,32,128,256,y),new x(32,128,258,1024,y),new x(32,258,258,4096,y)],n.deflateInit=function(e,t){return T(e,t,8,15,8,0)},n.deflateInit2=T,n.deflateReset=E,n.deflateResetKeep=w,n.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):-2},n.deflate=function(e,t){if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,m(i,31),m(i,139),m(i,8),i.gzhead?(m(i,+!!i.gzhead.text+2*!!i.gzhead.hcrc+4*!!i.gzhead.extra+8*!!i.gzhead.name+16*!!i.gzhead.comment),m(i,255&i.gzhead.time),m(i,i.gzhead.time>>8&255),m(i,i.gzhead.time>>16&255),m(i,i.gzhead.time>>24&255),m(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),m(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(m(i,255&i.gzhead.extra.length),m(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(m(i,0),m(i,0),m(i,0),m(i,0),m(i,0),m(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),m(i,3),i.status=113);else{var n,i,o,l,u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=113,g(i,u),0!==i.strstart&&(g(i,e.adler>>>16),g(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),f(e),o=i.pending,i.pending!==i.pending_buf_size));)m(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),f(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,m(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),f(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,m(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(e),i.pending+2<=i.pending_buf_size&&(m(i,255&e.adler),m(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&d(t)<=d(n)&&4!==t)return c(e,-5);if(666===i.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var v=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=258){if(_(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+258;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o)e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if((3===v||4===v)&&(i.status=666),1===v||3===v)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(m(i,255&e.adler),m(i,e.adler>>8&255),m(i,e.adler>>16&255),m(i,e.adler>>24&255),m(i,255&e.total_in),m(i,e.total_in>>8&255),m(i,e.total_in>>16&255),m(i,e.total_in>>24&255)):(g(i,e.adler>>>16),g(i,65535&e.adler)),f(e),i.wrap>0&&(i.wrap=-i.wrap),+(0===i.pending))},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},n.deflateSetDictionary=function(e,t){var n,r,a,s,l,u,c,d,f=t.length;if(!e||!e.state||2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return -2;for(1===s&&(e.adler=o(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--a)n.strstart=r,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,_,b,y,x,S,w,E,T,M;n=e.state,r=e.next_in,T=e.input,i=r+(e.avail_in-5),a=e.next_out,M=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,h=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;n:do for(p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),b=m[f&v];;){if(f>>>=y=b>>>24,p-=y,0==(y=b>>>16&255))M[a++]=65535&b;else if(16&y)for(x=65535&b,(y&=15)&&(p<y&&(f+=T[r++]<<p,p+=8),x+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),b=g[f&_];;){if(f>>>=y=b>>>24,p-=y,16&(y=b>>>16&255)){if(S=65535&b,p<(y&=15)&&(f+=T[r++]<<p,(p+=8)<y&&(f+=T[r++]<<p,p+=8)),(S+=f&(1<<y)-1)>l){e.msg="invalid distance too far back",n.mode=30;break n}if(f>>>=y,p-=y,S>(y=a-o)){if((y=S-y)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break n}if(w=0,E=h,0===d){if(w+=u-y,y<x){x-=y;do M[a++]=h[w++];while(--y)w=a-S,E=M}}else if(d<y){if(w+=u+d-y,(y-=d)<x){x-=y;do M[a++]=h[w++];while(--y)if(w=0,d<x){x-=y=d;do M[a++]=h[w++];while(--y)w=a-S,E=M}}}else if(w+=d-y,y<x){x-=y;do M[a++]=h[w++];while(--y)w=a-S,E=M}for(;x>2;)M[a++]=E[w++],M[a++]=E[w++],M[a++]=E[w++],x-=3;x&&(M[a++]=E[w++],x>1&&(M[a++]=E[w++]))}else{w=a-S;do M[a++]=M[w++],M[a++]=M[w++],M[a++]=M[w++],x-=3;while(x>2)x&&(M[a++]=M[w++],x>1&&(M[a++]=M[w++]))}}else if((64&y)==0){b=g[(65535&b)+(f&(1<<y)-1)];continue}else{e.msg="invalid distance code",n.mode=30;break n}break}else if((64&y)==0){b=m[(65535&b)+(f&(1<<y)-1)];continue}else if(32&y){n.mode=12;break n}else{e.msg="invalid literal/length code",n.mode=30;break n}break}while(r<i&&a<s)r-=x=p>>3,p-=x<<3,f&=(1<<p)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<s?257+(s-a):257-(a-s),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r,i,a=e("../utils/common"),o=e("./adler32"),s=e("./crc32"),l=e("./inffast"),u=e("./inftrees");function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new a.Buf32(852),t.distcode=t.distdyn=new a.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):-2}function p(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e)):-2}function m(e,t){var n,r;return e?(e.state=r=new d,r.window=null,0!==(n=p(e,t))&&(e.state=null),n):-2}var g=!0;function v(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),r>=o.wsize?(a.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),a.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(a.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}n.inflateReset=f,n.inflateReset2=p,n.inflateResetKeep=h,n.inflateInit=function(e){return m(e,15)},n.inflateInit2=m,n.inflate=function(e,t){var n,d,h,f,p,m,_,b,y,x,S,w,E,T,M,C,A,R,P,L,I,N,D,U,k=0,O=new a.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(n=e.state).mode&&(n.mode=13),p=e.next_out,h=e.output,_=e.avail_out,f=e.next_in,d=e.input,m=e.avail_in,b=n.hold,y=n.bits,x=m,S=_,N=0;r:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(2&n.wrap&&35615===b){n.check=0,O[0]=255&b,O[1]=b>>>8&255,n.check=s(n.check,O,2,0),b=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&b)!=8){e.msg="unknown compression method",n.mode=30;break}if(b>>>=4,y-=4,I=(15&b)+8,0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&b?10:12,b=0,y=0;break;case 2:for(;y<16;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(n.flags=b,(255&n.flags)!=8){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,n.check=s(n.check,O,2,0)),b=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}n.head&&(n.head.time=b),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,O[2]=b>>>16&255,O[3]=b>>>24&255,n.check=s(n.check,O,4,0)),b=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,n.check=s(n.check,O,2,0)),b=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,n.check=s(n.check,O,2,0)),b=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>m&&(w=m),w&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=Array(n.head.extra_len)),a.arraySet(n.head.extra,d,f,w,I)),512&n.flags&&(n.check=s(n.check,d,w,f)),m-=w,f+=w,n.length-=w),n.length))break r;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break r;w=0;do I=d[f+w++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&w<m)if(512&n.flags&&(n.check=s(n.check,d,w,f)),m-=w,f+=w,I)break r}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break r;w=0;do I=d[f+w++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&w<m)if(512&n.flags&&(n.check=s(n.check,d,w,f)),m-=w,f+=w,I)break r}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}e.adler=n.check=c(b),b=0,y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=p,e.avail_out=_,e.next_in=f,e.avail_in=m,n.hold=b,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break r;case 13:if(n.last){b>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}switch(n.last=1&b,y-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(!function(e){if(g){var t;for(r=new a.Buf32(512),i=new a.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(1,e.lens,0,288,r,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(2,e.lens,0,32,i,0,e.work,{bits:5}),g=!1}e.lencode=r,e.lenbits=9,e.distcode=i,e.distbits=5}(n),n.mode=20,6===t){b>>>=2,y-=2;break r}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}b>>>=2,y-=2;break;case 14:for(b>>>=7&y,y-=7&y;y<32;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,b=0,y=0,n.mode=15,6===t)break r;case 15:n.mode=16;case 16:if(w=n.length){if(w>m&&(w=m),w>_&&(w=_),0===w)break r;a.arraySet(h,d,f,w,p),m-=w,f+=w,_-=w,p+=w,n.length-=w;break}n.mode=12;break;case 17:for(;y<14;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(n.nlen=(31&b)+257,y-=5,n.ndist=(31&(b>>>=5))+1,y-=5,n.ncode=(15&(b>>>=5))+4,b>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}n.lens[F[n.have++]]=7&b,b>>>=3,y-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=u(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;M=(k=n.lencode[b&(1<<n.lenbits)-1])>>>24,C=k>>>16&255,A=65535&k,!(M<=y);){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(A<16)b>>>=M,y-=M,n.lens[n.have++]=A;else{if(16===A){for(U=M+2;y<U;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(b>>>=M,y-=M,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],w=3+(3&b),b>>>=2,y-=2}else if(17===A){for(U=M+3;y<U;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}b>>>=M,y-=M,I=0,w=3+(7&b),b>>>=3,y-=3}else{for(U=M+7;y<U;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}b>>>=M,y-=M,I=0,w=11+(127&b),b>>>=7,y-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,D={bits:n.lenbits},N=u(1,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=u(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break r;case 20:n.mode=21;case 21:if(m>=6&&_>=258){e.next_out=p,e.avail_out=_,e.next_in=f,e.avail_in=m,n.hold=b,n.bits=y,l(e,S),p=e.next_out,h=e.output,_=e.avail_out,f=e.next_in,d=e.input,m=e.avail_in,b=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;M=(k=n.lencode[b&(1<<n.lenbits)-1])>>>24,C=k>>>16&255,A=65535&k,!(M<=y);){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(C&&(240&C)==0){for(R=M,P=C,L=A;M=(k=n.lencode[L+((b&(1<<R+P)-1)>>R)])>>>24,C=k>>>16&255,A=65535&k,!(R+M<=y);){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}b>>>=R,y-=R,n.back+=R}if(b>>>=M,y-=M,n.back+=M,n.length=A,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(U=n.extra;y<U;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;M=(k=n.distcode[b&(1<<n.distbits)-1])>>>24,C=k>>>16&255,A=65535&k,!(M<=y);){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if((240&C)==0){for(R=M,P=C,L=A;M=(k=n.distcode[L+((b&(1<<R+P)-1)>>R)])>>>24,C=k>>>16&255,A=65535&k,!(R+M<=y);){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}b>>>=R,y-=R,n.back+=R}if(b>>>=M,y-=M,n.back+=M,64&C){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(U=n.extra;y<U;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===_)break r;if(w=S-_,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,E=n.wsize-w):E=n.wnext-w,w>n.length&&(w=n.length),T=n.window}else T=h,E=p-n.offset,w=n.length;w>_&&(w=_),_-=w,n.length-=w;do h[p++]=T[E++];while(--w)0===n.length&&(n.mode=21);break;case 26:if(0===_)break r;h[p++]=n.length,_--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===m)break r;m--,b|=d[f++]<<y,y+=8}if(S-=_,e.total_out+=S,n.total+=S,S&&(e.adler=n.check=n.flags?s(n.check,h,S,p-S):o(n.check,h,S,p-S)),S=_,(n.flags?b:c(b))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===m)break r;m--,b+=d[f++]<<y,y+=8}if(b!==(0|n.total)){e.msg="incorrect length check",n.mode=30;break}b=0,y=0}n.mode=29;case 29:N=1;break r;case 30:N=-3;break r;case 31:return -4;default:return -2}return e.next_out=p,e.avail_out=_,e.next_in=f,e.avail_in=m,n.hold=b,n.bits=y,(n.wsize||S!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&v(e,e.output,e.next_out,S-e.avail_out),x-=e.avail_in,S-=e.avail_out,e.total_in+=x,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?s(n.check,h,S,e.next_out-S):o(n.check,h,S,e.next_out-S)),e.data_type=n.bits+64*!!n.last+128*(12===n.mode)+256*(20===n.mode||15===n.mode),(0===x&&0===S||4===t)&&0===N&&(N=-5),N},n.inflateEnd=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&(2&(n=e.state).wrap)!=0?(n.head=t,t.done=!1,0):-2},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state&&(0===(n=e.state).wrap||11===n.mode)?11===n.mode&&o(1,t,r,0)!==n.check?-3:v(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,d,h){var f,p,m,g,v,_,b,y,x,S=h.bits,w=0,E=0,T=0,M=0,C=0,A=0,R=0,P=0,L=0,I=0,N=null,D=0,U=new r.Buf16(16),k=new r.Buf16(16),O=null,F=0;for(w=0;w<=15;w++)U[w]=0;for(E=0;E<l;E++)U[t[n+E]]++;for(M=15,C=S;M>=1&&0===U[M];M--);if(C>M&&(C=M),0===M)return u[c++]=0x1400000,u[c++]=0x1400000,h.bits=1,0;for(T=1;T<M&&0===U[T];T++);for(C<T&&(C=T),P=1,w=1;w<=15;w++)if(P<<=1,(P-=U[w])<0)return -1;if(P>0&&(0===e||1!==M))return -1;for(w=1,k[1]=0;w<15;w++)k[w+1]=k[w]+U[w];for(E=0;E<l;E++)0!==t[n+E]&&(d[k[t[n+E]]++]=E);if(0===e?(N=O=d,_=19):1===e?(N=i,D-=257,O=a,F-=257,_=256):(N=o,O=s,_=-1),I=0,E=0,w=T,v=c,A=C,R=0,m=-1,g=(L=1<<C)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){b=w-R,d[E]<_?(y=0,x=d[E]):d[E]>_?(y=O[F+d[E]],x=N[D+d[E]]):(y=96,x=0),f=1<<w-R,T=p=1<<A;do u[v+(I>>R)+(p-=f)]=b<<24|y<<16|x;while(0!==p)for(f=1<<w-1;I&f;)f>>=1;if(0!==f?(I&=f-1,I+=f):I=0,E++,0==--U[w]){if(w===M)break;w=t[n+d[E]]}if(w>C&&(I&g)!==m){for(0===R&&(R=C),v+=T,P=1<<(A=w-R);A+R<M&&!((P-=U[A+R])<=0);)A++,P<<=1;if(L+=1<<A,1===e&&L>852||2===e&&L>592)return 1;u[m=I&g]=C<<24|A<<16|v-c}}return 0!==I&&(u[v+I]=w-R<<24|4194304),h.bits=C,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r,i,a,o=e("../utils/common");function s(e){for(var t=e.length;--t>=0;)e[t]=0}var l=573,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=Array(576);s(f);var p=Array(60);s(p);var m=Array(512);s(m);var g=Array(256);s(g);var v=Array(29);s(v);var _=Array(30);function b(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function x(e){return e<256?m[e]:m[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function E(e,t,n){w(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0)return n>>>1}function M(e,t,n){var r,i,a=Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(a[s]++,s))}}function C(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function A(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function R(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function P(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!R(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function L(e,t,n){var r,i,a,o,s=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?E(e,i,t):(E(e,(a=g[i])+256+1,t),0!==(o=u[a])&&w(e,i-=v[a],o),E(e,a=x(--r),n),0!==(o=c[a])&&w(e,r-=_[a],o));while(s<e.last_lit)E(e,256,t)}function I(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(n=0,e.heap_len=0,e.heap_max=l;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)P(e,a,n);i=u;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,P(e,a,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,u=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<l;n++)(a=u[2*u[2*(r=e.heap[n])+1]+1]+1)>m&&(a=m,g++),u[2*r+1]=a,!(r>c)&&(e.bl_count[a]++,o=0,r>=p&&(o=f[r-p]),s=u[2*r],e.opt_len+=s*(a+o),h&&(e.static_len+=s*(d[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(g>0)for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)!((i=e.heap[--n])>c)&&(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(e,t),M(a,c,e.bl_count)}function N(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=t[(r+1)*2+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4))}function D(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[(r+1)*2+1],!(++s<l)||i!==o){if(s<u)do E(e,i,e.bl_tree);while(0!=--s)else 0!==i?(i!==a&&(E(e,i,e.bl_tree),s--),E(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(E(e,17,e.bl_tree),w(e,s-3,3)):(E(e,18,e.bl_tree),w(e,s-11,7));s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4)}}s(_);var U=!1;function k(e,t,n,r){w(e,0+ +!!r,3),A(e),S(e,n),S(e,~n),o.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}n._tr_init=function(e){U||(!function(){var e,t,n,o,s,l=Array(16);for(o=0,n=0;o<28;o++)for(e=0,v[o]=n;e<1<<u[o];e++)g[n++]=o;for(g[n-1]=o,s=0,o=0;o<16;o++)for(e=0,_[o]=s;e<1<<c[o];e++)m[s++]=o;for(s>>=7;o<30;o++)for(e=0,_[o]=s<<7;e<1<<c[o]-7;e++)m[256+s++]=o;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,l[8]++;for(;e<=255;)f[2*e+1]=9,e++,l[9]++;for(;e<=279;)f[2*e+1]=7,e++,l[7]++;for(;e<=287;)f[2*e+1]=8,e++,l[8]++;for(M(f,287,l),e=0;e<30;e++)p[2*e+1]=5,p[2*e]=T(e,5);r=new b(f,u,257,286,15),i=new b(p,c,0,30,15),a=new b([],d,0,19,7)}(),U=!0),e.l_desc=new y(e.dyn_ltree,r),e.d_desc=new y(e.dyn_dtree,i),e.bl_desc=new y(e.bl_tree,a),e.bi_buf=0,e.bi_valid=0,C(e)},n._tr_stored_block=k,n._tr_flush_block=function(e,t,n,r){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=0xf3ffc07f;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),o=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?k(e,t,n,r):4===e.strategy||a===i?(w(e,2+ +!!r,3),L(e,f,p)):(w(e,4+ +!!r,3),function(e,t,n,r){var i;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),i=0;i<r;i++)w(e,e.bl_tree[2*h[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),L(e,e.dyn_ltree,e.dyn_dtree)),C(e),r&&A(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[(g[n]+256+1)*2]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){w(e,2,3),E(e,256,f),16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,a,o,s,l=1,u={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"===({}).toString.call(e.process)?s=function(e){i.default.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(n="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&p(+t.data.slice(n.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(t){e.postMessage(n+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},s=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,s=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):s=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++},h.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var n=u[e];if(n){c=!0;try{var r=n.callback,i=n.args;switch(i.length){case 0:r();break;case 1:r(i[0]);break;case 2:r(i[0],i[1]);break;case 3:r(i[0],i[1],i[2]);break;default:r.apply(t,i)}}finally{f(e),c=!1}}}}}("u"<typeof self?void 0===e?this:e:self)}).call(this,e.g)},{}]},{},[10])(10)},52383,(e,t,n)=>{t.exports=(function t(n,r,i){function a(s,l){if(!r[s]){if(!n[s]){var u=e.t;return!l&&u?u(s,!0):o(s,!0)}var c=r[s]={exports:{}};n[s][0].call(c.exports,function(e){return a(n[s][1][e]||e)},c,c.exports,t,n,r,i)}return r[s].exports}for(var o=e.t,s=0;s<i.length;s++)a(i[s]);return a})({1:[function(t,n,r){(function(e){"use strict";var t,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),t=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,t=function(){l.port2.postMessage(0)}}var u=[];function c(){r=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}n.exports=function(e){1!==u.push(e)||r||t()}}).call(this,e.g)},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,TypeError("Cannot resolve promise with itself")):a.resolve(e,r)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p(function(){t(i,r)});"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=Array(n),s=0,l=-1,u=new this(i);++l<n;)!function(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(u,o))},function(e){r||(r=!0,a.reject(u,e))})}(e[l],l);return u},u.race=function(e){var t,n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var s=-1,l=new this(i);++s<r;){t=e[s],n.resolve(t).then(function(e){o||(o=!0,a.resolve(l,e))},function(e){o||(o=!0,a.reject(l,e))})}return l}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,e.g)},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("u">typeof indexedDB)return indexedDB;if("u">typeof webkitIndexedDB)return webkitIndexedDB;if("u">typeof mozIndexedDB)return mozIndexedDB;if("u">typeof OIndexedDB)return OIndexedDB;if("u">typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("u">typeof BlobBuilder?BlobBuilder:"u">typeof MSBlobBuilder?MSBlobBuilder:"u">typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"u"<typeof Promise&&e(3);var o=Promise;function s(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",h=void 0,f={},p=Object.prototype.toString,m="readonly",g="readwrite";function v(e){var t=f[e.name],n={};n.promise=new o(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function _(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function y(e,t){return new o(function(n,r){if(f[e.name]=f[e.name]||M(),e.db)if(!t)return n(e.db);else v(e),e.db.close();var a=[e.name];t&&a.push(e.version);var o=i.open.apply(i,a);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"===n.name)console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw n}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}})}function x(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function S(e){return a([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function w(e){return e&&e.__local_forage_encoded_blob}function E(e){var t=this,n=t._initReady().then(function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return l(n,e,e),n}function T(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return o.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),y(e,!0)}).then(function(){return(function(e){v(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,y(e,!1).then(function(t){return(e.db=t,x(e))?y(e,!0):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw b(e,t),t})})(e).then(function(){T(e,t,n,r-1)})}).catch(n);n(i)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var C={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=f[n.name];i||(i=M(),f[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=E);var a=[];function s(){return o.resolve()}for(var l=0;l<i.forages.length;l++){var u=i.forages[l];u!==t&&a.push(u._initReady().catch(s))}var c=i.forages.slice(0);return o.all(a).then(function(){return n.db=i.db,y(n,!1)}).then(function(e){return(n.db=e,x(n,t._defaultConfig.version))?y(n,!0):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<c.length;r++){var a=c[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}})},_support:function(){try{if(!i||!i.open)return!1;var e="u">typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"u">typeof indexedDB&&"u">typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){T(n._dbInfo,m,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;w(r)&&(r=S(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},o.onerror=function(){r(o.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new o(function(t,r){n.ready().then(function(){T(n._dbInfo,m,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),w(e)&&(e=S(e)),t(e)},o.onerror=function(){r(o.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var i=new o(function(n,i){var s;r.ready().then(function(){return(s=r._dbInfo,"[object Blob]"===p.call(t))?(function(e){return"boolean"==typeof h?o.resolve(h):new o(function(t){var n=e.transaction(d,g),r=a([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);t(navigator.userAgent.match(/Edge\//)||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1}).then(function(e){return h=e})})(s.db).then(function(e){return e?t:new o(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){e({__local_forage_encoded_blob:!0,data:btoa(n.target.result||""),type:t.type})},r.readAsBinaryString(t)})}):t}).then(function(t){T(r._dbInfo,g,function(a,o){if(a)return i(a);try{var s=o.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return s(i,n),i},removeItem:function(e,t){var n=this;e=u(e);var r=new o(function(t,r){n.ready().then(function(){T(n._dbInfo,g,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(o.error)},a.onabort=function(){var e=o.error?o.error:o.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){T(t._dbInfo,g,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){T(t._dbInfo,m,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new o(function(t,r){e<0?t(null):n.ready().then(function(){T(n._dbInfo,m,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName),s=!1,l=o.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){T(t._dbInfo,m,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var t=a.result;t?(o.push(t.key),t.continue()):e(o)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var a=e.name===r.name&&this._dbInfo.db?o.resolve(this._dbInfo.db):y(e,!1).then(function(t){var n=f[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});n=e.storeName?a.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;v(e);var r=f[e.name],a=r.forages;t.close();for(var s=0;s<a.length;s++){var l=a[s];l._dbInfo.db=null,l._dbInfo.version=n}return new o(function(t,r){var a=i.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,_(n._dbInfo)}}).catch(function(t){throw(b(e,t)||o.resolve()).catch(function(){}),t})}}):a.then(function(t){v(e);var n=f[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;return new o(function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)}).catch(function(t){throw(b(e,t)||o.resolve()).catch(function(){}),t})})}else n=o.reject("Invalid arguments");return s(n,t),n}},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",L=P.length,I="arbf",N="blob",D="si08",U="ui08",k="uic8",O="si16",F="si32",B="ur16",z="ui32",G="fl32",j="fl64",H=L+I.length,V=Object.prototype.toString;function W(e){var t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u=new ArrayBuffer(o),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=A.indexOf(e[t]),r=A.indexOf(e[t+1]),i=A.indexOf(e[t+2]),a=A.indexOf(e[t+3]),c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&a;return u}function q(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=A[n[t]>>2],r+=A[(3&n[t])<<4|n[t+1]>>4],r+=A[(15&n[t+1])<<2|n[t+2]>>6],r+=A[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var X={serialize:function(e,t){var n="";if(e&&(n=V.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===V.call(e.buffer))){var r,i=P;e instanceof ArrayBuffer?(r=e,i+=I):(r=e.buffer,"[object Int8Array]"===n?i+=D:"[object Uint8Array]"===n?i+=U:"[object Uint8ClampedArray]"===n?i+=k:"[object Int16Array]"===n?i+=O:"[object Uint16Array]"===n?i+=B:"[object Int32Array]"===n?i+=F:"[object Uint32Array]"===n?i+=z:"[object Float32Array]"===n?i+=G:"[object Float64Array]"===n?i+=j:t(Error("Failed to get type for BinaryArray"))),t(i+q(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){t(P+N+("~~local_forage_type~"+e.type+"~")+q(this.result))},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,L)!==P)return JSON.parse(e);var t,n=e.substring(H),r=e.substring(L,H);if(r===N&&R.test(n)){var i=n.match(R);t=i[1],n=n.substring(i[0].length)}var o=W(n);switch(r){case I:return o;case N:return a([o],{type:t});case D:return new Int8Array(o);case U:return new Uint8Array(o);case k:return new Uint8ClampedArray(o);case O:return new Int16Array(o);case B:return new Uint16Array(o);case F:return new Int32Array(o);case z:return new Uint32Array(o);case G:return new Float32Array(o);case j:return new Float64Array(o);default:throw Error("Unkown type: "+r)}},stringToBuffer:W,bufferToString:q};function Y(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function K(e,t,n,r,i,a){e.executeSql(n,r,i,function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?a(e,o):Y(e,t,function(){e.executeSql(n,r,i,a)},a)},a):a(e,o)},a)}function $(e,t,n,r){var i=this;e=u(e);var a=new o(function(a,o){i.ready().then(function(){void 0===t&&(t=null);var s=t,l=i._dbInfo;l.serializer.serialize(t,function(t,u){u?o(u):l.db.transaction(function(n){K(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){a(s)},function(e,t){o(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void a($.apply(i,[e,s,n,r-1]));o(t)}})})}).catch(o)});return s(a,n),a}var Z={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new o(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){Y(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=X,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){K(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var a=r.rows,o=a.length,s=0;s<o;s++){var l=a.item(s),u=l.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,l.key,s+1)))return void t(u)}t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){K(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){return $.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=u(e);var r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){K(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){K(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){K(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){e(n.rows.item(0).c)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){K(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){t(n.rows.length?n.rows.item(0).key:null)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){K(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n,r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var i=this;return s(n=e.name?new o(function(t){var n;(n=e.name===r.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName)?t({db:n,storeNames:[e.storeName]}):t(new o(function(e,t){n.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,r){for(var i=[],a=0;a<r.rows.length;a++)i.push(r.rows.item(a).name);e({db:n,storeNames:i})},function(e,n){t(n)})},function(e){t(e)})}))}).then(function(e){return new o(function(t,n){e.db.transaction(function(r){for(var i=[],a=0,s=e.storeNames.length;a<s;a++)i.push(function(e){return new o(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}(e.storeNames[a]));o.all(i).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):o.reject("Invalid arguments"),t),n}};function Q(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var J={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return(t.keyPrefix=Q(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0)?(this._dbInfo=t,t.serializer=X,o.resolve()):o.reject()},_support:function(){try{return"u">typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,a=localStorage.length,o=1,s=0;s<a;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var u=localStorage.getItem(l);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,l.substring(i),o++)))return u}}});return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return s(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new o(function(i,a){var o=r._dbInfo;o.serializer.serialize(t,function(t,r){if(r)a(r);else try{localStorage.setItem(o.keyPrefix+e,t),i(n)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&a(e),a(e)}})})});return s(i,n),i},removeItem:function(e,t){var n=this;e=u(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return s(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return s(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return s(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r});return s(n,e),n},dropInstance:function(e,t){if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n,r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var i=this;return s(n=e.name?new o(function(t){t(e.storeName?Q(e,i._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):o.reject("Invalid arguments"),t),n}},ee=function(e,t){for(var n,r=e.length,i=0;i<r;){if((n=e[i])===t||"number"==typeof n&&"number"==typeof t&&isNaN(n)&&isNaN(t))return!0;i++}return!1},et=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},en={},er={},ei={INDEXEDDB:C,WEBSQL:Z,LOCALSTORAGE:J},ea=[ei.INDEXEDDB._driver,ei.WEBSQL._driver,ei.LOCALSTORAGE._driver],eo=["dropInstance"],es=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(eo),el={description:"",driver:ea.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function eu(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(et(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}t.exports=new(function(){function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");for(var n in ei)if(ei.hasOwnProperty(n)){var r=ei[n],i=r._driver;this[n]=i,en[i]||this.defineDriver(r)}this._defaultConfig=eu({},el),this._config=eu({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if((void 0===e?"undefined":r(e))==="object"){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new o(function(t,n){try{var r=e._driver,i=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=es.concat("_initStorage"),l=0,u=a.length;l<u;l++){var c=a[l];if((!ee(eo,c)||e[c])&&"function"!=typeof e[c])return void n(i)}for(var d=function(e){return function(){var t=Error("Method "+e+" is not implemented by the current driver"),n=o.reject(t);return s(n,arguments[arguments.length-1]),n}},h=0,f=eo.length;h<f;h++){var p=eo[h];e[p]||(e[p]=d(p))}var m=function(n){en[r]&&console.info("Redefining LocalForage driver: "+r),en[r]=e,er[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(m,n):m(!!e._support):m(!0)}catch(e){n(e)}});return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=en[e]?o.resolve(en[e]):o.reject(Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=o.resolve(X);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;et(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function s(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch(function(){return o.resolve()}):o.resolve();return this._driverSet=u.then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(){var e=0;return function t(){for(;e<i.length;){var n=i[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(n).then(s).catch(t)}a();var l=Error("No available storage method found.");return r._driverSet=o.reject(l),r._driverSet}()}})}).catch(function(){a();var e=Error("No available storage method found.");return r._driverSet=o.reject(e),r._driverSet}),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!er[e]},e.prototype._extend=function(e){eu(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=es.length;e<t;e++)!function(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}(this,es[e])},e.prototype.createInstance=function(t){return new e(t)},e}())},{3:3}]},{},[4])(4)},5141,e=>{"use strict";let t,n,r,i,a,o,s,l,u,c,d,h,f,p;var m,g,v,_,b,y,x,S,w=e.i(58018),E=e.i(13140),T=e.i(6407),M=e.i(90072),C=M;function A(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0===t||null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function R(e){let t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);let r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){let e=t.get(n);(!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version});return}let i=t.get(n);if(void 0===i)t.set(n,function(t,n){let r,i=t.array,a=t.usage,o=i.byteLength,s=e.createBuffer();if(e.bindBuffer(n,s),e.bufferData(n,i,a),t.onUploadCallback(),i instanceof Float32Array)r=e.FLOAT;else if("u">typeof Float16Array&&i instanceof Float16Array)r=e.HALF_FLOAT;else if(i instanceof Uint16Array)r=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)r=e.SHORT;else if(i instanceof Uint32Array)r=e.UNSIGNED_INT;else if(i instanceof Int32Array)r=e.INT;else if(i instanceof Int8Array)r=e.BYTE;else if(i instanceof Uint8Array)r=e.UNSIGNED_BYTE;else if(i instanceof Uint8ClampedArray)r=e.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);return{buffer:s,type:r,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){let i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){let n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):a[++t]=r}a.length=t+1;for(let t=0,n=a.length;t<n;t++){let n=a[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}let P={alphahash_fragment:"#ifdef USE_ALPHAHASH\n	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n	const float ALPHA_HASH_SCALE = 0.05;\n	float hash2D( vec2 value ) {\n		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n	}\n	float hash3D( vec3 value ) {\n		return hash2D( vec2( hash2D( value.xy ), value.z ) );\n	}\n	float getAlphaHashThreshold( vec3 position ) {\n		float maxDeriv = max(\n			length( dFdx( position.xyz ) ),\n			length( dFdy( position.xyz ) )\n		);\n		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n		vec2 pixScales = vec2(\n			exp2( floor( log2( pixScale ) ) ),\n			exp2( ceil( log2( pixScale ) ) )\n		);\n		vec2 alpha = vec2(\n			hash3D( floor( pixScales.x * position.xyz ) ),\n			hash3D( floor( pixScales.y * position.xyz ) )\n		);\n		float lerpFactor = fract( log2( pixScale ) );\n		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n		float a = min( lerpFactor, 1.0 - lerpFactor );\n		vec3 cases = vec3(\n			x * x / ( 2.0 * a * ( 1.0 - a ) ),\n			( x - 0.5 * a ) / ( 1.0 - a ),\n			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n		);\n		float threshold = ( x < ( 1.0 - a ) )\n			? ( ( x < a ) ? cases.x : cases.y )\n			: cases.z;\n		return clamp( threshold , 1.0e-6, 1.0 );\n	}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n	#ifdef ALPHA_TO_COVERAGE\n	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n	if ( diffuseColor.a == 0.0 ) discard;\n	#else\n	if ( diffuseColor.a < alphaTest ) discard;\n	#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_CLEARCOAT ) \n		clearcoatSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_SHEEN ) \n		sheenSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n	#if ! defined( GL_ANGLE_multi_draw )\n	#define gl_DrawID _gl_DrawID\n	uniform int _gl_DrawID;\n	#endif\n	uniform highp sampler2D batchingTexture;\n	uniform highp usampler2D batchingIdTexture;\n	mat4 getBatchingMatrix( const in float i ) {\n		int size = textureSize( batchingTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n	float getIndirectIndex( const in int i ) {\n		int size = textureSize( batchingIdTexture, 0 ).x;\n		int x = i % size;\n		int y = i / size;\n		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n	}\n#endif\n#ifdef USE_BATCHING_COLOR\n	uniform sampler2D batchingColorTexture;\n	vec3 getBatchingColor( const in float i ) {\n		int size = textureSize( batchingColorTexture, 0 ).x;\n		int j = int( i );\n		int x = j % size;\n		int y = j / size;\n		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n	}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n	vPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#ifdef ALPHA_TO_COVERAGE\n		float distanceToPlane, distanceGradient;\n		float clipOpacity = 1.0;\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n			distanceGradient = fwidth( distanceToPlane ) / 2.0;\n			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			if ( clipOpacity == 0.0 ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			float unionClipOpacity = 1.0;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n				distanceGradient = fwidth( distanceToPlane ) / 2.0;\n				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			}\n			#pragma unroll_loop_end\n			clipOpacity *= 1.0 - unionClipOpacity;\n		#endif\n		diffuseColor.a *= clipOpacity;\n		if ( diffuseColor.a == 0.0 ) discard;\n	#else\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			bool clipped = true;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n			}\n			#pragma unroll_loop_end\n			if ( clipped ) discard;\n		#endif\n	#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n	varying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n	vColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n	varying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n	vec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n	mat3 bm = mat3( batchingMatrix );\n	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n	transformedNormal = bm * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = bm * transformedTangent;\n	#endif\n#endif\n#ifdef USE_INSTANCING\n	mat3 im = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n	transformedNormal = im * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = im * transformedTangent;\n	#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n		emissiveColor = sRGBTransferEOTF( emissiveColor );\n	#endif\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n	return value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	uniform mat3 envMapRotation;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	#ifdef USE_ANISOTROPY\n		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n			#ifdef ENVMAP_TYPE_CUBE_UV\n				vec3 bentNormal = cross( bitangent, viewDir );\n				bentNormal = normalize( cross( bentNormal, bitangent ) );\n				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n				return getIBLRadiance( viewDir, bentNormal, roughness );\n			#else\n				return vec3( 0.0 );\n			#endif\n		}\n	#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n	uniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n	if ( cutoffDistance > 0.0 ) {\n		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n	}\n	return distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.metalness = metalnessFactor;\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;\n	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = vec3( 0.04 );\n	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n	material.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	#ifdef USE_ANISOTROPYMAP\n		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n	#else\n		vec2 anisotropyV = anisotropyVector;\n	#endif\n	material.anisotropy = length( anisotropyV );\n	if( material.anisotropy == 0.0 ) {\n		anisotropyV = vec2( 1.0, 0.0 );\n	} else {\n		anisotropyV /= material.anisotropy;\n		material.anisotropy = saturate( material.anisotropy );\n	}\n	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"uniform sampler2D dfgLUT;\nstruct PhysicalMaterial {\n	vec3 diffuseColor;\n	vec3 diffuseContribution;\n	vec3 specularColor;\n	vec3 specularColorBlended;\n	float roughness;\n	float metalness;\n	float specularF90;\n	float dispersion;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n		vec3 iridescenceFresnelDielectric;\n		vec3 iridescenceFresnelMetallic;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n	#ifdef USE_ANISOTROPY\n		float anisotropy;\n		float alphaT;\n		vec3 anisotropyT;\n		vec3 anisotropyB;\n	#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n		float v = 0.5 / ( gv + gl );\n		return v;\n	}\n	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n		float a2 = alphaT * alphaB;\n		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n		highp float v2 = dot( v, v );\n		float w2 = a2 / v2;\n		return RECIPROCAL_PI * a2 * pow2 ( w2 );\n	}\n#endif\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColorBlended;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	#ifdef USE_ANISOTROPY\n		float dotTL = dot( material.anisotropyT, lightDir );\n		float dotTV = dot( material.anisotropyT, viewDir );\n		float dotTH = dot( material.anisotropyT, halfDir );\n		float dotBL = dot( material.anisotropyB, lightDir );\n		float dotBV = dot( material.anisotropyB, viewDir );\n		float dotBH = dot( material.anisotropyB, halfDir );\n		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n	#else\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n	#endif\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float rInv = 1.0 / ( roughness + 0.1 );\n	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;\n	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;\n	float DG = exp( a * dotNV + b );\n	return saturate( DG );\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	float dotNV = saturate( dot( normal, viewDir ) );\n	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\nvec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;\n	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;\n	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;\n	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;\n	float Ess_V = dfgV.x + dfgV.y;\n	float Ess_L = dfgL.x + dfgL.y;\n	float Ems_V = 1.0 - Ess_V;\n	float Ems_L = 1.0 - Ess_L;\n	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;\n	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );\n	float compensationFactor = Ems_V * Ems_L;\n	vec3 multiScatter = Fms * compensationFactor;\n	return singleScatter + multiScatter;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometryNormal;\n		vec3 viewDir = geometryViewDir;\n		vec3 position = geometryPosition;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n \n 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n \n 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );\n \n 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );\n \n 		irradiance *= sheenEnergyComp;\n \n 	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );\n	#ifdef USE_SHEEN\n		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n		diffuse *= sheenEnergyComp;\n	#endif\n	reflectedLight.indirectDiffuse += diffuse;\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;\n 	#endif\n	vec3 singleScatteringDielectric = vec3( 0.0 );\n	vec3 multiScatteringDielectric = vec3( 0.0 );\n	vec3 singleScatteringMetallic = vec3( 0.0 );\n	vec3 multiScatteringMetallic = vec3( 0.0 );\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n	#else\n		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n	#endif\n	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );\n	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );\n	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;\n	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	vec3 indirectSpecular = radiance * singleScattering;\n	indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;\n	#ifdef USE_SHEEN\n		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n		indirectSpecular *= sheenEnergyComp;\n		indirectDiffuse *= sheenEnergyComp;\n	#endif\n	reflectedLight.indirectSpecular += indirectSpecular;\n	reflectedLight.indirectDiffuse += indirectDiffuse;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n	geometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometryViewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );\n		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometryPosition, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometryPosition, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if defined( USE_LIGHT_PROBES )\n		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometryNormal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	#ifdef USE_ANISOTROPY\n		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n	#else\n		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n	#endif\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n	vFragDepth = 1.0 + gl_Position.w;\n	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n	float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n	}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n	}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	#ifndef USE_INSTANCING_MORPH\n		uniform float morphTargetBaseInfluence;\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n	#endif\n	uniform sampler2DArray morphTargetsTexture;\n	uniform ivec2 morphTargetsTextureSize;\n	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n		int y = texelIndex / morphTargetsTextureSize.x;\n		int x = texelIndex - y * morphTargetsTextureSize.x;\n		ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n		return texelFetch( morphTargetsTexture, morphUV, 0 );\n	}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n	}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal,\n		#if defined( USE_NORMALMAP )\n			vNormalMapUv\n		#elif defined( USE_CLEARCOAT_NORMALMAP )\n			vClearcoatNormalMapUv\n		#else\n			vUv\n		#endif\n		);\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n	if( v <= 0.0 )\n		return vec4( 0., 0., 0., 0. );\n	if( v >= 1.0 )\n		return vec4( 1., 1., 1., 1. );\n	float vuf;\n	float af = modf( v * PackFactors.a, vuf );\n	float bf = modf( vuf * ShiftRight8, vuf );\n	float gf = modf( vuf * ShiftRight8, vuf );\n	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n	if( v <= 0.0 )\n		return vec3( 0., 0., 0. );\n	if( v >= 1.0 )\n		return vec3( 1., 1., 1. );\n	float vuf;\n	float bf = modf( v * PackFactors.b, vuf );\n	float gf = modf( vuf * ShiftRight8, vuf );\n	return vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n	if( v <= 0.0 )\n		return vec2( 0., 0. );\n	if( v >= 1.0 )\n		return vec2( 1., 1. );\n	float vuf;\n	float gf = modf( v * 256., vuf );\n	return vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n	return dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n	mvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#if defined( SHADOWMAP_TYPE_PCF )\n			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		#else\n			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		#endif\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		#if defined( SHADOWMAP_TYPE_PCF )\n			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		#else\n			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		#endif\n		struct SpotLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#if defined( SHADOWMAP_TYPE_PCF )\n			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		#elif defined( SHADOWMAP_TYPE_BASIC )\n			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		#endif\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	#if defined( SHADOWMAP_TYPE_PCF )\n		float interleavedGradientNoise( vec2 position ) {\n			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );\n		}\n		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {\n			const float goldenAngle = 2.399963229728653;\n			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );\n			float theta = float( sampleIndex ) * goldenAngle + phi;\n			return vec2( cos( theta ), sin( theta ) ) * r;\n		}\n	#endif\n	#if defined( SHADOWMAP_TYPE_PCF )\n		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n			float shadow = 1.0;\n			shadowCoord.xyz /= shadowCoord.w;\n			shadowCoord.z += shadowBias;\n			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n			if ( frustumTest ) {\n				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n				float radius = shadowRadius * texelSize.x;\n				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;\n				shadow = (\n					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +\n					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +\n					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +\n					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +\n					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )\n				) * 0.2;\n			}\n			return mix( 1.0, shadow, shadowIntensity );\n		}\n	#elif defined( SHADOWMAP_TYPE_VSM )\n		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n			float shadow = 1.0;\n			shadowCoord.xyz /= shadowCoord.w;\n			shadowCoord.z += shadowBias;\n			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n			if ( frustumTest ) {\n				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;\n				float mean = distribution.x;\n				float variance = distribution.y * distribution.y;\n				#ifdef USE_REVERSED_DEPTH_BUFFER\n					float hard_shadow = step( mean, shadowCoord.z );\n				#else\n					float hard_shadow = step( shadowCoord.z, mean );\n				#endif\n				if ( hard_shadow == 1.0 ) {\n					shadow = 1.0;\n				} else {\n					variance = max( variance, 0.0000001 );\n					float d = shadowCoord.z - mean;\n					float p_max = variance / ( variance + d * d );\n					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );\n					shadow = max( hard_shadow, p_max );\n				}\n			}\n			return mix( 1.0, shadow, shadowIntensity );\n		}\n	#else\n		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n			float shadow = 1.0;\n			shadowCoord.xyz /= shadowCoord.w;\n			shadowCoord.z += shadowBias;\n			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n			if ( frustumTest ) {\n				float depth = texture2D( shadowMap, shadowCoord.xy ).r;\n				#ifdef USE_REVERSED_DEPTH_BUFFER\n					shadow = step( depth, shadowCoord.z );\n				#else\n					shadow = step( shadowCoord.z, depth );\n				#endif\n			}\n			return mix( 1.0, shadow, shadowIntensity );\n		}\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	#if defined( SHADOWMAP_TYPE_PCF )\n	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		float shadow = 1.0;\n		vec3 lightToPosition = shadowCoord.xyz;\n		vec3 bd3D = normalize( lightToPosition );\n		vec3 absVec = abs( lightToPosition );\n		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n			dp += shadowBias;\n			float texelSize = shadowRadius / shadowMapSize.x;\n			vec3 absDir = abs( bd3D );\n			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );\n			tangent = normalize( cross( bd3D, tangent ) );\n			vec3 bitangent = cross( bd3D, tangent );\n			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;\n			shadow = (\n				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +\n				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +\n				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +\n				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +\n				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )\n			) * 0.2;\n		}\n		return mix( 1.0, shadow, shadowIntensity );\n	}\n	#elif defined( SHADOWMAP_TYPE_BASIC )\n	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		float shadow = 1.0;\n		vec3 lightToPosition = shadowCoord.xyz;\n		vec3 bd3D = normalize( lightToPosition );\n		vec3 absVec = abs( lightToPosition );\n		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n			dp += shadowBias;\n			float depth = textureCube( shadowMap, bd3D ).r;\n			#ifdef USE_REVERSED_DEPTH_BUFFER\n				shadow = step( depth, dp );\n			#else\n				shadow = step( dp, depth );\n			#endif\n		}\n		return mix( 1.0, shadow, shadowIntensity );\n	}\n	#endif\n	#endif\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowIntensity;\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	mat4 getBoneMatrix( const in float i ) {\n		int size = textureSize( boneTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n	vec3( 1.6605, - 0.1246, - 0.0182 ),\n	vec3( - 0.5876, 1.1329, - 0.1006 ),\n	vec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n	vec3( 0.6274, 0.0691, 0.0164 ),\n	vec3( 0.3293, 0.9195, 0.0880 ),\n	vec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n	vec3 x2 = x * x;\n	vec3 x4 = x2 * x2;\n	return + 15.5 * x4 * x2\n		- 40.14 * x4 * x\n		+ 31.96 * x4\n		- 6.868 * x2 * x\n		+ 0.4298 * x2\n		+ 0.1191 * x\n		- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n	const mat3 AgXInsetMatrix = mat3(\n		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n	);\n	const mat3 AgXOutsetMatrix = mat3(\n		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n	);\n	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;\n	color *= toneMappingExposure;\n	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n	color = AgXInsetMatrix * color;\n	color = max( color, 1e-10 );	color = log2( color );\n	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n	color = clamp( color, 0.0, 1.0 );\n	color = agxDefaultContrastApprox( color );\n	color = AgXOutsetMatrix * color;\n	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n	color = clamp( color, 0.0, 1.0 );\n	return color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n	const float StartCompression = 0.8 - 0.04;\n	const float Desaturation = 0.15;\n	color *= toneMappingExposure;\n	float x = min( color.r, min( color.g, color.b ) );\n	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n	color -= offset;\n	float peak = max( color.r, max( color.g, color.b ) );\n	if ( peak < StartCompression ) return color;\n	float d = 1. - StartCompression;\n	float newPeak = 1. - d * d / ( peak + d - StartCompression );\n	color *= newPeak / peak;\n	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n	return mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmitted = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return vec3( 1.0 );\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec4 transmittedLight;\n		vec3 transmittance;\n		#ifdef USE_DISPERSION\n			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n			for ( int i = 0; i < 3; i ++ ) {\n				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n				vec3 refractedRayExit = position + transmissionRay;\n				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n				vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n				refractionCoords += 1.0;\n				refractionCoords /= 2.0;\n				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n				transmittedLight[ i ] = transmissionSample[ i ];\n				transmittedLight.a += transmissionSample.a;\n				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n			}\n			transmittedLight.a /= 3.0;\n		#else\n			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n			vec3 refractedRayExit = position + transmissionRay;\n			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n			vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n			refractionCoords += 1.0;\n			refractionCoords /= 2.0;\n			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n		#endif\n		vec3 attenuatedColor = transmittance * transmittedLight.rgb;\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n	}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	uniform mat3 anisotropyMapTransform;\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_BATCHING\n		worldPosition = batchingMatrix * worldPosition;\n	#endif\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <logdepthbuf_fragment>\n	#ifdef USE_REVERSED_DEPTH_BUFFER\n		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n	#else\n		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n	#endif\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#elif DEPTH_PACKING == 3202\n		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n	#elif DEPTH_PACKING == 3203\n		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n	#endif\n}",distance_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distance_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n	uniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	uniform vec2 anisotropyVector;\n	#ifdef USE_ANISOTROPYMAP\n		uniform sampler2D anisotropyMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n \n		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;\n \n 	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n	#endif\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix[ 3 ];\n	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}"},L={common:{diffuse:{value:new C.Color(0xffffff)},opacity:{value:1},map:{value:null},mapTransform:{value:new C.Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new C.Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new C.Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new C.Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new C.Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new C.Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new C.Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new C.Matrix3},normalScale:{value:new C.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new C.Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new C.Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new C.Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new C.Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new C.Color(0xffffff)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new C.Color(0xffffff)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new C.Matrix3},alphaTest:{value:0},uvTransform:{value:new C.Matrix3}},sprite:{diffuse:{value:new C.Color(0xffffff)},opacity:{value:1},center:{value:new C.Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new C.Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new C.Matrix3},alphaTest:{value:0}}},I={basic:{uniforms:(0,C.mergeUniforms)([L.common,L.specularmap,L.envmap,L.aomap,L.lightmap,L.fog]),vertexShader:P.meshbasic_vert,fragmentShader:P.meshbasic_frag},lambert:{uniforms:(0,C.mergeUniforms)([L.common,L.specularmap,L.envmap,L.aomap,L.lightmap,L.emissivemap,L.bumpmap,L.normalmap,L.displacementmap,L.fog,L.lights,{emissive:{value:new C.Color(0)}}]),vertexShader:P.meshlambert_vert,fragmentShader:P.meshlambert_frag},phong:{uniforms:(0,C.mergeUniforms)([L.common,L.specularmap,L.envmap,L.aomap,L.lightmap,L.emissivemap,L.bumpmap,L.normalmap,L.displacementmap,L.fog,L.lights,{emissive:{value:new C.Color(0)},specular:{value:new C.Color(1118481)},shininess:{value:30}}]),vertexShader:P.meshphong_vert,fragmentShader:P.meshphong_frag},standard:{uniforms:(0,C.mergeUniforms)([L.common,L.envmap,L.aomap,L.lightmap,L.emissivemap,L.bumpmap,L.normalmap,L.displacementmap,L.roughnessmap,L.metalnessmap,L.fog,L.lights,{emissive:{value:new C.Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:P.meshphysical_vert,fragmentShader:P.meshphysical_frag},toon:{uniforms:(0,C.mergeUniforms)([L.common,L.aomap,L.lightmap,L.emissivemap,L.bumpmap,L.normalmap,L.displacementmap,L.gradientmap,L.fog,L.lights,{emissive:{value:new C.Color(0)}}]),vertexShader:P.meshtoon_vert,fragmentShader:P.meshtoon_frag},matcap:{uniforms:(0,C.mergeUniforms)([L.common,L.bumpmap,L.normalmap,L.displacementmap,L.fog,{matcap:{value:null}}]),vertexShader:P.meshmatcap_vert,fragmentShader:P.meshmatcap_frag},points:{uniforms:(0,C.mergeUniforms)([L.points,L.fog]),vertexShader:P.points_vert,fragmentShader:P.points_frag},dashed:{uniforms:(0,C.mergeUniforms)([L.common,L.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:P.linedashed_vert,fragmentShader:P.linedashed_frag},depth:{uniforms:(0,C.mergeUniforms)([L.common,L.displacementmap]),vertexShader:P.depth_vert,fragmentShader:P.depth_frag},normal:{uniforms:(0,C.mergeUniforms)([L.common,L.bumpmap,L.normalmap,L.displacementmap,{opacity:{value:1}}]),vertexShader:P.meshnormal_vert,fragmentShader:P.meshnormal_frag},sprite:{uniforms:(0,C.mergeUniforms)([L.sprite,L.fog]),vertexShader:P.sprite_vert,fragmentShader:P.sprite_frag},background:{uniforms:{uvTransform:{value:new C.Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:P.background_vert,fragmentShader:P.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new C.Matrix3}},vertexShader:P.backgroundCube_vert,fragmentShader:P.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:P.cube_vert,fragmentShader:P.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:P.equirect_vert,fragmentShader:P.equirect_frag},distance:{uniforms:(0,C.mergeUniforms)([L.common,L.displacementmap,{referencePosition:{value:new C.Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:P.distance_vert,fragmentShader:P.distance_frag},shadow:{uniforms:(0,C.mergeUniforms)([L.lights,L.fog,{color:{value:new C.Color(0)},opacity:{value:1}}]),vertexShader:P.shadow_vert,fragmentShader:P.shadow_frag}};I.physical={uniforms:(0,C.mergeUniforms)([I.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new C.Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new C.Matrix3},clearcoatNormalScale:{value:new C.Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new C.Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new C.Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new C.Matrix3},sheen:{value:0},sheenColor:{value:new C.Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new C.Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new C.Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new C.Matrix3},transmissionSamplerSize:{value:new C.Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new C.Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new C.Color(0)},specularColor:{value:new C.Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new C.Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new C.Matrix3},anisotropyVector:{value:new C.Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new C.Matrix3}}]),vertexShader:P.meshphysical_vert,fragmentShader:P.meshphysical_frag};let N={r:0,b:0,g:0},D=new C.Euler,U=new C.Matrix4;function k(e,t,n,r,i,a,o){let s,l,u=new C.Color(0),c=+(!0!==a),d=null,h=0,f=null;function p(e){let r=!0===e.isScene?e.background:null;return r&&r.isTexture&&(r=(e.backgroundBlurriness>0?n:t).get(r)),r}function m(t,n){t.getRGB(N,(0,C.getUnlitUniformColorSpace)(e)),r.buffers.color.setClear(N.r,N.g,N.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e,t=1){u.set(e),m(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){m(u,c=e)},render:function(t){let n=!1,i=p(t);null===i?m(u,c):i&&i.isColor&&(m(i,1),n=!0);let a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){let r=p(n);r&&(r.isCubeTexture||r.mapping===C.CubeUVReflectionMapping)?(void 0===l&&((l=new C.Mesh(new C.BoxGeometry(1,1,1),new C.ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:(0,C.cloneUniforms)(I.backgroundCube.uniforms),vertexShader:I.backgroundCube.vertexShader,fragmentShader:I.backgroundCube.fragmentShader,side:C.BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),D.copy(n.backgroundRotation),D.x*=-1,D.y*=-1,D.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(D.y*=-1,D.z*=-1),l.material.uniforms.envMap.value=r,l.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.uniforms.backgroundRotation.value.setFromMatrix4(U.makeRotationFromEuler(D)),l.material.toneMapped=C.ColorManagement.getTransfer(r.colorSpace)!==C.SRGBTransfer,(d!==r||h!==r.version||f!==e.toneMapping)&&(l.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null)):r&&r.isTexture&&(void 0===s&&((s=new C.Mesh(new C.PlaneGeometry(2,2),new C.ShaderMaterial({name:"BackgroundMaterial",uniforms:(0,C.cloneUniforms)(I.background.uniforms),vertexShader:I.background.vertexShader,fragmentShader:I.background.fragmentShader,side:C.FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=r,s.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,s.material.toneMapped=C.ColorManagement.getTransfer(r.colorSpace)!==C.SRGBTransfer,!0===r.matrixAutoUpdate&&r.updateMatrix(),s.material.uniforms.uvTransform.value.copy(r.matrix),(d!==r||h!==r.version||f!==e.toneMapping)&&(s.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),s.layers.enableAll(),t.unshift(s,s.geometry,s.material,0,0,null))},dispose:function(){void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0),void 0!==s&&(s.geometry.dispose(),s.material.dispose(),s=void 0)}}}function O(e,t){let n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=u(null),a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function u(e){let t=[],r=[],i=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function c(){let e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){let r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function f(){let t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function m(){g(),o=!0,a!==i&&s((a=i).object)}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){var v,_;let b,y,x,S,w=!1,E=(v=m,_=l,b=!0===i.wireframe,void 0===(y=r[v.id])&&(y={},r[v.id]=y),void 0===(x=y[_.id])&&(x={},y[_.id]=x),void 0===(S=x[b])&&(S=u(e.createVertexArray()),x[b]=S),S);a!==E&&s((a=E).object),(w=function(e,t,n,r){let i=a.attributes,o=t.attributes,s=0,l=n.getAttributes();for(let t in l)if(l[t].location>=0){let n=i[t],r=o[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n||n.attribute!==r||r&&n.data!==r.data)return!0;s++}return a.attributesNum!==s||a.index!==r}(n,m,l,g))&&function(e,t,n,r){let i={},o=t.attributes,s=0,l=n.getAttributes();for(let t in l)if(l[t].location>=0){let n=o[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));let r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,s++}a.attributes=i,a.attributesNum=s,a.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(w||o)&&(o=!1,function(n,r,i,a){c();let o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(let r in s){let i=s[r];if(i.location>=0){let s=o[r];if(void 0===s&&("instanceMatrix"===r&&n.instanceMatrix&&(s=n.instanceMatrix),"instanceColor"===r&&n.instanceColor&&(s=n.instanceColor)),void 0!==s){let r=s.normalized,o=s.itemSize,l=t.get(s);if(void 0===l)continue;let u=l.buffer,c=l.type,f=l.bytesPerElement,m=c===e.INT||c===e.UNSIGNED_INT||s.gpuType===C.IntType;if(s.isInterleavedBufferAttribute){let t=s.data,l=t.stride,g=s.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)h(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)p(i.location+e,o/i.locationSize,c,r,l*f,(g+o/i.locationSize*e)*f,m)}else{if(s.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)h(i.location+e,s.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)p(i.location+e,o/i.locationSize,c,r,o*f,o/i.locationSize*e*f,m)}}else if(void 0!==l){let t=l[r];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}f()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){for(let e in m(),r){let t=r[e];for(let e in t){let n=t[e];for(let e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;let t=r[e.id];for(let e in t){let n=t[e];for(let e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e.id]},releaseStatesOfProgram:function(e){for(let t in r){let n=r[t];if(void 0===n[e.id])continue;let i=n[e.id];for(let e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:c,enableAttribute:d,disableUnusedAttributes:f}}function F(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let e=0;e<a;e++)o+=i[e];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;let l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function B(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp",s=a(o);return s!==o&&((0,C.warn)("WebGLRenderer:",o,"not supported, using",s,"instead."),o=s),{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){let n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===C.RGBAFormat||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){let i=n===C.HalfFloatType&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return n===C.UnsignedByteType||r.convert(n)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)||n===C.FloatType||!!i},precision:o,logarithmicDepthBuffer:!0===n.logarithmicDepthBuffer,reversedDepthBuffer:!0===n.reversedDepthBuffer&&t.has("EXT_clip_control"),maxTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxSamples:e.getParameter(e.MAX_SAMPLES),samples:e.getParameter(e.SAMPLES)}}function z(e){let t=this,n=null,r=0,i=!1,a=!1,o=new C.Plane,s=new C.Matrix3,l={value:null,needsUpdate:!1};function u(e,n,r,i){let a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){let t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<t)&&(u=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(u,n),u[n+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){let n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){let d=o.clippingPlanes,h=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(i&&null!==d&&0!==d.length&&(!a||f)){let e=a?0:r,t=4*e,i=p.clippingState||null;l.value=i,i=u(d,s,t,c);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}else a?u(null):(l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0)}}function G(e){let t=new WeakMap;function n(e,t){return t===C.EquirectangularReflectionMapping?e.mapping=C.CubeReflectionMapping:t===C.EquirectangularRefractionMapping&&(e.mapping=C.CubeRefractionMapping),e}function r(e){let n=e.target;n.removeEventListener("dispose",r);let i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){let a=i.mapping;if(a===C.EquirectangularReflectionMapping||a===C.EquirectangularRefractionMapping)if(t.has(i))return n(t.get(i).texture,i.mapping);else{let a=i.image;if(!a||!(a.height>0))return null;{let o=new C.WebGLCubeRenderTarget(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}}}return i},dispose:function(){t=new WeakMap}}}let j=[.125,.215,.35,.446,.526,.582],H=new C.OrthographicCamera,V=new C.Color,W=null,q=0,X=0,Y=!1,K=new C.Vector3;class ${constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,i={}){let{size:a=256,position:o=K}=i;W=this._renderer.getRenderTarget(),q=this._renderer.getActiveCubeFace(),X=this._renderer.getActiveMipmapLevel(),Y=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=ee(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=J(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._ggxMaterial&&this._ggxMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(W,q,X),this._renderer.xr.enabled=Y,e.scissorTest=!1,Q(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===C.CubeReflectionMapping||e.mapping===C.CubeRefractionMapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),W=this._renderer.getRenderTarget(),q=this._renderer.getActiveCubeFace(),X=this._renderer.getActiveMipmapLevel(),Y=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:C.LinearFilter,minFilter:C.LinearFilter,generateMipmaps:!1,type:C.HalfFloatType,format:C.RGBAFormat,colorSpace:C.LinearSRGBColorSpace,depthBuffer:!1},r=Z(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){var i,a,o,s,l,u;let r,c;null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Z(e,t,n);let{_lodMax:d}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=function(e){let t=[],n=[],r=[],i=e,a=e-4+1+j.length;for(let o=0;o<a;o++){let a=Math.pow(2,i);t.push(a);let s=1/a;o>e-4?s=j[o-e+4-1]:0===o&&(s=0),n.push(s);let l=1/(a-2),u=-l,c=1+l,d=[u,u,c,u,c,c,u,u,c,c,u,c],h=new Float32Array(108),f=new Float32Array(72),p=new Float32Array(36);for(let e=0;e<6;e++){let t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];h.set(r,18*e),f.set(d,12*e);let i=[e,e,e,e,e,e];p.set(i,6*e)}let m=new C.BufferGeometry;m.setAttribute("position",new C.BufferAttribute(h,3)),m.setAttribute("uv",new C.BufferAttribute(f,2)),m.setAttribute("faceIndex",new C.BufferAttribute(p,1)),r.push(new C.Mesh(m,null)),i>4&&i--}return{lodMeshes:r,sizeLods:t,sigmas:n}}(d)),this._blurMaterial=(i=d,a=e,o=t,r=new Float32Array(20),c=new C.Vector3(0,1,0),new C.ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/o,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c}},vertexShader:et(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:C.NoBlending,depthTest:!1,depthWrite:!1})),this._ggxMaterial=(s=d,l=e,u=t,new C.ShaderMaterial({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:256,CUBEUV_TEXEL_WIDTH:1/l,CUBEUV_TEXEL_HEIGHT:1/u,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:et(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:C.NoBlending,depthTest:!1,depthWrite:!1}))}return r}_compileMaterial(e){let t=new C.Mesh(new C.BufferGeometry,e);this._renderer.compile(t,H)}_sceneToCubeUV(e,t,n,r,i){let a=new C.PerspectiveCamera(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,c=l.toneMapping;l.getClearColor(V),l.toneMapping=C.NoToneMapping,l.autoClear=!1,l.state.buffers.depth.getReversed()&&(l.setRenderTarget(r),l.clearDepth(),l.setRenderTarget(null)),null===this._backgroundBox&&(this._backgroundBox=new C.Mesh(new C.BoxGeometry,new C.MeshBasicMaterial({name:"PMREM.Background",side:C.BackSide,depthWrite:!1,depthTest:!1})));let d=this._backgroundBox,h=d.material,f=!1,p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,f=!0):(h.color.copy(V),f=!0);for(let t=0;t<6;t++){let n=t%3;0===n?(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+s[t],i.y,i.z)):1===n?(a.up.set(0,0,o[t]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+s[t],i.z)):(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+s[t]));let u=this._cubeSize;Q(r,n*u,t>2?u:0,u,u),l.setRenderTarget(r),f&&l.render(d,a),l.render(e,a)}l.toneMapping=c,l.autoClear=u,e.background=p}_textureToCubeUV(e,t){let n=this._renderer,r=e.mapping===C.CubeReflectionMapping||e.mapping===C.CubeRefractionMapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=ee()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=J());let i=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i,i.uniforms.envMap.value=e;let o=this._cubeSize;Q(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,H)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;let r=this._lodMeshes.length;for(let t=1;t<r;t++)this._applyGGXFilter(e,t-1,t);t.autoClear=n}_applyGGXFilter(e,t,n){let r=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[n];o.material=a;let s=a.uniforms,l=n/(this._lodMeshes.length-1),u=t/(this._lodMeshes.length-1),c=Math.sqrt(l*l-u*u),{_lodMax:d}=this,h=this._sizeLods[n],f=3*h*(n>d-4?n-d+4:0),p=4*(this._cubeSize-h);s.envMap.value=e.texture,s.roughness.value=c*(0+1.25*l),s.mipInt.value=d-t,Q(i,f,p,3*h,2*h),r.setRenderTarget(i),r.render(o,H),s.envMap.value=i.texture,s.roughness.value=0,s.mipInt.value=d-n,Q(e,f,p,3*h,2*h),r.setRenderTarget(e),r.render(o,H)}_blur(e,t,n,r,i){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){let s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&(0,C.error)("blur direction must be either latitudinal or longitudinal!");let u=this._lodMeshes[r];u.material=l;let c=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):20;p>20&&(0,C.warn)(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);let m=[],g=0;for(let e=0;e<20;++e){let t=e/f,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);let{_lodMax:v}=this;c.dTheta.value=h,c.mipInt.value=v-n;let _=this._sizeLods[r],b=4*(this._cubeSize-_);Q(t,3*_*(r>v-4?r-v+4:0),b,3*_,2*_),s.setRenderTarget(t),s.render(u,H)}}function Z(e,t,n){let r=new C.WebGLRenderTarget(e,t,n);return r.texture.mapping=C.CubeUVReflectionMapping,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Q(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function J(){return new C.ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:et(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:C.NoBlending,depthTest:!1,depthWrite:!1})}function ee(){return new C.ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:et(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:C.NoBlending,depthTest:!1,depthWrite:!1})}function et(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function en(e){let t=new WeakMap,n=null;function r(e){let n=e.target;n.removeEventListener("dispose",r);let i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){let a=i.mapping,o=a===C.EquirectangularReflectionMapping||a===C.EquirectangularRefractionMapping,s=a===C.CubeReflectionMapping||a===C.CubeRefractionMapping;if(o||s){let a=t.get(i),l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new $(e)),(a=o?n.fromEquirectangular(i,a):n.fromCubemap(i,a)).texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;{if(void 0!==a)return a.texture;let l=i.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(l)?(null===n&&(n=new $(e)),(a=o?n.fromEquirectangular(i):n.fromCubemap(i)).texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function er(e){let t={};function n(n){if(void 0!==t[n])return t[n];let r=e.getExtension(n);return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){let t=n(e);return null===t&&(0,C.warnOnce)("WebGLRenderer: "+e+" extension not supported."),t}}}function ei(e,t,n,r){let i={},a=new WeakMap;function o(e){let s=e.target;for(let e in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete i[s.id];let l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){let n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){let e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){let r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;let e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){let e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}let s=new((0,C.arrayNeedsUint32)(n)?C.Uint32BufferAttribute:C.Uint16BufferAttribute)(n,1);s.version=o;let l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){let r=n.attributes;for(let n in r)t.update(r[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){let t=a.get(e);if(t){let n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function ea(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let e=0;e<o;e++)s+=a[e];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,u){if(0===l)return;let c=t.get("WEBGL_multi_draw");if(null===c)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],u[t]);else{c.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,u,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*u[e];n.update(t,r,1)}}}function eo(e){let t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=n/3*i;break;case e.LINES:t.lines+=n/2*i;break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:(0,C.error)("WebGLInfo: Unknown draw mode:",r)}}}}function es(e,t,n){let r=new WeakMap,i=new C.Vector4;return{update:function(a,o,s){let l=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,c=void 0!==u?u.length:0,d=r.get(o);if(void 0===d||d.count!==c){void 0!==d&&d.texture.dispose();let e=void 0!==o.morphAttributes.position,n=void 0!==o.morphAttributes.normal,a=void 0!==o.morphAttributes.color,s=o.morphAttributes.position||[],l=o.morphAttributes.normal||[],u=o.morphAttributes.color||[],h=0;!0===e&&(h=1),!0===n&&(h=2),!0===a&&(h=3);let f=o.attributes.position.count*h,p=1;f>t.maxTextureSize&&(p=Math.ceil(f/t.maxTextureSize),f=t.maxTextureSize);let m=new Float32Array(f*p*4*c),g=new C.DataArrayTexture(m,f,p,c);g.type=C.FloatType,g.needsUpdate=!0;let v=4*h;for(let t=0;t<c;t++){let r=s[t],o=l[t],c=u[t],d=f*p*4*t;for(let t=0;t<r.count;t++){let s=t*v;!0===e&&(i.fromBufferAttribute(r,t),m[d+s+0]=i.x,m[d+s+1]=i.y,m[d+s+2]=i.z,m[d+s+3]=0),!0===n&&(i.fromBufferAttribute(o,t),m[d+s+4]=i.x,m[d+s+5]=i.y,m[d+s+6]=i.z,m[d+s+7]=0),!0===a&&(i.fromBufferAttribute(c,t),m[d+s+8]=i.x,m[d+s+9]=i.y,m[d+s+10]=i.z,m[d+s+11]=4===c.itemSize?i.w:1)}}d={count:c,texture:g,size:new C.Vector2(f,p)},r.set(o,d),o.addEventListener("dispose",function e(){g.dispose(),r.delete(o),o.removeEventListener("dispose",e)})}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let t=0;for(let e=0;e<l.length;e++)t+=l[e];let n=o.morphTargetsRelative?1:1-t;s.getUniforms().setValue(e,"morphTargetBaseInfluence",n),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function el(e,t,n,r){let i=new WeakMap;function a(e){let t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){let s=r.render.frame,l=o.geometry,u=t.get(o,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){let e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return u},dispose:function(){i=new WeakMap}}}let eu={[C.LinearToneMapping]:"LINEAR_TONE_MAPPING",[C.ReinhardToneMapping]:"REINHARD_TONE_MAPPING",[C.CineonToneMapping]:"CINEON_TONE_MAPPING",[C.ACESFilmicToneMapping]:"ACES_FILMIC_TONE_MAPPING",[C.AgXToneMapping]:"AGX_TONE_MAPPING",[C.NeutralToneMapping]:"NEUTRAL_TONE_MAPPING",[C.CustomToneMapping]:"CUSTOM_TONE_MAPPING"};function ec(e,t,n,r,i){let a,o=new C.WebGLRenderTarget(t,n,{type:e,depthBuffer:r,stencilBuffer:i}),s=new C.WebGLRenderTarget(t,n,{type:C.HalfFloatType,depthBuffer:!1,stencilBuffer:!1}),l=new C.BufferGeometry;l.setAttribute("position",new C.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),l.setAttribute("uv",new C.Float32BufferAttribute([0,2,0,0,2,0],2));let u=new C.RawShaderMaterial({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new C.Mesh(l,u),d=new C.OrthographicCamera(-1,1,1,-1,0,1),h=null,f=null,p=!1,m=null,g=[],v=!1;this.setSize=function(e,t){o.setSize(e,t),s.setSize(e,t);for(let n=0;n<g.length;n++){let r=g[n];r.setSize&&r.setSize(e,t)}},this.setEffects=function(e){v=(g=e).length>0&&!0===g[0].isRenderPass;let t=o.width,n=o.height;for(let e=0;e<g.length;e++){let r=g[e];r.setSize&&r.setSize(t,n)}},this.begin=function(e,t){if(p||e.toneMapping===C.NoToneMapping&&0===g.length)return!1;if(m=t,null!==t){let e=t.width,n=t.height;(o.width!==e||o.height!==n)&&this.setSize(e,n)}return!1===v&&e.setRenderTarget(o),a=e.toneMapping,e.toneMapping=C.NoToneMapping,!0},this.hasRenderPass=function(){return v},this.end=function(e,t){e.toneMapping=a,p=!0;let n=o,r=s;for(let i=0;i<g.length;i++){let a=g[i];if(!1!==a.enabled&&(a.render(e,r,n,t),!1!==a.needsSwap)){let e=n;n=r,r=e}}if(h!==e.outputColorSpace||f!==e.toneMapping){h=e.outputColorSpace,f=e.toneMapping,u.defines={},C.ColorManagement.getTransfer(h)===C.SRGBTransfer&&(u.defines.SRGB_TRANSFER="");let t=eu[f];t&&(u.defines[t]=""),u.needsUpdate=!0}u.uniforms.tDiffuse.value=n.texture,e.setRenderTarget(m),e.render(c,d),m=null,p=!1},this.isCompositing=function(){return p},this.dispose=function(){o.dispose(),s.dispose(),l.dispose(),u.dispose()}}let ed=new C.Texture,eh=new C.DepthTexture(1,1),ef=new C.DataArrayTexture,ep=new C.Data3DTexture,em=new C.CubeTexture,eg=[],ev=[],e_=new Float32Array(16),eb=new Float32Array(9),ey=new Float32Array(4);function ex(e,t,n){let r=e[0];if(r<=0||r>0)return e;let i=t*n,a=eg[i];if(void 0===a&&(a=new Float32Array(i),eg[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function eS(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ew(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function eE(e,t){let n=ev[t];void 0===n&&(n=new Int32Array(t),ev[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function eT(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function eM(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(eS(n,t))return;e.uniform2fv(this.addr,t),ew(n,t)}}function eC(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(eS(n,t))return;e.uniform3fv(this.addr,t),ew(n,t)}}function eA(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(eS(n,t))return;e.uniform4fv(this.addr,t),ew(n,t)}}function eR(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(eS(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ew(n,t)}else{if(eS(n,r))return;ey.set(r),e.uniformMatrix2fv(this.addr,!1,ey),ew(n,r)}}function eP(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(eS(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ew(n,t)}else{if(eS(n,r))return;eb.set(r),e.uniformMatrix3fv(this.addr,!1,eb),ew(n,r)}}function eL(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(eS(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ew(n,t)}else{if(eS(n,r))return;e_.set(r),e.uniformMatrix4fv(this.addr,!1,e_),ew(n,r)}}function eI(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function eN(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(eS(n,t))return;e.uniform2iv(this.addr,t),ew(n,t)}}function eD(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(eS(n,t))return;e.uniform3iv(this.addr,t),ew(n,t)}}function eU(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(eS(n,t))return;e.uniform4iv(this.addr,t),ew(n,t)}}function ek(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function eO(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(eS(n,t))return;e.uniform2uiv(this.addr,t),ew(n,t)}}function eF(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(eS(n,t))return;e.uniform3uiv(this.addr,t),ew(n,t)}}function eB(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(eS(n,t))return;e.uniform4uiv(this.addr,t),ew(n,t)}}function ez(e,t,n){let r,i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),this.type===e.SAMPLER_2D_SHADOW?(eh.compareFunction=n.isReversedDepthBuffer()?C.GreaterEqualCompare:C.LessEqualCompare,r=eh):r=ed,n.setTexture2D(t||r,a)}function eG(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ep,i)}function ej(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||em,i)}function eH(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||ef,i)}function eV(e,t){e.uniform1fv(this.addr,t)}function eW(e,t){let n=ex(t,this.size,2);e.uniform2fv(this.addr,n)}function eq(e,t){let n=ex(t,this.size,3);e.uniform3fv(this.addr,n)}function eX(e,t){let n=ex(t,this.size,4);e.uniform4fv(this.addr,n)}function eY(e,t){let n=ex(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function eK(e,t){let n=ex(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function e$(e,t){let n=ex(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function eZ(e,t){e.uniform1iv(this.addr,t)}function eQ(e,t){e.uniform2iv(this.addr,t)}function eJ(e,t){e.uniform3iv(this.addr,t)}function e1(e,t){e.uniform4iv(this.addr,t)}function e2(e,t){e.uniform1uiv(this.addr,t)}function e0(e,t){e.uniform2uiv(this.addr,t)}function e6(e,t){e.uniform3uiv(this.addr,t)}function e5(e,t){e.uniform4uiv(this.addr,t)}function e3(e,t,n){let r,i=this.cache,a=t.length,o=eE(n,a);eS(i,o)||(e.uniform1iv(this.addr,o),ew(i,o)),r=this.type===e.SAMPLER_2D_SHADOW?eh:ed;for(let e=0;e!==a;++e)n.setTexture2D(t[e]||r,o[e])}function e4(e,t,n){let r=this.cache,i=t.length,a=eE(n,i);eS(r,a)||(e.uniform1iv(this.addr,a),ew(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||ep,a[e])}function e7(e,t,n){let r=this.cache,i=t.length,a=eE(n,i);eS(r,a)||(e.uniform1iv(this.addr,a),ew(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||em,a[e])}function e8(e,t,n){let r=this.cache,i=t.length,a=eE(n,i);eS(r,a)||(e.uniform1iv(this.addr,a),ew(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||ef,a[e])}class e9{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return eT;case 35664:return eM;case 35665:return eC;case 35666:return eA;case 35674:return eR;case 35675:return eP;case 35676:return eL;case 5124:case 35670:return eI;case 35667:case 35671:return eN;case 35668:case 35672:return eD;case 35669:case 35673:return eU;case 5125:return ek;case 36294:return eO;case 36295:return eF;case 36296:return eB;case 35678:case 36198:case 36298:case 36306:case 35682:return ez;case 35679:case 36299:case 36307:return eG;case 35680:case 36300:case 36308:case 36293:return ej;case 36289:case 36303:case 36311:case 36292:return eH}}(t.type)}}class te{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return eV;case 35664:return eW;case 35665:return eq;case 35666:return eX;case 35674:return eY;case 35675:return eK;case 35676:return e$;case 5124:case 35670:return eZ;case 35667:case 35671:return eQ;case 35668:case 35672:return eJ;case 35669:case 35673:return e1;case 5125:return e2;case 36294:return e0;case 36295:return e6;case 36296:return e5;case 35678:case 36198:case 36298:case 36306:case 35682:return e3;case 35679:case 36299:case 36307:return e4;case 35680:case 36300:case 36308:case 36293:return e7;case 36289:case 36303:case 36311:case 36292:return e8}}(t.type)}}class tt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let r=this.seq;for(let i=0,a=r.length;i!==a;++i){let a=r[i];a.setValue(e,t[a.id],n)}}}let tn=/(\w+)(\])?(\[|\.)?/g;function tr(e,t){e.seq.push(t),e.map[t.id]=t}class ti{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r),i=e.getUniformLocation(t,n.name);!function(e,t,n){let r=e.name,i=r.length;for(tn.lastIndex=0;;){let a=tn.exec(r),o=tn.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){tr(n,void 0===u?new e9(s,e,t):new te(s,e,t));break}{let e=n.map[s];void 0===e&&tr(n,e=new tt(s)),n=e}}}(n,i,this)}const r=[],i=[];for(const t of this.seq)t.type===e.SAMPLER_2D_SHADOW||t.type===e.SAMPLER_CUBE_SHADOW||t.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(t):i.push(t);r.length>0&&(this.seq=r.concat(i))}setValue(e,t,n,r){let i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){let r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){let a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){let n=[];for(let r=0,i=e.length;r!==i;++r){let i=e[r];i.id in t&&n.push(i)}return n}}function ta(e,t,n){let r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let to=0,ts=new C.Matrix3;function tl(e,t,n){let r=e.getShaderParameter(t,e.COMPILE_STATUS),i=(e.getShaderInfoLog(t)||"").trim();if(r&&""===i)return"";let a=/ERROR: 0:(\d+)/.exec(i);if(!a)return i;{let r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){let n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){let i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}}let tu={[C.LinearToneMapping]:"Linear",[C.ReinhardToneMapping]:"Reinhard",[C.CineonToneMapping]:"Cineon",[C.ACESFilmicToneMapping]:"ACESFilmic",[C.AgXToneMapping]:"AgX",[C.NeutralToneMapping]:"Neutral",[C.CustomToneMapping]:"Custom"},tc=new C.Vector3;function td(e){return""!==e}function th(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function tf(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}let tp=/^[ \t]*#include +<([\w\d./]+)>/gm;function tm(e){return e.replace(tp,tv)}let tg=new Map;function tv(e,t){let n=P[t];if(void 0===n){let e=tg.get(t);if(void 0!==e)n=P[e],(0,C.warn)('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e);else throw Error("Can not resolve #include <"+t+">")}return tm(n)}let t_=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tb(e){return e.replace(t_,ty)}function ty(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function tx(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}let tS={[C.PCFShadowMap]:"SHADOWMAP_TYPE_PCF",[C.VSMShadowMap]:"SHADOWMAP_TYPE_VSM"},tw={[C.CubeReflectionMapping]:"ENVMAP_TYPE_CUBE",[C.CubeRefractionMapping]:"ENVMAP_TYPE_CUBE",[C.CubeUVReflectionMapping]:"ENVMAP_TYPE_CUBE_UV"},tE={[C.CubeRefractionMapping]:"ENVMAP_MODE_REFRACTION"},tT={[C.MultiplyOperation]:"ENVMAP_BLENDING_MULTIPLY",[C.MixOperation]:"ENVMAP_BLENDING_MIX",[C.AddOperation]:"ENVMAP_BLENDING_ADD"};function tM(e,t,n,r){var i,a;let o,s,l,u,c=e.getContext(),d=n.defines,h=n.vertexShader,f=n.fragmentShader,p=tS[n.shadowMapType]||"SHADOWMAP_TYPE_BASIC",m=!1===n.envMap?"ENVMAP_TYPE_CUBE":tw[n.envMapMode]||"ENVMAP_TYPE_CUBE",g=!1===n.envMap?"ENVMAP_MODE_REFLECTION":tE[n.envMapMode]||"ENVMAP_MODE_REFLECTION",v=!1===n.envMap?"ENVMAP_BLENDING_NONE":tT[n.combine]||"ENVMAP_BLENDING_NONE",_=function(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:1/t,maxMip:n}}(n),b=[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(td).join("\n"),y=function(e){let t=[];for(let n in e){let r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(d),x=c.createProgram(),S=n.glslVersion?"#version "+n.glslVersion+"\n":"";if(n.isRawShaderMaterial)(o=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(td).join("\n")).length>0&&(o+="\n"),(s=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(td).join("\n")).length>0&&(s+="\n");else{let e,t,r,l,u;o=[tx(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+g:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(td).join("\n"),s=[tx(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+g:"",n.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==C.NoToneMapping?"#define TONE_MAPPING":"",n.toneMapping!==C.NoToneMapping?P.tonemapping_pars_fragment:"",n.toneMapping!==C.NoToneMapping?(i="toneMapping",void 0===(e=tu[a=n.toneMapping])?((0,C.warn)("WebGLProgram: Unsupported toneMapping:",a),"vec3 "+i+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",P.colorspace_pars_fragment,(t=function(e){C.ColorManagement._getMatrix(ts,C.ColorManagement.workingColorSpace,e);let t=`mat3( ${ts.elements.map(e=>e.toFixed(4))} )`;switch(C.ColorManagement.getTransfer(e)){case C.LinearTransfer:return[t,"LinearTransferOETF"];case C.SRGBTransfer:return[t,"sRGBTransferOETF"];default:return(0,C.warn)("WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(n.outputColorSpace),`vec4 linearToOutputTexel( vec4 value ) {
	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );
}`),(C.ColorManagement.getLuminanceCoefficients(tc),r=tc.x.toFixed(4),l=tc.y.toFixed(4),u=tc.z.toFixed(4),`float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( ${r}, ${l}, ${u} );
	return dot( weights, rgb );
}`),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(td).join("\n")}h=tf(h=th(h=tm(h),n),n),f=tf(f=th(f=tm(f),n),n),h=tb(h),f=tb(f),!0!==n.isRawShaderMaterial&&(S="#version 300 es\n",o=[b,"#define attribute in\n#define varying out\n#define texture2D texture"].join("\n")+"\n"+o,s=["#define varying in",n.glslVersion===C.GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===C.GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s);let w=S+o+h,E=S+s+f,T=ta(c,c.VERTEX_SHADER,w),M=ta(c,c.FRAGMENT_SHADER,E);function A(t){if(e.debug.checkShaderErrors){let n=c.getProgramInfoLog(x)||"",r=c.getShaderInfoLog(T)||"",i=c.getShaderInfoLog(M)||"",a=n.trim(),l=r.trim(),u=i.trim(),d=!0,h=!0;if(!1===c.getProgramParameter(x,c.LINK_STATUS))if(d=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(c,x,T,M);else{let e=tl(c,T,"vertex"),n=tl(c,M,"fragment");(0,C.error)("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(x,c.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+a+"\n"+e+"\n"+n)}else""!==a?(0,C.warn)("WebGLProgram: Program Info Log:",a):(""===l||""===u)&&(h=!1);h&&(t.diagnostics={runnable:d,programLog:a,vertexShader:{log:l,prefix:o},fragmentShader:{log:u,prefix:s}})}c.deleteShader(T),c.deleteShader(M),l=new ti(c,x),u=function(e,t){let n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){let r=e.getActiveAttrib(t,i),a=r.name,o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(c,x)}c.attachShader(x,T),c.attachShader(x,M),void 0!==n.index0AttributeName?c.bindAttribLocation(x,0,n.index0AttributeName):!0===n.morphTargets&&c.bindAttribLocation(x,0,"position"),c.linkProgram(x),this.getUniforms=function(){return void 0===l&&A(this),l},this.getAttributes=function(){return void 0===u&&A(this),u};let R=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===R&&(R=c.getProgramParameter(x,37297)),R},this.destroy=function(){r.releaseStatesOfProgram(this),c.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=to++,this.cacheKey=t,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=M,this}let tC=0;class tA{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){for(let t of this.materialCache.get(e))t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new tR(e),t.set(e,n)),n}}class tR{constructor(e){this.id=tC++,this.code=e,this.usedTimes=0}}function tP(e,t,n,r,i,a,o){let s=new C.Layers,l=new tA,u=new Set,c=[],d=new Map,h=i.logarithmicDepthBuffer,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return(u.add(e),0===e)?"uv":`uv${e}`}return{getParameters:function(a,s,c,d,g){let v,_,b,y,x=d.fog,S=g.geometry,w=a.isMeshStandardMaterial?d.environment:null,E=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),T=E&&E.mapping===C.CubeUVReflectionMapping?E.image.height:null,M=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision))!==a.precision&&(0,C.warn)("WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead.");let A=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,R=void 0!==A?A.length:0,P=0;if(void 0!==S.morphAttributes.position&&(P=1),void 0!==S.morphAttributes.normal&&(P=2),void 0!==S.morphAttributes.color&&(P=3),M){let e=I[M];v=e.vertexShader,_=e.fragmentShader}else v=a.vertexShader,_=a.fragmentShader,l.update(a),b=l.getVertexShaderID(a),y=l.getFragmentShaderID(a);let L=e.getRenderTarget(),N=e.state.buffers.depth.getReversed(),D=!0===g.isInstancedMesh,U=!0===g.isBatchedMesh,k=!!a.map,O=!!a.matcap,F=!!E,B=!!a.aoMap,z=!!a.lightMap,G=!!a.bumpMap,j=!!a.normalMap,H=!!a.displacementMap,V=!!a.emissiveMap,W=!!a.metalnessMap,q=!!a.roughnessMap,X=a.anisotropy>0,Y=a.clearcoat>0,K=a.dispersion>0,$=a.iridescence>0,Z=a.sheen>0,Q=a.transmission>0,J=X&&!!a.anisotropyMap,ee=Y&&!!a.clearcoatMap,et=Y&&!!a.clearcoatNormalMap,en=Y&&!!a.clearcoatRoughnessMap,er=$&&!!a.iridescenceMap,ei=$&&!!a.iridescenceThicknessMap,ea=Z&&!!a.sheenColorMap,eo=Z&&!!a.sheenRoughnessMap,es=!!a.specularMap,el=!!a.specularColorMap,eu=!!a.specularIntensityMap,ec=Q&&!!a.transmissionMap,ed=Q&&!!a.thicknessMap,eh=!!a.gradientMap,ef=!!a.alphaMap,ep=a.alphaTest>0,em=!!a.alphaHash,eg=!!a.extensions,ev=C.NoToneMapping;a.toneMapped&&(null===L||!0===L.isXRRenderTarget)&&(ev=e.toneMapping);let e_={shaderID:M,shaderType:a.type,shaderName:a.name,vertexShader:v,fragmentShader:_,defines:a.defines,customVertexShaderID:b,customFragmentShaderID:y,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,batching:U,batchingColor:U&&null!==g._colorsTexture,instancing:D,instancingColor:D&&null!==g.instanceColor,instancingMorph:D&&null!==g.morphTexture,outputColorSpace:null===L?e.outputColorSpace:!0===L.isXRRenderTarget?L.texture.colorSpace:C.LinearSRGBColorSpace,alphaToCoverage:!!a.alphaToCoverage,map:k,matcap:O,envMap:F,envMapMode:F&&E.mapping,envMapCubeUVHeight:T,aoMap:B,lightMap:z,bumpMap:G,normalMap:j,displacementMap:H,emissiveMap:V,normalMapObjectSpace:j&&a.normalMapType===C.ObjectSpaceNormalMap,normalMapTangentSpace:j&&a.normalMapType===C.TangentSpaceNormalMap,metalnessMap:W,roughnessMap:q,anisotropy:X,anisotropyMap:J,clearcoat:Y,clearcoatMap:ee,clearcoatNormalMap:et,clearcoatRoughnessMap:en,dispersion:K,iridescence:$,iridescenceMap:er,iridescenceThicknessMap:ei,sheen:Z,sheenColorMap:ea,sheenRoughnessMap:eo,specularMap:es,specularColorMap:el,specularIntensityMap:eu,transmission:Q,transmissionMap:ec,thicknessMap:ed,gradientMap:eh,opaque:!1===a.transparent&&a.blending===C.NormalBlending&&!1===a.alphaToCoverage,alphaMap:ef,alphaTest:ep,alphaHash:em,combine:a.combine,mapUv:k&&m(a.map.channel),aoMapUv:B&&m(a.aoMap.channel),lightMapUv:z&&m(a.lightMap.channel),bumpMapUv:G&&m(a.bumpMap.channel),normalMapUv:j&&m(a.normalMap.channel),displacementMapUv:H&&m(a.displacementMap.channel),emissiveMapUv:V&&m(a.emissiveMap.channel),metalnessMapUv:W&&m(a.metalnessMap.channel),roughnessMapUv:q&&m(a.roughnessMap.channel),anisotropyMapUv:J&&m(a.anisotropyMap.channel),clearcoatMapUv:ee&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:et&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:en&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:er&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:ei&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:ea&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:eo&&m(a.sheenRoughnessMap.channel),specularMapUv:es&&m(a.specularMap.channel),specularColorMapUv:el&&m(a.specularColorMap.channel),specularIntensityMapUv:eu&&m(a.specularIntensityMap.channel),transmissionMapUv:ec&&m(a.transmissionMap.channel),thicknessMapUv:ed&&m(a.thicknessMap.channel),alphaMapUv:ef&&m(a.alphaMap.channel),vertexTangents:!!S.attributes.tangent&&(j||X),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!S.attributes.color&&4===S.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!S.attributes.uv&&(k||ef),fog:!!x,useFog:!0===a.fog,fogExp2:!!x&&x.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,reversedDepthBuffer:N,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==S.morphAttributes.position,morphNormals:void 0!==S.morphAttributes.normal,morphColors:void 0!==S.morphAttributes.color,morphTargetsCount:R,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:ev,decodeVideoTexture:k&&!0===a.map.isVideoTexture&&C.ColorManagement.getTransfer(a.map.colorSpace)===C.SRGBTransfer,decodeVideoTextureEmissive:V&&!0===a.emissiveMap.isVideoTexture&&C.ColorManagement.getTransfer(a.emissiveMap.colorSpace)===C.SRGBTransfer,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===C.DoubleSide,flipSided:a.side===C.BackSide,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:eg&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(eg&&!0===a.extensions.multiDraw||U)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return e_.vertexUv1s=u.has(1),e_.vertexUv2s=u.has(2),e_.vertexUv3s=u.has(3),u.clear(),e_},getProgramCacheKey:function(t){var n,r,i,a;let o=[];if(t.shaderID?o.push(t.shaderID):(o.push(t.customVertexShaderID),o.push(t.customFragmentShaderID)),void 0!==t.defines)for(let e in t.defines)o.push(e),o.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(n=o,r=t,n.push(r.precision),n.push(r.outputColorSpace),n.push(r.envMapMode),n.push(r.envMapCubeUVHeight),n.push(r.mapUv),n.push(r.alphaMapUv),n.push(r.lightMapUv),n.push(r.aoMapUv),n.push(r.bumpMapUv),n.push(r.normalMapUv),n.push(r.displacementMapUv),n.push(r.emissiveMapUv),n.push(r.metalnessMapUv),n.push(r.roughnessMapUv),n.push(r.anisotropyMapUv),n.push(r.clearcoatMapUv),n.push(r.clearcoatNormalMapUv),n.push(r.clearcoatRoughnessMapUv),n.push(r.iridescenceMapUv),n.push(r.iridescenceThicknessMapUv),n.push(r.sheenColorMapUv),n.push(r.sheenRoughnessMapUv),n.push(r.specularMapUv),n.push(r.specularColorMapUv),n.push(r.specularIntensityMapUv),n.push(r.transmissionMapUv),n.push(r.thicknessMapUv),n.push(r.combine),n.push(r.fogExp2),n.push(r.sizeAttenuation),n.push(r.morphTargetsCount),n.push(r.morphAttributeCount),n.push(r.numDirLights),n.push(r.numPointLights),n.push(r.numSpotLights),n.push(r.numSpotLightMaps),n.push(r.numHemiLights),n.push(r.numRectAreaLights),n.push(r.numDirLightShadows),n.push(r.numPointLightShadows),n.push(r.numSpotLightShadows),n.push(r.numSpotLightShadowsWithMaps),n.push(r.numLightProbes),n.push(r.shadowMapType),n.push(r.toneMapping),n.push(r.numClippingPlanes),n.push(r.numClipIntersection),n.push(r.depthPacking),i=o,a=t,s.disableAll(),a.instancing&&s.enable(0),a.instancingColor&&s.enable(1),a.instancingMorph&&s.enable(2),a.matcap&&s.enable(3),a.envMap&&s.enable(4),a.normalMapObjectSpace&&s.enable(5),a.normalMapTangentSpace&&s.enable(6),a.clearcoat&&s.enable(7),a.iridescence&&s.enable(8),a.alphaTest&&s.enable(9),a.vertexColors&&s.enable(10),a.vertexAlphas&&s.enable(11),a.vertexUv1s&&s.enable(12),a.vertexUv2s&&s.enable(13),a.vertexUv3s&&s.enable(14),a.vertexTangents&&s.enable(15),a.anisotropy&&s.enable(16),a.alphaHash&&s.enable(17),a.batching&&s.enable(18),a.dispersion&&s.enable(19),a.batchingColor&&s.enable(20),a.gradientMap&&s.enable(21),i.push(s.mask),s.disableAll(),a.fog&&s.enable(0),a.useFog&&s.enable(1),a.flatShading&&s.enable(2),a.logarithmicDepthBuffer&&s.enable(3),a.reversedDepthBuffer&&s.enable(4),a.skinning&&s.enable(5),a.morphTargets&&s.enable(6),a.morphNormals&&s.enable(7),a.morphColors&&s.enable(8),a.premultipliedAlpha&&s.enable(9),a.shadowMapEnabled&&s.enable(10),a.doubleSided&&s.enable(11),a.flipSided&&s.enable(12),a.useDepthPacking&&s.enable(13),a.dithering&&s.enable(14),a.transmission&&s.enable(15),a.sheen&&s.enable(16),a.opaque&&s.enable(17),a.pointsUvs&&s.enable(18),a.decodeVideoTexture&&s.enable(19),a.decodeVideoTextureEmissive&&s.enable(20),a.alphaToCoverage&&s.enable(21),i.push(s.mask),o.push(e.outputColorSpace)),o.push(t.customProgramCacheKey),o.join()},getUniforms:function(e){let t,n=p[e.type];if(n){let e=I[n];t=C.UniformsUtils.clone(e.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){let r=d.get(n);return void 0!==r?++r.usedTimes:(r=new tM(e,n,t,a),c.push(r),d.set(n,r)),r},releaseProgram:function(e){if(0==--e.usedTimes){let t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),d.delete(e.cacheKey),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function tL(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function tI(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function tN(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function tD(){let e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){let c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){let c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){let t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||tI),r.length>1&&r.sort(t||tN),i.length>1&&i.sort(t||tN)}}}function tU(){let e=new WeakMap;return{get:function(t,n){let r,i=e.get(t);return void 0===i?(r=new tD,e.set(t,[r])):n>=i.length?(r=new tD,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function tk(){let e={};return{get:function(t){let n;if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":n={direction:new C.Vector3,color:new C.Color};break;case"SpotLight":n={position:new C.Vector3,direction:new C.Vector3,color:new C.Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new C.Vector3,color:new C.Color,distance:0,decay:0};break;case"HemisphereLight":n={direction:new C.Vector3,skyColor:new C.Color,groundColor:new C.Color};break;case"RectAreaLight":n={color:new C.Color,position:new C.Vector3,halfWidth:new C.Vector3,halfHeight:new C.Vector3}}return e[t.id]=n,n}}}let tO=0;function tF(e,t){return 2*!!t.castShadow-2*!!e.castShadow+ +!!t.map-!!e.map}function tB(e){let t,n=new tk,r=(t={},{get:function(e){let n;if(void 0!==t[e.id])return t[e.id];switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new C.Vector2};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new C.Vector2,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)i.probe.push(new C.Vector3);let a=new C.Vector3,o=new C.Matrix4,s=new C.Matrix4;return{setup:function(t){let a=0,o=0,s=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let l=0,u=0,c=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,_=0;t.sort(tF);for(let e=0,b=t.length;e<b;e++){let b=t[e],y=b.color,x=b.intensity,S=b.distance,w=null;if(b.shadow&&b.shadow.map&&(w=b.shadow.map.texture.format===C.RGFormat?b.shadow.map.texture:b.shadow.map.depthTexture||b.shadow.map.texture),b.isAmbientLight)a+=y.r*x,o+=y.g*x,s+=y.b*x;else if(b.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(b.sh.coefficients[e],x);_++}else if(b.isDirectionalLight){let e=n.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){let e=b.shadow,t=r.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,i.directionalShadow[l]=t,i.directionalShadowMap[l]=w,i.directionalShadowMatrix[l]=b.shadow.matrix,f++}i.directional[l]=e,l++}else if(b.isSpotLight){let e=n.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(y).multiplyScalar(x),e.distance=S,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,i.spot[c]=e;let t=b.shadow;if(b.map&&(i.spotLightMap[g]=b.map,g++,t.updateMatrices(b),b.castShadow&&v++),i.spotLightMatrix[c]=t.matrix,b.castShadow){let e=r.get(b);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,i.spotShadow[c]=e,i.spotShadowMap[c]=w,m++}c++}else if(b.isRectAreaLight){let e=n.get(b);e.color.copy(y).multiplyScalar(x),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),i.rectArea[d]=e,d++}else if(b.isPointLight){let e=n.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){let e=b.shadow,t=r.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,i.pointShadow[u]=t,i.pointShadowMap[u]=w,i.pointShadowMatrix[u]=b.shadow.matrix,p++}i.point[u]=e,u++}else if(b.isHemisphereLight){let e=n.get(b);e.skyColor.copy(b.color).multiplyScalar(x),e.groundColor.copy(b.groundColor).multiplyScalar(x),i.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=L.LTC_FLOAT_1,i.rectAreaLTC2=L.LTC_FLOAT_2):(i.rectAreaLTC1=L.LTC_HALF_1,i.rectAreaLTC2=L.LTC_HALF_2)),i.ambient[0]=a,i.ambient[1]=o,i.ambient[2]=s;let b=i.hash;(b.directionalLength!==l||b.pointLength!==u||b.spotLength!==c||b.rectAreaLength!==d||b.hemiLength!==h||b.numDirectionalShadows!==f||b.numPointShadows!==p||b.numSpotShadows!==m||b.numSpotMaps!==g||b.numLightProbes!==_)&&(i.directional.length=l,i.spot.length=c,i.rectArea.length=d,i.point.length=u,i.hemi.length=h,i.directionalShadow.length=f,i.directionalShadowMap.length=f,i.pointShadow.length=p,i.pointShadowMap.length=p,i.spotShadow.length=m,i.spotShadowMap.length=m,i.directionalShadowMatrix.length=f,i.pointShadowMatrix.length=p,i.spotLightMatrix.length=m+g-v,i.spotLightMap.length=g,i.numSpotLightShadowsWithMaps=v,i.numLightProbes=_,b.directionalLength=l,b.pointLength=u,b.spotLength=c,b.rectAreaLength=d,b.hemiLength=h,b.numDirectionalShadows=f,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=_,i.version=tO++)},setupView:function(e,t){let n=0,r=0,l=0,u=0,c=0,d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){let h=e[t];if(h.isDirectionalLight){let e=i.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),n++}else if(h.isSpotLight){let e=i.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),a.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){let e=i.rectArea[u];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),s.identity(),o.copy(h.matrixWorld),o.premultiply(d),s.extractRotation(o),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),u++}else if(h.isPointLight){let e=i.point[r];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),r++}else if(h.isHemisphereLight){let e=i.hemi[c];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),c++}}},state:i}}function tz(e){let t=new tB(e),n=[],r=[],i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function tG(e){let t=new WeakMap;return{get:function(n,r=0){let i,a=t.get(n);return void 0===a?(i=new tz(e),t.set(n,[i])):r>=a.length?(i=new tz(e),a.push(i)):i=a[r],i},dispose:function(){t=new WeakMap}}}let tj=[new C.Vector3(1,0,0),new C.Vector3(-1,0,0),new C.Vector3(0,1,0),new C.Vector3(0,-1,0),new C.Vector3(0,0,1),new C.Vector3(0,0,-1)],tH=[new C.Vector3(0,-1,0),new C.Vector3(0,-1,0),new C.Vector3(0,0,1),new C.Vector3(0,0,-1),new C.Vector3(0,-1,0),new C.Vector3(0,-1,0)],tV=new C.Matrix4,tW=new C.Vector3,tq=new C.Vector3;function tX(e,t,n){let r=new C.Frustum,i=new C.Vector2,a=new C.Vector2,o=new C.Vector4,s=new C.MeshDepthMaterial,l=new C.MeshDistanceMaterial,u={},c=n.maxTextureSize,d={[C.FrontSide]:C.BackSide,[C.BackSide]:C.FrontSide,[C.DoubleSide]:C.DoubleSide},h=new C.ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new C.Vector2},radius:{value:4}},vertexShader:"void main() {\n	gl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );\n	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let p=new C.BufferGeometry;p.setAttribute("position",new C.BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let m=new C.Mesh(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=C.PCFShadowMap;let v=this.type;function _(t,n,r,i){let a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){let e=a.uuid,t=n.uuid,r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",b)),a=i}return a.visible=n.visible,a.wireframe=n.wireframe,i===C.VSMShadowMap?a.side=null!==n.shadowSide?n.shadowSide:n.side:a.side=null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial&&(e.properties.get(a).light=r),a}function b(e){for(let t in e.target.removeEventListener("dispose",b),u){let n=u[t],r=e.target.uuid;r in n&&(n[r].dispose(),delete n[r])}}this.render=function(n,s,l){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===n.length)return;n.type===C.PCFSoftShadowMap&&((0,C.warn)("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),n.type=C.PCFShadowMap);let u=e.getRenderTarget(),d=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),b=e.state;b.setBlending(C.NoBlending),!0===b.buffers.depth.getReversed()?b.buffers.color.setClear(0,0,0,0):b.buffers.color.setClear(1,1,1,1),b.buffers.depth.setTest(!0),b.setScissorTest(!1);let y=v!==this.type;y&&s.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.needsUpdate=!0):e.material.needsUpdate=!0)});for(let u=0,d=n.length;u<d;u++){let d=n[u],p=d.shadow;if(void 0===p){(0,C.warn)("WebGLShadowMap:",d,"has no shadow.");continue}if(!1===p.autoUpdate&&!1===p.needsUpdate)continue;i.copy(p.mapSize);let g=p.getFrameExtents();if(i.multiply(g),a.copy(p.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/g.x),i.x=a.x*g.x,p.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/g.y),i.y=a.y*g.y,p.mapSize.y=a.y)),null===p.map||!0===y){if(null!==p.map&&(null!==p.map.depthTexture&&(p.map.depthTexture.dispose(),p.map.depthTexture=null),p.map.dispose()),this.type===C.VSMShadowMap){if(d.isPointLight){(0,C.warn)("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}p.map=new C.WebGLRenderTarget(i.x,i.y,{format:C.RGFormat,type:C.HalfFloatType,minFilter:C.LinearFilter,magFilter:C.LinearFilter,generateMipmaps:!1}),p.map.texture.name=d.name+".shadowMap",p.map.depthTexture=new C.DepthTexture(i.x,i.y,C.FloatType),p.map.depthTexture.name=d.name+".shadowMapDepth",p.map.depthTexture.format=C.DepthFormat,p.map.depthTexture.compareFunction=null,p.map.depthTexture.minFilter=C.NearestFilter,p.map.depthTexture.magFilter=C.NearestFilter}else{d.isPointLight?(p.map=new C.WebGLCubeRenderTarget(i.x),p.map.depthTexture=new C.CubeDepthTexture(i.x,C.UnsignedIntType)):(p.map=new C.WebGLRenderTarget(i.x,i.y),p.map.depthTexture=new C.DepthTexture(i.x,i.y,C.UnsignedIntType)),p.map.depthTexture.name=d.name+".shadowMap",p.map.depthTexture.format=C.DepthFormat;let t=e.state.buffers.depth.getReversed();this.type===C.PCFShadowMap?(p.map.depthTexture.compareFunction=t?C.GreaterEqualCompare:C.LessEqualCompare,p.map.depthTexture.minFilter=C.LinearFilter,p.map.depthTexture.magFilter=C.LinearFilter):(p.map.depthTexture.compareFunction=null,p.map.depthTexture.minFilter=C.NearestFilter,p.map.depthTexture.magFilter=C.NearestFilter)}p.camera.updateProjectionMatrix()}let v=p.map.isWebGLCubeRenderTarget?6:1;for(let n=0;n<v;n++){if(p.map.isWebGLCubeRenderTarget)e.setRenderTarget(p.map,n),e.clear();else{0===n&&(e.setRenderTarget(p.map),e.clear());let t=p.getViewport(n);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),b.viewport(o)}if(d.isPointLight){let e=p.camera,t=p.matrix,r=d.distance||e.far;r!==e.far&&(e.far=r,e.updateProjectionMatrix()),tW.setFromMatrixPosition(d.matrixWorld),e.position.copy(tW),tq.copy(e.position),tq.add(tj[n]),e.up.copy(tH[n]),e.lookAt(tq),e.updateMatrixWorld(),t.makeTranslation(-tW.x,-tW.y,-tW.z),tV.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),p._frustum.setFromProjectionMatrix(tV,e.coordinateSystem,e.reversedDepth)}else p.updateMatrices(d);r=p.getFrustum(),function n(i,a,o,s,l){if(!1===i.visible)return;if(i.layers.test(a.layers)&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&l===C.VSMShadowMap)&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,i.matrixWorld);let n=t.update(i),r=i.material;if(Array.isArray(r)){let t=n.groups;for(let u=0,c=t.length;u<c;u++){let c=t[u],d=r[c.materialIndex];if(d&&d.visible){let t=_(i,d,s,l);i.onBeforeShadow(e,i,a,o,n,t,c),e.renderBufferDirect(o,null,n,t,i,c),i.onAfterShadow(e,i,a,o,n,t,c)}}}else if(r.visible){let t=_(i,r,s,l);i.onBeforeShadow(e,i,a,o,n,t,null),e.renderBufferDirect(o,null,n,t,i,null),i.onAfterShadow(e,i,a,o,n,t,null)}}let u=i.children;for(let e=0,t=u.length;e<t;e++)n(u[e],a,o,s,l)}(s,l,p.camera,d,this.type)}!0!==p.isPointLightShadow&&this.type===C.VSMShadowMap&&function(n,r){let a=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new C.WebGLRenderTarget(i.x,i.y,{format:C.RGFormat,type:C.HalfFloatType})),h.uniforms.shadow_pass.value=n.map.depthTexture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}(p,l),p.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(u,d,p)}}let tY={[C.NeverDepth]:C.AlwaysDepth,[C.LessDepth]:C.GreaterDepth,[C.EqualDepth]:C.NotEqualDepth,[C.LessEqualDepth]:C.GreaterEqualDepth,[C.AlwaysDepth]:C.NeverDepth,[C.GreaterDepth]:C.LessDepth,[C.NotEqualDepth]:C.EqualDepth,[C.GreaterEqualDepth]:C.LessEqualDepth};function tK(e,t){let n=new function(){let t=!1,n=new C.Vector4,r=null,i=new C.Vector4(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){let n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;let i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?z(e.DEPTH_TEST):G(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=tY[t]),a!==t){switch(t){case C.NeverDepth:e.depthFunc(e.NEVER);break;case C.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case C.LessDepth:e.depthFunc(e.LESS);break;case C.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case C.EqualDepth:e.depthFunc(e.EQUAL);break;case C.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case C.GreaterDepth:e.depthFunc(e.GREATER);break;case C.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?z(e.STENCIL_TEST):G(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){(r!==t||i!==n||a!==o)&&(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){(o!==t||s!==n||l!==r)&&(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},a=new WeakMap,o=new WeakMap,s={},l={},u=new WeakMap,c=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,_=null,b=null,y=new C.Color(0,0,0),x=0,S=!1,w=null,E=null,T=null,M=null,A=null,R=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),P=!1,L=e.getParameter(e.VERSION);-1!==L.indexOf("WebGL")?P=parseFloat(/^WebGL (\d)/.exec(L)[1])>=1:-1!==L.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(L)[1])>=2);let I=null,N={},D=e.getParameter(e.SCISSOR_BOX),U=e.getParameter(e.VIEWPORT),k=new C.Vector4().fromArray(D),O=new C.Vector4().fromArray(U);function F(t,n,r,i){let a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}let B={};function z(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function G(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}B[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),B[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),B[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),B[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),z(e.DEPTH_TEST),r.setFunc(C.LessEqualDepth),W(!1),q(C.CullFaceBack),z(e.CULL_FACE),V(C.NoBlending);let j={[C.AddEquation]:e.FUNC_ADD,[C.SubtractEquation]:e.FUNC_SUBTRACT,[C.ReverseSubtractEquation]:e.FUNC_REVERSE_SUBTRACT};j[C.MinEquation]=e.MIN,j[C.MaxEquation]=e.MAX;let H={[C.ZeroFactor]:e.ZERO,[C.OneFactor]:e.ONE,[C.SrcColorFactor]:e.SRC_COLOR,[C.SrcAlphaFactor]:e.SRC_ALPHA,[C.SrcAlphaSaturateFactor]:e.SRC_ALPHA_SATURATE,[C.DstColorFactor]:e.DST_COLOR,[C.DstAlphaFactor]:e.DST_ALPHA,[C.OneMinusSrcColorFactor]:e.ONE_MINUS_SRC_COLOR,[C.OneMinusSrcAlphaFactor]:e.ONE_MINUS_SRC_ALPHA,[C.OneMinusDstColorFactor]:e.ONE_MINUS_DST_COLOR,[C.OneMinusDstAlphaFactor]:e.ONE_MINUS_DST_ALPHA,[C.ConstantColorFactor]:e.CONSTANT_COLOR,[C.OneMinusConstantColorFactor]:e.ONE_MINUS_CONSTANT_COLOR,[C.ConstantAlphaFactor]:e.CONSTANT_ALPHA,[C.OneMinusConstantAlphaFactor]:e.ONE_MINUS_CONSTANT_ALPHA};function V(t,n,r,i,a,o,s,l,u,c){if(t===C.NoBlending){!0===h&&(G(e.BLEND),h=!1);return}if(!1===h&&(z(e.BLEND),h=!0),t!==C.CustomBlending){if(t!==f||c!==S){if((p!==C.AddEquation||v!==C.AddEquation)&&(e.blendEquation(e.FUNC_ADD),p=C.AddEquation,v=C.AddEquation),c)switch(t){case C.NormalBlending:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case C.AdditiveBlending:e.blendFunc(e.ONE,e.ONE);break;case C.SubtractiveBlending:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case C.MultiplyBlending:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:(0,C.error)("WebGLState: Invalid blending: ",t)}else switch(t){case C.NormalBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case C.AdditiveBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case C.SubtractiveBlending:(0,C.error)("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case C.MultiplyBlending:(0,C.error)("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:(0,C.error)("WebGLState: Invalid blending: ",t)}m=null,g=null,_=null,b=null,y.set(0,0,0),x=0,f=t,S=c}return}a=a||n,o=o||r,s=s||i,(n!==p||a!==v)&&(e.blendEquationSeparate(j[n],j[a]),p=n,v=a),(r!==m||i!==g||o!==_||s!==b)&&(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),m=r,g=i,_=o,b=s),(!1===l.equals(y)||u!==x)&&(e.blendColor(l.r,l.g,l.b,u),y.copy(l),x=u),f=t,S=!1}function W(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function q(t){t!==C.CullFaceNone?(z(e.CULL_FACE),t!==E&&(t===C.CullFaceBack?e.cullFace(e.BACK):t===C.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):G(e.CULL_FACE),E=t}function X(t,n,r){t?(z(e.POLYGON_OFFSET_FILL),(M!==n||A!==r)&&(e.polygonOffset(n,r),M=n,A=r)):G(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:z,disable:G,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=c,i=!1;if(t){void 0===(r=u.get(n))&&(r=[],u.set(n,r));let a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:V,setMaterial:function(t,a){t.side===C.DoubleSide?G(e.CULL_FACE):z(e.CULL_FACE);let o=t.side===C.BackSide;a&&(o=!o),W(o),t.blending===C.NormalBlending&&!1===t.transparent?V(C.NoBlending):V(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);let s=t.stencilWrite;i.setTest(s),s&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),X(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?z(e.SAMPLE_ALPHA_TO_COVERAGE):G(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:q,setLineWidth:function(t){t!==T&&(P&&e.lineWidth(t),T=t)},setPolygonOffset:X,setScissorTest:function(t){t?z(e.SCISSOR_TEST):G(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+R-1),I!==t&&(e.activeTexture(t),I=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===I?e.TEXTURE0+R-1:I);let i=N[r];void 0===i&&(i={type:void 0,texture:void 0},N[r]=i),(i.type!==t||i.texture!==n)&&(I!==r&&(e.activeTexture(r),I=r),e.bindTexture(t,n||B[t]),i.type=t,i.texture=n)},unbindTexture:function(){let t=N[I];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){let r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(e){(0,C.error)("WebGLState:",e)}},scissor:function(t){!1===k.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),k.copy(t))},viewport:function(t){!1===O.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),O.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(0xffffffff),e.stencilFunc(e.ALWAYS,0,0xffffffff),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},I=null,N={},l={},u=new WeakMap,c=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,_=null,b=null,y=new C.Color(0,0,0),x=0,S=!1,w=null,E=null,T=null,M=null,A=null,k.set(0,0,e.canvas.width,e.canvas.height),O.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function t$(e,t,n,r,i,a,o){let s,l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,u="u">typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new C.Vector2,d=new WeakMap,h=new WeakMap,f=!1;try{f="u">typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function p(e,t){return f?new OffscreenCanvas(e,t):(0,C.createElementNS)("canvas")}function m(e,t,n){let r=1,i=H(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1)if("u">typeof HTMLImageElement&&e instanceof HTMLImageElement||"u">typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"u">typeof ImageBitmap&&e instanceof ImageBitmap||"u">typeof VideoFrame&&e instanceof VideoFrame){let n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===s&&(s=p(n,a));let o=t?p(n,a):s;return o.width=n,o.height=a,o.getContext("2d").drawImage(e,0,0,n,a),(0,C.warn)("WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+a+")."),o}else"data"in e&&(0,C.warn)("WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+").");return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function _(n,r,i,a,o=!1){if(null!==n){if(void 0!==e[n])return e[n];(0,C.warn)("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&(i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.UNSIGNED_INT_10F_11F_11F_REV&&(s=e.R11F_G11F_B10F)),r===e.RGBA){let t=o?C.LinearTransfer:C.ColorManagement.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===C.SRGBTransfer?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return(s===e.R16F||s===e.R32F||s===e.RG16F||s===e.RG32F||s===e.RGBA16F||s===e.RGBA32F)&&t.get("EXT_color_buffer_float"),s}function b(t,n){let r;return t?null===n||n===C.UnsignedIntType||n===C.UnsignedInt248Type?r=e.DEPTH24_STENCIL8:n===C.FloatType?r=e.DEPTH32F_STENCIL8:n===C.UnsignedShortType&&(r=e.DEPTH24_STENCIL8,(0,C.warn)("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===C.UnsignedIntType||n===C.UnsignedInt248Type?r=e.DEPTH_COMPONENT24:n===C.FloatType?r=e.DEPTH_COMPONENT32F:n===C.UnsignedShortType&&(r=e.DEPTH_COMPONENT16),r}function y(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==C.NearestFilter&&e.minFilter!==C.LinearFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function x(e){let t=e.target;t.removeEventListener("dispose",x),function(e){let t=r.get(e);if(void 0===t.__webglInit)return;let n=e.source,i=h.get(n);if(i){let r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&w(e),0===Object.keys(i).length&&h.delete(n)}r.remove(e)}(t),t.isVideoTexture&&d.delete(t)}function S(t){let n=t.target;n.removeEventListener("dispose",S),function(t){let n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let r=0;r<n.__webglFramebuffer[t].length;r++)e.deleteFramebuffer(n.__webglFramebuffer[t][r]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}let i=t.textures;for(let t=0,n=i.length;t<n;t++){let n=r.get(i[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),o.memory.textures--),r.remove(i[t])}r.remove(t)}(n)}function w(t){let n=r.get(t);e.deleteTexture(n.__webglTexture);let i=t.source,a=h.get(i);delete a[n.__cacheKey],o.memory.textures--}let E=0;function T(t,i){var a;let s,l=r.get(t);if(t.isVideoTexture&&(a=t,s=o.render.frame,d.get(a)!==s&&(d.set(a,s),a.update())),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&l.__version!==t.version){let e=t.image;if(null===e)(0,C.warn)("WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void N(l,t,i);(0,C.warn)("WebGLRenderer: Texture marked for update but image is incomplete")}}else t.isExternalTexture&&(l.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,l.__webglTexture,e.TEXTURE0+i)}let M={[C.RepeatWrapping]:e.REPEAT,[C.ClampToEdgeWrapping]:e.CLAMP_TO_EDGE,[C.MirroredRepeatWrapping]:e.MIRRORED_REPEAT},A={[C.NearestFilter]:e.NEAREST,[C.NearestMipmapNearestFilter]:e.NEAREST_MIPMAP_NEAREST,[C.NearestMipmapLinearFilter]:e.NEAREST_MIPMAP_LINEAR,[C.LinearFilter]:e.LINEAR,[C.LinearMipmapNearestFilter]:e.LINEAR_MIPMAP_NEAREST,[C.LinearMipmapLinearFilter]:e.LINEAR_MIPMAP_LINEAR},R={[C.NeverCompare]:e.NEVER,[C.AlwaysCompare]:e.ALWAYS,[C.LessCompare]:e.LESS,[C.LessEqualCompare]:e.LEQUAL,[C.EqualCompare]:e.EQUAL,[C.GreaterEqualCompare]:e.GEQUAL,[C.GreaterCompare]:e.GREATER,[C.NotEqualCompare]:e.NOTEQUAL};function P(n,a){if((a.type===C.FloatType&&!1===t.has("OES_texture_float_linear")&&(a.magFilter===C.LinearFilter||a.magFilter===C.LinearMipmapNearestFilter||a.magFilter===C.NearestMipmapLinearFilter||a.magFilter===C.LinearMipmapLinearFilter||a.minFilter===C.LinearFilter||a.minFilter===C.LinearMipmapNearestFilter||a.minFilter===C.NearestMipmapLinearFilter||a.minFilter===C.LinearMipmapLinearFilter)&&(0,C.warn)("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,M[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,M[a.wrapT]),(n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY)&&e.texParameteri(n,e.TEXTURE_WRAP_R,M[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,A[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,A[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,R[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic"))&&a.magFilter!==C.NearestFilter&&(a.minFilter===C.NearestMipmapLinearFilter||a.minFilter===C.LinearMipmapLinearFilter)&&(a.type!==C.FloatType||!1!==t.has("OES_texture_float_linear"))&&(a.anisotropy>1||r.get(a).__currentAnisotropy)){let o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}function L(t,n){let r,i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));let a=n.source,s=h.get(a);void 0===s&&(s={},h.set(a,s));let l=((r=[]).push(n.wrapS),r.push(n.wrapT),r.push(n.wrapR||0),r.push(n.magFilter),r.push(n.minFilter),r.push(n.anisotropy),r.push(n.internalFormat),r.push(n.format),r.push(n.type),r.push(n.generateMipmaps),r.push(n.premultiplyAlpha),r.push(n.flipY),r.push(n.unpackAlignment),r.push(n.colorSpace),r.join());if(l!==t.__cacheKey){void 0===s[l]&&(s[l]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,i=!0),s[l].usedTimes++;let r=s[t.__cacheKey];void 0!==r&&(s[t.__cacheKey].usedTimes--,0===r.usedTimes&&w(n)),t.__cacheKey=l,t.__webglTexture=s[l].texture}return i}function I(e,t,n){return Math.floor(Math.floor(e/n)/t)}function N(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);let u=L(t,o),c=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);let d=r.get(c);if(c.version!==d.__version||!0===u){let t;n.activeTexture(e.TEXTURE0+s);let r=C.ColorManagement.getPrimaries(C.ColorManagement.workingColorSpace),h=o.colorSpace===C.NoColorSpace?null:C.ColorManagement.getPrimaries(o.colorSpace),f=o.colorSpace===C.NoColorSpace||r===h?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);let p=m(o.image,!1,i.maxTextureSize);p=j(o,p);let x=a.convert(o.format,o.colorSpace),S=a.convert(o.type),w=_(o.internalFormat,x,S,o.colorSpace,o.isVideoTexture);P(l,o);let E=o.mipmaps,T=!0!==o.isVideoTexture,M=void 0===d.__version||!0===u,A=c.dataReady,R=y(o,p);if(o.isDepthTexture)w=b(o.format===C.DepthStencilFormat,o.type),M&&(T?n.texStorage2D(e.TEXTURE_2D,1,w,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,w,p.width,p.height,0,x,S,null));else if(o.isDataTexture)if(E.length>0){T&&M&&n.texStorage2D(e.TEXTURE_2D,R,w,E[0].width,E[0].height);for(let r=0,i=E.length;r<i;r++)t=E[r],T?A&&n.texSubImage2D(e.TEXTURE_2D,r,0,0,t.width,t.height,x,S,t.data):n.texImage2D(e.TEXTURE_2D,r,w,t.width,t.height,0,x,S,t.data);o.generateMipmaps=!1}else T?(M&&n.texStorage2D(e.TEXTURE_2D,R,w,p.width,p.height),A&&function(t,r,i,a){let o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){let t=o[s],n=o[e],i=t.start+t.count,a=I(n.start,r.width,4),l=I(t.start,r.width,4);n.start<=i+1&&a===l&&I(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):o[++s]=n}o.length=s+1;let l=e.getParameter(e.UNPACK_ROW_LENGTH),u=e.getParameter(e.UNPACK_SKIP_PIXELS),c=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,s=o.length;t<s;t++){let s=o[t],l=Math.floor(s.start/4),u=Math.ceil(s.count/4),c=l%r.width,d=Math.floor(l/r.width);e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,c,d,u,1,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,c)}}(o,p,x,S)):n.texImage2D(e.TEXTURE_2D,0,w,p.width,p.height,0,x,S,p.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){T&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,R,w,E[0].width,E[0].height,p.depth);for(let r=0,i=E.length;r<i;r++)if(t=E[r],o.format!==C.RGBAFormat)if(null!==x)if(T){if(A)if(o.layerUpdates.size>0){let i=(0,C.getByteLength)(t.width,t.height,o.format,o.type);for(let a of o.layerUpdates){let o=t.data.subarray(a*i/t.data.BYTES_PER_ELEMENT,(a+1)*i/t.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,r,0,0,a,t.width,t.height,1,x,o)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,r,0,0,0,t.width,t.height,p.depth,x,t.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,r,w,t.width,t.height,p.depth,0,t.data,0,0);else(0,C.warn)("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else T?A&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,r,0,0,0,t.width,t.height,p.depth,x,S,t.data):n.texImage3D(e.TEXTURE_2D_ARRAY,r,w,t.width,t.height,p.depth,0,x,S,t.data)}else{T&&M&&n.texStorage2D(e.TEXTURE_2D,R,w,E[0].width,E[0].height);for(let r=0,i=E.length;r<i;r++)t=E[r],o.format!==C.RGBAFormat?null!==x?T?A&&n.compressedTexSubImage2D(e.TEXTURE_2D,r,0,0,t.width,t.height,x,t.data):n.compressedTexImage2D(e.TEXTURE_2D,r,w,t.width,t.height,0,t.data):(0,C.warn)("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?A&&n.texSubImage2D(e.TEXTURE_2D,r,0,0,t.width,t.height,x,S,t.data):n.texImage2D(e.TEXTURE_2D,r,w,t.width,t.height,0,x,S,t.data)}else if(o.isDataArrayTexture)if(T){if(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,R,w,p.width,p.height,p.depth),A)if(o.layerUpdates.size>0){let t=(0,C.getByteLength)(p.width,p.height,o.format,o.type);for(let r of o.layerUpdates){let i=p.data.subarray(r*t/p.data.BYTES_PER_ELEMENT,(r+1)*t/p.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,p.width,p.height,1,x,S,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,x,S,p.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,w,p.width,p.height,p.depth,0,x,S,p.data);else if(o.isData3DTexture)T?(M&&n.texStorage3D(e.TEXTURE_3D,R,w,p.width,p.height,p.depth),A&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,x,S,p.data)):n.texImage3D(e.TEXTURE_3D,0,w,p.width,p.height,p.depth,0,x,S,p.data);else if(o.isFramebufferTexture){if(M)if(T)n.texStorage2D(e.TEXTURE_2D,R,w,p.width,p.height);else{let t=p.width,r=p.height;for(let i=0;i<R;i++)n.texImage2D(e.TEXTURE_2D,i,w,t,r,0,x,S,null),t>>=1,r>>=1}}else if(E.length>0){if(T&&M){let t=H(E[0]);n.texStorage2D(e.TEXTURE_2D,R,w,t.width,t.height)}for(let r=0,i=E.length;r<i;r++)t=E[r],T?A&&n.texSubImage2D(e.TEXTURE_2D,r,0,0,x,S,t):n.texImage2D(e.TEXTURE_2D,r,w,x,S,t);o.generateMipmaps=!1}else if(T){if(M){let t=H(p);n.texStorage2D(e.TEXTURE_2D,R,w,t.width,t.height)}A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,x,S,p)}else n.texImage2D(e.TEXTURE_2D,0,w,x,S,p);g(o)&&v(l),d.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function D(t,i,o,s,u,c){let d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),f=_(o.internalFormat,d,h,o.colorSpace),p=r.get(i),m=r.get(o);if(m.__renderTarget=i,!p.__hasExternalTextures){let t=Math.max(1,i.width>>c),r=Math.max(1,i.height>>c);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,c,f,t,r,i.depth,0,d,h,null):n.texImage2D(u,c,f,t,r,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),G(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,u,m.__webglTexture,0,z(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,u,m.__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function U(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){let i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=b(n.stencilBuffer,a),s=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;G(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,z(n),o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,z(n),o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,s,e.RENDERBUFFER,t)}else{let t=n.textures;for(let i=0;i<t.length;i++){let o=t[i],s=a.convert(o.format,o.colorSpace),u=a.convert(o.type),c=_(o.internalFormat,s,u,o.colorSpace);G(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,z(n),c,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,z(n),c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function k(t,i,o){let s=!0===i.isWebGLCubeRenderTarget;if(n.bindFramebuffer(e.FRAMEBUFFER,t),!(i.depthTexture&&i.depthTexture.isDepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let u=r.get(i.depthTexture);if(u.__renderTarget=i,u.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),s){if(void 0===u.__webglInit&&(u.__webglInit=!0,i.depthTexture.addEventListener("dispose",x)),void 0===u.__webglTexture){let t;u.__webglTexture=e.createTexture(),n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),P(e.TEXTURE_CUBE_MAP,i.depthTexture);let r=a.convert(i.depthTexture.format),o=a.convert(i.depthTexture.type);i.depthTexture.format===C.DepthFormat?t=e.DEPTH_COMPONENT24:i.depthTexture.format===C.DepthStencilFormat&&(t=e.DEPTH24_STENCIL8);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t,i.width,i.height,0,r,o,null)}}else T(i.depthTexture,0);let c=u.__webglTexture,d=z(i),h=s?e.TEXTURE_CUBE_MAP_POSITIVE_X+o:e.TEXTURE_2D,f=i.depthTexture.format===C.DepthStencilFormat?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;if(i.depthTexture.format===C.DepthFormat)G(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,f,h,c,0,d):e.framebufferTexture2D(e.FRAMEBUFFER,f,h,c,0);else if(i.depthTexture.format===C.DepthStencilFormat)G(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,f,h,c,0,d):e.framebufferTexture2D(e.FRAMEBUFFER,f,h,c,0);else throw Error("Unknown depthTexture format")}function O(t){let i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){let e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){let t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer)if(a)for(let e=0;e<6;e++)k(i.__webglFramebuffer[e],t,e);else{let e=t.texture.mipmaps;e&&e.length>0?k(i.__webglFramebuffer[0],t,0):k(i.__webglFramebuffer,t,0)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),U(i.__webglDepthbuffer[r],t,!1);else{let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{let r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);else{let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}let F=[],B=[];function z(e){return Math.min(i.maxSamples,e.samples)}function G(e){let n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function j(e,t){let n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==C.LinearSRGBColorSpace&&n!==C.NoColorSpace&&(C.ColorManagement.getTransfer(n)===C.SRGBTransfer?(r!==C.RGBAFormat||i!==C.UnsignedByteType)&&(0,C.warn)("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):(0,C.error)("WebGLTextures: Unsupported texture color space:",n)),t}function H(e){return"u">typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"u">typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){let e=E;return e>=i.maxTextures&&(0,C.warn)("WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){let a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?N(a,t,i):(t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i))},this.setTexture3D=function(t,i){let a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?N(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){let s=r.get(t);!0!==t.isCubeDepthTexture&&t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;let l=L(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);let c=r.get(u);if(u.version!==c.__version||!0===l){let t;n.activeTexture(e.TEXTURE0+s);let r=C.ColorManagement.getPrimaries(C.ColorManagement.workingColorSpace),d=o.colorSpace===C.NoColorSpace?null:C.ColorManagement.getPrimaries(o.colorSpace),h=o.colorSpace===C.NoColorSpace||r===d?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let f=o.isCompressedTexture||o.image[0].isCompressedTexture,p=o.image[0]&&o.image[0].isDataTexture,b=[];for(let e=0;e<6;e++)f||p?b[e]=p?o.image[e].image:o.image[e]:b[e]=m(o.image[e],!0,i.maxCubemapSize),b[e]=j(o,b[e]);let x=b[0],S=a.convert(o.format,o.colorSpace),w=a.convert(o.type),E=_(o.internalFormat,S,w,o.colorSpace),T=!0!==o.isVideoTexture,M=void 0===c.__version||!0===l,A=u.dataReady,R=y(o,x);if(P(e.TEXTURE_CUBE_MAP,o),f){T&&M&&n.texStorage2D(e.TEXTURE_CUBE_MAP,R,E,x.width,x.height);for(let r=0;r<6;r++){t=b[r].mipmaps;for(let i=0;i<t.length;i++){let a=t[i];o.format!==C.RGBAFormat?null!==S?T?A&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i,0,0,a.width,a.height,S,a.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i,E,a.width,a.height,0,a.data):(0,C.warn)("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i,0,0,a.width,a.height,S,w,a.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i,E,a.width,a.height,0,S,w,a.data)}}}else{if(t=o.mipmaps,T&&M){t.length>0&&R++;let r=H(b[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,R,E,r.width,r.height)}for(let r=0;r<6;r++)if(p){T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,0,0,b[r].width,b[r].height,S,w,b[r].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,E,b[r].width,b[r].height,0,S,w,b[r].data);for(let i=0;i<t.length;i++){let a=t[i].image[r].image;T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,0,0,a.width,a.height,S,w,a.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,E,a.width,a.height,0,S,w,a.data)}}else{T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,0,0,S,w,b[r]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,E,S,w,b[r]);for(let i=0;i<t.length;i++){let a=t[i];T?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,0,0,S,w,a.image[r]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,i+1,E,S,w,a.image[r])}}}g(o)&&v(e.TEXTURE_CUBE_MAP),c.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){let a=r.get(t);void 0!==n&&D(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&O(t)},this.setupRenderTarget=function(t){let i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",S);let u=t.textures,c=!0===t.isWebGLCubeRenderTarget,d=u.length>1;if(!d&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),c){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=u.length;t<n;t++){let n=r.get(u[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===G(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<u.length;n++){let r=u[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);let i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=_(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),c=z(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),U(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),P(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)D(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else D(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=u.length;i<a;i++){let a=u[i],o=r.get(a),l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,o.__webglTexture),P(l,a),D(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,l,0),g(a)&&v(l)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),P(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)D(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else D(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&O(t)},this.updateRenderTargetMipmap=function(t){let i=t.textures;for(let a=0,o=i.length;a<o;a++){let o=i[a];if(g(o)){let i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D,a=r.get(o).__webglTexture;n.bindTexture(i,a),v(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0){if(!1===G(t)){let i=t.textures,a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer);let h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);let t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===u&&(F.length=0,B.length=0,F.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(F.push(l),B.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,B)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,F))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);let a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&u){let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}}},this.setupDepthRenderbuffer=O,this.setupFrameBufferTexture=D,this.useMultisampledRTT=G,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function tZ(e,t){return{convert:function(n,r=C.NoColorSpace){let i,a=C.ColorManagement.getTransfer(r);if(n===C.UnsignedByteType)return e.UNSIGNED_BYTE;if(n===C.UnsignedShort4444Type)return e.UNSIGNED_SHORT_4_4_4_4;if(n===C.UnsignedShort5551Type)return e.UNSIGNED_SHORT_5_5_5_1;if(n===C.UnsignedInt5999Type)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===C.UnsignedInt101111Type)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===C.ByteType)return e.BYTE;if(n===C.ShortType)return e.SHORT;if(n===C.UnsignedShortType)return e.UNSIGNED_SHORT;if(n===C.IntType)return e.INT;if(n===C.UnsignedIntType)return e.UNSIGNED_INT;if(n===C.FloatType)return e.FLOAT;if(n===C.HalfFloatType)return e.HALF_FLOAT;if(n===C.AlphaFormat)return e.ALPHA;if(n===C.RGBFormat)return e.RGB;if(n===C.RGBAFormat)return e.RGBA;if(n===C.DepthFormat)return e.DEPTH_COMPONENT;if(n===C.DepthStencilFormat)return e.DEPTH_STENCIL;if(n===C.RedFormat)return e.RED;if(n===C.RedIntegerFormat)return e.RED_INTEGER;if(n===C.RGFormat)return e.RG;if(n===C.RGIntegerFormat)return e.RG_INTEGER;if(n===C.RGBAIntegerFormat)return e.RGBA_INTEGER;if(n===C.RGB_S3TC_DXT1_Format||n===C.RGBA_S3TC_DXT1_Format||n===C.RGBA_S3TC_DXT3_Format||n===C.RGBA_S3TC_DXT5_Format)if(a===C.SRGBTransfer){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===C.RGB_S3TC_DXT1_Format)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===C.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===C.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===C.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===C.RGB_S3TC_DXT1_Format)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===C.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===C.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===C.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===C.RGB_PVRTC_4BPPV1_Format||n===C.RGB_PVRTC_2BPPV1_Format||n===C.RGBA_PVRTC_4BPPV1_Format||n===C.RGBA_PVRTC_2BPPV1_Format){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===C.RGB_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===C.RGB_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===C.RGBA_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===C.RGBA_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===C.RGB_ETC1_Format||n===C.RGB_ETC2_Format||n===C.RGBA_ETC2_EAC_Format||n===C.R11_EAC_Format||n===C.SIGNED_R11_EAC_Format||n===C.RG11_EAC_Format||n===C.SIGNED_RG11_EAC_Format){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===C.RGB_ETC1_Format||n===C.RGB_ETC2_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===C.RGBA_ETC2_EAC_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC;if(n===C.R11_EAC_Format)return i.COMPRESSED_R11_EAC;if(n===C.SIGNED_R11_EAC_Format)return i.COMPRESSED_SIGNED_R11_EAC;if(n===C.RG11_EAC_Format)return i.COMPRESSED_RG11_EAC;if(n===C.SIGNED_RG11_EAC_Format)return i.COMPRESSED_SIGNED_RG11_EAC}if(n===C.RGBA_ASTC_4x4_Format||n===C.RGBA_ASTC_5x4_Format||n===C.RGBA_ASTC_5x5_Format||n===C.RGBA_ASTC_6x5_Format||n===C.RGBA_ASTC_6x6_Format||n===C.RGBA_ASTC_8x5_Format||n===C.RGBA_ASTC_8x6_Format||n===C.RGBA_ASTC_8x8_Format||n===C.RGBA_ASTC_10x5_Format||n===C.RGBA_ASTC_10x6_Format||n===C.RGBA_ASTC_10x8_Format||n===C.RGBA_ASTC_10x10_Format||n===C.RGBA_ASTC_12x10_Format||n===C.RGBA_ASTC_12x12_Format){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===C.RGBA_ASTC_4x4_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===C.RGBA_ASTC_5x4_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===C.RGBA_ASTC_5x5_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===C.RGBA_ASTC_6x5_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===C.RGBA_ASTC_6x6_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===C.RGBA_ASTC_8x5_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===C.RGBA_ASTC_8x6_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===C.RGBA_ASTC_8x8_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===C.RGBA_ASTC_10x5_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===C.RGBA_ASTC_10x6_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===C.RGBA_ASTC_10x8_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===C.RGBA_ASTC_10x10_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===C.RGBA_ASTC_12x10_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===C.RGBA_ASTC_12x12_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===C.RGBA_BPTC_Format||n===C.RGB_BPTC_SIGNED_Format||n===C.RGB_BPTC_UNSIGNED_Format){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===C.RGBA_BPTC_Format)return a===C.SRGBTransfer?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===C.RGB_BPTC_SIGNED_Format)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===C.RGB_BPTC_UNSIGNED_Format)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===C.RED_RGTC1_Format||n===C.SIGNED_RED_RGTC1_Format||n===C.RED_GREEN_RGTC2_Format||n===C.SIGNED_RED_GREEN_RGTC2_Format){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===C.RED_RGTC1_Format)return i.COMPRESSED_RED_RGTC1_EXT;if(n===C.SIGNED_RED_RGTC1_Format)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===C.RED_GREEN_RGTC2_Format)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===C.SIGNED_RED_GREEN_RGTC2_Format)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===C.UnsignedInt248Type?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}let tQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,tJ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class t1{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){let n=new C.ExternalTexture(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){let t=e.cameras[0].viewport,n=new C.ShaderMaterial({vertexShader:tQ,fragmentShader:tJ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new C.Mesh(new C.PlaneGeometry(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class t2 extends C.EventDispatcher{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,u=null,c=null,d=null,h=null,f=null;const p="u">typeof XRWebGLBinding,m=new t1,g={},v=t.getContextAttributes();let _=null,b=null;const y=[],x=[],S=new C.Vector2;let w=null;const E=new C.PerspectiveCamera;E.viewport=new C.Vector4;const T=new C.PerspectiveCamera;T.viewport=new C.Vector4;const M=[E,T],R=new C.ArrayCamera;let P=null,L=null;function I(e){let t=x.indexOf(e.inputSource);if(-1===t)return;let n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function N(){r.removeEventListener("select",I),r.removeEventListener("selectstart",I),r.removeEventListener("selectend",I),r.removeEventListener("squeeze",I),r.removeEventListener("squeezestart",I),r.removeEventListener("squeezeend",I),r.removeEventListener("end",N),r.removeEventListener("inputsourceschange",D);for(let e=0;e<y.length;e++){let t=x[e];null!==t&&(x[e]=null,y[e].disconnect(t))}for(let e in P=null,L=null,m.reset(),g)delete g[e];e.setRenderTarget(_),h=null,d=null,c=null,r=null,b=null,B.stop(),n.isPresenting=!1,e.setPixelRatio(w),e.setSize(S.width,S.height,!1),n.dispatchEvent({type:"sessionend"})}function D(e){for(let t=0;t<e.removed.length;t++){let n=e.removed[t],r=x.indexOf(n);r>=0&&(x[r]=null,y[r].disconnect(n))}for(let t=0;t<e.added.length;t++){let n=e.added[t],r=x.indexOf(n);if(-1===r){for(let e=0;e<y.length;e++)if(e>=x.length){x.push(n),r=e;break}else if(null===x[e]){x[e]=n,r=e;break}if(-1===r)break}let i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new C.WebXRController,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new C.WebXRController,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new C.WebXRController,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&(0,C.warn)("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&(0,C.warn)("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return null===c&&p&&(c=new XRWebGLBinding(r,t)),c},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(u){if(null!==(r=u)){if(_=e.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",N),r.addEventListener("inputsourceschange",D),!0!==v.xrCompatible&&await t.makeXRCompatible(),w=e.getPixelRatio(),e.getSize(S),p&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,o=null;v.depth&&(o=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=v.stencil?C.DepthStencilFormat:C.DepthFormat,a=v.stencil?C.UnsignedInt248Type:C.UnsignedIntType);let s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};d=(c=this.getBinding()).createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new C.WebGLRenderTarget(d.textureWidth,d.textureHeight,{format:C.RGBAFormat,type:C.UnsignedByteType,depthTexture:new C.DepthTexture(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:4*!!v.antialias,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{let n={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),b=new C.WebGLRenderTarget(h.framebufferWidth,h.framebufferHeight,{format:C.RGBAFormat,type:C.UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}b.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),B.setContext(r),B.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};const U=new C.Vector3,k=new C.Vector3;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){var t,n,i;if(null===r)return;let a=e.near,o=e.far;null!==m.texture&&(m.depthNear>0&&(a=m.depthNear),m.depthFar>0&&(o=m.depthFar)),R.near=T.near=E.near=a,R.far=T.far=E.far=o,(P!==R.near||L!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),P=R.near,L=R.far),R.layers.mask=6|e.layers.mask,E.layers.mask=3&R.layers.mask,T.layers.mask=5&R.layers.mask;let s=e.parent,l=R.cameras;O(R,s);for(let e=0;e<l.length;e++)O(l[e],s);2===l.length?function(e,t,n){U.setFromMatrixPosition(t.matrixWorld),k.setFromMatrixPosition(n.matrixWorld);let r=U.distanceTo(k),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=r/(-c+d),f=-(h*c);if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{let t=o+h,n=s+h;e.projectionMatrix.makePerspective(o*c-f,o*d+(r-f),l*s/n*t,u*s/n*t,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(R,E,T):R.projectionMatrix.copy(E.projectionMatrix),t=e,n=R,null===(i=s)?t.matrix.copy(n.matrixWorld):(t.matrix.copy(i.matrixWorld),t.matrix.invert(),t.matrix.multiply(n.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(n.projectionMatrix),t.projectionMatrixInverse.copy(n.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*C.RAD2DEG*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)},this.getCamera=function(){return R},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==m.texture},this.getDepthSensingMesh=function(){return m.getMesh(R)},this.getCameraTexture=function(e){return g[e]};let F=null;const B=new A;B.setAnimationLoop(function(t,i){if(u=i.getViewerPose(l||a),f=i,null!==u){let t=u.views;null!==h&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let i=!1;t.length!==R.cameras.length&&(R.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){let r=t[n],a=null;if(null!==h)a=h.getViewport(r);else{let t=c.getViewSubImage(d,r);a=t.viewport,0===n&&(e.setRenderTargetTextures(b,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(b))}let o=M[n];void 0===o&&((o=new C.PerspectiveCamera).layers.enable(n),o.viewport=new C.Vector4,M[n]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&(R.matrix.copy(o.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),!0===i&&R.cameras.push(o)}let a=r.enabledFeatures;if(a&&a.includes("depth-sensing")&&"gpu-optimized"==r.depthUsage&&p){let e=(c=n.getBinding()).getDepthInformation(t[0]);e&&e.isValid&&e.texture&&m.init(e,r.renderState)}if(a&&a.includes("camera-access")&&p){e.state.unbindTexture(),c=n.getBinding();for(let e=0;e<t.length;e++){let n=t[e].camera;if(n){let e=g[n];e||(e=new C.ExternalTexture,g[n]=e);let t=c.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<y.length;e++){let t=x[e],n=y[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}F&&F(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),f=null}),this.setAnimationLoop=function(e){F=e},this.dispose=function(){}}}let t0=new C.Euler,t6=new C.Matrix4;function t5(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===C.BackSide&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===C.BackSide&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);let i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,t0.copy(o),t0.x*=-1,t0.y*=-1,t0.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(t0.y*=-1,t0.z*=-1),e.envMapRotation.value.setFromMatrix4(t6.makeRotationFromEuler(t0)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,(0,C.getUnlitUniformColorSpace)(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){var l,u,c,d,h,f,p,m,g,v,_,b,y,x,S,w,E,T,M,A,R,P,L;let I;i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),l=e,(u=i).gradientMap&&(l.gradientMap.value=u.gradientMap)):i.isMeshPhongMaterial?(r(e,i),c=e,d=i,c.specular.value.copy(d.specular),c.shininess.value=Math.max(d.shininess,1e-4)):i.isMeshStandardMaterial?(r(e,i),h=e,f=i,h.metalness.value=f.metalness,f.metalnessMap&&(h.metalnessMap.value=f.metalnessMap,n(f.metalnessMap,h.metalnessMapTransform)),h.roughness.value=f.roughness,f.roughnessMap&&(h.roughnessMap.value=f.roughnessMap,n(f.roughnessMap,h.roughnessMapTransform)),f.envMap&&(h.envMapIntensity.value=f.envMapIntensity),i.isMeshPhysicalMaterial&&(p=e,m=i,g=s,p.ior.value=m.ior,m.sheen>0&&(p.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),p.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(p.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,p.sheenColorMapTransform)),m.sheenRoughnessMap&&(p.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,p.sheenRoughnessMapTransform))),m.clearcoat>0&&(p.clearcoat.value=m.clearcoat,p.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(p.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,p.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(p.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===C.BackSide&&p.clearcoatNormalScale.value.negate())),m.dispersion>0&&(p.dispersion.value=m.dispersion),m.iridescence>0&&(p.iridescence.value=m.iridescence,p.iridescenceIOR.value=m.iridescenceIOR,p.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(p.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,p.iridescenceMapTransform)),m.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),m.transmission>0&&(p.transmission.value=m.transmission,p.transmissionSamplerMap.value=g.texture,p.transmissionSamplerSize.value.set(g.width,g.height),m.transmissionMap&&(p.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,p.transmissionMapTransform)),p.thickness.value=m.thickness,m.thicknessMap&&(p.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=m.attenuationDistance,p.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(p.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(p.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=m.specularIntensity,p.specularColor.value.copy(m.specularColor),m.specularColorMap&&(p.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,p.specularColorMapTransform)),m.specularIntensityMap&&(p.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,p.specularIntensityMapTransform)))):i.isMeshMatcapMaterial?(r(e,i),v=e,(_=i).matcap&&(v.matcap.value=_.matcap)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),b=e,y=i,I=t.get(y).light,b.referencePosition.value.setFromMatrixPosition(I.matrixWorld),b.nearDistance.value=I.shadow.camera.near,b.farDistance.value=I.shadow.camera.far):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(x=e,S=i,x.diffuse.value.copy(S.color),x.opacity.value=S.opacity,S.map&&(x.map.value=S.map,n(S.map,x.mapTransform)),i.isLineDashedMaterial&&(w=e,E=i,w.dashSize.value=E.dashSize,w.totalSize.value=E.dashSize+E.gapSize,w.scale.value=E.scale)):i.isPointsMaterial?(T=e,M=i,A=a,R=o,T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,T.size.value=M.size*A,T.scale.value=.5*R,M.map&&(T.map.value=M.map,n(M.map,T.uvTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,n(M.alphaMap,T.alphaMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest)):i.isSpriteMaterial?(P=e,L=i,P.diffuse.value.copy(L.color),P.opacity.value=L.opacity,P.rotation.value=L.rotation,L.map&&(P.map.value=L.map,n(L.map,P.mapTransform)),L.alphaMap&&(P.alphaMap.value=L.alphaMap,n(L.alphaMap,P.alphaMapTransform)),L.alphaTest>0&&(P.alphaTest.value=L.alphaTest)):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function t3(e,t,n,r){let i={},a={},o=[],s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e){let t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?(0,C.warn)("WebGLRenderer: Texture samplers can not be part of an uniforms group."):(0,C.warn)("WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){let n=t.target;n.removeEventListener("dispose",u);let r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){let n=t.program;r.uniformBlockBinding(e,n)},update:function(n,c){var d;let h,f,p,m,g=i[n.id];void 0===g&&(function(e){let t=e.uniforms,n=0;for(let e=0,r=t.length;e<r;e++){let r=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=r.length;e<t;e++){let t=r[e],i=Array.isArray(t.value)?t.value:[t.value];for(let e=0,r=i.length;e<r;e++){let r=l(i[e]),a=n%16,o=a%r.boundary,s=a+o;n+=o,0!==s&&16-s<r.storage&&(n+=16-s),t.__data=new Float32Array(r.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=r.storage}}}let r=n%16;r>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),(d=n).__bindingPointIndex=h=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return(0,C.error)("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}(),f=e.createBuffer(),p=d.__size,m=d.usage,e.bindBuffer(e.UNIFORM_BUFFER,f),e.bufferData(e.UNIFORM_BUFFER,p,m),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,h,f),g=f,i[n.id]=g,n.addEventListener("dispose",u));let v=c.program;r.updateUBOMapping(n,v);let _=t.render.frame;a[n.id]!==_&&(function(t){let n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){let n=Array.isArray(r[t])?r[t]:[r[t]];for(let r=0,i=n.length;r<i;r++){let i=n[r];if(!0===function(e,t,n,r){let i=e.value,a=t+"_"+n;if(void 0===r[a])return"number"==typeof i||"boolean"==typeof i?r[a]=i:r[a]=i.clone(),!0;{let e=r[a];if("number"==typeof i||"boolean"==typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}(i,t,r,a)){let t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value],r=0;for(let a=0;a<n.length;a++){let o=n[a],s=l(o);"number"==typeof o||"boolean"==typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=_)},dispose:function(){for(let t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}let t4=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]),t7=null;class t8{constructor(e={}){let t,n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,_,b,y,x,S,w,E,T;const{canvas:M=(0,C.createCanvasElement)(),context:P=null,depth:L=!0,stencil:I=!1,alpha:N=!1,antialias:D=!1,premultipliedAlpha:U=!0,preserveDrawingBuffer:j=!1,powerPreference:H="default",failIfMajorPerformanceCaveat:V=!1,reversedDepthBuffer:W=!1,outputBufferType:q=C.UnsignedByteType}=e;if(this.isWebGLRenderer=!0,null!==P){if("u">typeof WebGLRenderingContext&&P instanceof WebGLRenderingContext)throw Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");t=P.getContextAttributes().alpha}else t=N;const X=new Set([C.RGBAIntegerFormat,C.RGIntegerFormat,C.RedIntegerFormat]),Y=new Set([C.UnsignedByteType,C.UnsignedIntType,C.UnsignedShortType,C.UnsignedInt248Type,C.UnsignedShort4444Type,C.UnsignedShort5551Type]),K=new Uint32Array(4),$=new Int32Array(4);let Z=null,Q=null;const J=[],ee=[];let et=null;this.domElement=M,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=C.NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const eu=this;let ed=!1;this._outputColorSpace=C.SRGBColorSpace;let eh=0,ef=0,ep=null,em=-1,eg=null;const ev=new C.Vector4,e_=new C.Vector4;let eb=null;const ey=new C.Color(0);let ex=0,eS=M.width,ew=M.height,eE=1,eT=null,eM=null;const eC=new C.Vector4(0,0,eS,ew),eA=new C.Vector4(0,0,eS,ew);let eR=!1;const eP=new C.Frustum;let eL=!1,eI=!1;const eN=new C.Matrix4,eD=new C.Vector3,eU=new C.Vector4,ek={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let eO=!1;function eF(){return null===ep?eE:1}let eB=P;function ez(e,t){return M.getContext(e,t)}try{if("setAttribute"in M&&M.setAttribute("data-engine",`three.js r${C.REVISION}`),M.addEventListener("webglcontextlost",eH,!1),M.addEventListener("webglcontextrestored",eV,!1),M.addEventListener("webglcontextcreationerror",eW,!1),null===eB){const e="webgl2";if(eB=ez(e,{alpha:!0,depth:L,stencil:I,antialias:D,premultipliedAlpha:U,preserveDrawingBuffer:j,powerPreference:H,failIfMajorPerformanceCaveat:V}),null===eB)if(ez(e))throw Error("Error creating WebGL context with your selected attributes.");else throw Error("Error creating WebGL context.")}}catch(e){throw(0,C.error)("WebGLRenderer: "+e.message),e}function eG(){(n=new er(eB)).init(),w=new tZ(eB,n),r=new B(eB,n,e,w),i=new tK(eB,n),r.reversedDepthBuffer&&W&&i.buffers.depth.setReversed(!0),a=new eo(eB),o=new tL,s=new t$(eB,n,i,o,r,w,a),l=new G(eu),u=new en(eu),c=new R(eB),E=new O(eB,c),d=new ei(eB,c,a,E),h=new el(eB,d,c,a),y=new es(eB,r,s),v=new z(o),f=new tP(eu,l,u,n,r,E,v),p=new t5(eu,o),m=new tU,g=new tG(n),b=new k(eu,l,u,i,h,t,U),_=new tX(eu,h,r),T=new t3(eB,a,r,i),x=new F(eB,n,a),S=new ea(eB,n,a),a.programs=f.programs,eu.capabilities=r,eu.extensions=n,eu.properties=o,eu.renderLists=m,eu.shadowMap=_,eu.state=i,eu.info=a}eG(),q!==C.UnsignedByteType&&(et=new ec(q,M.width,M.height,L,I));const ej=new t2(eu,eB);function eH(e){e.preventDefault(),(0,C.log)("WebGLRenderer: Context Lost."),ed=!0}function eV(){(0,C.log)("WebGLRenderer: Context Restored."),ed=!1;let e=a.autoReset,t=_.enabled,n=_.autoUpdate,r=_.needsUpdate,i=_.type;eG(),a.autoReset=e,_.enabled=t,_.autoUpdate=n,_.needsUpdate=r,_.type=i}function eW(e){(0,C.error)("WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function eq(e){var t,n;let r,i=e.target;i.removeEventListener("dispose",eq),n=t=i,void 0!==(r=o.get(n).programs)&&(r.forEach(function(e){f.releaseProgram(e)}),n.isShaderMaterial&&f.releaseShaderCache(n)),o.remove(t)}function eX(e,t,n){!0===e.transparent&&e.side===C.DoubleSide&&!1===e.forceSinglePass?(e.side=C.BackSide,e.needsUpdate=!0,e6(e,t,n),e.side=C.FrontSide,e.needsUpdate=!0,e6(e,t,n),e.side=C.DoubleSide):e6(e,t,n)}this.xr=ej,this.getContext=function(){return eB},this.getContextAttributes=function(){return eB.getContextAttributes()},this.forceContextLoss=function(){let e=n.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){let e=n.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return eE},this.setPixelRatio=function(e){void 0!==e&&(eE=e,this.setSize(eS,ew,!1))},this.getSize=function(e){return e.set(eS,ew)},this.setSize=function(e,t,n=!0){ej.isPresenting?(0,C.warn)("WebGLRenderer: Can't change size while VR device is presenting."):(eS=e,ew=t,M.width=Math.floor(e*eE),M.height=Math.floor(t*eE),!0===n&&(M.style.width=e+"px",M.style.height=t+"px"),null!==et&&et.setSize(M.width,M.height),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(eS*eE,ew*eE).floor()},this.setDrawingBufferSize=function(e,t,n){eS=e,ew=t,eE=n,M.width=Math.floor(e*n),M.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.setEffects=function(e){if(q===C.UnsignedByteType)return void console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");if(e){for(let t=0;t<e.length;t++)if(!0===e[t].isOutputPass){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}et.setEffects(e||[])},this.getCurrentViewport=function(e){return e.copy(ev)},this.getViewport=function(e){return e.copy(eC)},this.setViewport=function(e,t,n,r){e.isVector4?eC.set(e.x,e.y,e.z,e.w):eC.set(e,t,n,r),i.viewport(ev.copy(eC).multiplyScalar(eE).round())},this.getScissor=function(e){return e.copy(eA)},this.setScissor=function(e,t,n,r){e.isVector4?eA.set(e.x,e.y,e.z,e.w):eA.set(e,t,n,r),i.scissor(e_.copy(eA).multiplyScalar(eE).round())},this.getScissorTest=function(){return eR},this.setScissorTest=function(e){i.setScissorTest(eR=e)},this.setOpaqueSort=function(e){eT=e},this.setTransparentSort=function(e){eM=e},this.getClearColor=function(e){return e.copy(b.getClearColor())},this.setClearColor=function(){b.setClearColor(...arguments)},this.getClearAlpha=function(){return b.getClearAlpha()},this.setClearAlpha=function(){b.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==ep){let t=ep.texture.format;e=X.has(t)}if(e){let e=ep.texture.type,t=Y.has(e),n=b.getClearColor(),r=b.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(K[0]=i,K[1]=a,K[2]=o,K[3]=r,eB.clearBufferuiv(eB.COLOR,0,K)):($[0]=i,$[1]=a,$[2]=o,$[3]=r,eB.clearBufferiv(eB.COLOR,0,$))}else r|=eB.COLOR_BUFFER_BIT}t&&(r|=eB.DEPTH_BUFFER_BIT),n&&(r|=eB.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(0xffffffff)),eB.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){M.removeEventListener("webglcontextlost",eH,!1),M.removeEventListener("webglcontextrestored",eV,!1),M.removeEventListener("webglcontextcreationerror",eW,!1),b.dispose(),m.dispose(),g.dispose(),o.dispose(),l.dispose(),u.dispose(),h.dispose(),E.dispose(),T.dispose(),f.dispose(),ej.dispose(),ej.removeEventListener("sessionstart",eK),ej.removeEventListener("sessionend",e$),eZ.stop()},this.renderBufferDirect=function(e,t,a,h,f,m){let g;null===t&&(t=ek);let _=f.isMesh&&0>f.matrixWorld.determinant(),b=function(e,t,n,a,c){var d,h;!0!==t.isScene&&(t=ek),s.resetTextureUnits();let f=t.fog,m=a.isMeshStandardMaterial?t.environment:null,g=null===ep?eu.outputColorSpace:!0===ep.isXRRenderTarget?ep.texture.colorSpace:C.LinearSRGBColorSpace,_=(a.isMeshStandardMaterial?u:l).get(a.envMap||m),b=!0===a.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,x=!!n.attributes.tangent&&(!!a.normalMap||a.anisotropy>0),S=!!n.morphAttributes.position,w=!!n.morphAttributes.normal,E=!!n.morphAttributes.color,M=C.NoToneMapping;a.toneMapped&&(null===ep||!0===ep.isXRRenderTarget)&&(M=eu.toneMapping);let A=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,R=void 0!==A?A.length:0,P=o.get(a),L=Q.state.lights;if(!0===eL&&(!0===eI||e!==eg)){let t=e===eg&&a.id===em;v.setState(a,e,t)}let I=!1;a.version===P.__version?P.needsLights&&P.lightsStateVersion!==L.state.version||P.outputColorSpace!==g||c.isBatchedMesh&&!1===P.batching?I=!0:c.isBatchedMesh||!0!==P.batching?c.isBatchedMesh&&!0===P.batchingColor&&null===c.colorTexture||c.isBatchedMesh&&!1===P.batchingColor&&null!==c.colorTexture||c.isInstancedMesh&&!1===P.instancing?I=!0:c.isInstancedMesh||!0!==P.instancing?c.isSkinnedMesh&&!1===P.skinning?I=!0:c.isSkinnedMesh||!0!==P.skinning?c.isInstancedMesh&&!0===P.instancingColor&&null===c.instanceColor||c.isInstancedMesh&&!1===P.instancingColor&&null!==c.instanceColor||c.isInstancedMesh&&!0===P.instancingMorph&&null===c.morphTexture||c.isInstancedMesh&&!1===P.instancingMorph&&null!==c.morphTexture||P.envMap!==_||!0===a.fog&&P.fog!==f||void 0!==P.numClippingPlanes&&(P.numClippingPlanes!==v.numPlanes||P.numIntersection!==v.numIntersection)||P.vertexAlphas!==b||P.vertexTangents!==x||P.morphTargets!==S||P.morphNormals!==w||P.morphColors!==E||P.toneMapping!==M?I=!0:P.morphTargetsCount!==R&&(I=!0):I=!0:I=!0:I=!0:(I=!0,P.__version=a.version);let N=P.currentProgram;!0===I&&(N=e6(a,t,c));let D=!1,U=!1,k=!1,O=N.getUniforms(),F=P.uniforms;if(i.useProgram(N.program)&&(D=!0,U=!0,k=!0),a.id!==em&&(em=a.id,U=!0),D||eg!==e){i.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),O.setValue(eB,"projectionMatrix",e.projectionMatrix),O.setValue(eB,"viewMatrix",e.matrixWorldInverse);let t=O.map.cameraPosition;void 0!==t&&t.setValue(eB,eD.setFromMatrixPosition(e.matrixWorld)),r.logarithmicDepthBuffer&&O.setValue(eB,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial)&&O.setValue(eB,"isOrthographic",!0===e.isOrthographicCamera),eg!==e&&(eg=e,U=!0,k=!0)}if(P.needsLights&&(L.state.directionalShadowMap.length>0&&O.setValue(eB,"directionalShadowMap",L.state.directionalShadowMap,s),L.state.spotShadowMap.length>0&&O.setValue(eB,"spotShadowMap",L.state.spotShadowMap,s),L.state.pointShadowMap.length>0&&O.setValue(eB,"pointShadowMap",L.state.pointShadowMap,s)),c.isSkinnedMesh){O.setOptional(eB,c,"bindMatrix"),O.setOptional(eB,c,"bindMatrixInverse");let e=c.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),O.setValue(eB,"boneTexture",e.boneTexture,s))}c.isBatchedMesh&&(O.setOptional(eB,c,"batchingTexture"),O.setValue(eB,"batchingTexture",c._matricesTexture,s),O.setOptional(eB,c,"batchingIdTexture"),O.setValue(eB,"batchingIdTexture",c._indirectTexture,s),O.setOptional(eB,c,"batchingColorTexture"),null!==c._colorsTexture&&O.setValue(eB,"batchingColorTexture",c._colorsTexture,s));let B=n.morphAttributes;if((void 0!==B.position||void 0!==B.normal||void 0!==B.color)&&y.update(c,n,N),(U||P.receiveShadow!==c.receiveShadow)&&(P.receiveShadow=c.receiveShadow,O.setValue(eB,"receiveShadow",c.receiveShadow)),a.isMeshGouraudMaterial&&null!==a.envMap&&(F.envMap.value=_,F.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1),a.isMeshStandardMaterial&&null===a.envMap&&null!==t.environment&&(F.envMapIntensity.value=t.environmentIntensity),void 0!==F.dfgLUT&&(F.dfgLUT.value=(null===t7&&((t7=new C.DataTexture(t4,16,16,C.RGFormat,C.HalfFloatType)).name="DFG_LUT",t7.minFilter=C.LinearFilter,t7.magFilter=C.LinearFilter,t7.wrapS=C.ClampToEdgeWrapping,t7.wrapT=C.ClampToEdgeWrapping,t7.generateMipmaps=!1,t7.needsUpdate=!0),t7)),U&&(O.setValue(eB,"toneMappingExposure",eu.toneMappingExposure),P.needsLights&&(d=F,h=k,d.ambientLightColor.needsUpdate=h,d.lightProbe.needsUpdate=h,d.directionalLights.needsUpdate=h,d.directionalLightShadows.needsUpdate=h,d.pointLights.needsUpdate=h,d.pointLightShadows.needsUpdate=h,d.spotLights.needsUpdate=h,d.spotLightShadows.needsUpdate=h,d.rectAreaLights.needsUpdate=h,d.hemisphereLights.needsUpdate=h),f&&!0===a.fog&&p.refreshFogUniforms(F,f),p.refreshMaterialUniforms(F,a,eE,ew,Q.state.transmissionRenderTarget[e.id]),ti.upload(eB,e5(P),F,s)),a.isShaderMaterial&&!0===a.uniformsNeedUpdate&&(ti.upload(eB,e5(P),F,s),a.uniformsNeedUpdate=!1),a.isSpriteMaterial&&O.setValue(eB,"center",c.center),O.setValue(eB,"modelViewMatrix",c.modelViewMatrix),O.setValue(eB,"normalMatrix",c.normalMatrix),O.setValue(eB,"modelMatrix",c.matrixWorld),a.isShaderMaterial||a.isRawShaderMaterial){let e=a.uniformsGroups;for(let t=0,n=e.length;t<n;t++){let n=e[t];T.update(n,N),T.bind(n,N)}}return N}(e,t,a,h,f);i.setMaterial(h,_);let w=a.index,M=1;if(!0===h.wireframe){if(void 0===(w=d.getWireframeAttribute(a)))return;M=2}let A=a.drawRange,R=a.attributes.position,P=A.start*M,L=(A.start+A.count)*M;null!==m&&(P=Math.max(P,m.start*M),L=Math.min(L,(m.start+m.count)*M)),null!==w?(P=Math.max(P,0),L=Math.min(L,w.count)):null!=R&&(P=Math.max(P,0),L=Math.min(L,R.count));let I=L-P;if(I<0||I===1/0)return;E.setup(f,h,b,a,w);let N=x;if(null!==w&&(g=c.get(w),(N=S).setIndex(g)),f.isMesh)!0===h.wireframe?(i.setLineWidth(h.wireframeLinewidth*eF()),N.setMode(eB.LINES)):N.setMode(eB.TRIANGLES);else if(f.isLine){let e=h.linewidth;void 0===e&&(e=1),i.setLineWidth(e*eF()),f.isLineSegments?N.setMode(eB.LINES):f.isLineLoop?N.setMode(eB.LINE_LOOP):N.setMode(eB.LINE_STRIP)}else f.isPoints?N.setMode(eB.POINTS):f.isSprite&&N.setMode(eB.TRIANGLES);if(f.isBatchedMesh)if(null!==f._multiDrawInstances)(0,C.warnOnce)("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),N.renderMultiDrawInstances(f._multiDrawStarts,f._multiDrawCounts,f._multiDrawCount,f._multiDrawInstances);else if(n.get("WEBGL_multi_draw"))N.renderMultiDraw(f._multiDrawStarts,f._multiDrawCounts,f._multiDrawCount);else{let e=f._multiDrawStarts,t=f._multiDrawCounts,n=f._multiDrawCount,r=w?c.get(w).bytesPerElement:1,i=o.get(h).currentProgram.getUniforms();for(let a=0;a<n;a++)i.setValue(eB,"_gl_DrawID",a),N.render(e[a]/r,t[a])}else if(f.isInstancedMesh)N.renderInstances(P,I,f.count);else if(a.isInstancedBufferGeometry){let e=void 0!==a._maxInstanceCount?a._maxInstanceCount:1/0,t=Math.min(a.instanceCount,e);N.renderInstances(P,I,t)}else N.render(P,I)},this.compile=function(e,t,n=null){null===n&&(n=e),(Q=g.get(n)).init(t),ee.push(Q),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(Q.pushLight(e),e.castShadow&&Q.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(Q.pushLight(e),e.castShadow&&Q.pushShadow(e))}),Q.setupLights();let r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;let t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){let a=t[i];eX(a,n,e),r.add(a)}else eX(t,n,e),r.add(t)}),Q=ee.pop(),r},this.compileAsync=function(e,t,r=null){let i=this.compile(e,t,r);return new Promise(t=>{function r(){(i.forEach(function(e){o.get(e).currentProgram.isReady()&&i.delete(e)}),0===i.size)?t(e):setTimeout(r,10)}null!==n.get("KHR_parallel_shader_compile")?r():setTimeout(r,10)})};let eY=null;function eK(){eZ.stop()}function e$(){eZ.start()}const eZ=new A;function eQ(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers)){if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)Q.pushLight(e),e.castShadow&&Q.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||eP.intersectsSprite(e)){r&&eU.setFromMatrixPosition(e.matrixWorld).applyMatrix4(eN);let t=h.update(e),i=e.material;i.visible&&Z.push(e,t,i,n,eU.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||eP.intersectsObject(e))){let t=h.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),eU.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),eU.copy(t.boundingSphere.center)),eU.applyMatrix4(e.matrixWorld).applyMatrix4(eN)),Array.isArray(i)){let r=t.groups;for(let a=0,o=r.length;a<o;a++){let o=r[a],s=i[o.materialIndex];s&&s.visible&&Z.push(e,t,s,n,eU.z,o)}}else i.visible&&Z.push(e,t,i,n,eU.z,null)}}let i=e.children;for(let e=0,a=i.length;e<a;e++)eQ(i[e],t,n,r)}function eJ(e,t,n,r){let{opaque:a,transmissive:o,transparent:s}=e;Q.setupLightsView(n),!0===eL&&v.setGlobalState(eu.clippingPlanes,n),r&&i.viewport(ev.copy(r)),a.length>0&&e2(a,t,n),o.length>0&&e2(o,t,n),s.length>0&&e2(s,t,n),i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),i.setPolygonOffset(!1)}function e1(e,t,i,a){if(null!==(!0===i.isScene?i.overrideMaterial:null))return;if(void 0===Q.state.transmissionRenderTarget[a.id]){let e=n.has("EXT_color_buffer_half_float")||n.has("EXT_color_buffer_float");Q.state.transmissionRenderTarget[a.id]=new C.WebGLRenderTarget(1,1,{generateMipmaps:!0,type:e?C.HalfFloatType:C.UnsignedByteType,minFilter:C.LinearMipmapLinearFilter,samples:r.samples,stencilBuffer:I,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:C.ColorManagement.workingColorSpace})}let o=Q.state.transmissionRenderTarget[a.id],l=a.viewport||ev;o.setSize(l.z*eu.transmissionResolutionScale,l.w*eu.transmissionResolutionScale);let u=eu.getRenderTarget(),c=eu.getActiveCubeFace(),d=eu.getActiveMipmapLevel();eu.setRenderTarget(o),eu.getClearColor(ey),(ex=eu.getClearAlpha())<1&&eu.setClearColor(0xffffff,.5),eu.clear(),eO&&b.render(i);let h=eu.toneMapping;eu.toneMapping=C.NoToneMapping;let f=a.viewport;if(void 0!==a.viewport&&(a.viewport=void 0),Q.setupLightsView(a),!0===eL&&v.setGlobalState(eu.clippingPlanes,a),e2(e,i,a),s.updateMultisampleRenderTarget(o),s.updateRenderTargetMipmap(o),!1===n.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let n=0,r=t.length;n<r;n++){let{object:r,geometry:o,material:s,group:l}=t[n];if(s.side===C.DoubleSide&&r.layers.test(a.layers)){let t=s.side;s.side=C.BackSide,s.needsUpdate=!0,e0(r,i,a,o,s,l),s.side=t,s.needsUpdate=!0,e=!0}}!0===e&&(s.updateMultisampleRenderTarget(o),s.updateRenderTargetMipmap(o))}eu.setRenderTarget(u,c,d),eu.setClearColor(ey,ex),void 0!==f&&(a.viewport=f),eu.toneMapping=h}function e2(e,t,n){let r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){let a=e[i],{object:o,geometry:s,group:l}=a,u=a.material;!0===u.allowOverride&&null!==r&&(u=r),o.layers.test(n.layers)&&e0(o,t,n,s,u,l)}}function e0(e,t,n,r,i,a){e.onBeforeRender(eu,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(eu,t,n,r,e,a),!0===i.transparent&&i.side===C.DoubleSide&&!1===i.forceSinglePass?(i.side=C.BackSide,i.needsUpdate=!0,eu.renderBufferDirect(n,t,r,i,e,a),i.side=C.FrontSide,i.needsUpdate=!0,eu.renderBufferDirect(n,t,r,i,e,a),i.side=C.DoubleSide):eu.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(eu,t,n,r,i,a)}function e6(e,t,n){var r;!0!==t.isScene&&(t=ek);let i=o.get(e),a=Q.state.lights,s=Q.state.shadowsArray,c=a.state.version,d=f.getParameters(e,a.state,s,t,n),h=f.getProgramCacheKey(d),p=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?u:l).get(e.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===p&&(e.addEventListener("dispose",eq),i.programs=p=new Map);let m=p.get(h);if(void 0!==m){if(i.currentProgram===m&&i.lightsStateVersion===c)return e3(e,d),m}else d.uniforms=f.getUniforms(e),e.onBeforeCompile(d,eu),m=f.acquireProgram(d,h),p.set(h,m),i.uniforms=d.uniforms;let g=i.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(g.clippingPlanes=v.uniform),e3(e,d),i.needsLights=(r=e).isMeshLambertMaterial||r.isMeshToonMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.isShadowMaterial||r.isShaderMaterial&&!0===r.lights,i.lightsStateVersion=c,i.needsLights&&(g.ambientLightColor.value=a.state.ambient,g.lightProbe.value=a.state.probe,g.directionalLights.value=a.state.directional,g.directionalLightShadows.value=a.state.directionalShadow,g.spotLights.value=a.state.spot,g.spotLightShadows.value=a.state.spotShadow,g.rectAreaLights.value=a.state.rectArea,g.ltc_1.value=a.state.rectAreaLTC1,g.ltc_2.value=a.state.rectAreaLTC2,g.pointLights.value=a.state.point,g.pointLightShadows.value=a.state.pointShadow,g.hemisphereLights.value=a.state.hemi,g.directionalShadowMap.value=a.state.directionalShadowMap,g.directionalShadowMatrix.value=a.state.directionalShadowMatrix,g.spotShadowMap.value=a.state.spotShadowMap,g.spotLightMatrix.value=a.state.spotLightMatrix,g.spotLightMap.value=a.state.spotLightMap,g.pointShadowMap.value=a.state.pointShadowMap,g.pointShadowMatrix.value=a.state.pointShadowMatrix),i.currentProgram=m,i.uniformsList=null,m}function e5(e){if(null===e.uniformsList){let t=e.currentProgram.getUniforms();e.uniformsList=ti.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function e3(e,t){let n=o.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}eZ.setAnimationLoop(function(e){eY&&eY(e)}),"u">typeof self&&eZ.setContext(self),this.setAnimationLoop=function(e){eY=e,ej.setAnimationLoop(e),null===e?eZ.stop():eZ.start()},ej.addEventListener("sessionstart",eK),ej.addEventListener("sessionend",e$),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void(0,C.error)("WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===ed)return;let n=!0===ej.enabled&&!0===ej.isPresenting,r=null!==et&&(null===ep||n)&&et.begin(eu,ep);if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ej.enabled&&!0===ej.isPresenting&&(null===et||!1===et.isCompositing())&&(!0===ej.cameraAutoUpdate&&ej.updateCamera(t),t=ej.getCamera()),!0===e.isScene&&e.onBeforeRender(eu,e,t,ep),(Q=g.get(e,ee.length)).init(t),ee.push(Q),eN.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),eP.setFromProjectionMatrix(eN,C.WebGLCoordinateSystem,t.reversedDepth),eI=this.localClippingEnabled,eL=v.init(this.clippingPlanes,eI),(Z=m.get(e,J.length)).init(),J.push(Z),!0===ej.enabled&&!0===ej.isPresenting){let e=eu.xr.getDepthSensingMesh();null!==e&&eQ(e,t,-1/0,eu.sortObjects)}eQ(e,t,0,eu.sortObjects),Z.finish(),!0===eu.sortObjects&&Z.sort(eT,eM),(eO=!1===ej.enabled||!1===ej.isPresenting||!1===ej.hasDepthSensing())&&b.addToRenderList(Z,e),this.info.render.frame++,!0===eL&&v.beginShadows();let i=Q.state.shadowsArray;if(_.render(i,e,t),!0===eL&&v.endShadows(),!0===this.info.autoReset&&this.info.reset(),!1===(r&&et.hasRenderPass())){let n=Z.opaque,r=Z.transmissive;if(Q.setupLights(),t.isArrayCamera){let i=t.cameras;if(r.length>0)for(let t=0,a=i.length;t<a;t++)e1(n,r,e,i[t]);eO&&b.render(e);for(let t=0,n=i.length;t<n;t++){let n=i[t];eJ(Z,e,n,n.viewport)}}else r.length>0&&e1(n,r,e,t),eO&&b.render(e),eJ(Z,e,t)}null!==ep&&0===ef&&(s.updateMultisampleRenderTarget(ep),s.updateRenderTargetMipmap(ep)),r&&et.end(eu),!0===e.isScene&&e.onAfterRender(eu,e,t),E.resetDefaultState(),em=-1,eg=null,ee.pop(),ee.length>0?(Q=ee[ee.length-1],!0===eL&&v.setGlobalState(eu.clippingPlanes,Q.state.camera)):Q=null,J.pop(),Z=J.length>0?J[J.length-1]:null},this.getActiveCubeFace=function(){return eh},this.getActiveMipmapLevel=function(){return ef},this.getRenderTarget=function(){return ep},this.setRenderTargetTextures=function(e,t,n){let r=o.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),o.get(e.texture).__webglTexture=t,o.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){let n=o.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const e4=eB.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){ep=e,eh=t,ef=n;let r=null,a=!1,l=!1;if(e){let u=o.get(e);if(void 0!==u.__useDefaultFramebuffer){i.bindFramebuffer(eB.FRAMEBUFFER,u.__webglFramebuffer),ev.copy(e.viewport),e_.copy(e.scissor),eb=e.scissorTest,i.viewport(ev),i.scissor(e_),i.setScissorTest(eb),em=-1;return}if(void 0===u.__webglFramebuffer)s.setupRenderTarget(e);else if(u.__hasExternalTextures)s.rebindTextures(e,o.get(e.texture).__webglTexture,o.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){let t=e.depthTexture;if(u.__boundDepthTexture!==t){if(null!==t&&o.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");s.setupDepthRenderbuffer(e)}}let c=e.texture;(c.isData3DTexture||c.isDataArrayTexture||c.isCompressedArrayTexture)&&(l=!0);let d=o.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(d[t])?d[t][n]:d[t],a=!0):r=e.samples>0&&!1===s.useMultisampledRTT(e)?o.get(e).__webglMultisampledFramebuffer:Array.isArray(d)?d[n]:d,ev.copy(e.viewport),e_.copy(e.scissor),eb=e.scissorTest}else ev.copy(eC).multiplyScalar(eE).floor(),e_.copy(eA).multiplyScalar(eE).floor(),eb=eR;if(0!==n&&(r=e4),i.bindFramebuffer(eB.FRAMEBUFFER,r)&&i.drawBuffers(e,r),i.viewport(ev),i.scissor(e_),i.setScissorTest(eb),a){let r=o.get(e.texture);eB.framebufferTexture2D(eB.FRAMEBUFFER,eB.COLOR_ATTACHMENT0,eB.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(l)for(let r=0;r<e.textures.length;r++){let i=o.get(e.textures[r]);eB.framebufferTextureLayer(eB.FRAMEBUFFER,eB.COLOR_ATTACHMENT0+r,i.__webglTexture,n,t)}else if(null!==e&&0!==n){let t=o.get(e.texture);eB.framebufferTexture2D(eB.FRAMEBUFFER,eB.COLOR_ATTACHMENT0,eB.TEXTURE_2D,t.__webglTexture,n)}em=-1},this.readRenderTargetPixels=function(e,t,n,a,s,l,u,c=0){if(!(e&&e.isWebGLRenderTarget))return void(0,C.error)("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let d=o.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==u&&(d=d[u]),d){i.bindFramebuffer(eB.FRAMEBUFFER,d);try{let i=e.textures[c],o=i.format,u=i.type;if(!r.textureFormatReadable(o))return void(0,C.error)("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!r.textureTypeReadable(u))return void(0,C.error)("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-a&&n>=0&&n<=e.height-s&&(e.textures.length>1&&eB.readBuffer(eB.COLOR_ATTACHMENT0+c),eB.readPixels(t,n,a,s,w.convert(o),w.convert(u),l))}finally{let e=null!==ep?o.get(ep).__webglFramebuffer:null;i.bindFramebuffer(eB.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,a,s,l,u,c=0){if(!(e&&e.isWebGLRenderTarget))throw Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let d=o.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==u&&(d=d[u]),d)if(t>=0&&t<=e.width-a&&n>=0&&n<=e.height-s){i.bindFramebuffer(eB.FRAMEBUFFER,d);let u=e.textures[c],h=u.format,f=u.type;if(!r.textureFormatReadable(h))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!r.textureTypeReadable(f))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let p=eB.createBuffer();eB.bindBuffer(eB.PIXEL_PACK_BUFFER,p),eB.bufferData(eB.PIXEL_PACK_BUFFER,l.byteLength,eB.STREAM_READ),e.textures.length>1&&eB.readBuffer(eB.COLOR_ATTACHMENT0+c),eB.readPixels(t,n,a,s,w.convert(h),w.convert(f),0);let m=null!==ep?o.get(ep).__webglFramebuffer:null;i.bindFramebuffer(eB.FRAMEBUFFER,m);let g=eB.fenceSync(eB.SYNC_GPU_COMMANDS_COMPLETE,0);return eB.flush(),await (0,C.probeAsync)(eB,g,4),eB.bindBuffer(eB.PIXEL_PACK_BUFFER,p),eB.getBufferSubData(eB.PIXEL_PACK_BUFFER,0,l),eB.deleteBuffer(p),eB.deleteSync(g),l}else throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(e,t=null,n=0){let r=Math.pow(2,-n),a=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r),l=null!==t?t.x:0,u=null!==t?t.y:0;s.setTexture2D(e,0),eB.copyTexSubImage2D(eB.TEXTURE_2D,n,0,0,l,u,a,o),i.unbindTexture()};const e7=eB.createFramebuffer(),e8=eB.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,a=0,l=null){let u,c,d,h,f,p,m,g,v,_;null===l&&(0!==a?((0,C.warnOnce)("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),l=a,a=0):l=0);let b=e.isCompressedTexture?e.mipmaps[l]:e.image;if(null!==n)u=n.max.x-n.min.x,c=n.max.y-n.min.y,d=n.isBox3?n.max.z-n.min.z:1,h=n.min.x,f=n.min.y,p=n.isBox3?n.min.z:0;else{let t=Math.pow(2,-a);u=Math.floor(b.width*t),c=Math.floor(b.height*t),d=e.isDataArrayTexture?b.depth:e.isData3DTexture?Math.floor(b.depth*t):1,h=0,f=0,p=0}null!==r?(m=r.x,g=r.y,v=r.z):(m=0,g=0,v=0);let y=w.convert(t.format),x=w.convert(t.type);t.isData3DTexture?(s.setTexture3D(t,0),_=eB.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(s.setTexture2DArray(t,0),_=eB.TEXTURE_2D_ARRAY):(s.setTexture2D(t,0),_=eB.TEXTURE_2D),eB.pixelStorei(eB.UNPACK_FLIP_Y_WEBGL,t.flipY),eB.pixelStorei(eB.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),eB.pixelStorei(eB.UNPACK_ALIGNMENT,t.unpackAlignment);let S=eB.getParameter(eB.UNPACK_ROW_LENGTH),E=eB.getParameter(eB.UNPACK_IMAGE_HEIGHT),T=eB.getParameter(eB.UNPACK_SKIP_PIXELS),M=eB.getParameter(eB.UNPACK_SKIP_ROWS),A=eB.getParameter(eB.UNPACK_SKIP_IMAGES);eB.pixelStorei(eB.UNPACK_ROW_LENGTH,b.width),eB.pixelStorei(eB.UNPACK_IMAGE_HEIGHT,b.height),eB.pixelStorei(eB.UNPACK_SKIP_PIXELS,h),eB.pixelStorei(eB.UNPACK_SKIP_ROWS,f),eB.pixelStorei(eB.UNPACK_SKIP_IMAGES,p);let R=e.isDataArrayTexture||e.isData3DTexture,P=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){let n=o.get(e),r=o.get(t),s=o.get(n.__renderTarget),_=o.get(r.__renderTarget);i.bindFramebuffer(eB.READ_FRAMEBUFFER,s.__webglFramebuffer),i.bindFramebuffer(eB.DRAW_FRAMEBUFFER,_.__webglFramebuffer);for(let n=0;n<d;n++)R&&(eB.framebufferTextureLayer(eB.READ_FRAMEBUFFER,eB.COLOR_ATTACHMENT0,o.get(e).__webglTexture,a,p+n),eB.framebufferTextureLayer(eB.DRAW_FRAMEBUFFER,eB.COLOR_ATTACHMENT0,o.get(t).__webglTexture,l,v+n)),eB.blitFramebuffer(h,f,u,c,m,g,u,c,eB.DEPTH_BUFFER_BIT,eB.NEAREST);i.bindFramebuffer(eB.READ_FRAMEBUFFER,null),i.bindFramebuffer(eB.DRAW_FRAMEBUFFER,null)}else if(0!==a||e.isRenderTargetTexture||o.has(e)){let n=o.get(e),r=o.get(t);i.bindFramebuffer(eB.READ_FRAMEBUFFER,e7),i.bindFramebuffer(eB.DRAW_FRAMEBUFFER,e8);for(let e=0;e<d;e++)R?eB.framebufferTextureLayer(eB.READ_FRAMEBUFFER,eB.COLOR_ATTACHMENT0,n.__webglTexture,a,p+e):eB.framebufferTexture2D(eB.READ_FRAMEBUFFER,eB.COLOR_ATTACHMENT0,eB.TEXTURE_2D,n.__webglTexture,a),P?eB.framebufferTextureLayer(eB.DRAW_FRAMEBUFFER,eB.COLOR_ATTACHMENT0,r.__webglTexture,l,v+e):eB.framebufferTexture2D(eB.DRAW_FRAMEBUFFER,eB.COLOR_ATTACHMENT0,eB.TEXTURE_2D,r.__webglTexture,l),0!==a?eB.blitFramebuffer(h,f,u,c,m,g,u,c,eB.COLOR_BUFFER_BIT,eB.NEAREST):P?eB.copyTexSubImage3D(_,l,m,g,v+e,h,f,u,c):eB.copyTexSubImage2D(_,l,m,g,h,f,u,c);i.bindFramebuffer(eB.READ_FRAMEBUFFER,null),i.bindFramebuffer(eB.DRAW_FRAMEBUFFER,null)}else P?e.isDataTexture||e.isData3DTexture?eB.texSubImage3D(_,l,m,g,v,u,c,d,y,x,b.data):t.isCompressedArrayTexture?eB.compressedTexSubImage3D(_,l,m,g,v,u,c,d,y,b.data):eB.texSubImage3D(_,l,m,g,v,u,c,d,y,x,b):e.isDataTexture?eB.texSubImage2D(eB.TEXTURE_2D,l,m,g,u,c,y,x,b.data):e.isCompressedTexture?eB.compressedTexSubImage2D(eB.TEXTURE_2D,l,m,g,b.width,b.height,y,b.data):eB.texSubImage2D(eB.TEXTURE_2D,l,m,g,u,c,y,x,b);eB.pixelStorei(eB.UNPACK_ROW_LENGTH,S),eB.pixelStorei(eB.UNPACK_IMAGE_HEIGHT,E),eB.pixelStorei(eB.UNPACK_SKIP_PIXELS,T),eB.pixelStorei(eB.UNPACK_SKIP_ROWS,M),eB.pixelStorei(eB.UNPACK_SKIP_IMAGES,A),0===l&&t.generateMipmaps&&eB.generateMipmap(_),i.unbindTexture()},this.initRenderTarget=function(e){void 0===o.get(e).__webglFramebuffer&&s.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?s.setTextureCube(e,0):e.isData3DTexture?s.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?s.setTexture2DArray(e,0):s.setTexture2D(e,0),i.unbindTexture()},this.resetState=function(){eh=0,ef=0,ep=null,i.reset(),E.reset()},"u">typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return C.WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let t=this.getContext();t.drawingBufferColorSpace=C.ColorManagement._getDrawingBufferColorSpace(e),t.unpackColorSpace=C.ColorManagement._getUnpackColorSpace()}}e.s(["PMREMGenerator",()=>$,"ShaderChunk",()=>P,"ShaderLib",()=>I,"UniformsLib",()=>L,"WebGLRenderer",()=>t8,"WebGLUtils",()=>tZ],8560);var t9=e.i(30224);let ne=e=>{let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},nt=e=>e?ne(e):ne,{useSyncExternalStoreWithSelector:nn}=t9.default,nr=(e,t)=>{let n=nt(e),r=(e,r=t)=>(function(e,t=e=>e,n){let r=nn(e.subscribe,e.getState,e.getInitialState,t,n);return T.default.useDebugValue(r),r})(n,e,r);return Object.assign(r,n),r},ni=(e,t)=>e?nr(e,t):nr,na=[];function no(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function ns(e,t=null,n=!1,r={}){for(let i of(null===t&&(t=[e]),na))if(no(t,i.keys,i.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(i,"error"))throw i.error;if(Object.prototype.hasOwnProperty.call(i,"response"))return r.lifespan&&r.lifespan>0&&(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.remove,r.lifespan)),i.response;if(!n)throw i.promise}let i={keys:t,equal:r.equal,remove:()=>{let e=na.indexOf(i);-1!==e&&na.splice(e,1)},promise:("object"==typeof e&&"function"==typeof e.then?e:e(...t)).then(e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(e=>i.error=e)};if(na.push(i),!n)throw i.promise}var nl=e.i(13647),nu=T;function nc(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){let e=nc(r,t,n);if(e)return e;r=t?null:r.sibling}}function nd(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"u">typeof window&&((null==(m=window.document)?void 0:m.createElement)||(null==(g=window.navigator)?void 0:g.product)==="ReactNative")?nu.useLayoutEffect:nu.useEffect;let nh=nd(nu.createContext(null));class nf extends nu.Component{render(){return nu.createElement(nh.Provider,{value:this._reactInternals},this.props.children)}}function np(){let e=nu.useContext(nh);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=nu.useId();return nu.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=nc(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}let nm=Symbol.for("react.context"),ng=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===nm;function nv(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}T.act;let n_=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),nb=(null==(l=window.document)?void 0:l.createElement)||(null==(u=window.navigator)?void 0:u.product)==="ReactNative"?T.useLayoutEffect:T.useEffect;function ny(e){let t=T.useRef(e);return nb(()=>void(t.current=e),[e]),t}function nx({set:e}){return nb(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}let nS=((c=class extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),c);function nw(e){var t;let n=null!=(t=window.devicePixelRatio)?t:2;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function nE(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}let nT={obj:e=>e===Object(e)&&!nT.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){let a;if(typeof e!=typeof t||!!e!=!!t)return!1;if(nT.str(e)||nT.num(e)||nT.boo(e))return e===t;let o=nT.obj(e);if(o&&"reference"===r)return e===t;let s=nT.arr(e);if(s&&"reference"===n)return e===t;if((s||o)&&e===t)return!0;for(a in e)if(!(a in t))return!1;if(o&&"shallow"===n&&"shallow"===r){for(a in i?t:e)if(!nT.equ(e[a],t[a],{strict:i,objects:"reference"}))return!1}else for(a in i?t:e)if(e[a]!==t[a])return!1;if(nT.und(a)){if(s&&0===e.length&&0===t.length||o&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}},nM=["children","key","ref"];function nC(e,t,n,r){let i=null==e?void 0:e.__r3f;return!i&&(i={root:t,type:n,parent:null,children:[],props:function(e){let t={};for(let n in e)nM.includes(n)||(t[n]=e[n]);return t}(r),object:e,eventCount:0,handlers:{},isHidden:!1},e&&(e.__r3f=i)),i}function nA(e,t){if(!t.includes("-")||t in e)return{root:e,key:t,target:e[t]};let n=e,r=t.split("-");for(let i of r){if("object"!=typeof n||null===n){if(void 0!==n)return{root:n,key:r.slice(r.indexOf(i)).join("-"),target:void 0};return{root:e,key:t,target:void 0}}t=i,e=n,n=n[t]}return{root:e,key:t,target:n}}let nR=/-\d+$/;function nP(e,t){if(nT.str(t.props.attach)){if(nR.test(t.props.attach)){let n=t.props.attach.replace(nR,""),{root:r,key:i}=nA(e.object,n);Array.isArray(r[i])||(r[i]=[])}let{root:n,key:r}=nA(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else nT.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function nL(e,t){if(nT.str(t.props.attach)){let{root:n,key:r}=nA(e.object,t.props.attach),i=t.previousAttach;void 0===i?delete n[r]:n[r]=i}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}let nI=[...nM,"args","dispose","attach","object","onUpdate","dispose"],nN=new Map,nD=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],nU=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function nk(e,t){var n,r;let i=e.__r3f,a=i&&nv(i).getState(),o=null==i?void 0:i.eventCount;for(let n in t){let o=t[n];if(nI.includes(n))continue;if(i&&nU.test(n)){"function"==typeof o?i.handlers[n]=o:delete i.handlers[n],i.eventCount=Object.keys(i.handlers).length;continue}if(void 0===o)continue;let{root:s,key:l,target:u}=nA(e,n);if(void 0===u&&("object"!=typeof s||null===s))throw Error(`R3F: Cannot set "${n}". Ensure it is an object before setting "${l}".`);u instanceof M.Layers&&o instanceof M.Layers?u.mask=o.mask:u instanceof M.Color&&n_(o)?u.set(o):null!==u&&"object"==typeof u&&"function"==typeof u.set&&"function"==typeof u.copy&&null!=o&&o.constructor&&u.constructor===o.constructor?u.copy(o):null!==u&&"object"==typeof u&&"function"==typeof u.set&&Array.isArray(o)?"function"==typeof u.fromArray?u.fromArray(o):u.set(...o):null!==u&&"object"==typeof u&&"function"==typeof u.set&&"number"==typeof o?"function"==typeof u.setScalar?u.setScalar(o):u.set(o):(s[l]=o,a&&!a.linear&&nD.includes(l)&&null!=(r=s[l])&&r.isTexture&&s[l].format===M.RGBAFormat&&s[l].type===M.UnsignedByteType&&(s[l].colorSpace=M.SRGBColorSpace))}if(null!=i&&i.parent&&null!=a&&a.internal&&null!=(n=i.object)&&n.isObject3D&&o!==i.eventCount){let e=i.object,t=a.internal.interaction.indexOf(e);t>-1&&a.internal.interaction.splice(t,1),i.eventCount&&null!==e.raycast&&a.internal.interaction.push(e)}return i&&void 0===i.props.attach&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&nO(i),e}function nO(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);let n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function nF(e,t){!e.manual&&(e&&e.isOrthographicCamera?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix())}let nB=e=>null==e?void 0:e.isObject3D;function nz(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function nG(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}let nj=e=>!!(null!=e&&e.render),nH=T.createContext(null);function nV(){let e=T.useContext(nH);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function nW(e=e=>e,t){return nV()(e,t)}function nq(e,t=0){let n=nV(),r=n.getState().internal.subscribe,i=ny(e);return nb(()=>r(i,t,n),[t,r,n]),null}let nX=new WeakMap;function nY(e,t){return function(n,...r){var i;let a;return"function"==typeof n&&(null==n||null==(i=n.prototype)?void 0:i.constructor)===n?(a=nX.get(n))||(a=new n,nX.set(n,a)):a=n,e&&e(a),Promise.all(r.map(e=>new Promise((n,r)=>a.load(e,e=>{var t;let r;nB(null==e?void 0:e.scene)&&Object.assign(e,(t=e.scene,r={nodes:{},materials:{},meshes:{}},t&&t.traverse(e=>{e.name&&(r.nodes[e.name]=e),e.material&&!r.materials[e.material.name]&&(r.materials[e.material.name]=e.material),e.isMesh&&!r.meshes[e.name]&&(r.meshes[e.name]=e)}),r)),n(e)},t,t=>r(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function nK(e,t,n,r){let i=Array.isArray(t)?t:[t],a=ns(nY(n,r),[e,...i],!1,{equal:nT.equ});return Array.isArray(t)?a:a[0]}nK.preload=function(e,t,n){let r,i=Array.isArray(t)?t:[t];ns(nY(n),[e,...i],!0,r)},nK.clear=function(e,t){var n=[e,...Array.isArray(t)?t:[t]];if(void 0===n||0===n.length)na.splice(0,na.length);else{let e=na.find(e=>no(n,e.keys,e.equal));e&&e.remove()}};var n$={exports:{}},nZ={exports:{}};nZ.exports;let nQ=(y||(y=1,b||(b=1,nZ.exports=function(e){function t(e,t,n,r){return new rK(e,t,n,r)}function n(){}function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do(4098&(t=e).flags)!=0&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function a(e){if(i(e)!==e)throw Error(r(188))}function o(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(o=s.return)){n=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return a(s),e;if(l===o)return a(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==o.return)n=s,o=l;else{for(var u=!1,c=s.child;c;){if(c===n){u=!0,n=s,o=l;break}if(c===o){u=!0,o=s,n=l;break}c=c.sibling}if(!u){for(c=l.child;c;){if(c===n){u=!0,n=l,o=s;break}if(c===o){u=!0,o=l,n=s;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function s(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ix&&e[ix]||e["@@iterator"])?e:null}function l(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===iS?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case il:return"Fragment";case ic:return"Profiler";case iu:return"StrictMode";case im:return"Suspense";case ig:return"SuspenseList";case ib:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case is:return"Portal";case ih:return e.displayName||"Context";case id:return(e._context.displayName||"Context")+".Consumer";case ip:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case iv:return null!==(t=e.displayName||null)?t:l(e.type)||"Memo";case i_:t=e._payload,e=e._init;try{return l(e(t))}catch{}}return null}function u(e){return{current:e}}function c(e){0>oT||(e.current=oE[oT],oE[oT]=null,oT--)}function d(e,t){oE[++oT]=e.current,e.current=t}function h(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&e;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return e}}function f(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=0x7ffffff&r;return 0!==s?0!=(r=s&~a)?i=h(r):0!=(o&=s)?i=h(o):n||0!=(n=s&~e)&&(i=h(n)):0!=(s=r&~a)?i=h(s):0!==o?i=h(o):n||0!=(n=r&~e)&&(i=h(n)),0===i?0:0!==t&&t!==i&&(t&a)==0&&((a=i&-i)>=(n=t&-t)||32===a&&(4194048&n)!=0)?t:i}function p(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)==0}function m(){var e=oI;return(0x3c00000&(oI<<=1))==0&&(oI=4194304),e}function g(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function v(e,t){e.pendingLanes|=t,0x10000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-oC(t);e.entangledLanes|=t,e.entanglements[r]=0x40000000|e.entanglements[r]|261930&n}function b(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-oC(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function y(e,t){var n=t&-t;return((n=(42&n)!=0?1:x(n))&(e.suspendedLanes|t))!=0?0:n}function x(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:e=128;break;case 0x10000000:e=0x8000000;break;default:e=0}return e}function S(e){return 2<(e&=-e)?8<e?(0x7ffffff&e)!=0?32:0x10000000:8:2}function w(e){if("function"==typeof oj&&oH(e),oW&&"function"==typeof oW.setStrictMode)try{oW.setStrictMode(oV,e)}catch{}}function M(e){if(void 0===oe)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);oe=t&&t[1]||"",ot=-1<e.stack.indexOf(`
    at`)?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+e+ot}function C(e,t){if(!e||oK)return"";oK=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i)break}}}finally{oK=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?M(n):""}function A(e){try{var t="",n=null;do t+=function(e,t){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return e.child!==t&&null!==t?M("Suspense Fallback"):M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return C(e.type,!1);case 11:return C(e.type.render,!1);case 1:return C(e.type,!0);case 31:return M("Activity");default:return""}}(e,n),n=e,e=e.return;while(e)return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function R(e,t){if("object"==typeof e&&null!==e){var n=o$.get(e);return void 0!==n?n:(t={value:e,source:t,stack:A(t)},o$.set(e,t),t)}return{value:e,source:t,stack:A(t)}}function P(e,t){oZ[oQ++]=o1,oZ[oQ++]=oJ,oJ=e,o1=t}function L(e,t,n){o2[o0++]=o5,o2[o0++]=o3,o2[o0++]=o6,o6=e;var r=o5;e=o3;var i=32-oC(r)-1;r&=~(1<<i),n+=1;var a=32-oC(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,o5=1<<32-oC(t)+i|n<<i|r,o3=a+e}else o5=1<<a|n<<i|r,o3=e}function I(e){null!==e.return&&(P(e,1),L(e,1,0))}function N(e){for(;e===oJ;)oJ=oZ[--oQ],oZ[oQ]=null,o1=oZ[--oQ],oZ[oQ]=null;for(;e===o6;)o6=o2[--o0],o2[o0]=null,o3=o2[--o0],o2[o0]=null,o5=o2[--o0],o2[o0]=null}function D(e,t){o2[o0++]=o5,o2[o0++]=o3,o2[o0++]=o6,o5=t.id,o3=t.overflow,o6=e}function U(e,t){d(o8,t),d(o7,e),d(o4,null),e=iR(t),c(o4),d(o4,e)}function k(){c(o4),c(o7),c(o8)}function O(e){null!==e.memoizedState&&d(o9,e);var t=o4.current,n=iP(t,e.type);t!==n&&(d(o7,e),d(o4,n))}function F(e){o7.current===e&&(c(o4),c(o7)),o9.current===e&&(c(o9),iG?i4._currentValue=i3:i4._currentValue2=i3)}function B(e){var t=Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML",""));throw W(R(t,e)),sa}function z(e,t){if(!iV)throw Error(r(175));aX(e.stateNode,e.type,e.memoizedProps,t,e)||B(e,!0)}function G(e){for(se=e.return;se;)switch(se.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:se=se.return}}function j(e){if(!iV||e!==se)return!1;if(!sn)return G(e),sn=!0,!1;var t=e.tag;if(o_?3!==t&&27!==t&&(5!==t||a9(e.type)&&!ik(e.type,e.memoizedProps))&&st&&B(e):3!==t&&(5!==t||a9(e.type)&&!ik(e.type,e.memoizedProps))&&st&&B(e),G(e),13===t){if(!iV)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));st=aQ(e)}else if(31===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));st=aZ(e)}else st=o_&&27===t?aO(e.type,st):se?ak(e.stateNode):null;return!0}function H(){iV&&(st=se=null,sn=!1)}function V(){var e=sr;return null!==e&&(null===lN?lN=e:lN.push.apply(lN,e),sr=null),e}function W(e){null===sr?sr=[e]:sr.push(e)}function q(e,t,n){iG?(d(so,t._currentValue),t._currentValue=n):(d(so,t._currentValue2),t._currentValue2=n)}function X(e){var t=so.current;iG?e._currentValue=t:e._currentValue2=t,c(so)}function Y(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function K(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;i:for(;null!==o;){var l=o;o=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Y(o.return,n,e),i||(s=null);break i}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(r(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Y(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function $(e,t,n,i){e=null;for(var a=t,o=!1;null!==a;){if(!o){if((524288&a.flags)!=0)o=!0;else if((262144&a.flags)!=0)break}if(10===a.tag){var s=a.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=a.type;oq(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===o9.current){if(null===(s=a.alternate))throw Error(r(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(i4):e=[i4])}a=a.return}null!==e&&K(t,e,n,i),t.flags|=262144}function Z(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!oq(iG?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function Q(e){ss=e,sl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function J(e){return et(ss,e)}function ee(e,t){return null===ss&&Q(e),et(e,t)}function et(e,t){var n=iG?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===sl){if(null===e)throw Error(r(308));sl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sl=sl.next=t;return n}function en(){return{controller:new su,data:new Map,refCount:0}}function er(e){e.refCount--,0===e.refCount&&sc(sd,function(){e.controller.abort()})}function ei(){}function ea(e){e!==sp&&null===e.next&&(null===sp?sf=sp=e:sp=sp.next=e),sg=!0,sm||(sm=!0,i8?i9(function(){(6&lg)!=0?oN(oF,es):el()}):oN(oF,es))}function eo(e,t){if(!sv&&sg){sv=!0;do for(var n=!1,r=sf;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=0xc000095&(a=(1<<31-oC(42|e)+1)-1&(i&~(o&~s)))?0xc000095&a|1:a?2|a:0}0!==a&&(n=!0,ed(r,a))}else a=lb,(3&(a=f(r,r===lv?a:0,null!==r.cancelPendingCommit||r.timeoutHandle!==iz)))==0||p(r,a)||(n=!0,ed(r,a));r=r.next}while(n)sv=!1}}function es(){el()}function el(){sg=sm=!1;var e=0;0!==s_&&i$()&&(e=s_);for(var t=oO(),n=null,r=sf;null!==r;){var i=r.next,a=eu(r,t);0===a?(r.next=null,null===n?sf=i:n.next=i,null===i&&(sp=n)):(n=r,(0!==e||(3&a)!=0)&&(sg=!0)),r=i}0!==lz&&5!==lz||eo(e,!1),0!==s_&&(s_=0)}function eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-0x3c00001&e.pendingLanes;0<a;){var o=31-oC(a),s=1<<o,l=i[o];-1===l?((s&n)==0||(s&r)!=0)&&(i[o]=function(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(t=lv,n=lb,n=f(e,e===t?n:0,null!==e.cancelPendingCommit||e.timeoutHandle!==iz),r=e.callbackNode,0===n||e===t&&(2===ly||9===ly)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oD(r),e.callbackNode=null,e.callbackPriority=0;if((3&n)==0||p(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oD(r),S(n)){case 2:case 8:n=oB;break;case 32:default:n=oz;break;case 0x10000000:n=oG}return n=oN(n,r=ec.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oD(r),e.callbackPriority=2,e.callbackNode=null,2}function ec(e,t){if(0!==lz&&5!==lz)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(rz()&&e.callbackNode!==n)return null;var r=lb;return 0===(r=f(e,e===lv?r:0,null!==e.cancelPendingCommit||e.timeoutHandle!==iz))?null:(r_(e,r,t),eu(e,oO()),null!=e.callbackNode&&e.callbackNode===n?ec.bind(null,e):null)}function ed(e,t){if(rz())return null;r_(e,t,!0)}function eh(){if(0===s_){var e=sx;0===e&&(e=oP,(261888&(oP<<=1))==0&&(oP=256)),s_=e}return s_}function ef(){if(0==--sy&&null!==sb){null!==sS&&(sS.status="fulfilled");var e=sb;sb=null,sx=0,sS=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ep(){var e=sE.current;return null!==e?e:lv.pooledCache}function em(e,t){null===t?d(sE,sE.current):d(sE,t.pool)}function eg(){var e=ep();return null===e?null:{parent:iG?sh._currentValue:sh._currentValue2,pool:e}}function ev(e,t){if(oq(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oY.call(t,i)||!oq(e[i],t[i]))return!1}return!0}function e_(e){return"fulfilled"===(e=e.status)||"rejected"===e}function eb(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ei,ei),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eS(e=t.reason),e;default:if("string"==typeof t.status)t.then(ei,ei);else{if(null!==(e=lv)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eS(e=t.reason),e}throw sR=t,sT}}function ey(e){try{return(0,e._init)(e._payload)}catch(e){throw null!==e&&"object"==typeof e&&"function"==typeof e.then?(sR=e,sT):e}}function ex(){if(null===sR)throw Error(r(459));var e=sR;return sR=null,e}function eS(e){if(e===sT||e===sC)throw Error(r(483))}function ew(e){var t=sL;return sL+=1,null===sP&&(sP=[]),eb(sP,e,t)}function eE(e,t){e.ref=void 0!==(t=t.props.ref)?t:null}function eT(e,t){throw t.$$typeof===ia?Error(r(525)):Error(r(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eM(e){function n(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function i(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=rZ(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=0x4000002,n):r:(t.flags|=0x4000002,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=0x4000002),t}function c(e,t,n,r){return null===t||6!==t.tag?(t=r2(n,e.mode,r)).return=e:(t=o(t,n)).return=e,t}function d(e,t,n,r){var i=n.type;return i===il?f(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===i_&&ey(i)===t.type)?eE(t=o(t,n.props),n):eE(t=rJ(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=r6(n,e.mode,r)).return=e:(t=o(t,n.children||[])).return=e,t}function f(e,t,n,r,i){return null===t||7!==t.tag?(t=r1(n,e.mode,r,i)).return=e:(t=o(t,n)).return=e,t}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=r2(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case io:return eE(n=rJ(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case is:return(t=r6(t,e.mode,n)).return=e,t;case i_:return p(e,t=ey(t),n)}if(iw(t)||s(t))return(t=r1(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,ew(t),n);if(t.$$typeof===ih)return p(e,ee(e,t),n);eT(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case io:return n.key===i?d(e,t,n,r):null;case is:return n.key===i?h(e,t,n,r):null;case i_:return m(e,t,n=ey(n),r)}if(iw(n)||s(n))return null!==i?null:f(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,ew(n),r);if(n.$$typeof===ih)return m(e,t,ee(e,n),r);eT(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case io:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case is:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case i_:return g(e,t,n,r=ey(r),i)}if(iw(r)||s(r))return f(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return g(e,t,n,ew(r),i);if(r.$$typeof===ih)return g(e,t,n,ee(t,r),i);eT(t,r)}return null}return function(c,d,h,f){try{sL=0;var v=function t(c,d,h,f){if("object"==typeof h&&null!==h&&h.type===il&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case io:i:{for(var v=h.key;null!==d;){if(d.key===v){if((v=h.type)===il){if(7===d.tag){i(c,d.sibling),(f=o(d,h.props.children)).return=c,c=f;break i}}else if(d.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===i_&&ey(v)===d.type){i(c,d.sibling),eE(f=o(d,h.props),h),f.return=c,c=f;break i}i(c,d);break}n(c,d),d=d.sibling}h.type===il?(f=r1(h.props.children,c.mode,f,h.key)).return=c:(eE(f=rJ(h.type,h.key,h.props,null,c.mode,f),h),f.return=c),c=f}return u(c);case is:i:{for(v=h.key;null!==d;){if(d.key===v)if(4===d.tag&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){i(c,d.sibling),(f=o(d,h.children||[])).return=c,c=f;break i}else{i(c,d);break}n(c,d),d=d.sibling}(f=r6(h,c.mode,f)).return=c,c=f}return u(c);case i_:return t(c,d,h=ey(h),f)}if(iw(h))return function(t,r,o,s){for(var u=null,c=null,d=r,h=r=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var v=m(t,d,o[h],s);if(null===v){null===d&&(d=f);break}e&&d&&null===v.alternate&&n(t,d),r=l(v,r,h),null===c?u=v:c.sibling=v,c=v,d=f}if(h===o.length)return i(t,d),sn&&P(t,h),u;if(null===d){for(;h<o.length;h++)null!==(d=p(t,o[h],s))&&(r=l(d,r,h),null===c?u=d:c.sibling=d,c=d);return sn&&P(t,h),u}for(d=a(d);h<o.length;h++)null!==(f=g(d,t,h,o[h],s))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),r=l(f,r,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach(function(e){return n(t,e)}),sn&&P(t,h),u}(c,d,h,f);if(s(h)){if("function"!=typeof(v=s(h)))throw Error(r(150));return function(t,o,s,u){if(null==s)throw Error(r(151));for(var c=null,d=null,h=o,f=o=0,v=null,_=s.next();null!==h&&!_.done;f++,_=s.next()){h.index>f?(v=h,h=null):v=h.sibling;var b=m(t,h,_.value,u);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&n(t,h),o=l(b,o,f),null===d?c=b:d.sibling=b,d=b,h=v}if(_.done)return i(t,h),sn&&P(t,f),c;if(null===h){for(;!_.done;f++,_=s.next())null!==(_=p(t,_.value,u))&&(o=l(_,o,f),null===d?c=_:d.sibling=_,d=_);return sn&&P(t,f),c}for(h=a(h);!_.done;f++,_=s.next())null!==(_=g(h,t,f,_.value,u))&&(e&&null!==_.alternate&&h.delete(null===_.key?f:_.key),o=l(_,o,f),null===d?c=_:d.sibling=_,d=_);return e&&h.forEach(function(e){return n(t,e)}),sn&&P(t,f),c}(c,d,h=v.call(h),f)}if("function"==typeof h.then)return t(c,d,ew(h),f);if(h.$$typeof===ih)return t(c,d,ee(c,h),f);eT(c,h)}return"string"==typeof h&&""!==h||"number"==typeof h||"bigint"==typeof h?(h=""+h,null!==d&&6===d.tag?(i(c,d.sibling),(f=o(d,h)).return=c):(i(c,d),(f=r2(h,c.mode,f)).return=c),u(c=f)):i(c,d)}(c,d,h,f);return sP=null,v}catch(e){if(e===sT||e===sC)throw e;var _=t(29,e,null,c.mode);return _.lanes=f,_.return=c,_}finally{}}}function eC(){for(var e=sU,t=sk=sU=0;t<e;){var n=sD[t];sD[t++]=null;var r=sD[t];sD[t++]=null;var i=sD[t];sD[t++]=null;var a=sD[t];if(sD[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&eL(n,i,a)}}function eA(e,t,n,r){sD[sU++]=e,sD[sU++]=t,sD[sU++]=n,sD[sU++]=r,sk|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function eR(e,t,n,r){return eA(e,t,n,r),eI(e)}function eP(e,t){return eA(e,null,null,t),eI(e)}function eL(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-oC(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=0x20000000|n),a):null}function eI(e){if(50<lX)throw lX=0,lY=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function eN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function eU(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ek(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,(2&lg)!=0){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=eI(e),eL(e,null,n),t}return eA(e,r,t,n),eI(e)}function eO(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,(4194048&n)!=0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,b(e,n)}}function eF(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eB(){if(sF){var e=sS;if(null!==e)throw e}}function ez(e,t,n,r){sF=!1;var i=e.updateQueue;sO=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=-0x20000001&s.lane,f=h!==s.lane;if(f?(lb&h)===h:(r&h)===h){0!==h&&h===sx&&(sF=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});i:{var p=e,m=s;switch(h=t,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(n,d,h);break i}d=p;break i;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(n,d,h):p))break i;d=ii({},d,h);break i;case 2:sO=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===a&&(i.shared.lanes=0),lC|=o,e.lanes=o,e.memoizedState=d}}function eG(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ej(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)eG(n[e],t)}function eH(e,t){d(sz,e=lT),d(sB,t),lT=e|t.baseLanes}function eV(){d(sz,lT),d(sB,sB.current)}function eW(){lT=sz.current,c(sB),c(sz)}function eq(e){var t=e.alternate;d(sH,1&sH.current),d(sG,e),null===sj&&(null===t||null!==sB.current||null!==t.memoizedState)&&(sj=e)}function eX(e){d(sH,sH.current),d(sG,e),null===sj&&(sj=e)}function eY(e){22===e.tag?(d(sH,sH.current),d(sG,e),null===sj&&(sj=e)):eK()}function eK(){d(sH,sH.current),d(sG,sG.current)}function e$(e){c(sG),sj===e&&(sj=null),c(sH)}function eZ(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||aP(n)||aL(n)))return t}else if(19===t.tag&&("forwards"===t.memoizedProps.revealOrder||"backwards"===t.memoizedProps.revealOrder||"unstable_legacy-backwards"===t.memoizedProps.revealOrder||"together"===t.memoizedProps.revealOrder)){if((128&t.flags)!=0)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function eQ(){throw Error(r(321))}function eJ(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oq(e[n],t[n]))return!1;return!0}function e1(e,t,n,r,i,a){return sV=a,sW=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,iE.H=null===e||null===e.memoizedState?s0:s6,s$=!1,a=n(r,i),s$=!1,sK&&(a=e0(t,n,r,i)),e2(e),a}function e2(e){iE.H=s2;var t=null!==sq&&null!==sq.next;if(sV=0,sX=sq=sW=null,sY=!1,sQ=0,sJ=null,t)throw Error(r(300));null===e||s7||null!==(e=e.dependencies)&&Z(e)&&(s7=!0)}function e0(e,t,n,i){sW=e;var a=0;do{if(sK&&(sJ=null),sQ=0,sK=!1,25<=a)throw Error(r(301));if(a+=1,sX=sq=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}iE.H=s5,o=t(n,i)}while(sK)return o}function e6(){var e=iE.H,t=e.useState()[0];return t="function"==typeof t.then?te(t):t,e=e.useState()[0],(null!==sq?sq.memoizedState:null)!==e&&(sW.flags|=1024),t}function e5(){var e=0!==sZ;return sZ=0,e}function e3(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function e4(e){if(sY){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}sY=!1}sV=0,sX=sq=sW=null,sK=!1,sQ=sZ=0,sJ=null}function e7(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sX?sW.memoizedState=sX=e:sX=sX.next=e,sX}function e8(){if(null===sq){var e=sW.alternate;e=null!==e?e.memoizedState:null}else e=sq.next;var t=null===sX?sW.memoizedState:sX.next;if(null!==t)sX=t,sq=e;else{if(null===e)throw null===sW.alternate?Error(r(467)):Error(r(310));e={memoizedState:(sq=e).memoizedState,baseState:sq.baseState,baseQueue:sq.baseQueue,queue:sq.queue,next:null},null===sX?sW.memoizedState=sX=e:sX=sX.next=e}return sX}function e9(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function te(e){var t=sQ;return sQ+=1,null===sJ&&(sJ=[]),e=eb(sJ,e,t),t=sW,(null===sX?t.memoizedState:sX.next)===null&&(iE.H=null===(t=t.alternate)||null===t.memoizedState?s0:s6),e}function tt(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return te(e);if(e.$$typeof===ih)return J(e)}throw Error(r(438,String(e)))}function tn(e){var t=null,n=sW.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=sW.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n=e9(),sW.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=iy;return t.index++,n}function tr(e,t){return"function"==typeof t?t(e):t}function ti(e){return ta(e8(),sq,e)}function ta(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{t=a.next;var l=s=null,u=null,c=t,d=!1;do{var h=-0x20000001&c.lane;if(h!==c.lane?(lb&h)===h:(sV&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===sx&&(d=!0);else if((sV&f)===f){c=c.next,f===sx&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=o):u=u.next=h,sW.lanes|=f,lC|=f;h=c.action,s$&&n(o,h),o=c.hasEagerState?c.eagerState:n(o,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=o):u=u.next=f,sW.lanes|=h,lC|=h;c=c.next}while(null!==c&&c!==t)if(null===u?s=o:u.next=l,!oq(o,e.memoizedState)&&(s7=!0,d&&null!==(n=sS)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=u,i.lastRenderedState=o}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function to(e){var t=e8(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a)oq(o,t.memoizedState)||(s7=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ts(e,t,n){var i=sW,a=e8(),o=sn;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!oq((sq||a).memoizedState,n);if(s&&(a.memoizedState=n,s7=!0),a=a.queue,tI(tc.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||null!==sX&&1&sX.memoizedState.tag){if(i.flags|=2048,tC(9,{destroy:void 0},tu.bind(null,i,a,n,t),null),null===lv)throw Error(r(349));o||(127&sV)!=0||tl(i,t,n)}return n}function tl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sW.updateQueue)?(t=e9(),sW.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function tu(e,t,n,r){t.value=n,t.getSnapshot=r,td(t)&&th(e)}function tc(e,t,n){return n(function(){td(t)&&th(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oq(e,n)}catch{return!0}}function th(e){var t=eP(e,2);null!==t&&rv(t,e,2)}function tf(e){var t=e7();if("function"==typeof e){var n=e;if(e=n(),s$){w(!0);try{n()}finally{w(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t}function tp(e,t,n,r){return e.baseState=n,ta(e,sq,"function"==typeof r?r:tr)}function tm(e,t,n,i,a){if(tJ(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==iE.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,tg(t,o)):(o.next=n.next,t.pending=n.next=o)}}function tg(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=iE.T,o={};iE.T=o;try{var s=n(i,r),l=iE.S;null!==l&&l(o,s),tv(e,t,s)}catch(n){tb(e,t,n)}finally{null!==a&&null!==o.types&&(a.types=o.types),iE.T=a}}else try{a=n(i,r),tv(e,t,a)}catch(n){tb(e,t,n)}}function tv(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){t_(e,t,n)},function(n){return tb(e,t,n)}):t_(e,t,n)}function t_(e,t,n){t.status="fulfilled",t.value=n,ty(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,tg(e,n)))}function tb(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do t.status="rejected",t.reason=n,ty(t),t=t.next;while(t!==r)}e.action=null}function ty(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function tx(e,t){return t}function tS(e,t){if(sn){var n=lv.formState;if(null!==n){i:{var r=sW;if(sn){if(st){var i=aD(st,si);if(i){st=ak(i),r=aU(i);break i}}B(r)}r=!1}r&&(t=n[0])}}(n=e7()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tx,lastRenderedState:t},n.queue=r,n=t$.bind(null,sW,r),r.dispatch=n,r=tf(!1);var a=tQ.bind(null,sW,!1,r.queue);return r=e7(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=tm.bind(null,sW,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function tw(e){return tE(e8(),sq,e)}function tE(e,t,n){if(t=ta(e,t,tx)[0],e=ti(tr)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=te(t)}catch(e){throw e===sT?sC:e}else r=t;var i=(t=e8()).queue,a=i.dispatch;return n!==t.memoizedState&&(sW.flags|=2048,tC(9,{destroy:void 0},tT.bind(null,i,n),null)),[r,a,e]}function tT(e,t){e.action=t}function tM(e){var t=e8(),n=sq;if(null!==n)return tE(t,n,e);e8(),t=t.memoizedState;var r=(n=e8()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function tC(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=sW.updateQueue)&&(t=e9(),sW.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function tA(){return e8().memoizedState}function tR(e,t,n,r){var i=e7();sW.flags|=e,i.memoizedState=tC(1|t,{destroy:void 0},n,void 0===r?null:r)}function tP(e,t,n,r){var i=e8();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==sq&&null!==r&&eJ(r,sq.memoizedState.deps)?i.memoizedState=tC(t,a,n,r):(sW.flags|=e,i.memoizedState=tC(1|t,a,n,r))}function tL(e,t){tR(8390656,8,e,t)}function tI(e,t){tP(2048,8,e,t)}function tN(e){var t=e8().memoizedState;return function(e){sW.flags|=4;var t=sW.updateQueue;if(null===t)t=e9(),sW.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if((2&lg)!=0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function tD(e,t){return tP(4,2,e,t)}function tU(e,t){return tP(4,4,e,t)}function tk(e,t){if("function"==typeof t){var n=t(e=e());return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.current=e=e(),function(){t.current=null}}function tO(e,t,n){n=null!=n?n.concat([e]):null,tP(4,4,tk.bind(null,t,e),n)}function tF(){}function tB(e,t){var n=e8();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&eJ(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tz(e,t){var n=e8();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&eJ(t,r[1]))return r[0];if(r=e(),s$){w(!0);try{e()}finally{w(!1)}}return n.memoizedState=[r,t],r}function tG(e,t,n){return void 0===n||(0x40000000&sV)!=0&&(261930&lb)==0?e.memoizedState=t:(e.memoizedState=n,e=rg(),sW.lanes|=e,lC|=e,n)}function tj(e,t,n,r){return oq(n,t)?n:null!==sB.current?(oq(e=tG(e,n,r),t)||(s7=!0),e):(42&sV)==0||(0x40000000&sV)!=0&&(261930&lb)==0?(s7=!0,e.memoizedState=n):(e=rg(),sW.lanes|=e,lC|=e,t)}function tH(e,t,n,r,i){var a=iY();iX(0!==a&&8>a?a:8);var o=iE.T,s={};iE.T=s,tQ(e,!1,t,n);try{var l=i(),u=iE.S;if(null!==u&&u(s,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var c,d,h=(c=[],d={status:"pending",value:null,reason:null,then:function(e){c.push(e)}},l.then(function(){d.status="fulfilled",d.value=r;for(var e=0;e<c.length;e++)(0,c[e])(r)},function(e){for(d.status="rejected",d.reason=e,e=0;e<c.length;e++)(0,c[e])(void 0)}),d);tZ(e,t,h,rm(e))}else tZ(e,t,r,rm(e))}catch(n){tZ(e,t,{then:function(){},status:"rejected",reason:n},rm())}finally{iX(a),null!==o&&null!==s.types&&(o.types=s.types),iE.T=o}}function tV(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:i3,baseState:i3,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:i3},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function tW(){return J(i4)}function tq(){return e8().memoizedState}function tX(){return e8().memoizedState}function tY(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=rm(),r=ek(t,e=eU(n),n);null!==r&&(rv(r,t,n),eO(r,t,n)),t={cache:en()},e.payload=t;return}t=t.return}}function tK(e,t,n){var r=rm();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},tJ(e)?t1(t,n):null!==(n=eR(e,t,n,r))&&(rv(n,e,r),t2(n,t,r))}function t$(e,t,n){tZ(e,t,n,rm())}function tZ(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(tJ(e))t1(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,oq(s,o))return eA(e,t,i,0),null===lv&&eC(),!1}catch{}finally{}if(null!==(n=eR(e,t,i,r)))return rv(n,e,r),t2(n,t,r),!0}return!1}function tQ(e,t,n,i){if(i={lane:2,revertLane:eh(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},tJ(e)){if(t)throw Error(r(479))}else null!==(t=eR(e,n,i,2))&&rv(t,e,2)}function tJ(e){var t=e.alternate;return e===sW||null!==t&&t===sW}function t1(e,t){sK=sY=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t2(e,t,n){if((4194048&n)!=0){var r=t.lanes;r&=e.pendingLanes,t.lanes=n|=r,b(e,n)}}function t0(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:ii({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function t6(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!ev(n,r)||!ev(i,a)}function t5(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&s3.enqueueReplaceState(t,t.state,null)}function t3(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=ii({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function t4(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function t7(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function t8(e,t,n){return(n=eU(n)).tag=3,n.payload={element:null},n.callback=function(){t4(e,t)},n}function t9(e){return(e=eU(e)).tag=3,e}function ne(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){t7(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){t7(t,n,r),"function"!=typeof i&&(null===lB?lB=new Set([this]):lB.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function nt(e,t,n,r){t.child=null===e?sN(t,null,n,r):sI(t,e.child,n,r)}function nn(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Q(t),r=e1(e,t,n,o,a,i),s=e5(),null===e||s7?(sn&&s&&I(t),t.flags|=1,nt(e,t,r,i),t.child):(e3(e,t,i),nT(e,t,i))}function nr(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||r$(a)||void 0!==a.defaultProps||null!==n.compare?((e=rJ(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ni(e,t,a,r,i))}if(a=e.child,!nM(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ev)(o,r)&&e.ref===t.ref)return nT(e,t,i)}return t.flags|=1,(e=rZ(a,r)).ref=t.ref,e.return=t,t.child=e}function ni(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ev(a,r)&&e.ref===t.ref)if(s7=!1,t.pendingProps=r=a,!nM(e,i))return t.lanes=e.lanes,nT(e,t,i);else(131072&e.flags)!=0&&(s7=!0)}return nh(e,t,n,r,i)}function na(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if((128&t.flags)!=0){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return ns(e,t,a,n,r)}if((0x20000000&n)==0)return r=t.lanes=0x20000000,ns(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&em(t,null!==a?a.cachePool:null),null!==a?eH(t,a):eV(),eY(t)}else null!==a?(em(t,a.cachePool),eH(t,a),eK(),t.memoizedState=null):(null!==e&&em(t,null),eV(),eK());return nt(e,t,i,n),t.child}function no(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ns(e,t,n,r,i){var a=ep();return t.memoizedState={baseLanes:n,cachePool:a=null===a?null:{parent:iG?sh._currentValue:sh._currentValue2,pool:a}},null!==e&&em(t,null),eV(),eY(t),null!==e&&$(e,t,r,!0),t.childLanes=i,null}function nu(e,t){return(t=ny({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function nc(e,t,n){return sI(t,e.child,null,n),e=nu(t,t.pendingProps),e.flags|=2,e$(t),t.memoizedState=null,e}function nd(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function nh(e,t,n,r,i){return Q(t),n=e1(e,t,n,r,void 0,i),r=e5(),null===e||s7?(sn&&r&&I(t),t.flags|=1,nt(e,t,n,i),t.child):(e3(e,t,i),nT(e,t,i))}function nf(e,t,n,r,i,a){return Q(t),t.updateQueue=null,n=e0(t,r,n,i),e2(e),r=e5(),null===e||s7?(sn&&r&&I(t),t.flags|=1,nt(e,t,n,a),t.child):(e3(e,t,a),nT(e,t,a))}function np(e,t,n,r,i){if(Q(t),null===t.stateNode){var a=oM,o=n.contextType;"object"==typeof o&&null!==o&&(a=J(o)),t.memoizedState=null!==(a=new n(r,a)).state&&void 0!==a.state?a.state:null,a.updater=s3,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},eN(t),o=n.contextType,a.context="object"==typeof o&&null!==o?J(o):oM,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(t0(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&s3.enqueueReplaceState(a,a.state,null),ez(t,r,a,i),eB(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=t3(n,s);a.props=l;var u=a.context,c=n.contextType;o=oM,"object"==typeof c&&null!==c&&(o=J(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s||u!==o)&&t5(t,a,r,o),sO=!1;var h=t.memoizedState;a.state=h,ez(t,r,a,i),eB(),u=t.memoizedState,s||h!==u||sO?("function"==typeof d&&(t0(t,n,d,r),u=t.memoizedState),(l=sO||t6(t,n,l,r,h,u,o))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,eD(e,t),c=t3(n,o=t.memoizedProps),a.props=c,d=t.pendingProps,h=a.context,u=n.contextType,l=oM,"object"==typeof u&&null!==u&&(l=J(u)),(u="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||h!==l)&&t5(t,a,r,l),sO=!1,h=t.memoizedState,a.state=h,ez(t,r,a,i),eB();var f=t.memoizedState;o!==d||h!==f||sO||null!==e&&null!==e.dependencies&&Z(e.dependencies)?("function"==typeof s&&(t0(t,n,s,r),f=t.memoizedState),(c=sO||t6(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&Z(e.dependencies))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,nd(e,t),r=(128&t.flags)!=0,a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=sI(t,e.child,null,i),t.child=sI(t,null,n,i)):nt(e,t,n,i),t.memoizedState=a.state,e=t.child):e=nT(e,t,i),e}function nm(e,t,n,r){return H(),t.flags|=256,nt(e,t,n,r),t.child}function ng(e){return{baseLanes:e,cachePool:eg()}}function nv(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=lP),e}function n_(e,t,n){var i,a=t.pendingProps,o=!1,s=(128&t.flags)!=0;if((i=s)||(i=(null===e||null!==e.memoizedState)&&(2&sH.current)!=0),i&&(o=!0,t.flags&=-129),i=(32&t.flags)!=0,t.flags&=-33,null===e){if(sn){if(o?eq(t):eK(),(e=st)?null!==(e=aq(e,si))&&(t.memoizedState={dehydrated:e,treeContext:null!==o6?{id:o5,overflow:o3}:null,retryLane:0x20000000,hydrationErrors:null},(n=r0(e)).return=t,t.child=n,se=t,st=null):e=null,null===e)throw B(t);return aL(e)?t.lanes=32:t.lanes=0x20000000,null}var l=a.children;return a=a.fallback,o?(eK(),l=ny({mode:"hidden",children:l},o=t.mode),a=r1(a,o,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=ng(n),a.childLanes=nv(e,i,n),t.memoizedState=s8,no(null,a)):(eq(t),nb(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(s)256&t.flags?(eq(t),t.flags&=-257,t=nx(e,t,n)):null!==t.memoizedState?(eK(),t.child=e.child,t.flags|=128,t=null):(eK(),l=a.fallback,o=t.mode,a=ny({mode:"visible",children:a.children},o),l=r1(l,o,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,sI(t,e.child,null,n),(a=t.child).memoizedState=ng(n),a.childLanes=nv(e,i,n),t.memoizedState=s8,t=no(null,a));else if(eq(t),aL(l))i=aI(l).digest,(a=Error(r(419))).stack="",a.digest=i,W({value:a,source:null,stack:null}),t=nx(e,t,n);else if(s7||$(e,t,n,!1),i=(n&e.childLanes)!=0,s7||i){if(null!==(i=lv)&&0!==(a=y(i,n))&&a!==u.retryLane)throw u.retryLane=a,eP(e,a),rv(i,e,a),s4;aP(l)||rA(),t=nx(e,t,n)}else aP(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,iV&&(st=aG(l),se=t,sn=!0,sr=null,si=!1,null!==e&&D(t,e)),t=nb(t,a.children),t.flags|=4096);return t}return o?(eK(),l=a.fallback,o=t.mode,s=(u=e.child).sibling,(a=rZ(u,{mode:"hidden",children:a.children})).subtreeFlags=0x3e00000&u.subtreeFlags,null!==s?l=rZ(s,l):(l=r1(l,o,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,no(null,a),a=t.child,null===(l=e.child.memoizedState)?l=ng(n):(null!==(o=l.cachePool)?(u=iG?sh._currentValue:sh._currentValue2,o=o.parent!==u?{parent:u,pool:u}:o):o=eg(),l={baseLanes:l.baseLanes|n,cachePool:o}),a.memoizedState=l,a.childLanes=nv(e,i,n),t.memoizedState=s8,no(e.child,a)):(eq(t),e=(n=e.child).sibling,(n=rZ(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function nb(e,t){return(t=ny({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ny(e,n){return(e=t(22,e,null,n)).lanes=0,e}function nx(e,t,n){return sI(t,e.child,null,n),e=nb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nS(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Y(e.return,t,n)}function nw(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function nE(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=sH.current,s=(2&o)!=0;if(s?(o=1&o|2,t.flags|=128):o&=1,d(sH,o),nt(e,t,r,n),r=sn?o1:0,!s&&null!==e&&(128&e.flags)!=0)i:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nS(e,n,t);else if(19===e.tag)nS(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break i;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eZ(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nw(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eZ(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nw(t,!0,n,null,a,r);break;case"together":nw(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function nT(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),lC|=t.lanes,(n&t.childLanes)==0){if(null===e)return null;else if($(e,t,n,!1),(n&t.childLanes)==0)return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=rZ(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=rZ(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function nM(e,t){return(e.lanes&t)!=0||!!(null!==(e=e.dependencies)&&Z(e))}function nC(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)s7=!0;else{if(!nM(e,n)&&(128&t.flags)==0)return s7=!1,function(e,t,n){switch(t.tag){case 3:U(t,t.stateNode.containerInfo),q(t,sh,e.memoizedState.cache),H();break;case 27:case 5:O(t);break;case 4:U(t,t.stateNode.containerInfo);break;case 10:q(t,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,eX(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(eq(t),t.flags|=128,null):(n&t.child.childLanes)!=0?n_(e,t,n):(eq(t),null!==(e=nT(e,t,n))?e.sibling:null);eq(t);break;case 19:var i=(128&e.flags)!=0;if((r=(n&t.childLanes)!=0)||($(e,t,n,!1),r=(n&t.childLanes)!=0),i){if(r)return nE(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),d(sH,sH.current),r)break;return null;case 22:return t.lanes=0,na(e,t,n,t.pendingProps);case 24:q(t,sh,e.memoizedState.cache)}return nT(e,t,n)}(e,t,n);s7=(131072&e.flags)!=0}else s7=!1,sn&&(1048576&t.flags)!=0&&L(t,o1,t.index);switch(t.lanes=0,t.tag){case 16:i:{var i=t.pendingProps;if(e=ey(t.elementType),t.type=e,"function"==typeof e)r$(e)?(i=t3(e,i),t.tag=1,t=np(null,t,e,i,n)):(t.tag=0,t=nh(null,t,e,i,n));else{if(null!=e){var a=e.$$typeof;if(a===ip){t.tag=11,t=nn(null,t,e,i,n);break i}if(a===iv){t.tag=14,t=nr(null,t,e,i,n);break i}}throw Error(r(306,t=l(e)||e,""))}}return t;case 0:return nh(e,t,t.type,t.pendingProps,n);case 1:return a=t3(i=t.type,t.pendingProps),np(e,t,i,a,n);case 3:i:{if(U(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var o=t.pendingProps;i=(a=t.memoizedState).element,eD(e,t),ez(t,o,null,n);var s=t.memoizedState;if(q(t,sh,o=s.cache),o!==a.cache&&K(t,[sh],n,!0),eB(),o=s.element,iV&&a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=nm(e,t,o,n);break i}else if(o!==i){W(i=R(Error(r(424)),t)),t=nm(e,t,o,n);break i}else for(iV&&(st=aB(t.stateNode.containerInfo),se=t,sn=!0,sr=null,si=!0),n=sN(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(H(),o===i){t=nT(e,t,n);break i}nt(e,t,o,n)}t=t.child}return t;case 26:if(oi)return nd(e,t),null===e?(n=os(t.type,null,t.pendingProps,null))?t.memoizedState=n:sn||(t.stateNode=of(t.type,t.pendingProps,o8.current,t)):t.memoizedState=os(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(o_)return O(t),null===e&&o_&&sn&&(i=t.stateNode=ob(t.type,t.pendingProps,o8.current,o4.current,!1),se=t,si=!0,st=aj(t.type,i,st)),nt(e,t,t.pendingProps.children,n),nd(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sn&&(on(t.type,t.pendingProps,o4.current),(a=i=st)&&(null!==(i=aH(i,t.type,t.pendingProps,si))?(t.stateNode=i,se=t,st=aF(i),si=!1,a=!0):a=!1),a||B(t)),O(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,ik(a,o)?i=null:null!==s&&ik(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=e1(e,t,e6,null,null,n),iG?i4._currentValue=a:i4._currentValue2=a),nd(e,t),nt(e,t,i,n),t.child;case 6:return null===e&&sn&&(or(t.pendingProps,o4.current),(e=n=st)&&(null!==(n=aV(n,t.pendingProps,si))?(t.stateNode=n,se=t,st=null,e=!0):e=!1),e||B(t)),null;case 13:return n_(e,t,n);case 4:return U(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=sI(t,null,i,n):nt(e,t,i,n),t.child;case 11:return nn(e,t,t.type,t.pendingProps,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,q(t,t.type,i.value),nt(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Q(t),i=i(a=J(a)),t.flags|=1,nt(e,t,i,n),t.child;case 14:return nr(e,t,t.type,t.pendingProps,n);case 15:return ni(e,t,t.type,t.pendingProps,n);case 19:return nE(e,t,n);case 31:var u=e,c=t,h=n,f=c.pendingProps,p=(128&c.flags)!=0;if(c.flags&=-129,null===u){if(sn){if("hidden"===f.mode)return u=nu(c,f),c.lanes=0x20000000,no(null,u);if(eX(c),(u=st)?null!==(u=aW(u,si))&&(c.memoizedState={dehydrated:u,treeContext:null!==o6?{id:o5,overflow:o3}:null,retryLane:0x20000000,hydrationErrors:null},(h=r0(u)).return=c,c.child=h,se=c,st=null):u=null,null===u)throw B(c);return c.lanes=0x20000000,null}return nu(c,f)}var m=u.memoizedState;if(null!==m){var g=m.dehydrated;if(eX(c),p)if(256&c.flags)c.flags&=-257,c=nc(u,c,h);else if(null!==c.memoizedState)c.child=u.child,c.flags|=128,c=null;else throw Error(r(558));else if(s7||$(u,c,h,!1),p=(h&u.childLanes)!=0,s7||p){if(null!==(f=lv)&&0!==(g=y(f,h))&&g!==m.retryLane)throw m.retryLane=g,eP(u,g),rv(f,u,g),s4;rA(),c=nc(u,c,h)}else u=m.treeContext,iV&&(st=az(g),se=c,sn=!0,sr=null,si=!1,null!==u&&D(c,u)),c=nu(c,f),c.flags|=4096;return c}return(u=rZ(u.child,{mode:f.mode,children:f.children})).ref=c.ref,c.child=u,u.return=c,u;case 22:return na(e,t,n,t.pendingProps);case 24:return Q(t),i=J(sh),null===e?(null===(a=ep())&&(a=lv,o=en(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:i,cache:a},eN(t),q(t,sh,a)):((e.lanes&n)!=0&&(eD(e,t),ez(t,null,null,n),eB()),a=e.memoizedState,o=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),q(t,sh,i)):(q(t,sh,i=o.cache),i!==a.cache&&K(t,[sh],n,!0))),nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function nA(e){e.flags|=4}function nR(e){iH&&(e.flags|=8)}function nP(e,t){if(null!==e&&e.child===t.child)return!1;if((16&t.flags)!=0)return!0;for(e=t.child;null!==e;){if((8218&e.flags)!=0||(8218&e.subtreeFlags)!=0)return!0;e=e.sibling}return!1}function nL(e,t,n,r){if(ij)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)iD(e,n.stateNode);else if(!(4===n.tag||o_&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(iH)for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=aA(a,i.type,i.memoizedProps)),iD(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=aR(a,i.memoizedProps)),iD(e,a);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),nL(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function nI(e,t){if(iH&&nP(e,t)){var n=(e=t.stateNode).containerInfo,r=aE();(function e(t,n,r,i){var a=!1;if(iH)for(var o=n.child;null!==o;){if(5===o.tag){var s=o.stateNode;r&&i&&(s=aA(s,o.type,o.memoizedProps)),aT(t,s)}else if(6===o.tag)s=o.stateNode,r&&i&&(s=aR(s,o.memoizedProps)),aT(t,s);else if(4!==o.tag){if(22===o.tag&&null!==o.memoizedState)null!==(a=o.child)&&(a.return=o),e(t,o,!0,!0),a=!0;else if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return a;o=o.return}o.sibling.return=o.return,o=o.sibling}return a})(r,t,!1,!1),e.pendingChildren=r,nA(t),aM(n,r)}}function nN(e,t,n,r){if(ij)e.memoizedProps!==r&&nA(t);else if(iH){var i=e.stateNode,a=e.memoizedProps;if((e=nP(e,t))||a!==r){var o=o4.current;(a=aw(i,n,a,r,!e,null))===i?t.stateNode=i:(nR(t),iU(a,n,r,o)&&nA(t),t.stateNode=a,e&&nL(a,t,!1,!1))}else t.stateNode=i}}function nD(e,t,n,r,i){if((32&e.mode)!=0&&(null===n?iQ(t,r):iJ(t,n,r))){if(e.flags|=0x1000000,(0x13ffff40&i)===i||i1(t,r))if(i2(e.stateNode,t,r))e.flags|=8192;else if(rT())e.flags|=8192;else throw sR=sA,sM}else e.flags&=-0x1000001}function nU(e,t){if(om(t)){if(e.flags|=0x1000000,!og(t))if(rT())e.flags|=8192;else throw sR=sA,sM}else e.flags&=-0x1000001}function nk(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?m():0x20000000,e.lanes|=t,lL|=t)}function nO(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nF(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0x3e00000&i.subtreeFlags,r|=0x3e00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nB(e,t){switch(N(t),t.tag){case 3:X(sh),k();break;case 26:case 27:case 5:F(t);break;case 4:k();break;case 31:null!==t.memoizedState&&e$(t);break;case 13:e$(t);break;case 19:c(sH);break;case 10:X(t.type);break;case 22:case 23:e$(t),eW(),null!==e&&c(sE);break;case 24:X(sh)}}function nz(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create;n.inst.destroy=r=a()}n=n.next}while(n!==i)}}catch(e){rH(t,t.return,e)}}function nG(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;try{s()}catch(e){rH(i,n,e)}}}r=r.next}while(r!==a)}}catch(e){rH(t,t.return,e)}}function nj(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ej(t,n)}catch(t){rH(e,e.return,t)}}}function nH(e,t,n){n.props=t3(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){rH(e,t,n)}}function nV(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=iA(e.stateNode);break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){rH(e,t,n)}}function nW(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){rH(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){rH(e,t,n)}else n.current=null}function nq(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{ad(r,t,n,e)}catch(t){rH(e,e.return,t)}}function nX(e,t,n){try{ah(e.stateNode,e.type,n,t,e)}catch(t){rH(e,e.return,t)}}function nY(e){return 5===e.tag||3===e.tag||!!oi&&26===e.tag||!!o_&&27===e.tag&&ow(e.type)||4===e.tag}function nK(e){i:for(;;){for(;null===e.sibling;){if(null===e.return||nY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(o_&&27===e.tag&&ow(e.type)||2&e.flags||null===e.child||4===e.tag)continue i;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function n$(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?af(n,e,t):al(n,e);else if(4!==r&&(o_&&27===r&&ow(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(n$(e,t,n),e=e.sibling;null!==e;)n$(e,t,n),e=e.sibling}function nZ(e,t,n){e=e.containerInfo;try{aC(e,n)}catch(e){rH(t,t.return,e)}}function nQ(e){var t=e.stateNode,n=e.memoizedProps;try{oy(e.type,n,t,e)}catch(t){rH(e,e.return,t)}}function nJ(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:n8(e,n),4&r&&nz(5,n);break;case 1:if(n8(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){rH(n,n.return,e)}else{var i=t3(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){rH(n,n.return,e)}}64&r&&nj(n),512&r&&nV(n,n.return);break;case 3:if(n8(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=iA(n.child.stateNode);break;case 1:e=n.child.stateNode}try{ej(r,e)}catch(e){rH(n,n.return,e)}}break;case 27:o_&&null===t&&4&r&&nQ(n);case 26:case 5:if(n8(e,n),null===t){if(4&r)nq(n);else if(64&r){e=n.type,t=n.memoizedProps,i=n.stateNode;try{aJ(i,e,t,n)}catch(e){rH(n,n.return,e)}}}512&r&&nV(n,n.return);break;case 12:default:n8(e,n);break;case 31:n8(e,n),4&r&&n0(e,n);break;case 13:n8(e,n),4&r&&n6(e,n),64&r&&null!==(r=n.memoizedState)&&null!==(r=r.dehydrated)&&aN(r,n=rX.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||s9)){t=null!==t&&null!==t.memoizedState||le,i=s9;var a=le;s9=r,(le=t)&&!a?function e(t,n,r){for(r=r&&(8772&n.subtreeFlags)!=0,n=n.child;null!==n;){var i=n.alternate,a=t,o=n,s=o.flags;switch(o.tag){case 0:case 11:case 15:e(a,o,r),nz(4,o);break;case 1:if(e(a,o,r),"function"==typeof(a=(i=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(e){rH(i,i.return,e)}if(null!==(a=(i=o).updateQueue)){var l=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(null!==u)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)eG(u[a],l)}catch(e){rH(i,i.return,e)}}r&&64&s&&nj(o),nV(o,o.return);break;case 27:o_&&nQ(o);case 26:case 5:e(a,o,r),r&&null===i&&4&s&&nq(o),nV(o,o.return);break;case 12:default:e(a,o,r);break;case 31:e(a,o,r),r&&4&s&&n0(a,o);break;case 13:e(a,o,r),r&&4&s&&n6(a,o);break;case 22:null===o.memoizedState&&e(a,o,r),nV(o,o.return);case 30:}n=n.sibling}}(e,n,(8772&n.subtreeFlags)!=0):n8(e,n),s9=i,le=a}case 30:}}function n1(e,t,n){for(n=n.child;null!==n;)n2(e,t,n),n=n.sibling}function n2(e,t,n){if(oW&&"function"==typeof oW.onCommitFiberUnmount)try{oW.onCommitFiberUnmount(oV,n)}catch{}switch(n.tag){case 26:if(oi){le||nW(n,t),n1(e,t,n),n.memoizedState?ou(n.memoizedState):n.stateNode&&oh(n.stateNode);break}case 27:if(o_){le||nW(n,t);var r=li,i=la;ow(n.type)&&(li=n.stateNode,la=!1),n1(e,t,n),ox(n.stateNode),li=r,la=i;break}case 5:le||nW(n,t);case 6:if(ij){if(r=li,i=la,li=null,n1(e,t,n),li=r,la=i,null!==li)if(la)try{ag(li,n.stateNode)}catch(e){rH(n,t,e)}else try{am(li,n.stateNode)}catch(e){rH(n,t,e)}}else n1(e,t,n);break;case 18:ij&&null!==li&&(la?a4(li,n.stateNode):a3(li,n.stateNode));break;case 4:ij?(r=li,i=la,li=n.stateNode.containerInfo,la=!0,n1(e,t,n),li=r,la=i):(iH&&nZ(n.stateNode,n,aE()),n1(e,t,n));break;case 0:case 11:case 14:case 15:nG(2,n,t),le||nG(4,n,t),n1(e,t,n);break;case 1:le||(nW(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&nH(n,t,r)),n1(e,t,n);break;case 21:default:n1(e,t,n);break;case 22:le=(r=le)||null!==n.memoizedState,n1(e,t,n),le=r}}function n0(e,t){if(iV&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{a2(e)}catch(e){rH(t,t.return,e)}}}function n6(e,t){if(iV&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{a0(e)}catch(e){rH(t,t.return,e)}}function n5(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ln),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ln),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=rY.bind(null,e,t);t.then(r,r)}})}function n3(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],o=e,s=t;if(ij){var l=s;i:for(;null!==l;){switch(l.tag){case 27:if(o_){if(ow(l.type)){li=l.stateNode,la=!1;break i}break}case 5:li=l.stateNode,la=!1;break i;case 3:case 4:li=l.stateNode.containerInfo,la=!0;break i}l=l.return}if(null===li)throw Error(r(160));n2(o,s,a),li=null,la=!1}else n2(o,s,a);null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)n4(t,e),t=t.sibling}function n4(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:n3(t,e),n7(e),4&i&&(nG(3,e,e.return),nz(3,e),nG(5,e,e.return));break;case 1:n3(t,e),n7(e),512&i&&(le||null===n||nW(n,n.return)),64&i&&s9&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:if(oi){var a=lo;if(n3(t,e),n7(e),512&i&&(le||null===n||nW(n,n.return)),4&i){i=null!==n?n.memoizedState:null;var o=e.memoizedState;null===n?null===o?null===e.stateNode?e.stateNode=oc(a,e.type,e.memoizedProps,e):od(a,e.type,e.stateNode):e.stateNode=ol(a,o,e.memoizedProps):i!==o?(null===i?null!==n.stateNode&&oh(n.stateNode):ou(i),null===o?od(a,e.type,e.stateNode):ol(a,o,e.memoizedProps)):null===o&&null!==e.stateNode&&nX(e,e.memoizedProps,n.memoizedProps)}break}case 27:if(o_){n3(t,e),n7(e),512&i&&(le||null===n||nW(n,n.return)),null!==n&&4&i&&nX(e,e.memoizedProps,n.memoizedProps);break}case 5:if(n3(t,e),n7(e),512&i&&(le||null===n||nW(n,n.return)),ij){if(32&e.flags){a=e.stateNode;try{av(a)}catch(t){rH(e,e.return,t)}}4&i&&null!=e.stateNode&&(a=e.memoizedProps,nX(e,a,null!==n?n.memoizedProps:a)),1024&i&&(lt=!0)}else iH&&null!==e.alternate&&(e.alternate.stateNode=e.stateNode);break;case 6:if(n3(t,e),n7(e),4&i&&ij){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=null!==n?n.memoizedProps:i,a=e.stateNode;try{ac(a,n,i)}catch(t){rH(e,e.return,t)}}break;case 3:if(oi?(op(),a=lo,lo=oo(t.containerInfo),n3(t,e),lo=a):n3(t,e),n7(e),4&i){if(ij&&iV&&null!==n&&n.memoizedState.isDehydrated)try{a1(t.containerInfo)}catch(t){rH(e,e.return,t)}if(iH){i=t.containerInfo,n=t.pendingChildren;try{aC(i,n)}catch(t){rH(e,e.return,t)}}}lt&&(lt=!1,function e(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var n=t;e(n),5===n.tag&&1024&n.flags&&i7(n.stateNode),t=t.sibling}}(e));break;case 4:oi?(n=lo,lo=oo(e.stateNode.containerInfo),n3(t,e),n7(e),lo=n):(n3(t,e),n7(e)),4&i&&iH&&nZ(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:default:n3(t,e),n7(e);break;case 31:case 19:n3(t,e),n7(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,n5(e,i));break;case 13:n3(t,e),n7(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(lU=oO()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,n5(e,i));break;case 22:a=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,l=s9,u=le;if(s9=l||a,le=u||s,n3(t,e),le=u,s9=l,n7(e),8192&i&&((t=e.stateNode)._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||s||s9||le||function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nG(4,n,n.return),e(n);break;case 1:nW(n,n.return);var r=n.stateNode;"function"==typeof r.componentWillUnmount&&nH(n,n.return,r),e(n);break;case 27:o_&&ox(n.stateNode);case 26:case 5:nW(n,n.return),e(n);break;case 22:null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),ij)){i:if(n=null,ij)for(t=e;;){if(5===t.tag||oi&&26===t.tag){if(null===n){s=n=t;try{o=s.stateNode,a?a_(o):ay(s.stateNode,s.memoizedProps)}catch(e){rH(s,s.return,e)}}}else if(6===t.tag){if(null===n){s=t;try{var c=s.stateNode;a?ab(c):ax(c,s.memoizedProps)}catch(e){rH(s,s.return,e)}}}else if(18===t.tag){if(null===n){s=t;try{var d=s.stateNode;a?a7(d):a8(s.stateNode)}catch(e){rH(s,s.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break i;for(;null===t.sibling;){if(null===t.return||t.return===e)break i;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,n5(e,n));case 30:case 21:}}function n7(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(nY(i)){n=i;break}i=i.return}if(ij){if(null==n)throw Error(r(160));switch(n.tag){case 27:if(o_){var a=n.stateNode,o=nK(e);n$(e,o,a);break}case 5:var s=n.stateNode;32&n.flags&&(av(s),n.flags&=-33);var l=nK(e);n$(e,l,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=nK(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?ap(r,t,n):au(r,t);else if(4!==i&&(o_&&27===i&&ow(t.type)&&(r=t.stateNode,n=null),null!==(t=t.child)))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,c,u);break;default:throw Error(r(161))}}}catch(t){rH(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function n8(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)nJ(e,t.alternate,t),t=t.sibling}function n9(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&er(n))}function re(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&er(e))}function rt(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)rn(e,t,n,r),t=t.sibling}function rn(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:rt(e,t,n,r),2048&i&&nz(9,t);break;case 1:case 31:case 13:default:rt(e,t,n,r);break;case 3:rt(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&er(e)));break;case 12:if(2048&i){rt(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){rH(t,t.return,e)}}else rt(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?rt(e,t,n,r):rr(e,t):2&a._visibility?rt(e,t,n,r):(a._visibility|=2,function e(t,n,r,i,a){for(a=a&&(10256&n.subtreeFlags)!=0,n=n.child;null!==n;){var o=n,s=o.flags;switch(o.tag){case 0:case 11:case 15:e(t,o,r,i,a),nz(8,o);break;case 23:break;case 22:var l=o.stateNode;null!==o.memoizedState?2&l._visibility?e(t,o,r,i,a):rr(t,o):(l._visibility|=2,e(t,o,r,i,a)),a&&2048&s&&n9(o.alternate,o);break;case 24:e(t,o,r,i,a),a&&2048&s&&re(o.alternate,o);break;default:e(t,o,r,i,a)}n=n.sibling}}(e,t,n,r,(10256&t.subtreeFlags)!=0)),2048&i&&n9(o,t);break;case 24:rt(e,t,n,r),2048&i&&re(t.alternate,t)}}function rr(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,r=n.flags;switch(n.tag){case 22:rr(e,n),2048&r&&n9(n.alternate,n);break;case 24:rr(e,n),2048&r&&re(n.alternate,n);break;default:rr(e,n)}t=t.sibling}}function ri(e,t,n){if(e.subtreeFlags&ls)for(e=e.child;null!==e;)ra(e,t,n),e=e.sibling}function ra(e,t,n){switch(e.tag){case 26:if(ri(e,t,n),e.flags&ls)if(null!==e.memoizedState)ov(n,lo,e.memoizedState,e.memoizedProps);else{var r=e.stateNode,i=e.type;e=e.memoizedProps,((0x13ffff40&t)===t||i1(i,e))&&i6(n,r,i,e)}break;case 5:ri(e,t,n),e.flags&ls&&(r=e.stateNode,i=e.type,e=e.memoizedProps,((0x13ffff40&t)===t||i1(i,e))&&i6(n,r,i,e));break;case 3:case 4:oi?(r=lo,lo=oo(e.stateNode.containerInfo),ri(e,t,n),lo=r):ri(e,t,n);break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ls,ls=0x1000000,ri(e,t,n),ls=r):ri(e,t,n));break;default:ri(e,t,n)}}function ro(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function rs(e){var t=e.deletions;if((16&e.flags)!=0){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];lr=r,ru(r,e)}ro(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)rl(e),e=e.sibling}function rl(e){switch(e.tag){case 0:case 11:case 15:rs(e),2048&e.flags&&nG(9,e,e.return);break;case 3:case 12:default:rs(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,function e(t){var n=t.deletions;if((16&t.flags)!=0){if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];lr=i,ru(i,t)}ro(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:nG(8,n,n.return),e(n);break;case 22:2&(r=n.stateNode)._visibility&&(r._visibility&=-3,e(n));break;default:e(n)}t=t.sibling}}(e)):rs(e)}}function ru(e,t){for(;null!==lr;){var n=lr;switch(n.tag){case 0:case 11:case 15:nG(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:er(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,lr=r;else for(n=e;null!==lr;){var i=(r=lr).sibling,a=r.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&iZ(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(r),r===n){lr=null;break}if(null!==i){i.return=a,lr=i;break}lr=a}}}function rc(e){var t=iW(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(r(364));return t}if(null===(e=at(e)))throw Error(r(362));return e.stateNode.current}function rd(e,t){var n=e.tag;switch(t.$$typeof){case lu:if(e.type===t.value)return!0;break;case lc:i:{for(t=t.value,e=[e,0],n=0;n<e.length;){var i=e[n++],a=i.tag,o=e[n++],s=t[o];if(5!==a&&26!==a&&27!==a||!ai(i)){for(;null!=s&&rd(i,s);)s=t[++o];if(o===t.length){t=!0;break i}for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}t=!1}return t;case ld:if((5===n||26===n||27===n)&&aa(e.stateNode,t.value))return!0;break;case lf:if((5===n||6===n||26===n||27===n)&&null!==(e=ar(e))&&0<=e.indexOf(t.value))return!0;break;case lh:if((5===n||26===n||27===n)&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(r(365))}return!1}function rh(e){switch(e.$$typeof){case lu:return"<"+(l(e.value)||"Unknown")+">";case lc:return":has("+(rh(e)||"")+")";case ld:return'[role="'+e.value+'"]';case lf:return'"'+e.value+'"';case lh:return'[data-testname="'+e.value+'"]';default:throw Error(r(365))}}function rf(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=i.tag,o=e[r++],s=t[o];if(5!==a&&26!==a&&27!==a||!ai(i)){for(;null!=s&&rd(i,s);)s=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function rp(e,t){if(!ae)throw Error(r(363));e=rf(e=rc(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++],a=i.tag;if(5===a||26===a||27===a)ai(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}function rm(){return(2&lg)!=0&&0!==lb?lb&-lb:null!==iE.T?eh():iK()}function rg(){if(0===lP)if((0x20000000&lb)==0||sn){var e=oL;(3932160&(oL<<=1))==0&&(oL=262144),lP=e}else lP=0x20000000;return null!==(e=sG.current)&&(e.flags|=32),lP}function rv(e,t,n){(e===lv&&(2===ly||9===ly)||null!==e.cancelPendingCommit)&&(rw(e,0),ry(e,lb,lP,!1)),v(e,n),((2&lg)==0||e!==lv)&&(e===lv&&((2&lg)==0&&(lA|=n),4===lM&&ry(e,lb,lP,!1)),ea(e))}function r_(e,t,n){if((6&lg)!=0)throw Error(r(327));for(var i=!n&&(127&t)==0&&(t&e.expiredLanes)==0||p(e,t),a=i?function(e,t){var n=lg;lg|=2;var i=rM(),a=rC();lv!==e||lb!==t?(lF=null,lO=oO()+500,rw(e,t)):lw=p(e,t);i:for(;;)try{if(0!==ly&&null!==l_){t=l_;var o=lx;a:switch(ly){case 1:ly=0,lx=null,rI(e,t,o,1);break;case 2:case 9:if(e_(o)){ly=0,lx=null,rL(t);break}t=function(){2!==ly&&9!==ly||lv!==e||(ly=7),ea(e)},o.then(t,t);break i;case 3:ly=7;break i;case 4:ly=5;break i;case 7:e_(o)?(ly=0,lx=null,rL(t)):(ly=0,lx=null,rI(e,t,o,7));break;case 5:var s=null;switch(l_.tag){case 26:s=l_.memoizedState;case 5:case 27:var l=l_,u=l.type,c=l.pendingProps;if(s?og(s):i2(l.stateNode,u,c)){ly=0,lx=null;var d=l.sibling;if(null!==d)l_=d;else{var h=l.return;null!==h?(l_=h,rN(h)):l_=null}break a}}ly=0,lx=null,rI(e,t,o,5);break;case 6:ly=0,lx=null,rI(e,t,o,6);break;case 8:rS(),lM=6;break i;default:throw Error(r(462))}}for(;null!==l_&&!oU();)rP(l_);break}catch(t){rE(e,t)}return sl=ss=null,iE.H=i,iE.A=a,lg=n,null!==l_?0:(lv=null,lb=0,eC(),lM)}(e,t):rR(e,t,!0),o=i;;){if(0===a)lw&&!i&&ry(e,t,0,!1);else{if(n=e.current.alternate,o&&!function(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!oq(a(),i))return!1}catch{return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)){a=rR(e,t,!1),o=!1;continue}if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!=(s=-0x20000001&e.pendingLanes)?s:0x20000000&s?0x20000000:0;if(0!==s){t=s;i:{a=lI;var l=iV&&e.current.memoizedState.isDehydrated;if(l&&(rw(e,s).flags|=256),2!==(s=rR(e,s,!1))){if(lE&&!l){e.errorRecoveryDisabledLanes|=o,lA|=o,a=4;break i}o=lN,lN=a,null!==o&&(null===lN?lN=o:lN.push.apply(lN,o))}a=s}if(o=!1,2!==a)continue}}if(1===a){rw(e,0),ry(e,t,0,!0);break}i:{switch(i=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ry(i,t,lP,!lS);break i;case 2:lN=null;break;case 3:case 5:break;default:throw Error(r(329))}if((0x3c00000&t)===t&&10<(a=lU+300-oO())){if(ry(i,t,lP,!lS),0!==f(i,0,!0))break i;lH=t,i.timeoutHandle=iF(rb.bind(null,i,n,lN,lF,lD,t,lP,lA,lL,lS,o,"Throttled",-0,0),a);break i}rb(i,n,lN,lF,lD,t,lP,lA,lL,lS,o,null,-0,0)}}break}ea(e)}function rb(e,t,n,r,i,a,o,s,l,u,c,d,h,f){if(e.timeoutHandle=iz,8192&(d=t.subtreeFlags)||(0x1002000&d)==0x1002000){ra(t,a,d=i0());var p=(0x3c00000&a)===a?lU-oO():(4194048&a)===a?lk-oO():0;if(null!==(p=i5(d,p))){lH=a,e.cancelPendingCommit=p(rU.bind(null,e,t,a,n,r,i,o,s,l,c,d,null,h,f)),ry(e,a,o,!u);return}}rU(e,t,a,n,r,i,o,s,l)}function ry(e,t,n,r){t&=~lR,t&=~lA,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-oC(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&_(e,n,t)}function rx(){return(6&lg)!=0||(eo(0,!1),!1)}function rS(){if(null!==l_){if(0===ly)var e=l_.return;else e=l_,sl=ss=null,e4(e),sP=null,sL=0,e=l_;for(;null!==e;)nB(e.alternate,e),e=e.return;l_=null}}function rw(e,t){var n=e.timeoutHandle;n!==iz&&(e.timeoutHandle=iz,iB(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),lH=0,rS(),lv=e,l_=n=rZ(e.current,null),lb=t,ly=0,lx=null,lS=!1,lw=p(e,t),lE=!1,lL=lP=lR=lA=lC=lM=0,lN=lI=null,lD=!1,(8&t)!=0&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-oC(r),a=1<<i;t|=e[i],r&=~a}return lT=t,eC(),n}function rE(e,t){sW=null,iE.H=s2,t===sT||t===sC?(t=ex(),ly=3):t===sM?(t=ex(),ly=4):ly=t===s4?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,lx=t,null===l_&&(lM=1,t4(e,R(t,e.current)))}function rT(){var e=sG.current;return null===e||((4194048&lb)===lb?null===sj:((0x3c00000&lb)===lb||(0x20000000&lb)!=0)&&e===sj)}function rM(){var e=iE.H;return iE.H=s2,null===e?s2:e}function rC(){var e=iE.A;return iE.A=ll,e}function rA(){lM=4,lS||(4194048&lb)!==lb&&null!==sG.current||(lw=!0),(0x7ffffff&lC)==0&&(0x7ffffff&lA)==0||null===lv||ry(lv,lb,lP,!1)}function rR(e,t,n){var r=lg;lg|=2;var i=rM(),a=rC();(lv!==e||lb!==t)&&(lF=null,rw(e,t)),t=!1;var o=lM;i:for(;;)try{if(0!==ly&&null!==l_){var s=l_,l=lx;switch(ly){case 8:rS(),o=6;break i;case 3:case 2:case 9:case 6:null===sG.current&&(t=!0);var u=ly;if(ly=0,lx=null,rI(e,s,l,u),n&&lw){o=0;break i}break;default:u=ly,ly=0,lx=null,rI(e,s,l,u)}}(function(){for(;null!==l_;)rP(l_)})(),o=lM;break}catch(t){rE(e,t)}return t&&e.shellSuspendCounter++,sl=ss=null,lg=r,iE.H=i,iE.A=a,null===l_&&(lv=null,lb=0,eC()),o}function rP(e){var t=nC(e.alternate,e,lT);e.memoizedProps=e.pendingProps,null===t?rN(e):l_=t}function rL(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=nf(n,t,t.pendingProps,t.type,void 0,lb);break;case 11:t=nf(n,t,t.pendingProps,t.type.render,t.ref,lb);break;case 5:e4(t);default:nB(n,t),t=nC(n,t=l_=rQ(t,lT),lT)}e.memoizedProps=e.pendingProps,null===t?rN(e):l_=t}function rI(e,t,n,i){sl=ss=null,e4(t),sP=null,sL=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&$(t,n,a,!0),null!==(n=sG.current)){switch(n.tag){case 31:case 13:return null===sj?rA():null===n.alternate&&0===lM&&(lM=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===sA?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),rV(e,i,a)),!1;case 22:return n.flags|=65536,i===sA?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),rV(e,i,a)),!1}throw Error(r(435,n.tag))}return rV(e,i,a),rA(),!1}if(sn)return null!==(t=sG.current)?((65536&t.flags)==0&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==sa&&W(R(e=Error(r(422),{cause:i}),n))):(i!==sa&&W(R(t=Error(r(423),{cause:i}),n)),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=R(i,n),a=t8(e.stateNode,i,a),eF(e,a),4!==lM&&(lM=2)),!1;var o=Error(r(520),{cause:i});if(o=R(o,n),null===lI?lI=[o]:lI.push(o),4!==lM&&(lM=2),null===t)return!0;i=R(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=t8(n.stateNode,i,e),eF(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(128&n.flags)==0&&("function"==typeof t.getDerivedStateFromError||null!==o&&"function"==typeof o.componentDidCatch&&(null===lB||!lB.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,ne(a=t9(a),e,n,i),eF(n,a),!1}n=n.return}while(null!==n)return!1}(e,a,t,n,lb)){lM=1,t4(e,R(n,e.current)),l_=null;return}}catch(t){if(null!==a)throw l_=a,t;lM=1,t4(e,R(n,e.current)),l_=null;return}32768&t.flags?(sn||1===i?e=!0:lw||(0x20000000&lb)!=0?e=!1:(lS=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=sG.current)&&13===i.tag&&(i.flags|=16384)),rD(t,e)):rN(t)}function rN(e){var t=e;do{if((32768&t.flags)!=0)return void rD(t,lS);e=t.return;var n=function(e,t,n){var i=t.pendingProps;switch(N(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nF(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),X(sh),k(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(j(t)?nA(t):null===e||e.memoizedState.isDehydrated&&(256&t.flags)==0||(t.flags|=1024,V())),nI(e,t),nF(t),null;case 26:if(oi){var a=t.type,o=t.memoizedState;return null===e?(nA(t),null!==o?(nF(t),nU(t,o)):(nF(t),nD(t,a,null,i,n))):o?o!==e.memoizedState?(nA(t),nF(t),nU(t,o)):(nF(t),t.flags&=-0x1000001):(o=e.memoizedProps,ij?o!==i&&nA(t):nN(e,t,a,i),nF(t),nD(t,a,o,i,n)),null}case 27:if(o_){if(F(t),n=o8.current,a=t.type,null!==e&&null!=t.stateNode)ij?e.memoizedProps!==i&&nA(t):nN(e,t,a,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return nF(t),null}e=o4.current,j(t)?z(t,e):(t.stateNode=e=ob(a,i,n,e,!0),nA(t))}return nF(t),null}case 5:if(F(t),a=t.type,null!==e&&null!=t.stateNode)nN(e,t,a,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return nF(t),null}if(o=o4.current,j(t))z(t,o),a6(t.stateNode,a,i,o)&&(t.flags|=64);else{var s=iN(a,i,o8.current,o,t);nR(t),nL(s,t,!1,!1),t.stateNode=s,iU(s,a,i,o)&&nA(t)}}return nF(t),nD(t,t.type,null===e?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,ij?n!==i&&nA(t):iH&&(n!==i?(e=o8.current,n=o4.current,nR(t),t.stateNode=iO(i,e,n,t)):t.stateNode=e.stateNode);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=o8.current,n=o4.current,j(t)){if(!iV)throw Error(r(176));if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=se))switch(a.tag){case 27:case 5:i=a.memoizedProps}aY(e,n,t,i)||B(t,!0)}else nR(t),t.stateNode=iO(i,e,n,t)}return nF(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=j(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!iV)throw Error(r(556));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));aK(e,t)}else H(),(128&t.flags)==0&&(t.memoizedState=null),t.flags|=4;nF(t),e=!1}else n=V(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(e$(t),t):(e$(t),null);if((128&t.flags)!=0)throw Error(r(558))}return nF(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=j(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!iV)throw Error(r(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a$(a,t)}else H(),(128&t.flags)==0&&(t.memoizedState=null),t.flags|=4;nF(t),a=!1}else a=V(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(e$(t),t):(e$(t),null)}return e$(t),(128&t.flags)!=0?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(i=t.child,a=null,null!==i.alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool),o=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),nk(t,t.updateQueue),nF(t),null);case 4:return k(),nI(e,t),null===e&&iq(t.stateNode.containerInfo),nF(t),null;case 10:return X(t.type),nF(t),null;case 19:if(c(sH),null===(i=t.memoizedState))return nF(t),null;if(a=(128&t.flags)!=0,null===(o=i.rendering))if(a)nO(i,!1);else{if(0!==lM||null!==e&&(128&e.flags)!=0)for(e=t.child;null!==e;){if(null!==(o=eZ(e))){for(t.flags|=128,nO(i,!1),t.updateQueue=e=o.updateQueue,nk(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)rQ(n,e),n=n.sibling;return d(sH,1&sH.current|2),sn&&P(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&oO()>lO&&(t.flags|=128,a=!0,nO(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=eZ(o))){if(t.flags|=128,a=!0,t.updateQueue=e=e.updateQueue,nk(t,e),nO(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!sn)return nF(t),null}else 2*oO()-i.renderingStartTime>lO&&0x20000000!==n&&(t.flags|=128,a=!0,nO(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oO(),e.sibling=null,n=sH.current,d(sH,a?1&n|2:1&n),sn&&P(t,i.treeForkCount),e):(nF(t),null);case 22:case 23:return e$(t),eW(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(0x20000000&n)!=0&&(128&t.flags)==0&&(nF(t),6&t.subtreeFlags&&(t.flags|=8192)):nF(t),null!==(n=t.updateQueue)&&nk(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&c(sE),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),X(sh),nF(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}(t.alternate,t,lT);if(null!==n){l_=n;return}if(null!==(t=t.sibling)){l_=t;return}l_=t=e}while(null!==t)0===lM&&(lM=5)}function rD(e,t){do{var n=function(e,t){switch(N(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return X(sh),k(),(65536&(e=t.flags))!=0&&(128&e)==0?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return F(t),null;case 31:if(null!==t.memoizedState){if(e$(t),null===t.alternate)throw Error(r(340));H()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(e$(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));H()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return c(sH),null;case 4:return k(),null;case 10:return X(t.type),null;case 22:case 23:return e$(t),eW(),null!==e&&c(sE),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return X(sh),null;default:return null}}(e.alternate,e);if(null!==n){n.flags&=32767,l_=n;return}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling)){l_=e;return}l_=e=n}while(null!==e)lM=6,l_=null}function rU(e,t,n,i,a,o,s,l,u){e.cancelPendingCommit=null;do rz();while(0!==lz)if((6&lg)!=0)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-oC(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-0x20000001)}n&=~d}0!==r&&_(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,o=t.lanes|t.childLanes|sk,s,l,u),e===lv&&(l_=lv=null,lb=0),lj=t,lG=e,lH=n,lV=o,lW=a,lq=i,(10256&t.subtreeFlags)!=0||(10256&t.flags)!=0?(e.callbackNode=null,e.callbackPriority=0,oN(oz,function(){return rG(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(13878&t.flags)!=0,(13878&t.subtreeFlags)!=0||i){i=iE.T,iE.T=null,a=iY(),iX(2),s=lg,lg|=4;try{!function(e,t){for(iL(e.containerInfo),lr=t;null!==lr;)if(t=(e=lr).child,(1028&e.subtreeFlags)!=0&&null!==t)t.return=e,lr=t;else for(;null!==lr;){var n=(e=lr).alternate;switch(t=e.flags,e.tag){case 0:if((4&t)!=0&&null!==(t=null!==(t=e.updateQueue)?t.events:null))for(var i=0;i<t.length;i++){var a=t[i];a.ref.impl=a.nextImpl}break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if((1024&t)!=0&&null!==n){t=void 0,i=e,a=n.memoizedProps,n=n.memoizedState;var o=i.stateNode;try{var s=t3(i.type,a);t=o.getSnapshotBeforeUpdate(s,n),o.__reactInternalSnapshotBeforeUpdate=t}catch(e){rH(i,i.return,e)}}break;case 3:(1024&t)!=0&&ij&&aS(e.stateNode.containerInfo);break;default:if((1024&t)!=0)throw Error(r(163))}if(null!==(t=e.sibling)){t.return=e.return,lr=t;break}lr=e.return}}(e,t,n)}finally{lg=s,iX(a),iE.T=i}}lz=1,rk(),rO(),rF()}}function rk(){if(1===lz){lz=0;var e=lG,t=lj,n=(13878&t.flags)!=0;if((13878&t.subtreeFlags)!=0||n){n=iE.T,iE.T=null;var r=iY();iX(2);var i=lg;lg|=4;try{n4(t,e),iI(e.containerInfo)}finally{lg=i,iX(r),iE.T=n}}e.current=t,lz=2}}function rO(){if(2===lz){lz=0;var e=lG,t=lj,n=(8772&t.flags)!=0;if((8772&t.subtreeFlags)!=0||n){n=iE.T,iE.T=null;var r=iY();iX(2);var i=lg;lg|=4;try{nJ(e,t.alternate,t)}finally{lg=i,iX(r),iE.T=n}}lz=3}}function rF(){if(4===lz||3===lz){lz=0,ok();var e=lG,t=lj,n=lH,r=lq;(10256&t.subtreeFlags)!=0||(10256&t.flags)!=0?lz=5:(lz=0,lj=lG=null,rB(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(lB=null),S(n),t=t.stateNode,oW&&"function"==typeof oW.onCommitFiberRoot)try{oW.onCommitFiberRoot(oV,t,void 0,(128&t.current.flags)==128)}catch{}if(null!==r){t=iE.T,i=iY(),iX(2),iE.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{iE.T=t,iX(i)}}(3&lH)!=0&&rz(),ea(e),i=e.pendingLanes,(261930&n)!=0&&(42&i)!=0?e===lY?lX++:(lX=0,lY=e):lX=0,iV&&a5(),eo(0,!1)}}function rB(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,er(t))}function rz(){return rk(),rO(),rF(),rG()}function rG(){if(5!==lz)return!1;var e=lG,t=lV;lV=0;var n=S(lH),i=32>n?32:n;n=iE.T;var a=iY();try{iX(i),iE.T=null,i=lW,lW=null;var o=lG,s=lH;if(lz=0,lj=lG=null,lH=0,(6&lg)!=0)throw Error(r(331));var l=lg;if(lg|=4,rl(o.current),rn(o,o.current,s,i),lg=l,eo(0,!1),oW&&"function"==typeof oW.onPostCommitFiberRoot)try{oW.onPostCommitFiberRoot(oV,o)}catch{}return!0}finally{iX(a),iE.T=n,rB(e,t)}}function rj(e,t,n){t=R(n,t),t=t8(e.stateNode,t,2),null!==(e=ek(e,t,2))&&(v(e,2),ea(e))}function rH(e,t,n){if(3===e.tag)rj(e,e,n);else for(;null!==t;){if(3===t.tag){rj(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===lB||!lB.has(r))){e=R(n,e),null!==(r=ek(t,n=t9(2),2))&&(ne(n,r,t,e),v(r,2),ea(r));break}}t=t.return}}function rV(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new lm;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lE=!0,i.add(n),e=rW.bind(null,e,t,n),t.then(e,e))}function rW(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lv===e&&(lb&n)===n&&(4===lM||3===lM&&(0x3c00000&lb)===lb&&300>oO()-lU?(2&lg)==0&&rw(e,0):lR|=n,lL===lb&&(lL=0)),ea(e)}function rq(e,t){0===t&&(t=m()),null!==(e=eP(e,t))&&(v(e,t),ea(e))}function rX(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),rq(e,n)}function rY(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),rq(e,n)}function rK(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function r$(e){return!(!(e=e.prototype)||!e.isReactComponent)}function rZ(e,n){var r=e.alternate;return null===r?((r=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=0x3e00000&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function rQ(e,t){e.flags&=0x3e00002;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,e.dependencies=null===(t=n.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function rJ(e,n,i,a,o,s){var l=0;if(a=e,"function"==typeof e)r$(e)&&(l=1);else if("string"==typeof e)l=oi&&o_?oa(e,i,o4.current)?26:oS(e)?27:5:oi?oa(e,i,o4.current)?26:5:o_&&oS(e)?27:5;else i:switch(e){case ib:return(e=t(31,i,n,o)).elementType=ib,e.lanes=s,e;case il:return r1(i.children,o,s,n);case iu:l=8,o|=24;break;case ic:return(e=t(12,i,n,2|o)).elementType=ic,e.lanes=s,e;case im:return(e=t(13,i,n,o)).elementType=im,e.lanes=s,e;case ig:return(e=t(19,i,n,o)).elementType=ig,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ih:l=10;break i;case id:l=9;break i;case ip:l=11;break i;case iv:l=14;break i;case i_:l=16,a=null;break i}l=29,i=Error(r(130,null===e?"null":typeof e,"")),a=null}return(n=t(l,i,n,o)).elementType=e,n.type=a,n.lanes=s,n}function r1(e,n,r,i){return(e=t(7,e,i,n)).lanes=r,e}function r2(e,n,r){return(e=t(6,e,null,n)).lanes=r,e}function r0(e){var n=t(18,null,null,0);return n.stateNode=e,n}function r6(e,n,r){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function r5(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=iz,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=g(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g(0),this.hiddenUpdates=g(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function r3(e,n,r,i,a,o,s,l,u,c,d,h){return e=new r5(e,n,r,s,u,c,d,h,l),n=1,!0===o&&(n|=24),o=t(3,null,null,n),e.current=o,o.stateNode=e,n=en(),n.refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:i,isDehydrated:r,cache:n},eN(o),e}function r4(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):Error(r(268,e=Object.keys(e).join(",")));return null===(e=null!==(e=o(t))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:iA(e.stateNode)}function r7(e,t,n,r,i,a){i=oM,null===r.context?r.context=i:r.pendingContext=i,(r=eU(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ek(e,r,t))&&(rv(n,e,t),eO(n,e,t))}function r8(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function r9(e,t){r8(e,t),(e=e.alternate)&&r8(e,t)}var ie={},it=T.default,ir=nl.default,ii=Object.assign,ia=Symbol.for("react.element"),io=Symbol.for("react.transitional.element"),is=Symbol.for("react.portal"),il=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),id=Symbol.for("react.consumer"),ih=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),im=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),iv=Symbol.for("react.memo"),i_=Symbol.for("react.lazy"),ib=Symbol.for("react.activity"),iy=Symbol.for("react.memo_cache_sentinel"),ix=Symbol.iterator,iS=Symbol.for("react.client.reference"),iw=Array.isArray,iE=it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,iT=e.rendererVersion,iM=e.rendererPackageName,iC=e.extraDevToolsConfig,iA=e.getPublicInstance,iR=e.getRootHostContext,iP=e.getChildHostContext,iL=e.prepareForCommit,iI=e.resetAfterCommit,iN=e.createInstance;e.cloneMutableInstance;var iD=e.appendInitialChild,iU=e.finalizeInitialChildren,ik=e.shouldSetTextContent,iO=e.createTextInstance;e.cloneMutableTextInstance;var iF=e.scheduleTimeout,iB=e.cancelTimeout,iz=e.noTimeout,iG=e.isPrimaryRenderer;e.warnsIfNotActing;var ij=e.supportsMutation,iH=e.supportsPersistence,iV=e.supportsHydration,iW=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var iq=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var iX=e.setCurrentUpdatePriority,iY=e.getCurrentUpdatePriority,iK=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var i$=e.shouldAttemptEagerTransition,iZ=e.detachDeletedInstance;e.requestPostPaintCallback;var iQ=e.maySuspendCommit,iJ=e.maySuspendCommitOnUpdate,i1=e.maySuspendCommitInSyncRender,i2=e.preloadInstance,i0=e.startSuspendingCommit,i6=e.suspendInstance;e.suspendOnActiveViewTransition;var i5=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var i3=e.NotPendingTransition,i4=e.HostTransitionContext,i7=e.resetFormInstance;e.bindToConsole;var i8=e.supportsMicrotasks,i9=e.scheduleMicrotask,ae=e.supportsTestSelectors,at=e.findFiberRoot,an=e.getBoundingRect,ar=e.getTextContent,ai=e.isHiddenSubtree,aa=e.matchAccessibilityRole,ao=e.setFocusIfFocusable,as=e.setupIntersectionObserver,al=e.appendChild,au=e.appendChildToContainer,ac=e.commitTextUpdate,ad=e.commitMount,ah=e.commitUpdate,af=e.insertBefore,ap=e.insertInContainerBefore,am=e.removeChild,ag=e.removeChildFromContainer,av=e.resetTextContent,a_=e.hideInstance,ab=e.hideTextInstance,ay=e.unhideInstance,ax=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var aS=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var aw=e.cloneInstance,aE=e.createContainerChildSet,aT=e.appendChildToContainerChildSet,aM=e.finalizeContainerChildren,aC=e.replaceContainerChildren,aA=e.cloneHiddenInstance,aR=e.cloneHiddenTextInstance,aP=e.isSuspenseInstancePending,aL=e.isSuspenseInstanceFallback,aI=e.getSuspenseInstanceFallbackErrorDetails,aN=e.registerSuspenseInstanceRetry,aD=e.canHydrateFormStateMarker,aU=e.isFormStateMarkerMatching,ak=e.getNextHydratableSibling,aO=e.getNextHydratableSiblingAfterSingleton,aF=e.getFirstHydratableChild,aB=e.getFirstHydratableChildWithinContainer,az=e.getFirstHydratableChildWithinActivityInstance,aG=e.getFirstHydratableChildWithinSuspenseInstance,aj=e.getFirstHydratableChildWithinSingleton,aH=e.canHydrateInstance,aV=e.canHydrateTextInstance,aW=e.canHydrateActivityInstance,aq=e.canHydrateSuspenseInstance,aX=e.hydrateInstance,aY=e.hydrateTextInstance,aK=e.hydrateActivityInstance,a$=e.hydrateSuspenseInstance,aZ=e.getNextHydratableInstanceAfterActivityInstance,aQ=e.getNextHydratableInstanceAfterSuspenseInstance,aJ=e.commitHydratedInstance,a1=e.commitHydratedContainer,a2=e.commitHydratedActivityInstance,a0=e.commitHydratedSuspenseInstance,a6=e.finalizeHydratedChildren,a5=e.flushHydrationEvents;e.clearActivityBoundary;var a3=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var a4=e.clearSuspenseBoundaryFromContainer,a7=e.hideDehydratedBoundary,a8=e.unhideDehydratedBoundary,a9=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var oe,ot,on=e.validateHydratableInstance,or=e.validateHydratableTextInstance,oi=e.supportsResources,oa=e.isHostHoistableType,oo=e.getHoistableRoot,os=e.getResource,ol=e.acquireResource,ou=e.releaseResource,oc=e.hydrateHoistable,od=e.mountHoistable,oh=e.unmountHoistable,of=e.createHoistableInstance,op=e.prepareToCommitHoistables,om=e.mayResourceSuspendCommit,og=e.preloadResource,ov=e.suspendResource,o_=e.supportsSingletons,ob=e.resolveSingletonInstance,oy=e.acquireSingletonInstance,ox=e.releaseSingletonInstance,oS=e.isHostSingletonType,ow=e.isSingletonScope,oE=[],oT=-1,oM={},oC=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(oA(e)/oR|0)|0},oA=Math.log,oR=Math.LN2,oP=256,oL=262144,oI=4194304,oN=ir.unstable_scheduleCallback,oD=ir.unstable_cancelCallback,oU=ir.unstable_shouldYield,ok=ir.unstable_requestPaint,oO=ir.unstable_now,oF=ir.unstable_ImmediatePriority,oB=ir.unstable_UserBlockingPriority,oz=ir.unstable_NormalPriority,oG=ir.unstable_IdlePriority,oj=ir.log,oH=ir.unstable_setDisableYieldValue,oV=null,oW=null,oq="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},oX="function"==typeof reportError?reportError:function(e){if("function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof E.default&&"function"==typeof E.default.emit)return void E.default.emit("uncaughtException",e);console.error(e)},oY=Object.prototype.hasOwnProperty,oK=!1,o$=new WeakMap,oZ=[],oQ=0,oJ=null,o1=0,o2=[],o0=0,o6=null,o5=1,o3="",o4=u(null),o7=u(null),o8=u(null),o9=u(null),se=null,st=null,sn=!1,sr=null,si=!1,sa=Error(r(519)),so=u(null),ss=null,sl=null,su="u">typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},sc=ir.unstable_scheduleCallback,sd=ir.unstable_NormalPriority,sh={$$typeof:ih,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},sf=null,sp=null,sm=!1,sg=!1,sv=!1,s_=0,sb=null,sy=0,sx=0,sS=null,sw=iE.S;iE.S=function(e,t){lk=oO(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===sb){var n=sb=[];sy=0,sx=eh(),sS={status:"pending",value:void 0,then:function(e){n.push(e)}}}sy++,t.then(ef,ef)}(0,t),null!==sw&&sw(e,t)};var sE=u(null),sT=Error(r(460)),sM=Error(r(474)),sC=Error(r(542)),sA={then:function(){}},sR=null,sP=null,sL=0,sI=eM(!0),sN=eM(!1),sD=[],sU=0,sk=0,sO=!1,sF=!1,sB=u(null),sz=u(0),sG=u(null),sj=null,sH=u(0),sV=0,sW=null,sq=null,sX=null,sY=!1,sK=!1,s$=!1,sZ=0,sQ=0,sJ=null,s1=0,s2={readContext:J,use:tt,useCallback:eQ,useContext:eQ,useEffect:eQ,useImperativeHandle:eQ,useLayoutEffect:eQ,useInsertionEffect:eQ,useMemo:eQ,useReducer:eQ,useRef:eQ,useState:eQ,useDebugValue:eQ,useDeferredValue:eQ,useTransition:eQ,useSyncExternalStore:eQ,useId:eQ,useHostTransitionStatus:eQ,useFormState:eQ,useActionState:eQ,useOptimistic:eQ,useMemoCache:eQ,useCacheRefresh:eQ};s2.useEffectEvent=eQ;var s0={readContext:J,use:tt,useCallback:function(e,t){return e7().memoizedState=[e,void 0===t?null:t],e},useContext:J,useEffect:tL,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,tR(4194308,4,tk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tR(4194308,4,e,t)},useInsertionEffect:function(e,t){tR(4,2,e,t)},useMemo:function(e,t){var n=e7();t=void 0===t?null:t;var r=e();return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=e7();if(void 0!==n)var i=n(t);else i=t;return r.memoizedState=r.baseState=i,r.queue=e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},e=e.dispatch=tK.bind(null,sW,e),[r.memoizedState,e]},useRef:function(e){return e7().memoizedState={current:e}},useState:function(e){var t=(e=tf(e)).queue,n=t$.bind(null,sW,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tF,useDeferredValue:function(e,t){return tG(e7(),e,t)},useTransition:function(){var e=tf(!1);return e=tH.bind(null,sW,e.queue,!0,!1),e7().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=sW,a=e7();if(sn){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===lv)throw Error(r(349));(127&lb)!=0||tl(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,tL(tc.bind(null,i,o,e),[e]),i.flags|=2048,tC(9,{destroy:void 0},tu.bind(null,i,o,n,t),null),n},useId:function(){var e=e7(),t=lv.identifierPrefix;if(sn){var n=o3,r=o5;t="_"+t+"R_"+(n=(r&~(1<<32-oC(r)-1)).toString(32)+n),0<(n=sZ++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=s1++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tW,useFormState:tS,useActionState:tS,useOptimistic:function(e){var t=e7();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=tQ.bind(null,sW,!0,n),n.dispatch=t,[e,t]},useMemoCache:tn,useCacheRefresh:function(){return e7().memoizedState=tY.bind(null,sW)},useEffectEvent:function(e){var t=e7(),n={impl:e};return t.memoizedState=n,function(){if((2&lg)!=0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},s6={readContext:J,use:tt,useCallback:tB,useContext:J,useEffect:tI,useImperativeHandle:tO,useInsertionEffect:tD,useLayoutEffect:tU,useMemo:tz,useReducer:ti,useRef:tA,useState:function(){return ti(tr)},useDebugValue:tF,useDeferredValue:function(e,t){return tj(e8(),sq.memoizedState,e,t)},useTransition:function(){var e=ti(tr)[0],t=e8().memoizedState;return["boolean"==typeof e?e:te(e),t]},useSyncExternalStore:ts,useId:tq,useHostTransitionStatus:tW,useFormState:tw,useActionState:tw,useOptimistic:function(e,t){return tp(e8(),sq,e,t)},useMemoCache:tn,useCacheRefresh:tX};s6.useEffectEvent=tN;var s5={readContext:J,use:tt,useCallback:tB,useContext:J,useEffect:tI,useImperativeHandle:tO,useInsertionEffect:tD,useLayoutEffect:tU,useMemo:tz,useReducer:to,useRef:tA,useState:function(){return to(tr)},useDebugValue:tF,useDeferredValue:function(e,t){var n=e8();return null===sq?tG(n,e,t):tj(n,sq.memoizedState,e,t)},useTransition:function(){var e=to(tr)[0],t=e8().memoizedState;return["boolean"==typeof e?e:te(e),t]},useSyncExternalStore:ts,useId:tq,useHostTransitionStatus:tW,useFormState:tM,useActionState:tM,useOptimistic:function(e,t){var n=e8();return null!==sq?tp(n,sq,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:tn,useCacheRefresh:tX};s5.useEffectEvent=tN;var s3={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rm(),i=eU(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=ek(e,i,r))&&(rv(t,e,r),eO(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rm(),i=eU(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=ek(e,i,r))&&(rv(t,e,r),eO(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rm(),r=eU(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ek(e,r,n))&&(rv(t,e,n),eO(t,e,n))}},s4=Error(r(461)),s7=!1,s8={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},s9=!1,le=!1,lt=!1,ln="function"==typeof WeakSet?WeakSet:Set,lr=null,li=null,la=!1,lo=null,ls=8192,ll={getCacheForType:function(e){var t=J(sh),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return J(sh).controller.signal}},lu=0,lc=1,ld=2,lh=3,lf=4;if("function"==typeof Symbol&&Symbol.for){var lp=Symbol.for;lu=lp("selector.component"),lc=lp("selector.has_pseudo_class"),ld=lp("selector.role"),lh=lp("selector.test_id"),lf=lp("selector.text")}var lm="function"==typeof WeakMap?WeakMap:Map,lg=0,lv=null,l_=null,lb=0,ly=0,lx=null,lS=!1,lw=!1,lE=!1,lT=0,lM=0,lC=0,lA=0,lR=0,lP=0,lL=0,lI=null,lN=null,lD=!1,lU=0,lk=0,lO=1/0,lF=null,lB=null,lz=0,lG=null,lj=null,lH=0,lV=0,lW=null,lq=null,lX=0,lY=null;return ie.attemptContinuousHydration=function(e){if(13===e.tag||31===e.tag){var t=eP(e,0x4000000);null!==t&&rv(t,e,0x4000000),r9(e,0x4000000)}},ie.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag||31===e.tag){var t=rm(),n=eP(e,t=x(t));null!==n&&rv(n,e,t),r9(e,t)}},ie.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=h(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-oC(t);e.entanglements[1]|=n,t&=~n}ea(e),(6&lg)==0&&(lO=oO()+500,eo(0,!1))}}break;case 31:case 13:null!==(t=eP(e,2))&&rv(t,e,2),rx(),r9(e,2)}},ie.batchedUpdates=function(e,t){return e(t)},ie.createComponentSelector=function(e){return{$$typeof:lu,value:e}},ie.createContainer=function(e,t,n,r,i,a,o,s,l,u){return r3(e,t,!1,null,n,r,a,null,o,s,l,u)},ie.createHasPseudoClassSelector=function(e){return{$$typeof:lc,value:e}},ie.createHydrationContainer=function(e,t,n,r,i,a,o,s,l,u,c,d,h,f){var p;return(e=r3(n,r,!0,e,i,a,s,f,l,u,c,d)).context=oM,n=e.current,(i=eU(r=x(r=rm()))).callback=null!=(p=t)?p:null,ek(n,i,r),t=r,e.current.lanes=t,v(e,t),ea(e),e},ie.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:is,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},ie.createRoleSelector=function(e){return{$$typeof:ld,value:e}},ie.createTestNameSelector=function(e){return{$$typeof:lh,value:e}},ie.createTextSelector=function(e){return{$$typeof:lf,value:e}},ie.defaultOnCaughtError=function(e){console.error(e)},ie.defaultOnRecoverableError=function(e){oX(e)},ie.defaultOnUncaughtError=function(e){oX(e)},ie.deferredUpdates=function(e){var t=iE.T,n=iY();try{return iX(32),iE.T=null,e()}finally{iX(n),iE.T=t}},ie.discreteUpdates=function(e,t,n,r,i){var a=iE.T,o=iY();try{return iX(2),iE.T=null,e(t,n,r,i)}finally{iX(o),iE.T=a,0===lg&&(lO=oO()+500)}},ie.findAllNodes=rp,ie.findBoundingRects=function(e,t){if(!ae)throw Error(r(363));t=rp(e,t),e=[];for(var n=0;n<t.length;n++)e.push(an(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var i=n.x,a=i+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,h=u.y,f=h+u.height;if(i>=c&&o>=h&&a<=d&&s<=f){e.splice(t,1);break}if(i!==c||n.width!==u.width||f<o||h>s){if(!(o!==h||n.height!==u.height||d<i||c>a)){c>i&&(u.width+=c-i,u.x=i),d<a&&(u.width=a-c),e.splice(t,1);break}}else{h>o&&(u.height+=h-o,u.y=o),f<s&&(u.height=s-h),e.splice(t,1);break}}}return e},ie.findHostInstance=r4,ie.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=o(e))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(4!==t.tag&&null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:iA(e.stateNode)},ie.findHostInstanceWithWarning=function(e){return r4(e)},ie.flushPassiveEffects=rz,ie.flushSyncFromReconciler=function(e){var t=lg;lg|=1;var n=iE.T,r=iY();try{if(iX(2),iE.T=null,e)return e()}finally{iX(r),iE.T=n,(6&(lg=t))==0&&eo(0,!1)}},ie.flushSyncWork=rx,ie.focusWithin=function(e,t){if(!ae)throw Error(r(363));for(t=Array.from(t=rf(e=rc(e),t)),e=0;e<t.length;){var n=t[e++],i=n.tag;if(!ai(n)){if((5===i||26===i||27===i)&&ao(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},ie.getFindAllNodesFailureDescription=function(e,t){if(!ae)throw Error(r(363));var n=0,i=[];e=[rc(e),0];for(var a=0;a<e.length;){var o=e[a++],s=o.tag,l=e[a++],u=t[l];if((5!==s&&26!==s&&27!==s||!ai(o))&&(rd(o,u)&&(i.push(rh(u)),++l>n&&(n=l)),l<t.length))for(o=o.child;null!==o;)e.push(o,l),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(rh(t[n]));return`findAllNodes was able to match part of the selector:
  `+i.join(" > ")+`

No matching component was found for:
  `+e.join(" > ")}return null},ie.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return iA(e.child.stateNode);default:return e.child.stateNode}},ie.injectIntoDevTools=function(){var e={bundleType:0,version:iT,rendererPackageName:iM,currentDispatcherRef:iE,reconcilerVersion:"19.2.0"};if(null!==iC&&(e.rendererConfig=iC),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{oV=t.inject(e),oW=t}catch{}e=!!t.checkDCE}}return e},ie.isAlreadyRendering=function(){return(6&lg)!=0},ie.observeVisibleRects=function(e,t,n,i){if(!ae)throw Error(r(363));var a=as(e=rp(e,t),n,i).disconnect;return{disconnect:function(){a()}}},ie.shouldError=function(){return null},ie.shouldSuspend=function(){return!1},ie.startHostTransition=function(e,t,i,a){if(5!==e.tag)throw Error(r(476));var o=tV(e).queue;tH(e,o,t,i3,null===i?n:function(){var t=tV(e);return null===t.next&&(t=e.alternate.memoizedState),tZ(e,t.next.queue,{},rm()),i(a)})},ie.updateContainer=function(e,t,n,r){var i=t.current,a=rm();return r7(i,a,e,t,n,r),a},ie.updateContainerSync=function(e,t,n,r){return r7(t.current,2,e,t,n,r),2},ie},nZ.exports.default=nZ.exports,Object.defineProperty(nZ.exports,"__esModule",{value:!0})),n$.exports=nZ.exports),(v=n$.exports)&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default"))?v.default:v,nJ={},n1=/^three(?=[A-Z])/,n2=e=>`${e[0].toUpperCase()}${e.slice(1)}`,n0=0;function n6(e){if("function"==typeof e){let t=`${n0++}`;return nJ[t]=e,t}Object.assign(nJ,e)}function n5(e,t){let n=n2(e),r=nJ[n];if("primitive"!==e&&!r)throw Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw Error("R3F: The args prop must be an array!")}function n3(e){if(e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?nP(e.parent,e):nB(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,nO(e)}}function n4(e,t,n){let r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var i,a;let e=nJ[n2(t.type)];t.object=null!=(i=t.props.object)?i:new e(...null!=(a=t.props.args)?a:[]),t.object.__r3f=t}if(nk(t.object,t.props),t.props.attach)nP(e,t);else if(nB(t.object)&&nB(e.object)){let r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){let n=e.object.children.indexOf(t.object);-1!==n?(e.object.children.splice(n,1),e.object.children.splice(n<r?r-1:r,0,t.object)):(t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object}))}else e.object.add(t.object)}for(let e of t.children)n4(t,e);nO(t)}}function n7(e,t){t&&(t.parent=e,e.children.push(t),n4(e,t))}function n8(e,t,n){if(!t||!n)return;t.parent=e;let r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),n4(e,t,n)}function n9(e){if("function"==typeof e.dispose){let t=()=>{try{e.dispose()}catch{}};"u">typeof IS_REACT_ACT_ENVIRONMENT?t():(0,nl.unstable_scheduleCallback)(nl.unstable_IdlePriority,t)}}function re(e,t,n){if(!t)return;t.parent=null;let r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?nL(e,t):nB(t.object)&&nB(e.object)&&(e.object.remove(t.object),function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{nG(n.capturedMap,t,e,r)})}(nv(t),t.object));let i=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--){let n=t.children[e];re(t,n,i)}t.children.length=0,delete t.object.__r3f,i&&"primitive"!==t.type&&"Scene"!==t.object.type&&n9(t.object),void 0===n&&nO(t)}let rt=[],rn=()=>{},rr={},ri=0,ra=(_={isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return n5(e=n2(e)in nJ?e:e.replace(n1,""),t),"primitive"===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,nC(t.object,n,e,t)},removeChild:re,appendChild:n7,appendInitialChild:n7,insertBefore:n8,appendChildToContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&n7(n,t)},removeChildFromContainer(e,t){let n=e.getState().scene.__r3f;t&&n&&re(n,t)},insertInContainerBefore(e,t,n){let r=e.getState().scene.__r3f;t&&n&&r&&n8(r,t,n)},getRootHostContext:()=>rr,getChildHostContext:()=>rr,commitUpdate(e,t,n,r,i){var a,o,s;n5(t,r);let l=!1;if("primitive"===e.type&&n.object!==r.object||(null==(a=r.args)?void 0:a.length)!==(null==(o=n.args)?void 0:o.length)?l=!0:null!=(s=r.args)&&s.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])})&&(l=!0),l)rt.push([e,{...r},i]);else{let t=function(e,t){let n={};for(let r in t)if(!nI.includes(r)&&!nT.equ(t[r],e.props[r]))for(let e in n[r]=t[r],t)e.startsWith(`${r}-`)&&(n[e]=t[e]);for(let r in e.props){if(nI.includes(r)||t.hasOwnProperty(r))continue;let{root:i,key:a}=nA(e.object,r);if(i.constructor&&0===i.constructor.length){let e=function(e){let t=nN.get(e.constructor);try{t||(t=new e.constructor,nN.set(e.constructor,t))}catch(e){}return t}(i);nT.und(e)||(n[a]=e[a])}else n[a]=0}return n}(e,r);Object.keys(t).length&&(Object.assign(e.props,t),nk(e.object,t))}(null===i.sibling||(4&i.flags)==0)&&function(){for(let[e]of rt){let t=e.parent;if(t)for(let n of(e.props.attach?nL(t,e):nB(e.object)&&nB(t.object)&&t.object.remove(e.object),e.children))n.props.attach?nL(e,n):nB(n.object)&&nB(e.object)&&e.object.remove(n.object);e.isHidden&&n3(e),e.object.__r3f&&delete e.object.__r3f,"primitive"!==e.type&&n9(e.object)}for(let[r,i,a]of rt){r.props=i;let o=r.parent;if(o){let i=nJ[n2(r.type)];r.object=null!=(e=r.props.object)?e:new i(...null!=(t=r.props.args)?t:[]),r.object.__r3f=r;var e,t,n=r.object;for(let e of[a,a.alternate])if(null!==e)if("function"==typeof e.ref){null==e.refCleanup||e.refCleanup();let t=e.ref(n);"function"==typeof t&&(e.refCleanup=t)}else e.ref&&(e.ref.current=n);for(let e of(nk(r.object,r.props),r.props.attach?nP(o,r):nB(r.object)&&nB(o.object)&&o.object.add(r.object),r.children))e.props.attach?nP(r,e):nB(e.object)&&nB(r.object)&&r.object.add(e.object);nO(r)}}rt.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>nC(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){if(!e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?nL(e.parent,e):nB(e.object)&&(e.object.visible=!1),e.isHidden=!0,nO(e)}},unhideInstance:n3,createTextInstance:rn,hideTextInstance:rn,unhideTextInstance:rn,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:T.createContext(null),setCurrentUpdatePriority(e){ri=e},getCurrentUpdatePriority:()=>ri,resolveUpdatePriority(){var e;if(0!==ri)return ri;switch(null==(e=window.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return 2;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return 8;default:return 32}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:"9.5.0",applyViewTransitionName(e,t,n){},restoreViewTransitionName(e,t){},cancelViewTransitionName(e,t,n){},cancelRootViewTransitionName(e){},restoreRootViewTransitionName(e){},InstanceMeasurement:null,measureInstance:e=>null,wasInstanceInViewport:e=>!0,hasInstanceChanged:(e,t)=>!1,hasInstanceAffectedParent:(e,t)=>!1,suspendOnActiveViewTransition(e,t){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(e){},createViewTransitionInstance:e=>null,getCurrentGestureOffset(e){throw Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance:(e,t)=>e,cloneMutableTextInstance:e=>e,cloneRootViewTransitionContainer(e){throw Error("Not implemented.")},removeRootViewTransitionClone(e,t){throw Error("Not implemented.")},createFragmentInstance:e=>null,updateFragmentInstanceFiber(e,t){},commitNewChildToFragmentInstance(e,t){},deleteChildFromFragmentInstance(e,t){},measureClonedInstance:e=>null,maySuspendCommitOnUpdate:(e,t,n)=>!1,maySuspendCommitInSyncRender:(e,t)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(e,t)=>null},(d=nQ(_)).injectIntoDevTools(),d),ro=new Map,rs={objects:"shallow",strict:!1};function rl({store:e,children:t,onCreated:n,rootElement:r}){return nb(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),(0,w.jsx)(nH.Provider,{value:e,children:t})}function ru(e,t){let n=ro.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),ra.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect();var n,r,a,o,s=i.scene;for(let e in"Scene"!==s.type&&(null==s.dispose||s.dispose()),s){let t=s[e];(null==t?void 0:t.type)!=="Scene"&&(null==t||null==t.dispose||t.dispose())}ro.delete(e),t&&t(e)}catch(e){}},500)})}}function rc(e,t,n){return(0,w.jsx)(rd,{children:e,container:t,state:n})}function rd({state:e={},children:t,container:n}){let{events:r,size:i,...a}=e,o=nV(),[s]=T.useState(()=>new M.Raycaster),[l]=T.useState(()=>new M.Vector2),u=ny((e,t)=>{let a;if(t.camera&&i){let n=t.camera;a=e.viewport.getCurrentViewport(n,new M.Vector3,i),n!==e.camera&&nF(n,i)}return{...e,...t,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...e.events,...t.events,...r},size:{...e.size,...i},viewport:{...e.viewport,...a},setEvents:e=>t.set(t=>({...t,events:{...t.events,...e}}))}}),c=T.useMemo(()=>{let e=ni((e,t)=>({...a,set:e,get:t})),t=t=>e.setState(e=>u.current(t,e));return t(o.getState()),o.subscribe(t),e},[o,n]);return(0,w.jsx)(w.Fragment,{children:ra.createPortal((0,w.jsx)(nH.Provider,{value:c,children:t}),c,null)})}let rh=new Set,rf=new Set,rp=new Set;function rm(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function rg(e,t){switch(e){case"before":return rm(rh,t);case"after":return rm(rf,t);case"tail":return rm(rp,t)}}function rv(e,r,i){let a=r.clock.getDelta();"never"===r.frameloop&&"number"==typeof e&&(a=e-r.clock.elapsedTime,r.clock.oldTime=r.clock.elapsedTime,r.clock.elapsedTime=e),t=r.internal.subscribers;for(let e=0;e<t.length;e++)(n=t[e]).ref.current(n.store.getState(),a,i);return!r.internal.priority&&r.gl.render&&r.gl.render(r.scene,r.camera),r.internal.frames=Math.max(0,r.internal.frames-1),"always"===r.frameloop?1:r.internal.frames}let r_=!1,rb=!1;function ry(e){for(let n of(i=requestAnimationFrame(ry),r_=!0,r=0,rg("before",e),rb=!0,ro.values())){var t;(a=n.store.getState()).internal.active&&("always"===a.frameloop||a.internal.frames>0)&&!(null!=(t=a.gl.xr)&&t.isPresenting)&&(r+=rv(e,a))}if(rb=!1,rg("after",e),0===r)return rg("tail",e),r_=!1,cancelAnimationFrame(i)}function rx(e,t=1){var n;if(!e)return ro.forEach(e=>rx(e.store.getState(),t));(null==(n=e.gl.xr)||!n.isPresenting)&&e.internal.active&&"never"!==e.frameloop&&(t>1?e.internal.frames=Math.min(60,e.internal.frames+t):rb?e.internal.frames=2:e.internal.frames=1,r_||(r_=!0,requestAnimationFrame(ry)))}function rS(e,t=!0,n,r){if(t&&rg("before",e),n)rv(e,n,r);else for(let t of ro.values())rv(e,t.store.getState());t&&rg("after",e)}let rw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function rE(e){let{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f;if(n.hovered.delete(nz(e)),null!=r&&r.eventCount){let n=r.handlers,i={...e,intersections:t};null==n.onPointerOut||n.onPointerOut(i),null==n.onPointerLeave||n.onPointerLeave(i)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(a){let{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;let l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){let r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){let t=nE(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(function(e){let n=nE(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=nE(e.object),r=nE(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=nz(e);return!i.has(t)&&(i.add(t),!0)});for(let e of(r.events.filter&&(s=r.events.filter(s,r)),s)){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(nz(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=u?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=c.map(e=>e.eventObject)),u&&!c.length&&d<=2&&(r(a,s.interaction),o&&o(a)),l&&n(c),!function(e,t,r,i){if(e.length){let a={stopped:!1};for(let o of e){let s=nE(o.object);if(s||o.object.traverseAncestors(e=>{let t=nE(e);if(t)return s=t,!1}),s){let{raycaster:l,pointer:u,camera:c,internal:d}=s,h=new M.Vector3(u.x,u.y,0).unproject(c),f=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},p=e=>{let n={intersection:o,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,n):d.capturedMap.set(e,new Map([[o.eventObject,n]])),t.target.setPointerCapture(e)},m=e=>{let t=d.capturedMap.get(e);t&&nG(d.capturedMap,o.eventObject,t,e)},g={};for(let e in t){let n=t[e];"function"!=typeof n&&(g[e]=n)}let v={...o,...g,pointer:u,intersections:e,stopped:a.stopped,delta:r,unprojectedPoint:h,ray:l.ray,camera:c,stopPropagation(){let r="pointerId"in t&&d.capturedMap.get(t.pointerId);(!r||r.has(o.eventObject))&&(v.stopped=a.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===o.eventObject)&&n([...e.slice(0,e.indexOf(o)),o]))},target:{hasPointerCapture:f,setPointerCapture:p,releasePointerCapture:m},currentTarget:{hasPointerCapture:f,setPointerCapture:p,releasePointerCapture:m},nativeEvent:t};if(i(v),!0===a.stopped)break}}}}(c,a,d,function(e){let t=e.eventObject,n=t.__r3f;if(!(null!=n&&n.eventCount))return;let o=n.handlers;if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){let t=nz(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{let n=o[i];n?(!u||s.initialHits.includes(t))&&(r(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):u&&s.initialHits.includes(t)&&r(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(rw).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{let{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:{...e.events,connected:t}})),r.handlers)for(let e in r.handlers){let n=r.handlers[e],[i,a]=rw[e];t.addEventListener(i,n,{passive:a})}},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(let e in n.handlers){let t=n.handlers[e],[r]=rw[e];n.connected.removeEventListener(r,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}e.i(8560),e.s(["ACESFilmicToneMapping",()=>M.ACESFilmicToneMapping,"AddEquation",()=>M.AddEquation,"AddOperation",()=>M.AddOperation,"AdditiveAnimationBlendMode",()=>M.AdditiveAnimationBlendMode,"AdditiveBlending",()=>M.AdditiveBlending,"AgXToneMapping",()=>M.AgXToneMapping,"AlphaFormat",()=>M.AlphaFormat,"AlwaysCompare",()=>M.AlwaysCompare,"AlwaysDepth",()=>M.AlwaysDepth,"AlwaysStencilFunc",()=>M.AlwaysStencilFunc,"AmbientLight",()=>M.AmbientLight,"AnimationAction",()=>M.AnimationAction,"AnimationClip",()=>M.AnimationClip,"AnimationLoader",()=>M.AnimationLoader,"AnimationMixer",()=>M.AnimationMixer,"AnimationObjectGroup",()=>M.AnimationObjectGroup,"AnimationUtils",()=>M.AnimationUtils,"ArcCurve",()=>M.ArcCurve,"ArrayCamera",()=>M.ArrayCamera,"ArrowHelper",()=>M.ArrowHelper,"AttachedBindMode",()=>M.AttachedBindMode,"Audio",()=>M.Audio,"AudioAnalyser",()=>M.AudioAnalyser,"AudioContext",()=>M.AudioContext,"AudioListener",()=>M.AudioListener,"AudioLoader",()=>M.AudioLoader,"AxesHelper",()=>M.AxesHelper,"BackSide",()=>M.BackSide,"BasicDepthPacking",()=>M.BasicDepthPacking,"BasicShadowMap",()=>M.BasicShadowMap,"BatchedMesh",()=>M.BatchedMesh,"Bone",()=>M.Bone,"BooleanKeyframeTrack",()=>M.BooleanKeyframeTrack,"Box2",()=>M.Box2,"Box3",()=>M.Box3,"Box3Helper",()=>M.Box3Helper,"BoxGeometry",()=>M.BoxGeometry,"BoxHelper",()=>M.BoxHelper,"BufferAttribute",()=>M.BufferAttribute,"BufferGeometry",()=>M.BufferGeometry,"BufferGeometryLoader",()=>M.BufferGeometryLoader,"ByteType",()=>M.ByteType,"Cache",()=>M.Cache,"Camera",()=>M.Camera,"CameraHelper",()=>M.CameraHelper,"CanvasTexture",()=>M.CanvasTexture,"CapsuleGeometry",()=>M.CapsuleGeometry,"CatmullRomCurve3",()=>M.CatmullRomCurve3,"CineonToneMapping",()=>M.CineonToneMapping,"CircleGeometry",()=>M.CircleGeometry,"ClampToEdgeWrapping",()=>M.ClampToEdgeWrapping,"Clock",()=>M.Clock,"Color",()=>M.Color,"ColorKeyframeTrack",()=>M.ColorKeyframeTrack,"ColorManagement",()=>M.ColorManagement,"CompressedArrayTexture",()=>M.CompressedArrayTexture,"CompressedCubeTexture",()=>M.CompressedCubeTexture,"CompressedTexture",()=>M.CompressedTexture,"CompressedTextureLoader",()=>M.CompressedTextureLoader,"ConeGeometry",()=>M.ConeGeometry,"ConstantAlphaFactor",()=>M.ConstantAlphaFactor,"ConstantColorFactor",()=>M.ConstantColorFactor,"Controls",()=>M.Controls,"CubeCamera",()=>M.CubeCamera,"CubeDepthTexture",()=>M.CubeDepthTexture,"CubeReflectionMapping",()=>M.CubeReflectionMapping,"CubeRefractionMapping",()=>M.CubeRefractionMapping,"CubeTexture",()=>M.CubeTexture,"CubeTextureLoader",()=>M.CubeTextureLoader,"CubeUVReflectionMapping",()=>M.CubeUVReflectionMapping,"CubicBezierCurve",()=>M.CubicBezierCurve,"CubicBezierCurve3",()=>M.CubicBezierCurve3,"CubicInterpolant",()=>M.CubicInterpolant,"CullFaceBack",()=>M.CullFaceBack,"CullFaceFront",()=>M.CullFaceFront,"CullFaceFrontBack",()=>M.CullFaceFrontBack,"CullFaceNone",()=>M.CullFaceNone,"Curve",()=>M.Curve,"CurvePath",()=>M.CurvePath,"CustomBlending",()=>M.CustomBlending,"CustomToneMapping",()=>M.CustomToneMapping,"CylinderGeometry",()=>M.CylinderGeometry,"Cylindrical",()=>M.Cylindrical,"Data3DTexture",()=>M.Data3DTexture,"DataArrayTexture",()=>M.DataArrayTexture,"DataTexture",()=>M.DataTexture,"DataTextureLoader",()=>M.DataTextureLoader,"DataUtils",()=>M.DataUtils,"DecrementStencilOp",()=>M.DecrementStencilOp,"DecrementWrapStencilOp",()=>M.DecrementWrapStencilOp,"DefaultLoadingManager",()=>M.DefaultLoadingManager,"DepthFormat",()=>M.DepthFormat,"DepthStencilFormat",()=>M.DepthStencilFormat,"DepthTexture",()=>M.DepthTexture,"DetachedBindMode",()=>M.DetachedBindMode,"DirectionalLight",()=>M.DirectionalLight,"DirectionalLightHelper",()=>M.DirectionalLightHelper,"DiscreteInterpolant",()=>M.DiscreteInterpolant,"DodecahedronGeometry",()=>M.DodecahedronGeometry,"DoubleSide",()=>M.DoubleSide,"DstAlphaFactor",()=>M.DstAlphaFactor,"DstColorFactor",()=>M.DstColorFactor,"DynamicCopyUsage",()=>M.DynamicCopyUsage,"DynamicDrawUsage",()=>M.DynamicDrawUsage,"DynamicReadUsage",()=>M.DynamicReadUsage,"EdgesGeometry",()=>M.EdgesGeometry,"EllipseCurve",()=>M.EllipseCurve,"EqualCompare",()=>M.EqualCompare,"EqualDepth",()=>M.EqualDepth,"EqualStencilFunc",()=>M.EqualStencilFunc,"EquirectangularReflectionMapping",()=>M.EquirectangularReflectionMapping,"EquirectangularRefractionMapping",()=>M.EquirectangularRefractionMapping,"Euler",()=>M.Euler,"EventDispatcher",()=>M.EventDispatcher,"ExternalTexture",()=>M.ExternalTexture,"ExtrudeGeometry",()=>M.ExtrudeGeometry,"FileLoader",()=>M.FileLoader,"Float16BufferAttribute",()=>M.Float16BufferAttribute,"Float32BufferAttribute",()=>M.Float32BufferAttribute,"FloatType",()=>M.FloatType,"Fog",()=>M.Fog,"FogExp2",()=>M.FogExp2,"FramebufferTexture",()=>M.FramebufferTexture,"FrontSide",()=>M.FrontSide,"Frustum",()=>M.Frustum,"FrustumArray",()=>M.FrustumArray,"GLBufferAttribute",()=>M.GLBufferAttribute,"GLSL1",()=>M.GLSL1,"GLSL3",()=>M.GLSL3,"GreaterCompare",()=>M.GreaterCompare,"GreaterDepth",()=>M.GreaterDepth,"GreaterEqualCompare",()=>M.GreaterEqualCompare,"GreaterEqualDepth",()=>M.GreaterEqualDepth,"GreaterEqualStencilFunc",()=>M.GreaterEqualStencilFunc,"GreaterStencilFunc",()=>M.GreaterStencilFunc,"GridHelper",()=>M.GridHelper,"Group",()=>M.Group,"HalfFloatType",()=>M.HalfFloatType,"HemisphereLight",()=>M.HemisphereLight,"HemisphereLightHelper",()=>M.HemisphereLightHelper,"IcosahedronGeometry",()=>M.IcosahedronGeometry,"ImageBitmapLoader",()=>M.ImageBitmapLoader,"ImageLoader",()=>M.ImageLoader,"ImageUtils",()=>M.ImageUtils,"IncrementStencilOp",()=>M.IncrementStencilOp,"IncrementWrapStencilOp",()=>M.IncrementWrapStencilOp,"InstancedBufferAttribute",()=>M.InstancedBufferAttribute,"InstancedBufferGeometry",()=>M.InstancedBufferGeometry,"InstancedInterleavedBuffer",()=>M.InstancedInterleavedBuffer,"InstancedMesh",()=>M.InstancedMesh,"Int16BufferAttribute",()=>M.Int16BufferAttribute,"Int32BufferAttribute",()=>M.Int32BufferAttribute,"Int8BufferAttribute",()=>M.Int8BufferAttribute,"IntType",()=>M.IntType,"InterleavedBuffer",()=>M.InterleavedBuffer,"InterleavedBufferAttribute",()=>M.InterleavedBufferAttribute,"Interpolant",()=>M.Interpolant,"InterpolateDiscrete",()=>M.InterpolateDiscrete,"InterpolateLinear",()=>M.InterpolateLinear,"InterpolateSmooth",()=>M.InterpolateSmooth,"InterpolationSamplingMode",()=>M.InterpolationSamplingMode,"InterpolationSamplingType",()=>M.InterpolationSamplingType,"InvertStencilOp",()=>M.InvertStencilOp,"KeepStencilOp",()=>M.KeepStencilOp,"KeyframeTrack",()=>M.KeyframeTrack,"LOD",()=>M.LOD,"LatheGeometry",()=>M.LatheGeometry,"Layers",()=>M.Layers,"LessCompare",()=>M.LessCompare,"LessDepth",()=>M.LessDepth,"LessEqualCompare",()=>M.LessEqualCompare,"LessEqualDepth",()=>M.LessEqualDepth,"LessEqualStencilFunc",()=>M.LessEqualStencilFunc,"LessStencilFunc",()=>M.LessStencilFunc,"Light",()=>M.Light,"LightProbe",()=>M.LightProbe,"Line",()=>M.Line,"Line3",()=>M.Line3,"LineBasicMaterial",()=>M.LineBasicMaterial,"LineCurve",()=>M.LineCurve,"LineCurve3",()=>M.LineCurve3,"LineDashedMaterial",()=>M.LineDashedMaterial,"LineLoop",()=>M.LineLoop,"LineSegments",()=>M.LineSegments,"LinearFilter",()=>M.LinearFilter,"LinearInterpolant",()=>M.LinearInterpolant,"LinearMipMapLinearFilter",()=>M.LinearMipMapLinearFilter,"LinearMipMapNearestFilter",()=>M.LinearMipMapNearestFilter,"LinearMipmapLinearFilter",()=>M.LinearMipmapLinearFilter,"LinearMipmapNearestFilter",()=>M.LinearMipmapNearestFilter,"LinearSRGBColorSpace",()=>M.LinearSRGBColorSpace,"LinearToneMapping",()=>M.LinearToneMapping,"LinearTransfer",()=>M.LinearTransfer,"Loader",()=>M.Loader,"LoaderUtils",()=>M.LoaderUtils,"LoadingManager",()=>M.LoadingManager,"LoopOnce",()=>M.LoopOnce,"LoopPingPong",()=>M.LoopPingPong,"LoopRepeat",()=>M.LoopRepeat,"MOUSE",()=>M.MOUSE,"Material",()=>M.Material,"MaterialLoader",()=>M.MaterialLoader,"MathUtils",()=>M.MathUtils,"Matrix2",()=>M.Matrix2,"Matrix3",()=>M.Matrix3,"Matrix4",()=>M.Matrix4,"MaxEquation",()=>M.MaxEquation,"Mesh",()=>M.Mesh,"MeshBasicMaterial",()=>M.MeshBasicMaterial,"MeshDepthMaterial",()=>M.MeshDepthMaterial,"MeshDistanceMaterial",()=>M.MeshDistanceMaterial,"MeshLambertMaterial",()=>M.MeshLambertMaterial,"MeshMatcapMaterial",()=>M.MeshMatcapMaterial,"MeshNormalMaterial",()=>M.MeshNormalMaterial,"MeshPhongMaterial",()=>M.MeshPhongMaterial,"MeshPhysicalMaterial",()=>M.MeshPhysicalMaterial,"MeshStandardMaterial",()=>M.MeshStandardMaterial,"MeshToonMaterial",()=>M.MeshToonMaterial,"MinEquation",()=>M.MinEquation,"MirroredRepeatWrapping",()=>M.MirroredRepeatWrapping,"MixOperation",()=>M.MixOperation,"MultiplyBlending",()=>M.MultiplyBlending,"MultiplyOperation",()=>M.MultiplyOperation,"NearestFilter",()=>M.NearestFilter,"NearestMipMapLinearFilter",()=>M.NearestMipMapLinearFilter,"NearestMipMapNearestFilter",()=>M.NearestMipMapNearestFilter,"NearestMipmapLinearFilter",()=>M.NearestMipmapLinearFilter,"NearestMipmapNearestFilter",()=>M.NearestMipmapNearestFilter,"NeutralToneMapping",()=>M.NeutralToneMapping,"NeverCompare",()=>M.NeverCompare,"NeverDepth",()=>M.NeverDepth,"NeverStencilFunc",()=>M.NeverStencilFunc,"NoBlending",()=>M.NoBlending,"NoColorSpace",()=>M.NoColorSpace,"NoNormalPacking",()=>M.NoNormalPacking,"NoToneMapping",()=>M.NoToneMapping,"NormalAnimationBlendMode",()=>M.NormalAnimationBlendMode,"NormalBlending",()=>M.NormalBlending,"NormalGAPacking",()=>M.NormalGAPacking,"NormalRGPacking",()=>M.NormalRGPacking,"NotEqualCompare",()=>M.NotEqualCompare,"NotEqualDepth",()=>M.NotEqualDepth,"NotEqualStencilFunc",()=>M.NotEqualStencilFunc,"NumberKeyframeTrack",()=>M.NumberKeyframeTrack,"Object3D",()=>M.Object3D,"ObjectLoader",()=>M.ObjectLoader,"ObjectSpaceNormalMap",()=>M.ObjectSpaceNormalMap,"OctahedronGeometry",()=>M.OctahedronGeometry,"OneFactor",()=>M.OneFactor,"OneMinusConstantAlphaFactor",()=>M.OneMinusConstantAlphaFactor,"OneMinusConstantColorFactor",()=>M.OneMinusConstantColorFactor,"OneMinusDstAlphaFactor",()=>M.OneMinusDstAlphaFactor,"OneMinusDstColorFactor",()=>M.OneMinusDstColorFactor,"OneMinusSrcAlphaFactor",()=>M.OneMinusSrcAlphaFactor,"OneMinusSrcColorFactor",()=>M.OneMinusSrcColorFactor,"OrthographicCamera",()=>M.OrthographicCamera,"PCFShadowMap",()=>M.PCFShadowMap,"PCFSoftShadowMap",()=>M.PCFSoftShadowMap,"PMREMGenerator",()=>$,"Path",()=>M.Path,"PerspectiveCamera",()=>M.PerspectiveCamera,"Plane",()=>M.Plane,"PlaneGeometry",()=>M.PlaneGeometry,"PlaneHelper",()=>M.PlaneHelper,"PointLight",()=>M.PointLight,"PointLightHelper",()=>M.PointLightHelper,"Points",()=>M.Points,"PointsMaterial",()=>M.PointsMaterial,"PolarGridHelper",()=>M.PolarGridHelper,"PolyhedronGeometry",()=>M.PolyhedronGeometry,"PositionalAudio",()=>M.PositionalAudio,"PropertyBinding",()=>M.PropertyBinding,"PropertyMixer",()=>M.PropertyMixer,"QuadraticBezierCurve",()=>M.QuadraticBezierCurve,"QuadraticBezierCurve3",()=>M.QuadraticBezierCurve3,"Quaternion",()=>M.Quaternion,"QuaternionKeyframeTrack",()=>M.QuaternionKeyframeTrack,"QuaternionLinearInterpolant",()=>M.QuaternionLinearInterpolant,"R11_EAC_Format",()=>M.R11_EAC_Format,"RED_GREEN_RGTC2_Format",()=>M.RED_GREEN_RGTC2_Format,"RED_RGTC1_Format",()=>M.RED_RGTC1_Format,"REVISION",()=>M.REVISION,"RG11_EAC_Format",()=>M.RG11_EAC_Format,"RGBADepthPacking",()=>M.RGBADepthPacking,"RGBAFormat",()=>M.RGBAFormat,"RGBAIntegerFormat",()=>M.RGBAIntegerFormat,"RGBA_ASTC_10x10_Format",()=>M.RGBA_ASTC_10x10_Format,"RGBA_ASTC_10x5_Format",()=>M.RGBA_ASTC_10x5_Format,"RGBA_ASTC_10x6_Format",()=>M.RGBA_ASTC_10x6_Format,"RGBA_ASTC_10x8_Format",()=>M.RGBA_ASTC_10x8_Format,"RGBA_ASTC_12x10_Format",()=>M.RGBA_ASTC_12x10_Format,"RGBA_ASTC_12x12_Format",()=>M.RGBA_ASTC_12x12_Format,"RGBA_ASTC_4x4_Format",()=>M.RGBA_ASTC_4x4_Format,"RGBA_ASTC_5x4_Format",()=>M.RGBA_ASTC_5x4_Format,"RGBA_ASTC_5x5_Format",()=>M.RGBA_ASTC_5x5_Format,"RGBA_ASTC_6x5_Format",()=>M.RGBA_ASTC_6x5_Format,"RGBA_ASTC_6x6_Format",()=>M.RGBA_ASTC_6x6_Format,"RGBA_ASTC_8x5_Format",()=>M.RGBA_ASTC_8x5_Format,"RGBA_ASTC_8x6_Format",()=>M.RGBA_ASTC_8x6_Format,"RGBA_ASTC_8x8_Format",()=>M.RGBA_ASTC_8x8_Format,"RGBA_BPTC_Format",()=>M.RGBA_BPTC_Format,"RGBA_ETC2_EAC_Format",()=>M.RGBA_ETC2_EAC_Format,"RGBA_PVRTC_2BPPV1_Format",()=>M.RGBA_PVRTC_2BPPV1_Format,"RGBA_PVRTC_4BPPV1_Format",()=>M.RGBA_PVRTC_4BPPV1_Format,"RGBA_S3TC_DXT1_Format",()=>M.RGBA_S3TC_DXT1_Format,"RGBA_S3TC_DXT3_Format",()=>M.RGBA_S3TC_DXT3_Format,"RGBA_S3TC_DXT5_Format",()=>M.RGBA_S3TC_DXT5_Format,"RGBDepthPacking",()=>M.RGBDepthPacking,"RGBFormat",()=>M.RGBFormat,"RGBIntegerFormat",()=>M.RGBIntegerFormat,"RGB_BPTC_SIGNED_Format",()=>M.RGB_BPTC_SIGNED_Format,"RGB_BPTC_UNSIGNED_Format",()=>M.RGB_BPTC_UNSIGNED_Format,"RGB_ETC1_Format",()=>M.RGB_ETC1_Format,"RGB_ETC2_Format",()=>M.RGB_ETC2_Format,"RGB_PVRTC_2BPPV1_Format",()=>M.RGB_PVRTC_2BPPV1_Format,"RGB_PVRTC_4BPPV1_Format",()=>M.RGB_PVRTC_4BPPV1_Format,"RGB_S3TC_DXT1_Format",()=>M.RGB_S3TC_DXT1_Format,"RGDepthPacking",()=>M.RGDepthPacking,"RGFormat",()=>M.RGFormat,"RGIntegerFormat",()=>M.RGIntegerFormat,"RawShaderMaterial",()=>M.RawShaderMaterial,"Ray",()=>M.Ray,"Raycaster",()=>M.Raycaster,"RectAreaLight",()=>M.RectAreaLight,"RedFormat",()=>M.RedFormat,"RedIntegerFormat",()=>M.RedIntegerFormat,"ReinhardToneMapping",()=>M.ReinhardToneMapping,"RenderTarget",()=>M.RenderTarget,"RenderTarget3D",()=>M.RenderTarget3D,"RepeatWrapping",()=>M.RepeatWrapping,"ReplaceStencilOp",()=>M.ReplaceStencilOp,"ReverseSubtractEquation",()=>M.ReverseSubtractEquation,"RingGeometry",()=>M.RingGeometry,"SIGNED_R11_EAC_Format",()=>M.SIGNED_R11_EAC_Format,"SIGNED_RED_GREEN_RGTC2_Format",()=>M.SIGNED_RED_GREEN_RGTC2_Format,"SIGNED_RED_RGTC1_Format",()=>M.SIGNED_RED_RGTC1_Format,"SIGNED_RG11_EAC_Format",()=>M.SIGNED_RG11_EAC_Format,"SRGBColorSpace",()=>M.SRGBColorSpace,"SRGBTransfer",()=>M.SRGBTransfer,"Scene",()=>M.Scene,"ShaderChunk",()=>P,"ShaderLib",()=>I,"ShaderMaterial",()=>M.ShaderMaterial,"ShadowMaterial",()=>M.ShadowMaterial,"Shape",()=>M.Shape,"ShapeGeometry",()=>M.ShapeGeometry,"ShapePath",()=>M.ShapePath,"ShapeUtils",()=>M.ShapeUtils,"ShortType",()=>M.ShortType,"Skeleton",()=>M.Skeleton,"SkeletonHelper",()=>M.SkeletonHelper,"SkinnedMesh",()=>M.SkinnedMesh,"Source",()=>M.Source,"Sphere",()=>M.Sphere,"SphereGeometry",()=>M.SphereGeometry,"Spherical",()=>M.Spherical,"SphericalHarmonics3",()=>M.SphericalHarmonics3,"SplineCurve",()=>M.SplineCurve,"SpotLight",()=>M.SpotLight,"SpotLightHelper",()=>M.SpotLightHelper,"Sprite",()=>M.Sprite,"SpriteMaterial",()=>M.SpriteMaterial,"SrcAlphaFactor",()=>M.SrcAlphaFactor,"SrcAlphaSaturateFactor",()=>M.SrcAlphaSaturateFactor,"SrcColorFactor",()=>M.SrcColorFactor,"StaticCopyUsage",()=>M.StaticCopyUsage,"StaticDrawUsage",()=>M.StaticDrawUsage,"StaticReadUsage",()=>M.StaticReadUsage,"StereoCamera",()=>M.StereoCamera,"StreamCopyUsage",()=>M.StreamCopyUsage,"StreamDrawUsage",()=>M.StreamDrawUsage,"StreamReadUsage",()=>M.StreamReadUsage,"StringKeyframeTrack",()=>M.StringKeyframeTrack,"SubtractEquation",()=>M.SubtractEquation,"SubtractiveBlending",()=>M.SubtractiveBlending,"TOUCH",()=>M.TOUCH,"TangentSpaceNormalMap",()=>M.TangentSpaceNormalMap,"TetrahedronGeometry",()=>M.TetrahedronGeometry,"Texture",()=>M.Texture,"TextureLoader",()=>M.TextureLoader,"TextureUtils",()=>M.TextureUtils,"Timer",()=>M.Timer,"TimestampQuery",()=>M.TimestampQuery,"TorusGeometry",()=>M.TorusGeometry,"TorusKnotGeometry",()=>M.TorusKnotGeometry,"Triangle",()=>M.Triangle,"TriangleFanDrawMode",()=>M.TriangleFanDrawMode,"TriangleStripDrawMode",()=>M.TriangleStripDrawMode,"TrianglesDrawMode",()=>M.TrianglesDrawMode,"TubeGeometry",()=>M.TubeGeometry,"UVMapping",()=>M.UVMapping,"Uint16BufferAttribute",()=>M.Uint16BufferAttribute,"Uint32BufferAttribute",()=>M.Uint32BufferAttribute,"Uint8BufferAttribute",()=>M.Uint8BufferAttribute,"Uint8ClampedBufferAttribute",()=>M.Uint8ClampedBufferAttribute,"Uniform",()=>M.Uniform,"UniformsGroup",()=>M.UniformsGroup,"UniformsLib",()=>L,"UniformsUtils",()=>M.UniformsUtils,"UnsignedByteType",()=>M.UnsignedByteType,"UnsignedInt101111Type",()=>M.UnsignedInt101111Type,"UnsignedInt248Type",()=>M.UnsignedInt248Type,"UnsignedInt5999Type",()=>M.UnsignedInt5999Type,"UnsignedIntType",()=>M.UnsignedIntType,"UnsignedShort4444Type",()=>M.UnsignedShort4444Type,"UnsignedShort5551Type",()=>M.UnsignedShort5551Type,"UnsignedShortType",()=>M.UnsignedShortType,"VSMShadowMap",()=>M.VSMShadowMap,"Vector2",()=>M.Vector2,"Vector3",()=>M.Vector3,"Vector4",()=>M.Vector4,"VectorKeyframeTrack",()=>M.VectorKeyframeTrack,"VideoFrameTexture",()=>M.VideoFrameTexture,"VideoTexture",()=>M.VideoTexture,"WebGL3DRenderTarget",()=>M.WebGL3DRenderTarget,"WebGLArrayRenderTarget",()=>M.WebGLArrayRenderTarget,"WebGLCoordinateSystem",()=>M.WebGLCoordinateSystem,"WebGLCubeRenderTarget",()=>M.WebGLCubeRenderTarget,"WebGLRenderTarget",()=>M.WebGLRenderTarget,"WebGLRenderer",()=>t8,"WebGLUtils",()=>tZ,"WebGPUCoordinateSystem",()=>M.WebGPUCoordinateSystem,"WebXRController",()=>M.WebXRController,"WireframeGeometry",()=>M.WireframeGeometry,"WrapAroundEnding",()=>M.WrapAroundEnding,"ZeroCurvatureEnding",()=>M.ZeroCurvatureEnding,"ZeroFactor",()=>M.ZeroFactor,"ZeroSlopeEnding",()=>M.ZeroSlopeEnding,"ZeroStencilOp",()=>M.ZeroStencilOp,"createCanvasElement",()=>M.createCanvasElement,"error",()=>M.error,"getConsoleFunction",()=>M.getConsoleFunction,"log",()=>M.log,"setConsoleFunction",()=>M.setConsoleFunction,"warn",()=>M.warn,"warnOnce",()=>M.warnOnce],32009);var rT=e.i(32009);function rM(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}let rC=["x","y","top","bottom","left","right","width","height"];function rA({ref:e,children:t,fallback:n,resize:r,style:i,gl:a,events:o=rE,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:h,orthographic:f,frameloop:p,dpr:m,performance:g,raycaster:v,camera:_,scene:b,onPointerMissed:y,onCreated:x,...S}){let E,C,A;T.useMemo(()=>n6(rT),[]);let R=(E=np(),C=function(){let e=np(),[t]=nu.useState(()=>new Map);t.clear();let n=e;for(;n;){let e=n.type;ng(e)&&e!==nh&&!t.has(e)&&t.set(e,nu.use(nd(e))),n=n.return}return t}(),A=nu.useMemo(()=>Array.from(C.keys()).reduce((e,t)=>n=>nu.createElement(e,null,nu.createElement(t.Provider,{...n,value:C.get(t)})),e=>nu.createElement(nf,{...e})),[C]),T.useMemo(()=>({children:e})=>{let t=nc(E,!0,e=>e.type===T.StrictMode)?T.StrictMode:T.Fragment;return(0,w.jsx)(t,{children:(0,w.jsx)(A,{children:e})})},[E,A])),[P,L]=function({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var i,a,o;let s=n||("u"<typeof window?class{}:window.ResizeObserver);if(!s)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[l,u]=(0,T.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,T.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l,orientationHandler:null}),d=e?"number"==typeof e?e:e.scroll:null,h=e?"number"==typeof e?e:e.resize:null,f=(0,T.useRef)(!1);(0,T.useEffect)(()=>(f.current=!0,()=>void(f.current=!1)));let[p,m,g]=(0,T.useMemo)(()=>{let e=()=>{let e,t;if(!c.current.element)return;let{left:n,top:i,width:a,height:o,bottom:s,right:l,x:d,y:h}=c.current.element.getBoundingClientRect(),p={left:n,top:i,width:a,height:o,bottom:s,right:l,x:d,y:h};c.current.element instanceof HTMLElement&&r&&(p.height=c.current.element.offsetHeight,p.width=c.current.element.offsetWidth),Object.freeze(p),f.current&&(e=c.current.lastBounds,t=p,!rC.every(n=>e[n]===t[n]))&&u(c.current.lastBounds=p)};return[e,h?rM(e,h):e,d?rM(e,d):e]},[u,r,d,h]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function _(){c.current.element&&(c.current.resizeObserver=new s(g),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}return i=g,a=!!t,(0,T.useEffect)(()=>{if(a)return window.addEventListener("scroll",i,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",i,!0)},[i,a]),o=m,(0,T.useEffect)(()=>(window.addEventListener("resize",o),()=>void window.removeEventListener("resize",o)),[o]),(0,T.useEffect)(()=>{v(),_()},[t,g,m]),(0,T.useEffect)(()=>v,[]),[e=>{e&&e!==c.current.element&&(v(),c.current.element=e,c.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:i,overflowY:a}=window.getComputedStyle(t);return[r,i,a].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),_())},l,p]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=T.useRef(null),N=T.useRef(null);T.useImperativeHandle(e,()=>I.current);let D=ny(y),[U,k]=T.useState(!1),[O,F]=T.useState(!1);if(U)throw U;if(O)throw O;let B=T.useRef(null);nb(()=>{let e=I.current;if(L.width>0&&L.height>0&&e){let n,r,i,y,S,E,C,A,P,I,U,O,z,G,j;B.current||(y=null==(i=ro.get(e))?void 0:i.fiber,S=null==i?void 0:i.store,i&&console.warn("R3F.createRoot should only be called once!"),E="function"==typeof reportError?reportError:console.error,O=S||(P=(A=(C=ni((e,t)=>{let n,r=new M.Vector3,i=new M.Vector3,a=new M.Vector3;function o(e=t().camera,n=i,s=t().size){let{width:l,height:u,top:c,left:d}=s,h=l/u;n.isVector3?a.copy(n):a.set(...n);let f=e.getWorldPosition(r).distanceTo(a);if(e&&e.isOrthographicCamera)return{width:l/e.zoom,height:u/e.zoom,top:c,left:d,factor:1,distance:f,aspect:h};{let t=2*Math.tan(e.fov*Math.PI/180/2)*f,n=l/u*t;return{width:n,height:t,top:c,left:d,factor:l/n,distance:f,aspect:h}}}let s=t=>e(e=>({performance:{...e.performance,current:t}})),l=new M.Vector2;return{set:e,get:t,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(e=1)=>rx(t(),e),advance:(e,n)=>rS(e,n,t()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new M.Clock,pointer:l,mouse:l,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=t();n&&clearTimeout(n),e.performance.current!==e.performance.min&&s(e.performance.min),n=setTimeout(()=>s(t().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:o},setEvents:t=>e(e=>({...e,events:{...e.events,...t}})),setSize:(n,r,a=0,s=0)=>{let l=t().camera,u={width:n,height:r,top:a,left:s};e(e=>({size:u,viewport:{...e.viewport,...o(l,i,u)}}))},setDpr:t=>e(e=>{let n=nw(t);return{viewport:{...e.viewport,dpr:n,initialDpr:e.viewport.initialDpr||n}}}),setFrameloop:(n="always")=>{let r=t().clock;r.stop(),r.elapsedTime=0,"never"!==n&&(r.start(),r.elapsedTime=0),e(()=>({frameloop:n}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:T.createRef(),active:!1,frames:0,priority:0,subscribe:(e,n,r)=>{let i=t().internal;return i.priority=i.priority+ +(n>0),i.subscribers.push({ref:e,priority:n,store:r}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let r=t().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(n>0),r.subscribers=r.subscribers.filter(t=>t.ref!==e))}}}}})).getState()).size,I=A.viewport.dpr,U=A.camera,C.subscribe(()=>{let{camera:e,size:t,viewport:n,gl:r,set:i}=C.getState();if(t.width!==P.width||t.height!==P.height||n.dpr!==I){P=t,I=n.dpr,nF(e,t),n.dpr>0&&r.setPixelRatio(n.dpr);let i="u">typeof HTMLCanvasElement&&r.domElement instanceof HTMLCanvasElement;r.setSize(t.width,t.height,i)}e!==U&&(U=e,i(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),C.subscribe(e=>rx(e)),C),z=y||ra.createContainer(O,1,null,!1,null,"",E,E,E,null),i||ro.set(e,{fiber:z,store:O}),G=!1,j=null,B.current={async configure(t={}){var i,a;let o;j=new Promise(e=>o=e);let{gl:s,size:l,scene:u,events:c,onCreated:d,shadows:h=!1,linear:f=!1,flat:p=!1,legacy:m=!1,orthographic:g=!1,frameloop:v="always",dpr:_=[1,2],performance:b,raycaster:y,camera:x,onPointerMissed:S}=t,w=O.getState(),E=w.gl;if(!w.gl){let t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof s?await s(t):s;E=nj(n)?n:new t8({...t,...s}),w.set({gl:E})}let T=w.raycaster;T||w.set({raycaster:T=new M.Raycaster});let{params:C,...A}=y||{};if(nT.equ(A,T,rs)||nk(T,{...A}),nT.equ(C,T.params,rs)||nk(T,{params:{...T.params,...C}}),!w.camera||w.camera===r&&!nT.equ(r,x,rs)){r=x;let e=null==x?void 0:x.isCamera,t=e?x:g?new M.OrthographicCamera(0,0,0,0,.1,1e3):new M.PerspectiveCamera(75,0,.1,1e3);!e&&(t.position.z=5,x&&(nk(t,x),!t.manual&&("aspect"in x||"left"in x||"right"in x||"bottom"in x||"top"in x)&&(t.manual=!0,t.updateProjectionMatrix())),w.camera||null!=x&&x.rotation||t.lookAt(0,0,0)),w.set({camera:t}),T.camera=t}if(!w.scene){let e;null!=u&&u.isScene?nC(e=u,O,"",{}):(nC(e=new M.Scene,O,"",{}),u&&nk(e,u)),w.set({scene:e})}c&&!w.events.handlers&&w.set({events:c(O)});let R=function(e,t){if(!t&&"u">typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return!t&&"u">typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,l);if(nT.equ(R,w.size,rs)||w.setSize(R.width,R.height,R.top,R.left),_&&w.viewport.dpr!==nw(_)&&w.setDpr(_),w.frameloop!==v&&w.setFrameloop(v),w.onPointerMissed||w.set({onPointerMissed:S}),b&&!nT.equ(b,w.performance,rs)&&w.set(e=>({performance:{...e.performance,...b}})),!w.xr){let e=(e,t)=>{let n=O.getState();"never"!==n.frameloop&&rS(e,!0,n,t)},t=()=>{let t=O.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||rx(t)},n={connect(){let e=O.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=O.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(i=E.xr)?void 0:i.addEventListener)&&n.connect(),w.set({xr:n})}if(E.shadowMap){let e=E.shadowMap.enabled,t=E.shadowMap.type;if(E.shadowMap.enabled=!!h,nT.boo(h))E.shadowMap.type=M.PCFSoftShadowMap;else if(nT.str(h)){let e={basic:M.BasicShadowMap,percentage:M.PCFShadowMap,soft:M.PCFSoftShadowMap,variance:M.VSMShadowMap};E.shadowMap.type=null!=(a=e[h])?a:M.PCFSoftShadowMap}else nT.obj(h)&&Object.assign(E.shadowMap,h);(e!==E.shadowMap.enabled||t!==E.shadowMap.type)&&(E.shadowMap.needsUpdate=!0)}return M.ColorManagement.enabled=!m,G||(E.outputColorSpace=f?M.LinearSRGBColorSpace:M.SRGBColorSpace,E.toneMapping=p?M.NoToneMapping:M.ACESFilmicToneMapping),w.legacy!==m&&w.set(()=>({legacy:m})),w.linear!==f&&w.set(()=>({linear:f})),w.flat!==p&&w.set(()=>({flat:p})),!s||nT.fun(s)||nj(s)||nT.equ(s,E,rs)||nk(E,s),n=d,G=!0,o(),this},render(t){return G||j||this.configure(),j.then(()=>{ra.updateContainer((0,w.jsx)(rl,{store:O,children:t,onCreated:n,rootElement:e}),z,null,()=>void 0)}),O},unmount(){ru(e)}}),async function(){await B.current.configure({gl:a,scene:b,events:o,shadows:u,linear:c,flat:d,legacy:h,orthographic:f,frameloop:p,dpr:m,performance:g,raycaster:v,camera:_,size:L,onPointerMissed:(...e)=>null==D.current?void 0:D.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(s?s&&s.hasOwnProperty("current")?s.current:s:N.current),l&&e.setEvents({compute:(e,t)=>{let n=e[l+"X"],r=e[l+"Y"];t.pointer.set(n/t.size.width*2-1,-(2*(r/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==x||x(e)}}),B.current.render((0,w.jsx)(R,{children:(0,w.jsx)(nS,{set:F,children:(0,w.jsx)(T.Suspense,{fallback:(0,w.jsx)(nx,{set:k}),children:null!=t?t:null})})}))}()}}),T.useEffect(()=>{let e=I.current;if(e)return()=>ru(e)},[]);let z=s?"none":"auto";return(0,w.jsx)("div",{ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i},...S,children:(0,w.jsx)("div",{ref:P,style:{width:"100%",height:"100%"},children:(0,w.jsx)("canvas",{ref:I,style:{display:"block"},children:n})})})}function rR(e){return(0,w.jsx)(nf,{children:(0,w.jsx)(rA,{...e})})}function rP(){return(rP=Object.assign.bind()).apply(null,arguments)}var rL=Object.defineProperty;class rI{constructor(){((e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?rL(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}var rN=Object.defineProperty,rD=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?rN(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};let rU=new M.Ray,rk=new M.Plane,rO=Math.cos(Math.PI/180*70),rF=(e,t)=>(e%t+t)%t;class rB extends rI{constructor(e,t){super(),rD(this,"object"),rD(this,"domElement"),rD(this,"enabled",!0),rD(this,"target",new M.Vector3),rD(this,"minDistance",0),rD(this,"maxDistance",1/0),rD(this,"minZoom",0),rD(this,"maxZoom",1/0),rD(this,"minPolarAngle",0),rD(this,"maxPolarAngle",Math.PI),rD(this,"minAzimuthAngle",-1/0),rD(this,"maxAzimuthAngle",1/0),rD(this,"enableDamping",!1),rD(this,"dampingFactor",.05),rD(this,"enableZoom",!0),rD(this,"zoomSpeed",1),rD(this,"enableRotate",!0),rD(this,"rotateSpeed",1),rD(this,"enablePan",!0),rD(this,"panSpeed",1),rD(this,"screenSpacePanning",!0),rD(this,"keyPanSpeed",7),rD(this,"zoomToCursor",!1),rD(this,"autoRotate",!1),rD(this,"autoRotateSpeed",2),rD(this,"reverseOrbit",!1),rD(this,"reverseHorizontalOrbit",!1),rD(this,"reverseVerticalOrbit",!1),rD(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rD(this,"mouseButtons",{LEFT:M.MOUSE.ROTATE,MIDDLE:M.MOUSE.DOLLY,RIGHT:M.MOUSE.PAN}),rD(this,"touches",{ONE:M.TOUCH.ROTATE,TWO:M.TOUCH.DOLLY_PAN}),rD(this,"target0"),rD(this,"position0"),rD(this,"zoom0"),rD(this,"_domElementKeyEvents",null),rD(this,"getPolarAngle"),rD(this,"getAzimuthalAngle"),rD(this,"setPolarAngle"),rD(this,"setAzimuthalAngle"),rD(this,"getDistance"),rD(this,"getZoomScale"),rD(this,"listenToKeyEvents"),rD(this,"stopListenToKeyEvents"),rD(this,"saveState"),rD(this,"reset"),rD(this,"update"),rD(this,"connect"),rD(this,"dispose"),rD(this,"dollyIn"),rD(this,"dollyOut"),rD(this,"getScale"),rD(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=e=>{let t=rF(e,2*Math.PI),r=u.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),c.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=rF(e,2*Math.PI),r=u.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),c.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",K),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",K),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=(()=>{let t=new M.Vector3,i=new M.Vector3(0,1,0),a=new M.Quaternion().setFromUnitVectors(e.up,i),f=a.clone().invert(),p=new M.Vector3,m=new M.Quaternion,g=2*Math.PI;return function(){let v=n.object.position;a.setFromUnitVectors(e.up,i),f.copy(a).invert(),t.copy(v).sub(n.target),t.applyQuaternion(a),u.setFromVector3(t),n.autoRotate&&s===o.NONE&&R(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);let _=n.minAzimuthAngle,b=n.maxAzimuthAngle;isFinite(_)&&isFinite(b)&&(_<-Math.PI?_+=g:_>Math.PI&&(_-=g),b<-Math.PI?b+=g:b>Math.PI&&(b-=g),_<=b?u.theta=Math.max(_,Math.min(b,u.theta)):u.theta=u.theta>(_+b)/2?Math.max(_,u.theta):Math.min(b,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),n.zoomToCursor&&E||n.object.isOrthographicCamera?u.radius=k(u.radius):u.radius=k(u.radius*d),t.setFromSpherical(u),t.applyQuaternion(f),v.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),h.set(0,0,0));let y=!1;if(n.zoomToCursor&&E){let r=null;if(n.object instanceof M.PerspectiveCamera&&n.object.isPerspectiveCamera){let e=t.length();r=k(e*d);let i=e-r;n.object.position.addScaledVector(S,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new M.Vector3(w.x,w.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),y=!0;let i=new M.Vector3(w.x,w.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(rU.origin.copy(n.object.position),rU.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(rU.direction))<rO?e.lookAt(n.target):(rk.setFromNormalAndCoplanarPoint(n.object.up,n.target),rU.intersectPlane(rk,n.target))))}else n.object instanceof M.OrthographicCamera&&n.object.isOrthographicCamera&&(y=1!==d)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix());return d=1,E=!1,!!(y||p.distanceToSquared(n.object.position)>l||8*(1-m.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),p.copy(n.object.position),m.copy(n.object.quaternion),y=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",$),n.domElement.addEventListener("pointerdown",W),n.domElement.addEventListener("pointercancel",X),n.domElement.addEventListener("wheel",Y)},this.dispose=()=>{var e,t,r,i,a,o;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",$),null==(t=n.domElement)||t.removeEventListener("pointerdown",W),null==(r=n.domElement)||r.removeEventListener("pointercancel",X),null==(i=n.domElement)||i.removeEventListener("wheel",Y),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointermove",q),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointerup",X),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",K)};const n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const l=1e-6,u=new M.Spherical,c=new M.Spherical;let d=1;const h=new M.Vector3,f=new M.Vector2,p=new M.Vector2,m=new M.Vector2,g=new M.Vector2,v=new M.Vector2,_=new M.Vector2,b=new M.Vector2,y=new M.Vector2,x=new M.Vector2,S=new M.Vector3,w=new M.Vector2;let E=!1;const T=[],C={};function A(){return Math.pow(.95,n.zoomSpeed)}function R(e){n.reverseOrbit||n.reverseHorizontalOrbit?c.theta+=e:c.theta-=e}function P(e){n.reverseOrbit||n.reverseVerticalOrbit?c.phi+=e:c.phi-=e}const L=(()=>{let e=new M.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}})(),I=(()=>{let e=new M.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}})(),N=(()=>{let e=new M.Vector3;return function(t,r){let i=n.domElement;if(i&&n.object instanceof M.PerspectiveCamera&&n.object.isPerspectiveCamera){let a=n.object.position;e.copy(a).sub(n.target);let o=e.length();L(2*t*(o*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),I(2*r*o/i.clientHeight,n.object.matrix)}else i&&n.object instanceof M.OrthographicCamera&&n.object.isOrthographicCamera?(L(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),I(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function D(e){n.object instanceof M.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof M.OrthographicCamera&&n.object.isOrthographicCamera?d=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function U(e){if(!n.zoomToCursor||!n.domElement)return;E=!0;let t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,a=t.width,o=t.height;w.x=r/a*2-1,w.y=-(i/o*2)+1,S.set(w.x,w.y,1).unproject(n.object).sub(n.object.position).normalize()}function k(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function O(e){f.set(e.clientX,e.clientY)}function F(e){g.set(e.clientX,e.clientY)}function B(){if(1==T.length)f.set(T[0].pageX,T[0].pageY);else{let e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);f.set(e,t)}}function z(){if(1==T.length)g.set(T[0].pageX,T[0].pageY);else{let e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);g.set(e,t)}}function G(){let e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY,n=Math.sqrt(e*e+t*t);b.set(0,n)}function j(e){if(1==T.length)p.set(e.pageX,e.pageY);else{let t=Q(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);p.set(n,r)}m.subVectors(p,f).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(R(2*Math.PI*m.x/t.clientHeight),P(2*Math.PI*m.y/t.clientHeight)),f.copy(p)}function H(e){if(1==T.length)v.set(e.pageX,e.pageY);else{let t=Q(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);v.set(n,r)}_.subVectors(v,g).multiplyScalar(n.panSpeed),N(_.x,_.y),g.copy(v)}function V(e){var t;let r=Q(e),i=e.pageX-r.x,a=e.pageY-r.y,o=Math.sqrt(i*i+a*a);y.set(0,o),x.set(0,Math.pow(y.y/b.y,n.zoomSpeed)),t=x.y,D(d/t),b.copy(y)}function W(e){var t,r,a;!1!==n.enabled&&(0===T.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",X)),a=e,T.push(a),"touch"===e.pointerType?function(e){switch(Z(e),T.length){case 1:switch(n.touches.ONE){case M.TOUCH.ROTATE:if(!1===n.enableRotate)return;B(),s=o.TOUCH_ROTATE;break;case M.TOUCH.PAN:if(!1===n.enablePan)return;z(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case M.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&G(),n.enablePan&&z(),s=o.TOUCH_DOLLY_PAN;break;case M.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&G(),n.enableRotate&&B(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case M.MOUSE.DOLLY:if(!1===n.enableZoom)return;U(e),b.set(e.clientX,e.clientY),s=o.DOLLY;break;case M.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;F(e),s=o.PAN}else{if(!1===n.enableRotate)return;O(e),s=o.ROTATE}break;case M.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;O(e),s=o.ROTATE}else{if(!1===n.enablePan)return;F(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e))}function q(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Z(e),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;j(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;H(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&V(e),n.enablePan&&H(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&V(e),n.enableRotate&&j(e),n.update();break;default:s=o.NONE}}(e):function(e){if(!1!==n.enabled)switch(s){case o.ROTATE:let t;if(!1===n.enableRotate)return;p.set(e.clientX,e.clientY),m.subVectors(p,f).multiplyScalar(n.rotateSpeed),(t=n.domElement)&&(R(2*Math.PI*m.x/t.clientHeight),P(2*Math.PI*m.y/t.clientHeight)),f.copy(p),n.update();break;case o.DOLLY:var r,i;if(!1===n.enableZoom)return;(y.set(e.clientX,e.clientY),x.subVectors(y,b),x.y>0)?(r=A(),D(d/r)):x.y<0&&(i=A(),D(d*i)),b.copy(y),n.update();break;case o.PAN:if(!1===n.enablePan)return;v.set(e.clientX,e.clientY),_.subVectors(v,g).multiplyScalar(n.panSpeed),N(_.x,_.y),g.copy(v),n.update()}}(e))}function X(e){var t,r,i;(function(e){delete C[e.pointerId];for(let t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)})(e),0===T.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",q),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",X)),n.dispatchEvent(a),s=o.NONE}function Y(e){if(!1!==n.enabled&&!1!==n.enableZoom&&(s===o.NONE||s===o.ROTATE)){var t,r;e.preventDefault(),n.dispatchEvent(i),(U(e),e.deltaY<0)?(t=A(),D(d*t)):e.deltaY>0&&(r=A(),D(d/r)),n.update(),n.dispatchEvent(a)}}function K(e){if(!1!==n.enabled&&!1!==n.enablePan){let t=!1;switch(e.code){case n.keys.UP:N(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:N(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:N(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:N(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}}function $(e){!1!==n.enabled&&e.preventDefault()}function Z(e){let t=C[e.pointerId];void 0===t&&(t=new M.Vector2,C[e.pointerId]=t),t.set(e.pageX,e.pageY)}function Q(e){return C[(e.pointerId===T[0].pointerId?T[1]:T[0]).pointerId]}this.dollyIn=(e=A())=>{D(d*e),n.update()},this.dollyOut=(e=A())=>{D(d/e),n.update()},this.getScale=()=>d,this.setScale=e=>{D(e),n.update()},this.getZoomScale=()=>A(),void 0!==t&&this.connect(t),this.update()}}let rz=T.forwardRef(({makeDefault:e,camera:t,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{let d=nW(e=>e.invalidate),h=nW(e=>e.camera),f=nW(e=>e.gl),p=nW(e=>e.events),m=nW(e=>e.setEvents),g=nW(e=>e.set),v=nW(e=>e.get),_=nW(e=>e.performance),b=t||h,y=r||p.connected||f.domElement,x=T.useMemo(()=>new rB(b),[b]);return nq(()=>{x.enabled&&x.update()},-1),T.useEffect(()=>(a&&x.connect(!0===a?y:a),x.connect(y),()=>void x.dispose()),[a,y,n,x,d]),T.useEffect(()=>{let e=e=>{d(),n&&_.regress(),o&&o(e)},t=e=>{s&&s(e)},r=e=>{l&&l(e)};return x.addEventListener("change",e),x.addEventListener("start",t),x.addEventListener("end",r),()=>{x.removeEventListener("start",t),x.removeEventListener("end",r),x.removeEventListener("change",e)}},[o,s,l,x,d,m]),T.useEffect(()=>{if(e){let e=v().controls;return g({controls:x}),()=>g({controls:e})}},[e,x]),T.createElement("primitive",rP({ref:c,object:x,enableDamping:i},u))}),rG=T.forwardRef(({envMap:e,resolution:t=256,frames:n=1/0,makeDefault:r,children:i,...a},o)=>{let s=nW(({set:e})=>e),l=nW(({camera:e})=>e),u=nW(({size:e})=>e),c=T.useRef(null);T.useImperativeHandle(o,()=>c.current,[]);let d=T.useRef(null),h=function(e,t,n){let r=nW(e=>e.size),i=nW(e=>e.viewport),a="number"==typeof e?e:r.width*i.dpr,o=r.height*i.dpr,s=("number"==typeof e?void 0:e)||{},{samples:l=0,depth:u,...c}=s,d=null!=u?u:s.depthBuffer,h=T.useMemo(()=>{let e=new M.WebGLRenderTarget(a,o,{minFilter:M.LinearFilter,magFilter:M.LinearFilter,type:M.HalfFloatType,...c});return d&&(e.depthTexture=new M.DepthTexture(a,o,M.FloatType)),e.samples=l,e},[]);return T.useLayoutEffect(()=>{h.setSize(a,o),l&&(h.samples=l)},[l,h,a,o]),T.useEffect(()=>()=>h.dispose(),[]),h}(t);T.useLayoutEffect(()=>{a.manual||(c.current.aspect=u.width/u.height)},[u,a]),T.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let f=0,p=null,m="function"==typeof i;return nq(t=>{m&&(n===1/0||f<n)&&(d.current.visible=!1,t.gl.setRenderTarget(h),p=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,c.current),t.scene.background=p,t.gl.setRenderTarget(null),d.current.visible=!0,f++)}),T.useLayoutEffect(()=>{if(r)return s(()=>({camera:c.current})),()=>s(()=>({camera:l}))},[c,r,s]),T.createElement(T.Fragment,null,T.createElement("perspectiveCamera",rP({ref:c},a),!m&&i),T.createElement("group",{ref:d},m&&i(h.texture)))});var rj=e.i(70905);function rH(e,t,n){let r=t.gamepad;if(null==r)return;let i=n.components;for(let t in i){let n=e[t];null==n&&(e[t]=n={});let{gamepadIndices:a}=i[t],o=!1,s=!1;if(null!=a.button&&a.button<r.buttons.length){let e=r.buttons[a.button];n.button=(0,rj.clamp)(e.value,0,1),o||=e.pressed||1===n.button,s||=e.touched||n.button>.05}null!=a.xAxis&&a.xAxis<r.axes.length&&(n.xAxis=(0,rj.clamp)(r.axes[a.xAxis],-1,1),s||=Math.abs(n.xAxis)>.1),null!=a.yAxis&&a.yAxis<r.axes.length&&(n.yAxis=(0,rj.clamp)(r.axes[a.yAxis],-1,1),s||=Math.abs(n.yAxis)>.1),n.state=o?"pressed":s?"touched":"default"}}var rV=M;function rW(e,t){if(t===M.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==M.TriangleFanDrawMode&&t!==M.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let n=e.getIndex();if(null===n){let t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}let r=n.count-2,i=[];if(t===M.TriangleFanDrawMode)for(let e=1;e<=r;e++)i.push(n.getX(0)),i.push(n.getX(e)),i.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2==0?(i.push(n.getX(e)),i.push(n.getX(e+1)),i.push(n.getX(e+2))):(i.push(n.getX(e+2)),i.push(n.getX(e+1)),i.push(n.getX(e)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let a=e.clone();return a.setIndex(i),a.clearGroups(),a}}class rq extends rV.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new rQ(e)}),this.register(function(e){return new rJ(e)}),this.register(function(e){return new r8(e)}),this.register(function(e){return new r9(e)}),this.register(function(e){return new ie(e)}),this.register(function(e){return new r2(e)}),this.register(function(e){return new r0(e)}),this.register(function(e){return new r6(e)}),this.register(function(e){return new r5(e)}),this.register(function(e){return new rZ(e)}),this.register(function(e){return new r3(e)}),this.register(function(e){return new r1(e)}),this.register(function(e){return new r7(e)}),this.register(function(e){return new r4(e)}),this.register(function(e){return new rK(e)}),this.register(function(e){return new it(e)}),this.register(function(e){return new ir(e)})}load(e,t,n,r){let i,a=this;if(""!==this.resourcePath)i=this.resourcePath;else if(""!==this.path){let t=rV.LoaderUtils.extractUrlBase(e);i=rV.LoaderUtils.resolveURL(t,this.path)}else i=rV.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);let o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new rV.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(n){try{a.parse(n,i,function(n){t(n),a.manager.itemEnd(e)},o)}catch(e){o(e)}},n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i,a={},o={},s=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(s.decode(new Uint8Array(e,0,4))===ii){try{a[rY.KHR_BINARY_GLTF]=new ia(e)}catch(e){r&&r(e);return}i=JSON.parse(a[rY.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2){r&&r(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let l=new iM(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](l);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[t.name]=t,a[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){let t=i.extensionsUsed[e],n=i.extensionsRequired||[];switch(t){case rY.KHR_MATERIALS_UNLIT:a[t]=new r$;break;case rY.KHR_DRACO_MESH_COMPRESSION:a[t]=new io(i,this.dracoLoader);break;case rY.KHR_TEXTURE_TRANSFORM:a[t]=new is;break;case rY.KHR_MESH_QUANTIZATION:a[t]=new il;break;default:n.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,r)}parseAsync(e,t){let n=this;return new Promise(function(r,i){n.parse(e,t,r,i)})}}function rX(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}let rY={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class rK{constructor(e){this.parser=e,this.name=rY.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){let r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){let t,n=this.parser,r="light:"+e,i=n.cache.get(r);if(i)return i;let a=n.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new rV.Color(0xffffff);void 0!==o.color&&s.setRGB(o.color[0],o.color[1],o.color[2],rV.LinearSRGBColorSpace);let l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(t=new rV.DirectionalLight(s)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new rV.PointLight(s)).distance=l;break;case"spot":(t=new rV.SpotLight(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,t.angle=o.spot.outerConeAngle,t.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return t.position.set(0,0,0),iS(t,o),void 0!==o.intensity&&(t.intensity=o.intensity),t.name=n.createUniqueName(o.name||"light_"+e),i=Promise.resolve(t),n.cache.add(r,i),i}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){let t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then(function(e){return n._getNodeRef(t.cache,i,e)})}}class r${constructor(){this.name=rY.KHR_MATERIALS_UNLIT}getMaterialType(){return rV.MeshBasicMaterial}extendParams(e,t,n){let r=[];e.color=new rV.Color(1,1,1),e.opacity=1;let i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){let t=i.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],rV.LinearSRGBColorSpace),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,rV.SRGBColorSpace))}return Promise.all(r)}}class rZ{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class rQ{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){let e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new rV.Vector2(e,e)}return Promise.all(i)}}class rJ{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_DISPERSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name];return t.dispersion=void 0!==r.dispersion?r.dispersion:0,Promise.resolve()}}class r1{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}class r2{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_SHEEN}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[];t.sheenColor=new rV.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=r.extensions[this.name];if(void 0!==a.sheenColorFactor){let e=a.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],rV.LinearSRGBColorSpace)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,rV.SRGBColorSpace)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}class r0{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}class r6{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_VOLUME}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let o=a.attenuationColor||[1,1,1];return t.attenuationColor=new rV.Color().setRGB(o[0],o[1],o[2],rV.LinearSRGBColorSpace),Promise.all(i)}}class r5{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_IOR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class r3{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_SPECULAR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));let o=a.specularColorFactor||[1,1,1];return t.specularColor=new rV.Color().setRGB(o[0],o[1],o[2],rV.LinearSRGBColorSpace),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,rV.SRGBColorSpace)),Promise.all(i)}}class r4{constructor(e){this.parser=e,this.name=rY.EXT_MATERIALS_BUMP}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return t.bumpScale=void 0!==a.bumpFactor?a.bumpFactor:1,void 0!==a.bumpTexture&&i.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(i)}}class r7{constructor(e){this.parser=e,this.name=rY.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rV.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return void 0!==a.anisotropyStrength&&(t.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(t.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(i)}}class r8{constructor(e){this.parser=e,this.name=rY.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;let i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a)if(!(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0))return null;else throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,i.source,a)}}class r9{constructor(e){this.parser=e,this.name=rY.EXT_TEXTURE_WEBP}loadTexture(e){let t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;let a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){let e=n.options.manager.getHandler(o.uri);null!==e&&(s=e)}return n.loadTextureImage(e,a.source,s)}}class ie{constructor(e){this.parser=e,this.name=rY.EXT_TEXTURE_AVIF}loadTexture(e){let t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;let a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){let e=n.options.manager.getHandler(o.uri);null!==e&&(s=e)}return n.loadTextureImage(e,a.source,s)}}class it{constructor(e){this.name=rY.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,n=t.bufferViews[e];if(!n.extensions||!n.extensions[this.name])return null;{let e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported)if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;else throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return r.then(function(t){let n=e.byteOffset||0,r=e.byteLength||0,a=e.count,o=e.byteStride,s=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(a,o,s,e.mode,e.filter).then(function(e){return e.buffer}):i.ready.then(function(){let t=new ArrayBuffer(a*o);return i.decodeGltfBuffer(new Uint8Array(t),a,o,s,e.mode,e.filter),t})})}}}class ir{constructor(e){this.name=rY.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;for(let e of t.meshes[n.mesh].primitives)if(e.mode!==ih.TRIANGLES&&e.mode!==ih.TRIANGLE_STRIP&&e.mode!==ih.TRIANGLE_FAN&&void 0!==e.mode)return null;let r=n.extensions[this.name].attributes,i=[],a={};for(let e in r)i.push(this.parser.getDependency("accessor",r[e]).then(t=>(a[e]=t,a[e])));return i.length<1?null:(i.push(this.parser.createNodeMesh(e)),Promise.all(i).then(e=>{let t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(let e of n){let t=new rV.Matrix4,n=new rV.Vector3,o=new rV.Quaternion,s=new rV.Vector3(1,1,1),l=new rV.InstancedMesh(e.geometry,e.material,r);for(let e=0;e<r;e++)a.TRANSLATION&&n.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&o.fromBufferAttribute(a.ROTATION,e),a.SCALE&&s.fromBufferAttribute(a.SCALE,e),l.setMatrixAt(e,t.compose(n,o,s));for(let t in a)if("_COLOR_0"===t){let e=a[t];l.instanceColor=new rV.InstancedBufferAttribute(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);rV.Object3D.prototype.copy.call(l,e),this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]}))}}let ii="glTF";class ia{constructor(e){this.name=rY.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ii)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,i=new DataView(e,12);let a=0;for(;a<r;){const t=i.getUint32(a,!0);a+=4;const r=i.getUint32(a,!0);if(a+=4,0x4e4f534a===r){const r=new Uint8Array(e,12+a,t);this.content=n.decode(r)}else if(5130562===r){const n=12+a;this.body=e.slice(n,n+t)}a+=t}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class io{constructor(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=rY.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(let e in a)o[i_[e]||e.toLowerCase()]=a[e];for(let t in e.attributes){let r=i_[t]||t.toLowerCase();if(void 0!==a[t]){let i=n.accessors[e.attributes[t]],a=ip[i.componentType];l[r]=a.name,s[r]=!0===i.normalized}}return t.getDependency("bufferView",i).then(function(e){return new Promise(function(t,n){r.decodeDracoFile(e,function(e){for(let t in e.attributes){let n=e.attributes[t],r=s[t];void 0!==r&&(n.normalized=r)}t(e)},o,l,rV.LinearSRGBColorSpace,n)})})}}class is{constructor(){this.name=rY.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class il{constructor(){this.name=rY.KHR_MESH_QUANTIZATION}}class iu extends rV.Interpolant{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let e=0;e!==r;e++)t[e]=n[i+e];return t}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,d=c*c,h=d*c,f=e*l,p=f-l,m=-2*h+3*d,g=h-d,v=1-m,_=g-d+c;for(let e=0;e!==o;e++){let t=a[p+e+o],n=a[p+e+s]*u,r=a[f+e+o],l=a[f+e]*u;i[e]=v*t+_*n+m*r+g*l}return i}}let ic=new rV.Quaternion;class id extends iu{interpolate_(e,t,n,r){let i=super.interpolate_(e,t,n,r);return ic.fromArray(i).normalize().toArray(i),i}}let ih={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ip={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},im={9728:rV.NearestFilter,9729:rV.LinearFilter,9984:rV.NearestMipmapNearestFilter,9985:rV.LinearMipmapNearestFilter,9986:rV.NearestMipmapLinearFilter,9987:rV.LinearMipmapLinearFilter},ig={33071:rV.ClampToEdgeWrapping,33648:rV.MirroredRepeatWrapping,10497:rV.RepeatWrapping},iv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},i_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ib={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},iy={CUBICSPLINE:void 0,LINEAR:rV.InterpolateLinear,STEP:rV.InterpolateDiscrete};function ix(e,t,n){for(let r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function iS(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function iw(e){let t="",n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function iE(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let iT=new rV.Matrix4;class iM{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new rX,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,i=!1,a=-1;if("u">typeof navigator){const e=navigator.userAgent;n=!0===/^((?!chrome|android).)*safari/i.test(e);const t=e.match(/Version\/(\d+)/);r=n&&t?parseInt(t[1],10):-1,a=(i=e.indexOf("Firefox")>-1)?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"u"<typeof createImageBitmap||n&&r<17||i&&a<98?this.textureLoader=new rV.TextureLoader(this.options.manager):this.textureLoader=new rV.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new rV.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(t){let a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return ix(i,a,r),iS(a,r),Promise.all(n._invokeAll(function(e){return e.afterRoot&&e.afterRoot(a)})).then(function(){for(let e of a.scenes)e.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=t.length;n<r;n++){let r=t[n].joints;for(let t=0,n=r.length;t<n;t++)e[r[t]].isBone=!0}for(let t=0,r=e.length;t<r;t++){let r=e[t];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(n[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;let r=n.clone(),i=(e,t)=>{let n=this.associations.get(e);for(let[r,a]of(null!=n&&this.associations.set(t,n),e.children.entries()))i(a,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){let r=e(t[n]);if(r)return r}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let n=[];for(let r=0;r<t.length;r++){let i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){let n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":r=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){let n=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,r){return n.getDependency(e,r)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[rY.KHR_BINARY_GLTF].body);let r=this.options;return new Promise(function(e,i){n.load(rV.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,function(){i(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){let n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)})}loadAccessor(e){let t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){let e=iv[r.type],t=ip[r.componentType],n=!0===r.normalized,i=new t(r.count*e);return Promise.resolve(new rV.BufferAttribute(i,e,n))}let i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(e){let i,a,o=e[0],s=iv[r.type],l=ip[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(h&&h!==c){let e=Math.floor(d/h),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count,c=t.cache.get(n);c||(i=new l(o,e*h,r.count*h/u),c=new rV.InterleavedBuffer(i,h/u),t.cache.add(n,c)),a=new rV.InterleavedBufferAttribute(c,s,d%h/u,f)}else i=null===o?new l(r.count*s):new l(o,d,r.count*s),a=new rV.BufferAttribute(i,s,f);if(void 0!==r.sparse){let t=iv.SCALAR,n=ip[r.sparse.indices.componentType],i=r.sparse.indices.byteOffset||0,u=r.sparse.values.byteOffset||0,c=new n(e[1],i,r.sparse.count*t),d=new l(e[2],u,r.sparse.count*s);null!==o&&(a=new rV.BufferAttribute(a.array.slice(),a.itemSize,a.normalized)),a.normalized=!1;for(let e=0,t=c.length;e<t;e++){let t=c[e];if(a.setX(t,d[e*s]),s>=2&&a.setY(t,d[e*s+1]),s>=3&&a.setZ(t,d[e*s+2]),s>=4&&a.setW(t,d[e*s+3]),s>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}a.normalized=f}return a})}loadTexture(e){let t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){let e=n.manager.getHandler(i.uri);null!==e&&(a=e)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,n){let r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];let l=this.loadImageSource(t,n).then(function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);let n=(i.samplers||{})[a.sampler]||{};return t.magFilter=im[n.magFilter]||rV.LinearFilter,t.minFilter=im[n.minFilter]||rV.LinearMipmapLinearFilter,t.wrapS=ig[n.wrapS]||rV.RepeatWrapping,t.wrapT=ig[n.wrapT]||rV.RepeatWrapping,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==rV.NearestFilter&&t.minFilter!==rV.LinearFilter,r.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[s]=l,l}loadImageSource(e,t){let n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());let i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then(function(e){s=!0;let t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)});else if(void 0===i.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let l=Promise.resolve(o).then(function(e){return new Promise(function(n,i){let a=n;!0===t.isImageBitmapLoader&&(a=function(e){let t=new rV.Texture(e);t.needsUpdate=!0,n(t)}),t.load(rV.LoaderUtils.resolveURL(e,r.path),a,void 0,i)})}).then(function(e){var t;return!0===s&&a.revokeObjectURL(o),iS(e,i),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e});return this.sourceCache[e]=l,l}assignTexture(e,t,n,r){let i=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((a=a.clone()).channel=n.texCoord),i.extensions[rY.KHR_TEXTURE_TRANSFORM]){let e=void 0!==n.extensions?n.extensions[rY.KHR_TEXTURE_TRANSFORM]:void 0;if(e){let t=i.associations.get(a);a=i.extensions[rY.KHR_TEXTURE_TRANSFORM].extendTexture(a,e),i.associations.set(a,t)}}return void 0!==r&&(a.colorSpace=r),e[t]=a,a})}assignFinalMaterial(e){let t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){let e="PointsMaterial:"+n.uuid,t=this.cache.get(e);t||(t=new rV.PointsMaterial,rV.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){let e="LineBasicMaterial:"+n.uuid,t=this.cache.get(e);t||(t=new rV.LineBasicMaterial,rV.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||i||a){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),a&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return rV.MeshStandardMaterial}loadMaterial(e){let t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=a.extensions||{},l=[];if(s[rY.KHR_MATERIALS_UNLIT]){let e=i[rY.KHR_MATERIALS_UNLIT];t=e.getMaterialType(),l.push(e.extendParams(o,a,n))}else{let r=a.pbrMetallicRoughness||{};if(o.color=new rV.Color(1,1,1),o.opacity=1,Array.isArray(r.baseColorFactor)){let e=r.baseColorFactor;o.color.setRGB(e[0],e[1],e[2],rV.LinearSRGBColorSpace),o.opacity=e[3]}void 0!==r.baseColorTexture&&l.push(n.assignTexture(o,"map",r.baseColorTexture,rV.SRGBColorSpace)),o.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,o.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(l.push(n.assignTexture(o,"metalnessMap",r.metallicRoughnessTexture)),l.push(n.assignTexture(o,"roughnessMap",r.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)})))}!0===a.doubleSided&&(o.side=rV.DoubleSide);let u=a.alphaMode||"OPAQUE";if("BLEND"===u?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===u&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==rV.MeshBasicMaterial&&(l.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new rV.Vector2(1,1),void 0!==a.normalTexture.scale)){let e=a.normalTexture.scale;o.normalScale.set(e,e)}if(void 0!==a.occlusionTexture&&t!==rV.MeshBasicMaterial&&(l.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==rV.MeshBasicMaterial){let e=a.emissiveFactor;o.emissive=new rV.Color().setRGB(e[0],e[1],e[2],rV.LinearSRGBColorSpace)}return void 0!==a.emissiveTexture&&t!==rV.MeshBasicMaterial&&l.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,rV.SRGBColorSpace)),Promise.all(l).then(function(){let r=new t(o);return a.name&&(r.name=a.name),iS(r,a),n.associations.set(r,{materials:e}),a.extensions&&ix(i,r,a),r})}createUniqueName(e){let t=rV.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,n=this.extensions,r=this.primitiveCache,i=[];for(let a=0,o=e.length;a<o;a++){let o=e[a],s=function(e){let t,n=e.extensions&&e.extensions[rY.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+iw(n.attributes):e.indices+":"+iw(e.attributes)+":"+e.mode,void 0!==e.targets)for(let n=0,r=e.targets.length;n<r;n++)t+=":"+iw(e.targets[n]);return t}(o),l=r[s];if(l)i.push(l.promise);else{let e;e=o.extensions&&o.extensions[rY.KHR_DRACO_MESH_COMPRESSION]?function(e){return n[rY.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(n){return iC(n,e,t)})}(o):iC(new rV.BufferGeometry,o,t),r[s]={primitive:o,promise:e},i.push(e)}}return Promise.all(i)}loadMesh(e){let t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[];for(let e=0,t=a.length;e<t;e++){var s;let t=void 0===a[e].material?(void 0===(s=this.cache).DefaultMaterial&&(s.DefaultMaterial=new rV.MeshStandardMaterial({color:0xffffff,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:rV.FrontSide})),s.DefaultMaterial):this.getDependency("material",a[e].material);o.push(t)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(n){let o=n.slice(0,n.length-1),s=n[n.length-1],l=[];for(let n=0,u=s.length;n<u;n++){let u,c=s[n],d=a[n],h=o[n];if(d.mode===ih.TRIANGLES||d.mode===ih.TRIANGLE_STRIP||d.mode===ih.TRIANGLE_FAN||void 0===d.mode)!0===(u=!0===i.isSkinnedMesh?new rV.SkinnedMesh(c,h):new rV.Mesh(c,h)).isSkinnedMesh&&u.normalizeSkinWeights(),d.mode===ih.TRIANGLE_STRIP?u.geometry=rW(u.geometry,rV.TriangleStripDrawMode):d.mode===ih.TRIANGLE_FAN&&(u.geometry=rW(u.geometry,rV.TriangleFanDrawMode));else if(d.mode===ih.LINES)u=new rV.LineSegments(c,h);else if(d.mode===ih.LINE_STRIP)u=new rV.Line(c,h);else if(d.mode===ih.LINE_LOOP)u=new rV.LineLoop(c,h);else if(d.mode===ih.POINTS)u=new rV.Points(c,h);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);Object.keys(u.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){let n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(u,i),u.name=t.createUniqueName(i.name||"mesh_"+e),iS(u,i),d.extensions&&ix(r,u,d),t.assignFinalMaterial(u),l.push(u)}for(let n=0,r=l.length;n<r;n++)t.associations.set(l[n],{meshes:e,primitives:n});if(1===l.length)return i.extensions&&ix(r,l[0],i),l[0];let u=new rV.Group;i.extensions&&ix(r,u,i),t.associations.set(u,{meshes:e});for(let e=0,t=l.length;e<t;e++)u.add(l[e]);return u})}loadCamera(e){let t,n=this.json.cameras[e],r=n[n.type];return r?("perspective"===n.type?t=new rV.PerspectiveCamera(rV.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new rV.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),iS(t,n),Promise.resolve(t)):void console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){let t=this.json.skins[e],n=[];for(let e=0,r=t.joints.length;e<r;e++)n.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(e){let n=e.pop(),r=[],i=[];for(let a=0,o=e.length;a<o;a++){let o=e[a];if(o){r.push(o);let e=new rV.Matrix4;null!==n&&e.fromArray(n.array,16*a),i.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new rV.Skeleton(r,i)})}loadAnimation(e){let t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,a=[],o=[],s=[],l=[],u=[];for(let e=0,t=r.channels.length;e<t;e++){let t=r.channels[e],n=r.samplers[t.sampler],i=t.target,c=i.node,d=void 0!==r.parameters?r.parameters[n.input]:n.input,h=void 0!==r.parameters?r.parameters[n.output]:n.output;void 0!==i.node&&(a.push(this.getDependency("node",c)),o.push(this.getDependency("accessor",d)),s.push(this.getDependency("accessor",h)),l.push(n),u.push(i))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(l),Promise.all(u)]).then(function(e){let t=e[0],a=e[1],o=e[2],s=e[3],l=e[4],u=[];for(let e=0,r=t.length;e<r;e++){let r=t[e],i=a[e],c=o[e],d=s[e],h=l[e];if(void 0===r)continue;r.updateMatrix&&r.updateMatrix();let f=n._createAnimationTracks(r,i,c,d,h);if(f)for(let e=0;e<f.length;e++)u.push(f[e])}let c=new rV.AnimationClip(i,void 0,u);return iS(c,r),c})}createNodeMesh(e){let t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then(function(e){let t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]}),t})}loadNode(e){let t=this.json.nodes[e],n=this._loadNodeShallow(e),r=[],i=t.children||[];for(let e=0,t=i.length;e<t;e++)r.push(this.getDependency("node",i[e]));let a=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([n,Promise.all(r),a]).then(function(e){let t=e[0],n=e[1],r=e[2];null!==r&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(r,iT)});for(let e=0,r=n.length;e<r;e++)t.add(n[e]);return t})}_loadNodeShallow(e){let t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];let i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"",o=[],s=r._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return s&&o.push(s),void 0!==i.camera&&o.push(r.getDependency("camera",i.camera).then(function(e){return r._getNodeRef(r.cameraCache,i.camera,e)})),r._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){o.push(e)}),this.nodeCache[e]=Promise.all(o).then(function(t){let o;if((o=!0===i.isBone?new rV.Bone:t.length>1?new rV.Group:1===t.length?t[0]:new rV.Object3D)!==t[0])for(let e=0,n=t.length;e<n;e++)o.add(t[e]);if(i.name&&(o.userData.name=i.name,o.name=a),iS(o,i),i.extensions&&ix(n,o,i),void 0!==i.matrix){let e=new rV.Matrix4;e.fromArray(i.matrix),o.applyMatrix4(e)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);if(r.associations.has(o)){if(void 0!==i.mesh&&r.meshCache.refs[i.mesh]>1){let e=r.associations.get(o);r.associations.set(o,{...e})}}else r.associations.set(o,{});return r.associations.get(o).nodes=e,o}),this.nodeCache[e]}loadScene(e){let t=this.extensions,n=this.json.scenes[e],r=this,i=new rV.Group;n.name&&(i.name=r.createUniqueName(n.name)),iS(i,n),n.extensions&&ix(t,i,n);let a=n.nodes||[],o=[];for(let e=0,t=a.length;e<t;e++)o.push(r.getDependency("node",a[e]));return Promise.all(o).then(function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{let t=new Map;for(let[e,n]of r.associations)(e instanceof rV.Material||e instanceof rV.Texture)&&t.set(e,n);return e.traverse(e=>{let n=r.associations.get(e);null!=n&&t.set(e,n)}),t})(i),i})}_createAnimationTracks(e,t,n,r,i){let a,o=[],s=e.name?e.name:e.uuid,l=[];switch(ib[i.path]===ib.weights?e.traverse(function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)}):l.push(s),ib[i.path]){case ib.weights:a=rV.NumberKeyframeTrack;break;case ib.rotation:a=rV.QuaternionKeyframeTrack;break;case ib.translation:case ib.scale:a=rV.VectorKeyframeTrack;break;default:a=1===n.itemSize?rV.NumberKeyframeTrack:rV.VectorKeyframeTrack}let u=void 0!==r.interpolation?iy[r.interpolation]:rV.InterpolateLinear,c=this._getArrayFromAccessor(n);for(let e=0,n=l.length;e<n;e++){let n=new a(l[e]+"."+ib[i.path],t.array,c,u);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(n),o.push(n)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){let e=iE(t.constructor),n=new Float32Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof rV.QuaternionKeyframeTrack?id:iu)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function iC(e,t,n){let r=t.attributes,i=[];for(let t in r){let a=i_[t]||t.toLowerCase();a in e.attributes||i.push(function(t,r){return n.getDependency("accessor",t).then(function(t){e.setAttribute(r,t)})}(r[t],a))}if(void 0!==t.indices&&!e.index){let r=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});i.push(r)}return rV.ColorManagement.workingColorSpace!==rV.LinearSRGBColorSpace&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${rV.ColorManagement.workingColorSpace}" not supported.`),iS(e,t),!function(e,t,n){let r=t.attributes,i=new rV.Box3;if(void 0===r.POSITION)return;{let e=n.json.accessors[r.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new rV.Vector3(t[0],t[1],t[2]),new rV.Vector3(a[0],a[1],a[2])),e.normalized){let t=iE(ip[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}let a=t.targets;if(void 0!==a){let e=new rV.Vector3,t=new rV.Vector3;for(let r=0,i=a.length;r<i;r++){let i=a[r];if(void 0!==i.POSITION){let r=n.json.accessors[i.POSITION],a=r.min,o=r.max;if(void 0!==a&&void 0!==o){if(t.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),r.normalized){let e=iE(ip[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;let o=new rV.Sphere;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}(e,t,n),Promise.all(i).then(function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,a=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(void 0!==n.POSITION&&(r=!0),void 0!==n.NORMAL&&(i=!0),void 0!==n.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);let o=[],s=[],l=[];for(let u=0,c=t.length;u<c;u++){let c=t[u];if(r){let t=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;o.push(t)}if(i){let t=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;s.push(t)}if(a){let t=void 0!==c.COLOR_0?n.getDependency("accessor",c.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l)]).then(function(t){let n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e})}(e,t.targets,n):e})}function iA(e,...t){let n=e();for(let e of t)n=n instanceof Promise?n.then(e):e(n);return n}let iR=new M.Matrix4,iP=new M.Matrix4;function iL({scene:e}){let t,n,r,i=(t=new Map,n=new Map,r=e.clone(),function e(t,n,r){r(t,n);for(let i=0;i<t.children.length;i++)e(t.children[i],n.children[i],r)}(e,r,function(e,r){t.set(r,e),n.set(e,r)}),r.traverse(function(e){if(!e.isSkinnedMesh)return;let r=t.get(e),i=r.skeleton.bones;e.skeleton=r.skeleton.clone(),e.bindMatrix.copy(r.bindMatrix),e.skeleton.bones=i.map(function(e){return n.get(e)}),e.bind(e.skeleton,e.bindMatrix)}),r),a=i.getObjectByProperty("type","SkinnedMesh");if(null==a)throw Error("missing SkinnedMesh in loaded XRHand model");return a.frustumCulled=!1,i}let iI=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],iN=0;var iD=M;class iU extends iD.MeshBasicMaterial{constructor(){super({transparent:!0,toneMapped:!1,depthWrite:!1})}onBeforeCompile(e,t){super.onBeforeCompile(e,t),e.vertexShader=`varying vec2 vLocalPosition;
`+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>",`#include <color_vertex>
        vLocalPosition = position.xy * 2.0;`),e.fragmentShader=`varying vec2 vLocalPosition;
`+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>",`#include <color_fragment>
          float value = max(0.0, 1.0 - sqrt(dot(vLocalPosition, vLocalPosition)));
          diffuseColor.a = diffuseColor.a * value * value;`)}}let ik=new iD.Vector3(0,0,1),iO=new iD.Quaternion,iF=new iD.Vector3;var iB=M;class iz extends iB.MeshBasicMaterial{constructor(){super({transparent:!0,toneMapped:!1})}onBeforeCompile(e,t){super.onBeforeCompile(e,t),e.vertexShader=`varying float vFade;
`+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>",`#include <color_vertex>
            vFade = position.z + 0.5;`),e.fragmentShader=`varying float vFade;
`+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>",`#include <color_fragment>
              diffuseColor.a *= vFade;`)}}function iG(e){return e.getButtonsDown().size>0?.6:iV(e.getIntersection()?.distance??1/0,.07,0,.2,.4)}function ij(e){return e.getButtonsDown().size>0?.6:.4}function iH(e){return iV(e.getIntersection()?.distance??1/0,.1,.03,.2,.6)}function iV(e,t,n,r,i){return r+Math.max(0,Math.min(1,(e-t)/(n-t)))*(i-r)}e.i(65487);var iW=e.i(8155);function iq(e,t,{anchors:n=!0,handTracking:r=!(navigator.userAgent.includes("Macintosh")&&null!=navigator.xr),layers:i=!0,meshDetection:a=!0,planeDetection:o=!0,customSessionInit:s,depthSensing:l=!1,hitTest:u=!0,domOverlay:c=!0,bodyTracking:d=!1,bounded:h}={}){if(null!=s)return s;let f=null==h?["local-floor"]:h?["bounded-floor"]:["unbounded","local-floor"],p=[];c instanceof Element&&(c=!0),iX(n,"anchors",f,p),iX(r,"hand-tracking",f,p),iX(i,"layers",f,p),iX(a,"mesh-detection",f,p),iX(o,"plane-detection",f,p),iX(l,"depth-sensing",f,p),iX(c,"dom-overlay",f,p),iX(u,"hit-test",f,p),iX(d,"body-tracking",f,p);let m={requiredFeatures:f,optionalFeatures:p};return null!=t&&(m.domOverlay={root:t}),l&&Object.assign(m,{depthSensing:{usagePreference:["gpu-optimized"],dataFormatPreference:[]}}),m}function iX(e,t,n,r){if(!1!==e){if(!0===e)return void r.push(t);n.push(t)}}function iY(e,t,n){return"function"==typeof e?e:("object"==typeof e&&(null!=t&&t in e?e=e[t]:"default"in e&&(e=e.default)),!1!==e&&(!0===e?n:e??n))}new M.Vector3,new M.Vector3,new M.Vector3,new M.Quaternion;let iK={session:void 0,mediaBinding:void 0,originReferenceSpace:void 0,visibilityState:void 0,mode:null,frameRate:void 0,inputSourceStates:[],detectedMeshes:[],detectedPlanes:[],layerEntries:[]};async function i$(t,n,r){if("u"<typeof navigator)return!1;let[i,a]=await Promise.all([navigator.xr?.isSessionSupported("immersive-vr").catch(e=>(console.error(e),!1)),navigator.xr?.isSessionSupported("immersive-ar").catch(e=>(console.error(e),!1))]);if(a||i)return!1;let{emulate:o}=await e.A(88077);return r&&window.alert("emulator started"),t.setState({emulator:o(!0===n?"metaQuest3":n)}),!0}let iZ=new M.Vector3,iQ=new M.Vector3;async function iJ(e,t,n){let r,i=t?.offerSession??!0;navigator.xr?.offerSession==null||!1===i||(r=!0===i?await navigator.xr.isSessionSupported("immersive-ar")?"immersive-ar":"immersive-vr":i,i0(await navigator.xr.offerSession(r,iq(r,n,t)),e,t))}async function i1(e,t){if(!1===t)return;let{supportedFrameRates:n}=e;if(null!=n&&0!==n.length){if("function"==typeof t){let r=t(n);if(!1===r)return;await e.updateTargetFrameRate(r);return}await e.updateTargetFrameRate(n[Math.ceil((n.length-1)*("high"===t?1:.5*("mid"===t)))])}}async function i2(e,t,n,r){if("u"<typeof navigator||null==navigator.xr)return Promise.reject(Error("WebXR not supported"));if(null==r)return Promise.reject(Error("not connected to three.js. You either might be missing the <XR> component or the canvas is not yet loaded?"));let i=await navigator.xr.requestSession(t,iq(t,e,n));return await i0(i,r,n),i}async function i0(e,t,n){await Promise.all([i1(e,n?.frameRate??"high"),i6(t,e,n)])}async function i6(e,t,n){if(null==e)return;let r=XRWebGLLayer.getNativeFramebufferScaleFactor(t),i=n?.frameBufferScaling;"function"==typeof i&&(i=i(r)),"string"==typeof i&&(i="high"===i?r:"mid"===i?1:.5),null!=i&&e?.setFramebufferScaleFactor(i),await e?.setSession(t)}let i5=["immersive-ar","immersive-vr","inline"],i3=[];function i4(e,t){return null==t?i3:null!=e&&function(e,t){if(e.size!=t.length)return!1;for(let n of t)if(!e.has(n))return!1;return!0}(t,e)?e:Array.from(t)}M.Object3D;new M.BoxGeometry,M.Mesh,new M.PlaneGeometry,M.Mesh;async function i7(e,t=af){let{scene:n}=await t.loadAsync(e.assetPath);return n.clone(!0)}let i8=new M.Vector2;function i9({xAxis:e=0,yAxis:t=0}){if(i8.lengthSq()>1){let n=Math.atan2(t,e);i8.set(Math.cos(n),Math.sin(n))}else i8.set(e,t);return i8.multiplyScalar(.5).addScalar(.5),i8}M.Object3D,M.Object3D;M.Mesh;new M.Box2,new M.Vector2;M.Mesh;M.Group;Math.PI,Math.PI,Math.PI,Math.PI;new M.Matrix4,new M.Vector3,new M.Quaternion,new M.Vector3;M.Mesh;var ae=M,at=Object.defineProperty,an=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?at(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};function ar(e,t,n,r,i){let a;if(e=e.subarray||e.slice?e:e.buffer,n=n.subarray||n.slice?n:n.buffer,e=t?e.subarray?e.subarray(t,i&&t+i):e.slice(t,i&&t+i):e,n.set)n.set(e,r);else for(a=0;a<e.length;a++)n[a+r]=e[a];return n}class ai extends ae.BufferGeometry{constructor(){super(),an(this,"type","MeshLine"),an(this,"isMeshLine",!0),an(this,"positions",[]),an(this,"previous",[]),an(this,"next",[]),an(this,"side",[]),an(this,"width",[]),an(this,"indices_array",[]),an(this,"uvs",[]),an(this,"counters",[]),an(this,"widthCallback",null),an(this,"_attributes"),an(this,"_points",[]),an(this,"points"),an(this,"matrixWorld",new ae.Matrix4),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){var n;if(e=(n=e)instanceof Float32Array?n:n instanceof ae.BufferGeometry?n.getAttribute("position").array:n.map(e=>{let t=Array.isArray(e);return e instanceof ae.Vector3?[e.x,e.y,e.z]:e instanceof ae.Vector2?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}).flat(),this._points=e,this.widthCallback=null!=t?t:null,this.positions=[],this.counters=[],e.length&&e[0]instanceof ae.Vector3)for(let t=0;t<e.length;t++){let n=e[t],r=t/(e.length-1);this.positions.push(n.x,n.y,n.z),this.positions.push(n.x,n.y,n.z),this.counters.push(r),this.counters.push(r)}else for(let t=0;t<e.length;t+=3){let n=t/(e.length-1);this.positions.push(e[t],e[t+1],e[t+2]),this.positions.push(e[t],e[t+1],e[t+2]),this.counters.push(n),this.counters.push(n)}this.process()}compareV3(e,t){let n=6*e,r=6*t;return this.positions[n]===this.positions[r]&&this.positions[n+1]===this.positions[r+1]&&this.positions[n+2]===this.positions[r+2]}copyV3(e){let t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){let e,t,n=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],t=this.compareV3(0,n-1)?this.copyV3(n-2):this.copyV3(0),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(let r=0;r<n;r++){if(this.side.push(1),this.side.push(-1),e=this.widthCallback?this.widthCallback(r/(n-1)):1,this.width.push(e),this.width.push(e),this.uvs.push(r/(n-1),0),this.uvs.push(r/(n-1),1),r<n-1){t=this.copyV3(r),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);let e=2*r;this.indices_array.push(e,e+1,e+2),this.indices_array.push(e+2,e+1,e+3)}r>0&&(t=this.copyV3(r),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]))}t=this.compareV3(n-1,0)?this.copyV3(1):this.copyV3(n-1),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]),this._attributes&&this._attributes.position.count===this.counters.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new ae.BufferAttribute(new Float32Array(this.positions),3),previous:new ae.BufferAttribute(new Float32Array(this.previous),3),next:new ae.BufferAttribute(new Float32Array(this.next),3),side:new ae.BufferAttribute(new Float32Array(this.side),1),width:new ae.BufferAttribute(new Float32Array(this.width),1),uv:new ae.BufferAttribute(new Float32Array(this.uvs),2),index:new ae.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new ae.BufferAttribute(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:n}){let r=this._attributes.position.array,i=this._attributes.previous.array,a=this._attributes.next.array,o=r.length;ar(r,0,i,0,o),ar(r,6,r,0,o-6),r[o-6]=e,r[o-5]=t,r[o-4]=n,r[o-3]=e,r[o-2]=t,r[o-1]=n,ar(r,6,a,0,o-6),a[o-6]=e,a[o-5]=t,a[o-4]=n,a[o-3]=e,a[o-2]=t,a[o-1]=n,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}let aa=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,ao=parseInt(ae.REVISION.replace(/\D+/g,"")),as=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${ao>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`;class al extends ae.ShaderMaterial{constructor(e){super({uniforms:{...L.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new ae.Color(0xffffff)},gradient:{value:[new ae.Color(0xff0000),new ae.Color(65280)]},opacity:{value:1},resolution:{value:new ae.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new ae.Vector2(1,1)}},vertexShader:aa,fragmentShader:as}),an(this,"lineWidth"),an(this,"map"),an(this,"useMap"),an(this,"alphaMap"),an(this,"useAlphaMap"),an(this,"color"),an(this,"gradient"),an(this,"resolution"),an(this,"sizeAttenuation"),an(this,"dashArray"),an(this,"dashOffset"),an(this,"dashRatio"),an(this,"useDash"),an(this,"useGradient"),an(this,"visibility"),an(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(e){this.uniforms.color.value=e}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(e){this.uniforms.gradient.value=e}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(e){this.uniforms.dashArray.value=e,this.useDash=+(0!==e)}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(e){this.uniforms.useDash.value=e}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(e){this.uniforms.useGradient.value=e}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}var au=M;let ac=new au.Euler(0,0,0,"YXZ"),ad=new au.Quaternion;class ah extends au.Mesh{multiplier;lineLengths;options={};constructor(e){const t=new ai,n=new Float32Array(3*e.length);for(let t=0;t<e.length;t++)e[t].toArray(n,3*t);t.setPoints(n);const r=(3*e.length-3)/(3*e.length-1),i=new al({lineWidth:.1,resolution:void 0,visibility:r});super(t,i),this.material.transparent=!0,this.multiplier=r,this.material=i,this.lineLengths=e.slice(0,-1).map((t,n)=>t.distanceTo(e[n+1]))}update(e){let t=e.getEnabled(),n=e.getIntersection();if(!t||0===e.getButtonsDown().size||null==n){this.visible=!1;return}if(this.visible=!0,"lines"!=n.details.type){this.material.visibility=this.multiplier;return}let{distanceOnLine:r,lineIndex:i}=n.details,a=this.lineLengths[i];this.material.visibility=this.multiplier*(i+r/a)/this.lineLengths.length;let{color:o="white",opacity:s=.4,size:l=.01}=this.options;this.material.lineWidth=l,this.material.opacity="function"==typeof s?s(e):s;let u="function"==typeof o?o(e):o;Array.isArray(u)?this.material.color.set(...u):this.material.color.set(u)}}new M.Matrix4,new M.Vector3,new M.Vector3,new M.Quaternion;new M.Vector3(1,1,1),new M.Vector3(0,0,0),new M.Quaternion,new M.Matrix4,new M.Matrix4,new M.Quaternion,new M.Vector3,new M.Vector3,new M.Vector3,new M.Quaternion,new M.Euler,new M.Vector3,new M.Vector3;let af=new rq,ap="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/";class am{baseAssetPath;defaultProfileId;profilesListCache;profileCacheMap=new Map;constructor(e){this.baseAssetPath=e?.baseAssetPath??ap,this.defaultProfileId=e?.defaultControllerProfileId??"generic-trigger"}load(e,t){return iA(()=>this.loadProfile(e),e=>{for(let n in e.layouts)if(n.includes(t))return e.layouts[n];throw Error(`No matching layout for "${t}", in profile ${e.profileId} with layouts ${Object.keys(e.layouts).join(", ")}.`)})}loadAsync=this.load;loadProfile(e){return iA(()=>this.profilesListCache??ag(new URL("profilesList.json",this.baseAssetPath).href).then(e=>this.profilesListCache=e),t=>{let n,r=e.length;for(let i=0;i<r&&null==(n=t[e[i]]);i++);if(null==(n??=t[this.defaultProfileId]))throw Error(`no matching profile found for profiles "${e.join(", ")}" in profile list ${JSON.stringify(t)}`);return this.loadProfileFromPath(n.path)})}loadProfileFromPath(e){let t=this.profileCacheMap.get(e);if(null!=t)return t;let n=new URL(e,this.baseAssetPath).href;return ag(n).then(t=>{for(let e in t.layouts){let r=t.layouts[e];null!=r&&(r.assetPath=new URL(r.assetPath,n).href)}return this.profileCacheMap.set(e,t),t})}}async function ag(e){let t=await fetch(e);return t.ok?t.json():Promise.reject(Error(t.statusText))}let av=(0,T.createContext)(void 0),a_=(0,T.createContext)(void 0),ab=(0,T.createContext)(void 0),ay=(0,T.createContext)(void 0);var ax=e.i(47059);let aS={get url(){return`file://${e.P("apps/reader-vr/node_modules/@react-three/xr/node_modules/zustand/esm/index.mjs")}`}},{useDebugValue:aw}=T.default,{useSyncExternalStoreWithSelector:aE}=t9.default,aT=!1,aM=e=>e;function aC(e,t=aM,n){(aS.env?aS.env.MODE:void 0)!=="production"&&n&&!aT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),aT=!0);let r=aE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return aw(r),r}function aA(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}let aR=Symbol("loadXRControllerModel"),aP=(0,T.forwardRef)((e,t)=>{var n,r;let i,a=oo("controller"),o=ns(i7,[a.layout,void 0,aR],!1,i);return n=o,r=e,n.renderOrder=r?.renderOrder??0,n.traverse(e=>{e instanceof M.Mesh&&e.material instanceof M.Material&&(e.material.colorWrite=r?.colorWrite??!0)}),a.object=o,(0,T.useImperativeHandle)(t,()=>o,[o]),nq((0,T.useMemo)(()=>(function(e,t,n){let r=[];for(let i in t.components){let a=t.components[i],o=n[i];null==o&&(n[i]=o={state:"default"}),r.push(...Object.values(a.visualResponses).map(t=>(function(e,t,n){let r=e.getObjectByName(n.valueNodeName);if(t.object=r,null==r)return()=>{};if("visibility"===n.valueNodeProperty)return()=>r.visible=n.states.includes(t.state);let i=e.getObjectByName(n.minNodeName),a=e.getObjectByName(n.maxNodeName);return null==i||null==a?()=>{}:()=>{let e=function(e,{componentProperty:t,states:n}){let r=n.includes(e.state);switch(t){case"xAxis":return r?i9(e).x:.5;case"yAxis":return r?i9(e).y:.5;case"button":return r?e.button??0:0;case"state":return+!!r}}(t,n);r.quaternion.slerpQuaternions(i.quaternion,a.quaternion,e),r.position.lerpVectors(i.position,a.position,e),r.updateMatrix()}})(e,o,t)))}return()=>{let e=r.length;for(let t=0;t<e;t++)r[t]()}})(o,a.layout,a.gamepad),[o,a.layout,a.gamepad])),(0,w.jsx)(os,{space:"grip-space",children:(0,w.jsx)("primitive",{object:o})})});Symbol("loadXRControllerLayout");let aL=(0,T.forwardRef)((e,t)=>{var n,r;let i=oo("hand"),a=nK(rq,i.assetPath),o=(0,T.useMemo)(()=>iL(a),[a]);n=o,r=e,n.renderOrder=r?.renderOrder??0,n.traverse(e=>{e instanceof M.Mesh&&e.material instanceof M.Material&&(e.material.colorWrite=r?.colorWrite??!0)}),i.object=o,(0,T.useImperativeHandle)(t,()=>o,[o]);let s=ol(),l=(0,T.useMemo)(()=>{var e,t,n;let r,a;return e=i.inputSource.hand,t=o,n=s,r=new Float32Array(16*e.size),a=iI.map(e=>{let n=t.getObjectByName(e);if(null==n)throw Error(`missing joint "${e}" in hand model`);return n.matrixAutoUpdate=!1,n}),t=>{let i="function"==typeof n?n():n;if(null==t||null==i)return;t.fillPoses(e.values(),i,r);let o=a.length;for(let e=0;e<o;e++)a[e].matrix.fromArray(r,16*e)}},[i.inputSource,o,s]);return nq((e,t,n)=>l(n)),(0,w.jsx)("primitive",{object:o})});var aI=e.i(26428),aN=e.i(18265),aD=e.i(80362),aU=e.i(42256),ak=e.i(97777);function aO({children:e}){let t=(0,T.useMemo)(()=>new ax.CombinedPointer(!1),[]);return aj(t),(0,w.jsx)(ay.Provider,{value:t,children:e})}function aF(e){for(let t of Object.keys(e))delete e[t]}let aB=(0,T.forwardRef)((e,t)=>{let n=(0,T.useMemo)(()=>new(e.materialClass??iz),[e.materialClass]),r=(0,T.useRef)(null);return(0,T.useImperativeHandle)(t,()=>r.current,[]),nq(()=>null!=r.current&&function(e,t,n,r){let i=n.getIntersection();if(!n.getEnabled()||null==i){e.visible=!1;return}e.visible=!0;let a="function"==typeof r.color?r.color(n):r.color;Array.isArray(a)?t.color.set(...a):t.color.set(a??"white"),t.opacity="function"==typeof r.opacity?r.opacity(n):r.opacity??.4;let o=Math.min(r.maxLength??1,i.distance);e.position.z=-o/2;let s=r.size??.005;e.scale.set(s,s,o),e.updateMatrix()}(r.current,n,e.pointer,e)),(0,w.jsx)("mesh",{matrixAutoUpdate:!1,renderOrder:e.renderOrder??2,ref:r,material:n,children:(0,w.jsx)("boxGeometry",{})})}),az=(0,T.forwardRef)((e,t)=>{let n=(0,T.useMemo)(()=>new(e.materialClass??iU),[e.materialClass]),r=(0,T.useRef)(null),i=(0,T.useRef)(null);(0,T.useImperativeHandle)(t,()=>r.current,[]),nq(()=>null!=r.current&&null!=i.current&&function(e,t,n,r,i){let a=r.getIntersection();if(null==a||!r.getEnabled()||!0===a.object.isVoidObject||!function e({visible:t,parent:n}){return!!t&&(null==n||e(n))}(e)){t.visible=!1;return}t.visible=!0;let o="function"==typeof i.color?i.color(r):i.color;Array.isArray(o)?n.color.set(...o):n.color.set(o??"white"),n.opacity="function"==typeof i.opacity?i.opacity(r):i.opacity??.4,t.position.copy(a.pointOnFace),t.scale.setScalar(i.size??.1);let s=a.normal??a.face?.normal;null!=s&&(iO.setFromUnitVectors(ik,s),a.object.getWorldQuaternion(t.quaternion),t.quaternion.multiply(iO),iF.set(0,0,i.cursorOffset??.01),iF.applyQuaternion(t.quaternion),t.position.add(iF)),t.updateMatrix()}(i.current,r.current,n,e.pointer,e));let a=nW(e=>e.scene);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("group",{ref:i}),rc((0,w.jsx)("mesh",{renderOrder:e.renderOrder??1,ref:r,matrixAutoUpdate:!1,material:n,children:(0,w.jsx)("planeGeometry",{})}),a)]})});function aG(e,t,n,r){let i=oa(e=>e.session);(0,T.useEffect)(()=>{if(null!=i)return function(e,t,n,r,i,a={}){let o=t=>{t.inputSource===n&&e.down(Object.assign(t,{button:a.button??0}))},s=t=>{t.inputSource===n&&e.up(Object.assign(t,{button:a.button??0}))},l=`${r}start`,u=`${r}end`,c=i.length;for(let e=0;e<c;e++){let t=i[e];switch(t.type){case l:o(t);break;case u:s(t)}}return t.addEventListener(l,o),t.addEventListener(u,s),()=>{t.removeEventListener(l,o),t.removeEventListener(u,s)}}(e,i,t,n,r)},[n,t,e,i,r])}function aj(e,t=!1){let n=(0,T.useContext)(ay);if(null==n)throw Error("xr pointers can only be used inside the XR component");(0,T.useEffect)(()=>{let r=n.register(e,t);return()=>{r()}},[n,e,t]),(0,T.useEffect)(()=>{if(e instanceof aI.Pointer)return()=>e.exit({timeStamp:performance.now()})},[e])}let aH=(0,T.forwardRef)(({pointer:e,linePoints:t,...n},r)=>{let i=(0,T.useMemo)(()=>new ah(t),[t]);return(0,T.useImperativeHandle)(r,()=>i,[i]),i.options=n,nq(()=>i.update(e)),(0,w.jsx)("primitive",{object:i})});function aV(e,t,n){let r,i,a,o=(0,T.useContext)(a_);if(null==o)throw Error("DefaultXRInputSourceGrabPointer can only be used inside a XRInputSource");let s=(0,T.useRef)(null),l=(aF(r=(0,T.useMemo)(()=>({}),[])),Object.assign(r,n),i=nV(),aj(a=(0,T.useMemo)(()=>(0,aN.createGrabPointer)(()=>i.getState().camera,s,o,r,void 0),[i,s,o,r,void 0]),n?.makeDefault),a);aG(l,o.inputSource,e,o.events);let u=n.cursorModel;return(0,w.jsx)(os,{ref:s,space:t,children:!1!==u&&(0,w.jsx)(az,{pointer:l,opacity:iG,...a2(u)})})}let aW=aV.bind(null,"select","index-finger-tip"),aq=aV.bind(null,"squeeze","grip-space");function aX(e){let t,n,r,i=oo(),a=(0,T.useRef)(null),o=(aF(t=(0,T.useMemo)(()=>({}),[])),Object.assign(t,e),n=nV(),aj(r=(0,T.useMemo)(()=>(0,aU.createRayPointer)(()=>n.getState().camera,a,i,t,void 0),[n,a,i,t,void 0]),e?.makeDefault),r);aG(o,i.inputSource,"select",i.events);let s=e.rayModel,l=e.cursorModel;return(0,w.jsxs)(os,{ref:a,space:"target-ray-space",children:[!1!==s&&(0,w.jsx)(aB,{pointer:o,opacity:ij,...a2(s)}),!1!==l&&(0,w.jsx)(az,{pointer:o,opacity:ij,...a2(l)})]})}function aY(e){let t,n,r,i=oo("hand"),a=(0,T.useRef)(null),o=(aF(t=(0,T.useMemo)(()=>({}),[])),Object.assign(t,e),n=nV(),aj(r=(0,T.useMemo)(()=>(0,ak.createTouchPointer)(()=>n.getState().camera,a,i,t,void 0),[n,a,i,t,void 0]),e?.makeDefault),r),s=e.cursorModel;return(0,w.jsx)(os,{ref:a,space:i.inputSource.hand.get("index-finger-tip"),children:!1!==s&&(0,w.jsx)(az,{pointer:o,opacity:iH,...a2(s)})})}function aK(e){let t=e.model,n=e.grabPointer,r=e.rayPointer,i=e.teleportPointer??!1;return(0,w.jsxs)(w.Fragment,{children:[!1!==t&&(0,w.jsx)(T.Suspense,{children:(0,w.jsx)(aP,{...a2(t)})}),(0,w.jsxs)(aO,{children:[!1!==n&&(0,w.jsx)(aq,{...a2(n)}),!1!==r&&(0,w.jsx)(aX,{makeDefault:!0,minDistance:.2,...a2(r)}),!1!==i&&(0,w.jsx)(a1,{...a2(i)})]})]})}function a$(e){let t=e.model,n=e.grabPointer,r=e.rayPointer,i=e.touchPointer,a=e.teleportPointer??!1,o=!1!==r&&a2(r)?.rayModel;return(0,w.jsxs)(w.Fragment,{children:[!1!==t&&(0,w.jsx)(T.Suspense,{children:(0,w.jsx)(aL,{...a2(t)})}),(0,w.jsxs)(aO,{children:[!1!==n&&(0,w.jsx)(aW,{...a2(n)}),!1!==i&&(0,w.jsx)(aY,{...a2(i)}),!1!==r&&(0,w.jsx)(aX,{makeDefault:!0,minDistance:.2,...a2(r),rayModel:!1!==o&&{maxLength:.2,...a2(o)}}),!1!==a&&(0,w.jsx)(a1,{...a2(a)})]})]})}function aZ(e){return(0,w.jsx)(aX,{...e,rayModel:!1})}function aQ(e){return(0,w.jsx)(aX,{...e,rayModel:!1})}function aJ(e){return(0,w.jsx)(aX,{...e,cursorModel:!1,rayModel:!1})}function a1(e){var t,n;let r,i,a,o=(0,T.useContext)(a_);if(null==o)throw Error("DefaultXRInputSourceRayPointer can only be used inside a XRInputSource");let s=(0,T.useRef)(null),l=(0,T.useRef)(null),u=(0,T.useMemo)(()=>new au.QuadraticBezierCurve3(new au.Vector3(0,0,0),new au.Vector3(0,0,-8),new au.Vector3(0,-20,-15)).getPoints(20),[]),c=(t={...e,linePoints:u,filter:function(e={}){return(t,n,r,i)=>!0===t.userData.teleportTarget&&(null==e.filter||!!e.filter(t,n,r,i))}(e)},n="teleport",aF(r=(0,T.useMemo)(()=>({}),[])),Object.assign(r,t),i=nV(),aj(a=(0,T.useMemo)(()=>(0,aD.createLinesPointer)(()=>i.getState().camera,l,o,r,n),[i,l,o,r,n]),t?.makeDefault),a);aG(c,o.inputSource,"select",o.events);let d=e.rayModel,h=e.cursorModel,f=nW(e=>e.scene),p=(0,T.useRef)(null);return nq((e,t)=>{null!=p.current&&(p.current.visible=c.getEnabled()&&c.getButtonsDown().size>0);let n=l.current,r=s.current;null!=n&&null!=r&&(r.updateWorldMatrix(!0,!1),r.matrixWorld.decompose(n.position,ad,n.scale),ac.setFromQuaternion(ad),ac.z=0,ac.x=(0,rj.clamp)(ac.x-10*Math.PI/180,-Math.PI/2,1.1*Math.PI/4),ad.setFromEuler(ac),n.quaternion.slerp(ad,1e3*t/100))}),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(os,{ref:s,space:"target-ray-space"}),rc((0,w.jsxs)("group",{ref:l,children:[!1!==d&&(0,w.jsx)(aH,{linePoints:u,pointer:c,opacity:ij,...a2(d)}),!1!==h&&(0,w.jsx)(az,{ref:p,pointer:c,opacity:ij,...a2(h)})]}),f)]})}function a2(e){if(!0!==e)return e}let a0=0,a6=new Map;function a5(e){let t=a6.get(e);return null==t&&a6.set(e,t=a0++),t}function a3({children:e}){let t=oa(e=>e.originReferenceSpace),n=oa(e=>e.origin),r="visible"===oa(e=>e.visibilityState),i=nV(),a=(0,T.useMemo)(()=>Object.assign({},i,{getState:()=>({...i.getState(),scene:n})}),[n,i]);return null==n||null==t?null:(0,w.jsx)(w.Fragment,{children:ra.createPortal((0,w.jsx)(nH.Provider,{value:i,children:(0,w.jsxs)(ab.Provider,{value:t,children:[(0,w.jsxs)("group",{matrixAutoUpdate:!1,visible:r,children:[(0,w.jsx)(a4,{}),(0,w.jsx)(a7,{}),(0,w.jsx)(a8,{}),(0,w.jsx)(a9,{}),(0,w.jsx)(oe,{})]}),e]})}),a,null)})}function a4(){let e=oa(e=>e.inputSourceStates.filter(e=>"controller"===e.type),aA),t=oa(e=>e.controller);return!1===t?null:(0,w.jsx)(w.Fragment,{children:e.map(e=>{let n=iY(t,e.inputSource.handedness,{});return!1===n?null:(0,w.jsx)(a_.Provider,{value:e,children:(0,w.jsx)(os,{space:"target-ray-space",children:(0,w.jsx)(T.Suspense,{children:"function"==typeof n?(0,w.jsx)(n,{}):(0,w.jsx)(aK,{...n})})})},e.id)})})}function a7(){let e=oa(e=>e.inputSourceStates.filter(e=>"hand"===e.type),aA),t=oa(e=>e.hand);return!1===t?null:(0,w.jsx)(w.Fragment,{children:e.map(e=>{let n=iY(t,e.inputSource.handedness,{});return!1===n?null:(0,w.jsx)(a_.Provider,{value:e,children:(0,w.jsx)(os,{space:"target-ray-space",children:(0,w.jsx)(T.Suspense,{children:"function"==typeof n?(0,w.jsx)(n,{}):(0,w.jsx)(a$,{...n})})})},a5(e))})})}function a8(){let e=oa(e=>e.inputSourceStates.filter(e=>"transientPointer"===e.type),aA),t=oa(e=>e.transientPointer);return!1===t?null:(0,w.jsx)(w.Fragment,{children:e.map(e=>{let n=iY(t,e.inputSource.handedness,{});return!1===n?null:(0,w.jsx)(a_.Provider,{value:e,children:(0,w.jsx)(os,{space:"target-ray-space",children:(0,w.jsx)(T.Suspense,{children:"function"==typeof n?(0,w.jsx)(n,{}):(0,w.jsx)(aZ,{...n})})})},a5(e))})})}function a9(){let e=oa(e=>e.inputSourceStates.filter(e=>"gaze"===e.type),aA),t=oa(e=>e.gaze);return!1===t?null:(0,w.jsx)(w.Fragment,{children:e.map(e=>(0,w.jsx)(a_.Provider,{value:e,children:(0,w.jsx)(os,{space:"target-ray-space",children:(0,w.jsx)(T.Suspense,{children:"function"==typeof t?(0,w.jsx)(t,{}):(0,w.jsx)(aQ,{...ot(t)})})})},a5(e)))})}function oe(){let e=oa(e=>e.inputSourceStates.filter(e=>"screenInput"===e.type),aA),t=oa(e=>e.screenInput);return!1===t?null:(0,w.jsx)(w.Fragment,{children:e.map(e=>(0,w.jsx)(a_.Provider,{value:e,children:(0,w.jsx)(os,{space:"target-ray-space",children:(0,w.jsx)(T.Suspense,{children:"function"==typeof t?(0,w.jsx)(t,{}):(0,w.jsx)(aJ,{...ot(t)})})})},a5(e)))})}function ot(e){if(!0!==e)return e}function on({children:e,store:t}){t.setWebXRManager(nW(e=>e.gl.xr));let n=nV();return(0,T.useEffect)(()=>{let e;return t.subscribe((t,r)=>{if(t.session!==r.session){if(null!=t.session){let{camera:t,gl:r}=n.getState();e=t,n.setState({camera:r.xr.getCamera()});return}null!=e&&n.setState({camera:e})}})},[n,t]),nq((e,n,r)=>t.onBeforeFrame(e.scene,e.camera,r),-1e3),nq(()=>t.onBeforeRender()),(0,w.jsx)(av.Provider,{value:t,children:(0,w.jsxs)(or,{children:[(0,w.jsx)(a3,{}),e]})})}function or({children:e}){let t=oi(),n=(0,T.useMemo)(()=>new ax.CombinedPointer(!0),[]);return(0,T.useEffect)(()=>{var e;let r;return e=e=>n.setEnabled(e,{timeStamp:performance.now()}),(r=(t,n)=>{(null==n||t.visibilityState!==n.visibilityState)&&e("visible"===t.visibilityState)})(t.getState()),t.subscribe(r)},[t,n]),nq(e=>n.move(e.scene,{timeStamp:performance.now()}),-50),(0,w.jsx)(ay.Provider,{value:n,children:e})}function oi(){let e=(0,T.useContext)(av);if(null==e)throw Error("XR features can only be used inside the <XR> component");return e}function oa(e=e=>e,t){return aC(oi(),e,t)}function oo(e){let t=(0,T.useContext)(a_);if(null==t)throw Error("useXRInputSourceStateContext() can only be used inside the xr store config");if(null!=e&&t.type!=e)throw Error(`useXRInputSourceStateContext(${e}) can not be used inside a component for input type "${t.type}"`);return t}let os=(0,T.forwardRef)(({space:e,children:t},n)=>{let r=(0,T.useRef)(null),i="string"==typeof e?ol(e):e;(0,T.useImperativeHandle)(n,()=>r.current,[]),function(e,t,n){let r,i,a=(r=(0,T.useContext)(ab),i=oa(e=>r??e.originReferenceSpace),(0,T.useMemo)(()=>{var e,n;return null==t||null==i?void 0:(e=t,n=i,(t,r)=>{if(e===n)return t.identity(),!0;let i="function"==typeof n?n():n;if(null==i)return!1;let a=r?.getPose(e,i);return null!=a&&(t.fromArray(a.transform.matrix),!0)})},[t,i]));nq((t,n,r)=>{null!=e.current&&(e.current.visible=e.current.transformReady=a?.(e.current.matrix,r)??!1)},-100)}(r,i);let a=(0,T.useCallback)(e=>{null!=e&&(e.transformReady=!1,e.visible=!1),r.current=e},[]);return(0,w.jsx)("group",{xrSpace:i,matrixAutoUpdate:!1,ref:a,children:i&&(0,w.jsx)(ab.Provider,{value:i,children:t})})});function ol(e){switch(e){case"grip-space":return oo().inputSource.gripSpace;case"target-ray-space":return oo().inputSource.targetRaySpace;case"wrist":case"thumb-metacarpal":case"thumb-phalanx-proximal":case"thumb-phalanx-distal":case"thumb-tip":case"index-finger-metacarpal":case"index-finger-phalanx-proximal":case"index-finger-phalanx-intermediate":case"index-finger-phalanx-distal":case"index-finger-tip":case"middle-finger-metacarpal":case"middle-finger-phalanx-proximal":case"middle-finger-phalanx-intermediate":case"middle-finger-phalanx-distal":case"middle-finger-tip":case"ring-finger-metacarpal":case"ring-finger-phalanx-proximal":case"ring-finger-phalanx-intermediate":case"ring-finger-phalanx-distal":case"ring-finger-tip":case"pinky-finger-metacarpal":case"pinky-finger-phalanx-proximal":case"pinky-finger-phalanx-intermediate":case"pinky-finger-phalanx-distal":case"pinky-finger-tip":return oo("hand").inputSource.hand.get(e);case"root":case"hips":case"spine-lower":case"spine-middle":case"spine-upper":case"chest":case"neck":case"head":case"left-shoulder":case"left-scapula":case"left-arm-upper":case"left-arm-lower":case"left-hand-wrist-twist":case"right-shoulder":case"right-scapula":case"right-arm-upper":case"right-arm-lower":case"right-hand-wrist-twist":case"left-hand-palm":case"left-hand-wrist":case"left-hand-thumb-metacarpal":case"left-hand-thumb-phalanx-proximal":case"left-hand-thumb-phalanx-distal":case"left-hand-thumb-tip":case"left-hand-index-metacarpal":case"left-hand-index-phalanx-proximal":case"left-hand-index-phalanx-intermediate":case"left-hand-index-phalanx-distal":case"left-hand-index-tip":case"left-hand-middle-metacarpal":case"left-hand-middle-phalanx-proximal":case"left-hand-middle-phalanx-intermediate":case"left-hand-middle-phalanx-distal":case"left-hand-middle-tip":case"left-hand-ring-metacarpal":case"left-hand-ring-phalanx-proximal":case"left-hand-ring-phalanx-intermediate":case"left-hand-ring-phalanx-distal":case"left-hand-ring-tip":case"left-hand-little-metacarpal":case"left-hand-little-phalanx-proximal":case"left-hand-little-phalanx-intermediate":case"left-hand-little-phalanx-distal":case"left-hand-little-tip":case"right-hand-palm":case"right-hand-wrist":case"right-hand-thumb-metacarpal":case"right-hand-thumb-phalanx-proximal":case"right-hand-thumb-phalanx-distal":case"right-hand-thumb-tip":case"right-hand-index-metacarpal":case"right-hand-index-phalanx-proximal":case"right-hand-index-phalanx-intermediate":case"right-hand-index-phalanx-distal":case"right-hand-index-tip":case"right-hand-middle-metacarpal":case"right-hand-middle-phalanx-proximal":case"right-hand-middle-phalanx-intermediate":case"right-hand-middle-phalanx-distal":case"right-hand-middle-tip":case"right-hand-ring-metacarpal":case"right-hand-ring-phalanx-proximal":case"right-hand-ring-phalanx-intermediate":case"right-hand-ring-phalanx-distal":case"right-hand-ring-tip":case"right-hand-little-metacarpal":case"right-hand-little-phalanx-proximal":case"right-hand-little-phalanx-intermediate":case"right-hand-little-phalanx-distal":case"right-hand-little-tip":case"left-upper-leg":case"left-lower-leg":case"left-foot-ankle-twist":case"left-foot-ankle":case"left-foot-subtalar":case"left-foot-transverse":case"left-foot-ball":case"right-upper-leg":case"right-lower-leg":case"right-foot-ankle-twist":case"right-foot-ankle":case"right-foot-subtalar":case"right-foot-transverse":case"right-foot-ball":return oa(e=>e.body)?.get(e)}if(null==e){let e=(0,T.useContext)(ab);if(null==e)throw Error("XR objects must be placed inside the XROrigin");return e}let[t,n]=(0,T.useState)(void 0),r=oa(e=>e.session);return(0,T.useEffect)(()=>{if(null==r)return;let t=!1;return r.requestReferenceSpace(e).then(e=>{t||n(e)}),()=>void(t=!0)},[r,e]),t}let ou=(0,T.forwardRef)(({children:e,disabled:t,...n},r)=>{let i=nW(e=>e.gl.xr.getCamera()),a=(0,T.useRef)(null),o=oa(e=>e.originReferenceSpace);return(0,T.useImperativeHandle)(r,()=>a.current,[]),(0,T.useEffect)(()=>{let e=a.current;if(null!=e&&!t)return e.add(i),()=>void e.remove(i)},[t,i]),(0,w.jsx)("group",{ref:a,...n,children:(0,w.jsx)(ab.Provider,{value:o,children:e})})});e.i(32868);e.i(6344);"u">typeof window&&(null!=(x=window.document)&&x.createElement||(null==(S=window.navigator)?void 0:S.product)==="ReactNative")?T.default.useLayoutEffect:T.default.useEffect;e.i(21146);new M.Vector4;new M.Vector4,({store:e,mode:t,onError:n,children:r,...i},a)=>{let o=aC(e,e=>e.session),s=function(e,t){let n=(0,T.useRef)(t);n.current=t;let[r,i]=(0,T.useMemo)(()=>{let t;return[r=>{let i=!1;return"u"<typeof navigator||null==navigator.xr?(t=!1,()=>{}):(navigator.xr.isSessionSupported(e).then(e=>{t=e,i||r()}).catch(e=>{i||n.current?.(e)}),()=>i=!0)},()=>t]},[e]);return(0,T.useSyncExternalStore)(r,i)}(t,n);return(0,w.jsx)("button",{ref:a,...i,onClick:()=>null!=o?o.end():e.enterXR(t).catch(n),children:"function"==typeof r?r(s?null!=o?"entered":"exited":"unsupported"):r})};e.i(22295);var oc=M;function od(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&function n(r,i){var a=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map(function(t){return t&&t.isWorkerModule&&(n(t,function(e){if(e instanceof Error)throw e}),t=e[t.id].value),t}),l=t("<"+o+">.init",l),u&&(u=t("<"+o+">.getTransferables",u));var c=null;"function"==typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(e){e&&e.noLog||console.error(e),i(e)}}(o,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"==typeof e[i].value||n(Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"==typeof o.then?o.then(s,function(e){return n(e instanceof Error?e:Error(""+e))}):s(o)}catch(e){n(e)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}(o,function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}})}var oh=function(){var e=!1;if("u">typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return oh=function(){return e},e},of=0,op=0,om=!1,og=Object.create(null),ov=Object.create(null),o_=Object.create(null);function ob(e){if((!e||"function"!=typeof e.init)&&!om)throw Error("requires `options.init` function");var t,n=e.dependencies,r=e.init,i=e.getTransferables,a=e.workerId,o=((t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var n=e.dependencies,r=e.init,i=Promise.all(n=Array.isArray(n)?n.map(function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e}):[]).then(function(e){return r.apply(null,e)});return t._getInitResult=function(){return i},i},t);null==a&&(a="#default");var s="workerModule"+ ++of,l=e.name||s,u=null;function c(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!oh())return o.apply(void 0,e);if(!u){u=ox(a,"registerModule",c.workerModuleData);var n=function(){u=null,ov[a].delete(n)};(ov[a]||(ov[a]=new Set)).add(n)}return u.then(function(t){if(t.isCallable)return ox(a,"callModule",{id:s,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return n=n&&n.map(function(e){return"function"!=typeof e||e.workerModuleData||(om=!0,e=ob({workerId:a,name:"<"+l+"> function dependency: "+e.name,init:"function(){return (\n"+oy(e)+"\n)}"}),om=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e}),c.workerModuleData={isWorkerModule:!0,id:s,name:l,dependencies:n,init:oy(r),getTransferables:i&&oy(i)},c.onMainThread=o,c}function oy(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function ox(e,t,n){return new Promise(function(r,i){var a=++op;o_[a]=function(e){e.success?r(e.result):i(Error("Error in worker "+t+" call: "+e.error))},(function(e){var t=og[e];if(!t){var n=oy(od);(t=og[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=o_[n];if(!r)throw Error("WorkerModule response with empty or unknown messageId");delete o_[n],r(t)}}return t})(e).postMessage({messageId:a,action:t,data:n})})}function oS(){return function(e){function t(e,t){for(var n,r,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(n[1]){case"M":a=r=l[0],o=i=l[1];break;case"L":(l[0]!==a||l[1]!==o)&&t("L",a,o,a=l[0],o=l[1]);break;case"Q":t("Q",a,o,a=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",a,o,a=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":(a!==r||o!==i)&&t("L",a,o,r,i)}}}function n(e,n,r){void 0===r&&(r=16);var i={x:0,y:0};t(e,function(e,t,a,o,s,l,u,c,d){switch(e){case"L":n(t,a,o,s);break;case"Q":for(var h=t,f=a,p=1;p<r;p++)!function(e,t,n,r,i,a,o,s){var l=1-o;s.x=l*l*e+2*l*o*n+o*o*i,s.y=l*l*t+2*l*o*r+o*o*a}(t,a,l,u,o,s,p/(r-1),i),n(h,f,i.x,i.y),h=i.x,f=i.y;break;case"C":for(var m=t,g=a,v=1;v<r;v++)!function(e,t,n,r,i,a,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*i+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*a+l*l*l*s}(t,a,l,u,c,d,o,s,v/(r-1),i),n(m,g,i.x,i.y),m=i.x,g=i.y}})}var r="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",i=new WeakMap,a={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function o(e,t){var n=e.getContext?e.getContext("webgl",a):e,r=i.get(n);if(!r){var o="u">typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,s={},l={},u={},c=-1,d=[];function h(e){var t=s[e];if(!t&&!(t=s[e]=n.getExtension(e)))throw Error(e+" not supported");return t}function f(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function p(){s={},l={},u={},c=-1,d.length=0}n.canvas.addEventListener("webglcontextlost",function(e){p(),e.preventDefault()},!1),i.set(n,r={gl:n,isWebGL2:o,getExtension:h,withProgram:function(e,t,r,i){if(!l[e]){var a={},s={},u=n.createProgram();n.attachShader(u,f(t,n.VERTEX_SHADER)),n.attachShader(u,f(r,n.FRAGMENT_SHADER)),n.linkProgram(u),l[e]={program:u,transaction:function(e){n.useProgram(u),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=s[t]||(s[t]=n.getUniformLocation(u,t));n["uniform"+e].apply(n,[a].concat(r))},setAttribute:function(e,t,r,i,s){var l=a[e];l||(l=a[e]={buf:n.createBuffer(),loc:n.getAttribLocation(u,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),o?n.vertexAttribDivisor(l.loc,i):h("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,i),s!==l.data&&(n.bufferData(n.ARRAY_BUFFER,s,r),l.data=s)}})}}}l[e].transaction(i)},withTexture:function(e,t){c++;try{n.activeTexture(n.TEXTURE0+c);var r=u[e];r||(r=u[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,c)}finally{c--}},withTextureFramebuffer:function(e,t,r){var i=n.createFramebuffer();d.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,d[--d.length-1]||null)}},handleContextLoss:p})}t(r)}function s(e,t,n,i,a,s,l,u){void 0===l&&(l=15),void 0===u&&(u=null),o(e,function(e){var o=e.gl,c=e.withProgram;(0,e.withTexture)("copy",function(e,d){o.texImage2D(o.TEXTURE_2D,0,o.RGBA,a,s,0,o.RGBA,o.UNSIGNED_BYTE,t),c("copy",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,o.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",d),o.bindFramebuffer(o.FRAMEBUFFER,u||null),o.disable(o.BLEND),o.colorMask(8&l,4&l,2&l,1&l),o.viewport(n,i,a,s),o.scissor(n,i,a,s),o.drawArrays(o.TRIANGLES,0,3)})})})}var l=Object.freeze({__proto__:null,withWebGLContext:o,renderImageData:s,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;o(e,function(a){var o=a.gl,l=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,l),e.width=t,e.height=n,s(o,l,0,0,r,i)})}});function u(e,t,r,i,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=i[2]-i[0],u=i[3]-i[1],c=[];n(r,function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var d=0;d<e;d++)for(var h=0;h<t;h++){var f=function(e,t){for(var n=1/0,r=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=function(e,t,n,r,i,a){var o=i-n,s=a-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),d=t-(r+u*s);return c*c+d*d}(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(r=Math.sqrt(n=o))}}return function(e,t){for(var n=0,r=c.length;r--;){var i=c[r];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}(i[0]+l*(d+.5)/e,i[1]+u*(h+.5)/t),p=Math.pow(1-Math.abs(f)/a,o)/2;f<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),s[h*e+d]=p}return s}function c(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),d(e,t,n,r,i,a,o,null,s,l,u)}function d(e,t,n,r,i,a,o,l,c,d,h){void 0===a&&(a=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===h&&(h=0);for(var f=u(e,t,n,r,i,a),p=new Uint8Array(4*f.length),m=0;m<f.length;m++)p[4*m+h]=f[m];s(o,p,c,d,e,t,1<<3-h,l)}var h=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:c,generateIntoFramebuffer:d}),f=new Float32Array([0,0,2,0,0,2]),p=null,m=!1,g={},v=new WeakMap;function _(e){if(!m&&!S(e))throw Error("WebGL generation not supported")}function b(e,t,n,r,i,a,s){if(void 0===a&&(a=1),void 0===s&&(s=null),!s&&!(s=p)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"u">typeof document?document.createElement("canvas"):null;if(!l)throw Error("OffscreenCanvas or DOM canvas not supported");s=p=l.getContext("webgl",{depth:!1})}_(s);var u=new Uint8Array(e*t*4);o(s,function(o){var s=o.gl,l=o.withTexture,c=o.withTextureFramebuffer;l("readable",function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,l,function(o){x(e,t,n,r,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,u)})})});for(var c=new Uint8Array(e*t),d=0,h=0;d<u.length;d+=4)c[h++]=u[d];return c}function y(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),x(e,t,n,r,i,a,o,null,s,l,u)}function x(e,t,i,a,s,l,u,c,d,h,p){void 0===l&&(l=1),void 0===d&&(d=0),void 0===h&&(h=0),void 0===p&&(p=0),_(u);var m=[];n(i,function(e,t,n,r){m.push(e,t,n,r)}),m=new Float32Array(m),o(u,function(n){var i=n.gl,o=n.isWebGL2,u=n.getExtension,g=n.withProgram,v=n.withTexture,_=n.withTextureFramebuffer,b=n.handleContextLoss;if(v("rawDistances",function(n,v){(e!==n._lastWidth||t!==n._lastHeight)&&i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),g("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(r){var c=r.setAttribute,d=r.setUniform,h=!o&&u("ANGLE_instanced_arrays"),p=!o&&u("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,f),c("aLineSegment",4,i.DYNAMIC_DRAW,1,m),d.apply(void 0,["4f","uGlyphBounds"].concat(a)),d("1f","uMaxDistance",s),d("1f","uExponent",l),_(n,v,function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,o?i.MAX:p.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),o?i.drawArraysInstanced(i.TRIANGLES,0,3,m.length/4):h.drawArraysInstancedANGLE(i.TRIANGLES,0,3,m.length/4)})}),g("post",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,f),n.setUniform("1i","tex",v),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===p,1===p,2===p,3===p),i.viewport(d,h,e,t),i.scissor(d,h,e,t),i.drawArrays(i.TRIANGLES,0,3)})}),i.isContextLost())throw b(),Error("webgl context lost")})}function S(e){var t=e&&e!==p?e.canvas||e:g,n=v.get(t);if(void 0===n){m=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=b(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=a&&i.length===a.length&&a.every(function(e,t){return e===i[t]}))||(r="bad trial run results",console.info(i,a))}catch(e){n=!1,r=e.message}r&&console.warn("WebGL SDF generation not supported:",r),m=!1,v.set(t,n)}return n}var w=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:y,generateIntoFramebuffer:x,isSupported:S});return e.forEachPathCommand=t,e.generate=function(e,t,n,r,i,a){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1);try{return b.apply(w,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(h,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,a,o,s,l,u){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return y.apply(w,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),c.apply(h,arguments)}},e.javascript=h,e.pathToLineSegments=n,e.webgl=w,e.webglUtils=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}var ow=M;let oE=/\bvoid\s+main\s*\(\s*\)\s*{/g;function oT(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let n=P[t];return n?oT(n):e})}let oM=[];for(let e=0;e<256;e++)oM[e]=(e<16?"0":"")+e.toString(16);let oC=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},oA=Date.now(),oR=new WeakMap,oP=new Map,oL=1e10;function oI(e,t){let n,r,i=(n=JSON.stringify(t,oD),null==(r=ok.get(n))&&ok.set(n,r=++oU),r),a=oR.get(e);if(a||oR.set(e,a=Object.create(null)),a[i])return new a[i];let o=`_onBeforeCompile${i}`,s=function(n,r){e.onBeforeCompile.call(this,n,r);let a=this.customProgramCacheKey()+"|"+n.vertexShader+"|"+n.fragmentShader,s=oP[a];if(!s){let e=function(e,{vertexShader:t,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:d,fragmentColorTransform:h,customRewriter:f,timeUniform:p}=r;if(a=a||"",o=o||"",s=s||"",u=u||"",c=c||"",d=d||"",(l||f)&&(t=oT(t)),(h||f)&&(n=oT(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),f){let e=f({vertexShader:t,fragmentShader:n});t=e.vertexShader,n=e.fragmentShader}if(h){let e=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),d=`${h}
${e.join("\n")}
${d}`}if(p){let e=`
uniform float ${p};
`;a=e+a,u=e+u}return l&&(t=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${t}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,n,r)=>/\battribute\s+vec[23]\s+$/.test(r.substr(0,n))?t:`troika_${t}_${i}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),{vertexShader:t=oN(t,i,a,o,s),fragmentShader:n=oN(n,i,u,c,d)}}(this,n,t,i);s=oP[a]=e}n.vertexShader=s.vertexShader,n.fragmentShader=s.fragmentShader,oC(n.uniforms,this.uniforms),t.timeUniform&&(n.uniforms[t.timeUniform]={get value(){return Date.now()-oA}}),this[o]&&this[o](n)},l=function(){return u(t.chained?e:e.clone())},u=function(n){let r,a,o,s,l=Object.create(n,c);return Object.defineProperty(l,"baseMaterial",{value:e}),Object.defineProperty(l,"id",{value:oL++}),r=0xffffffff*Math.random()|0,a=0xffffffff*Math.random()|0,o=0xffffffff*Math.random()|0,s=0xffffffff*Math.random()|0,l.uuid=(oM[255&r]+oM[r>>8&255]+oM[r>>16&255]+oM[r>>24&255]+"-"+oM[255&a]+oM[a>>8&255]+"-"+oM[a>>16&15|64]+oM[a>>24&255]+"-"+oM[63&o|128]+oM[o>>8&255]+"-"+oM[o>>16&255]+oM[o>>24&255]+oM[255&s]+oM[s>>8&255]+oM[s>>16&255]+oM[s>>24&255]).toUpperCase(),l.uniforms=oC({},n.uniforms,t.uniforms),l.defines=oC({},n.defines,t.defines),l.defines[`TROIKA_DERIVED_MATERIAL_${i}`]="",l.extensions=oC({},n.extensions,t.extensions),l._listeners=void 0,l},c={constructor:{value:l},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){let t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+i}},onBeforeCompile:{get:()=>s,set(e){this[o]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(oC(this.extensions,t.extensions),oC(this.defines,t.defines),oC(this.uniforms,ow.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){return u(new e.constructor).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||((n=this._depthMaterial=oI(e.isDerivedMaterial?e.getDepthMaterial():new ow.MeshDepthMaterial({depthPacking:ow.RGBADepthPacking}),t)).defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||((n=this._distanceMaterial=oI(e.isDerivedMaterial?e.getDistanceMaterial():new ow.MeshDistanceMaterial,t)).defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return a[i]=l,new l}function oN(e,t,n,r,i){return(r||i||n)&&(e=e.replace(oE,`
${n}
void troikaOrigMain${t}() {`)+`
void main() {
  ${r}
  troikaOrigMain${t}();
  ${i}
}`),e}function oD(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let oU=0,ok=new Map,oO=`
uniform vec3 pointA;
uniform vec3 controlA;
uniform vec3 controlB;
uniform vec3 pointB;
uniform float radius;
varying float bezierT;

vec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  float b0 = t2 * t2 * t2;
  float b1 = 3.0 * t * t2 * t2;
  float b2 = 3.0 * t * t * t2;
  float b3 = t * t * t;
  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;
}

vec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {
  float t2 = 1.0 - t;
  return -3.0 * p1 * t2 * t2 +
    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +
    c2 * (6.0 * t2 * t - 3.0 * t * t) +
    3.0 * p2 * t * t;
}
`,oF=`
float t = position.y;
bezierT = t;
vec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);
vec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));

// Make "sideways" always perpendicular to the camera ray; this ensures that any twists
// in the cylinder occur where you won't see them: 
vec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);
if (bezierDir == viewDirection) {
  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));
}
vec3 sideways = normalize(cross(bezierDir, viewDirection));
vec3 upish = normalize(cross(sideways, bezierDir));

// Build a matrix for transforming this disc in the cylinder:
mat4 discTx;
discTx[0].xyz = sideways * radius;
discTx[1].xyz = bezierDir * radius;
discTx[2].xyz = upish * radius;
discTx[3].xyz = bezierCenterPos;
discTx[3][3] = 1.0;

// Apply transform, ignoring original y
position = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;
normal = normalize(mat3(discTx) * normal);
`,oB=`
uniform vec3 dashing;
varying float bezierT;
`,oz=`
if (dashing.x + dashing.y > 0.0) {
  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);
  if (dashFrac > dashing.x) {
    discard;
  }
}
`,oG=null,oj=new ow.MeshStandardMaterial({color:0xffffff,side:ow.DoubleSide});class oH extends ow.Mesh{static getGeometry(){return oG||(oG=new ow.CylinderGeometry(1,1,1,6,64).translate(0,.5,0))}constructor(){super(oH.getGeometry(),oj),this.pointA=new ow.Vector3,this.controlA=new ow.Vector3,this.controlB=new ow.Vector3,this.pointB=new ow.Vector3,this.radius=.01,this.dashArray=new ow.Vector2,this.dashOffset=0,this.frustumCulled=!1}get material(){let e=this._derivedMaterial,t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=oj.clone());return e&&e.baseMaterial===t||(e=this._derivedMaterial=oI(t,{chained:!0,uniforms:{pointA:{value:new ow.Vector3},controlA:{value:new ow.Vector3},controlB:{value:new ow.Vector3},pointB:{value:new ow.Vector3},radius:{value:.01},dashing:{value:new ow.Vector3}},vertexDefs:oO,vertexTransform:oF,fragmentDefs:oB,fragmentMainIntro:oz}),t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),e}set material(e){this._baseMaterial=e}get customDepthMaterial(){return this.material.getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return this.material.getDistanceMaterial()}set customDistanceMaterial(e){}onBeforeRender(){let{uniforms:e}=this.material,{pointA:t,controlA:n,controlB:r,pointB:i,radius:a,dashArray:o,dashOffset:s}=this;e.pointA.value.copy(t),e.controlA.value.copy(n),e.controlB.value.copy(r),e.pointB.value.copy(i),e.radius.value=a,e.dashing.value.set(o.x,o.y,s||0)}raycast(){}}let oV=ob({name:"Typr Font Parser",dependencies:[function(){var e,t,n;return"u"<typeof window&&(self.window=self),(e={},(t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var l=n.readUint(r,i);i+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<a;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,l[c]={offset:d,length:h}}for(u=0;u<o.length;u++){var f=o[u];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var l=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var u=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,l==n)return u}return 0}})._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 0x100000000*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t++]<<8|e[t++]);return r},_tdec:"u">typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var d=r(e,l,a+c,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(o+l),i.push(o+l),i.push(r.readUshort(e,n)),n+=2}if(2==a){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return -1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return -1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,i+u);c.tag=l.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var s=r.readUshort(e,n);n+=2,a.tab=[];for(var l=0;l<s;l++)a.tab.push(r.readUshort(e,n+2*l));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readScriptTable(e,i+u)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.default=t._lctf.readLangSysTable(e,i+o));var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=f}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,h),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=i.readUshort(e,n);for(n+=2,s=0;s<v+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o=a.length;r.Bias=o<1240?107:o<33900?1131:32768,r.Subrs=[];for(var s=0;s<a.length-1;s++)r.Subrs.push(i.readBytes(e,n+a[s],a[s+1]-a[s]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return -1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,a.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)a.push(l),l++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(0xffffff&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;a<=20&&(l=a,s=1),12==a&&(l=100*a+o,s=2),21<=a&&a<=27&&(l=a,s=1),28==a&&(u=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(l=a,s=1),32<=a&&a<=246&&(u=a-139,s=1),247<=a&&a<=250&&(u=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(u=-(256*(a-251))-o-108,s=2),255==a&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(d=a.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=-(256*(s-251))-l-108,u=2),255==s&&(d=a.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;if(28==s&&(d=i.readShort(e,n+1),u=3),29==s&&(d=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=-(256*(s-251))-l-108,u=2),255==s)throw d=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var h=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,m=15&f;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],_=0;_<h.length;_++)g+=v[h[_]];d=parseFloat(g)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s)&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var l=0;l<o;l++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var h="p"+u+"e"+c,f=s.indexOf(d);if(-1==f){f=a.tables.length,s.push(d);var p,m=i.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.debug("unknown format: "+m,u,c,d),a.tables.push(p)}if(null!=a[h])throw"multiple tables for one platform+encoding";a[h]=f}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,a.startCount=r.readUshorts(e,n,l),n+=2*l,a.idDelta=[];for(var u=0;u<l;u++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r,i=t._bin,a=e._data,o=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var s={};if(s.noc=i.readShort(a,o),o+=2,s.xMin=i.readShort(a,o),o+=2,s.yMin=i.readShort(a,o),o+=2,s.xMax=i.readShort(a,o),o+=2,s.yMax=i.readShort(a,o),o+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var l=0;l<s.noc;l++)s.endPts.push(i.readUshort(a,o)),o+=2;var u=i.readUshort(a,o);if(o+=2,a.length-o<u)return null;s.instructions=i.readBytes(a,o,u),o+=u;var c=s.endPts[s.noc-1]+1;for(l=0,s.flags=[];l<c;l++){var d=a[o];if(o++,s.flags.push(d),0!=(8&d)){var h=a[o];o++;for(var f=0;f<h;f++)s.flags.push(d),l++}}for(l=0,s.xs=[];l<c;l++){var p=0!=(2&s.flags[l]),m=0!=(16&s.flags[l]);p?(s.xs.push(m?a[o]:-a[o]),o++):m?s.xs.push(0):(s.xs.push(i.readShort(a,o)),o+=2)}for(l=0,s.ys=[];l<c;l++)p=0!=(4&s.flags[l]),m=0!=(32&s.flags[l]),p?(s.ys.push(m?a[o]:-a[o]),o++):m?s.ys.push(0):(s.ys.push(i.readShort(a,o)),o+=2);var g=0,v=0;for(l=0;l<c;l++)g+=s.xs[l],v+=s.ys[l],s.xs[l]=g,s.ys[l]=v}else{s.parts=[];do{r=i.readUshort(a,o),o+=2;var _={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(_),_.glyphIndex=i.readUshort(a,o),o+=2,1&r){var b=i.readShort(a,o);o+=2;var y=i.readShort(a,o);o+=2}else b=i.readInt8(a,o),o++,y=i.readInt8(a,o),o++;2&r?(_.m.tx=b,_.m.ty=y):(_.p1=b,_.p2=y),8&r?(_.m.a=_.m.d=i.readF2dot14(a,o),o+=2):64&r?(_.m.a=i.readF2dot14(a,o),o+=2,_.m.d=i.readF2dot14(a,o),o+=2):128&r&&(_.m.a=i.readF2dot14(a,o),o+=2,_.m.b=i.readF2dot14(a,o),o+=2,_.m.c=i.readF2dot14(a,o),o+=2,_.m.d=i.readF2dot14(a,o),o+=2)}while(32&r)if(256&r){var x=i.readUshort(a,o);for(o+=2,s.instr=[],l=0;l<x;l++)s.instr.push(a[o]),o++}}return s},t.GDEF={},t.GDEF.parse=function(e,n,r,i){var a=n;n+=4;var o=t._bin.readUshort(e,n);return{glyphClassDef:0===o?null:t._lctf.readClassDef(e,a+o)}},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=a.readUshort(e,r);r+=2,0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=a.readUshort(e,r),r+=2;var c=a.readUshort(e,r);r+=2;var d=t._lctf.numOfOnes(u),h=t._lctf.numOfOnes(c);if(1==s.fmt){s.pairsets=[];var f=a.readUshort(e,r);r+=2;for(var p=0;p<f;p++){var m=o+a.readUshort(e,r);r+=2;var g=a.readUshort(e,m);m+=2;for(var v=[],_=0;_<g;_++){var b=a.readUshort(e,m);m+=2,0!=u&&(T=t.GPOS.readValueRecord(e,m,u),m+=2*d),0!=c&&(M=t.GPOS.readValueRecord(e,m,c),m+=2*h),v.push({gid2:b,val1:T,val2:M})}s.pairsets.push(v)}}if(2==s.fmt){var y=a.readUshort(e,r);r+=2;var x=a.readUshort(e,r);r+=2;var S=a.readUshort(e,r);r+=2;var w=a.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+y),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],p=0;p<S;p++){var E=[];for(_=0;_<w;_++){var T=null,M=null;0!=u&&(T=t.GPOS.readValueRecord(e,r,u),r+=2*d),0!=c&&(M=t.GPOS.readValueRecord(e,r,c),r+=2*h),E.push({val1:T,val2:M})}s.matrix.push(E)}}}else if(4==n&&1==s.fmt)s.markCoverage=t._lctf.readCoverage(e,a.readUshort(e,r)+o),s.baseCoverage=t._lctf.readCoverage(e,a.readUshort(e,r+2)+o),s.markClassCount=a.readUshort(e,r+4),s.markArray=t.GPOS.readMarkArray(e,a.readUshort(e,r+6)+o),s.baseArray=t.GPOS.readBaseArray(e,a.readUshort(e,r+8)+o,s.markClassCount);else if(6==n&&1==s.fmt)s.mark1Coverage=t._lctf.readCoverage(e,a.readUshort(e,r)+o),s.mark2Coverage=t._lctf.readCoverage(e,a.readUshort(e,r+2)+o),s.markClassCount=a.readUshort(e,r+4),s.mark1Array=t.GPOS.readMarkArray(e,a.readUshort(e,r+6)+o),s.mark2Array=t.GPOS.readBaseArray(e,a.readUshort(e,r+8)+o,s.markClassCount);else{if(9==n&&1==s.fmt){var C=a.readUshort(e,r);r+=2;var A=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=C;else if(i.ltype!=C)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+A)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GPOS.readBaseArray=function(e,n,r){var i=t._bin,a=[],o=n,s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){for(var u=[],c=0;c<r;c++)u.push(t.GPOS.readAnchorRecord(e,o+i.readUshort(e,n))),n+=2;a.push(u)}return a},t.GPOS.readMarkArray=function(e,n){var r=t._bin,i=[],a=n,o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=t.GPOS.readAnchorRecord(e,r.readUshort(e,n+2)+a);l.markClass=r.readUshort(e,n),i.push(l),n+=4}return i},t.GPOS.readAnchorRecord=function(e,n){var r=t._bin,i={};return i.fmt=r.readUshort(e,n),i.x=r.readShort(e,n+2),i.y=r.readShort(e,n+4),i},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1!=n&&2!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||2==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=a.readShort(e,r),r+=2;else if(2==s.fmt){var u=a.readUshort(e,r);r+=2,s.newg=a.readUshorts(e,r,u),r+=2*s.newg.length}}else if(2==n&&1==s.fmt){u=a.readUshort(e,r),r+=2,s.seqs=[];for(var c=0;c<u;c++){var d=a.readUshort(e,r)+o;r+=2;var h=a.readUshort(e,d);s.seqs.push(a.readUshorts(e,d+2,h))}}else if(4==n)for(s.vals=[],u=a.readUshort(e,r),r+=2,c=0;c<u;c++){var f=a.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+f))}else if(5==n&&2==s.fmt){if(2==s.fmt){var p=a.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+p),s.scset=[];var m=a.readUshort(e,r);for(r+=2,c=0;c<m;c++){var g=a.readUshort(e,r);r+=2,s.scset.push(0==g?null:t.GSUB.readSubClassSet(e,o+g))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=a.readUshort(e,r),r+=2;for(var v=[],_=0;_<u;_++)v.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*_)));r+=2*u,0==c&&(s.backCvg=v),1==c&&(s.inptCvg=v),2==c&&(s.ahedCvg=v)}u=a.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var b=a.readUshort(e,r);r+=2;var y=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=b;else if(i.ltype!=b)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+l))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+l))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+l))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,l=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){a.readUint(e,n),n+=4;var u=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,l!=a&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(c),a=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(a.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(a.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var d=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var g=i.readUshort(e,n);n+=2;var v,_=l[p],b=u+12*o+g;if(0==d)v=i.readUnicode(e,b,m/2);else if(3==d&&0==h)v=i.readUnicode(e,b,m/2);else if(0==h)v=i.readASCII(e,b,m);else if(1==h)v=i.readUnicode(e,b,m/2);else if(3==h)v=i.readUnicode(e,b,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;v=i.readASCII(e,b,m),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var y="p"+d+","+f.toString(16);null==a[y]&&(a[y]={}),a[y][void 0!==_?_:p]=v,a[y]._lang=f}for(var x in a)if(null!=a[x].postScriptName&&1033==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&0==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&3084==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName)return a[x];for(var x in a){s=x;break}return console.debug("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return -1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,l=o==a?i:o+1,u=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[l],h=e.xs[o],f=e.ys[o];if(o==i)if(u){if(!c){t.U.P.moveTo(n,h,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+h)/2,(e.ys[s]+f)/2);u?c&&t.U.P.lineTo(n,h,f):d?t.U.P.qcurveTo(n,h,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,h,f,(h+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,l=0;l<a.crds.length;l+=2){var u=a.crds[l],c=a.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<a.cmds.length;l++)r.cmds.push(a.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return -1==r?0:n[r+2]},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n]))){if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var d=u[c],h=d.chain.length;if(!(h>a)){for(var f=!0,p=0,m=0;m<h;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(m=0,e[n]=d.nglyph;m<h+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var g=t._lctf.getInterval(l.cDef,e[n]),v=l.cDef[g+2],_=l.scset[v],b=0;b<_.length;b++){var y=_[b],x=y.input;if(!(x.length>a)){for(f=!0,m=0;m<x.length;m++){var S=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==g&&l.cDef[S+2]!=x[m]){f=!1;break}}if(f){var w=y.substLookupRecords;for(c=0;c<w.length;c+=2)w[c],w[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length)||!t.U._glsCovered(e,l.inptCvg,n)||!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var E=l.lookupRec;for(b=0;b<E.length;b+=2){g=E[b];var T=i[E[b+1]];t.U._applySubs(e,n+g,T,i)}}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+a),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,d=0,h=n.x,f=n.y,p=0,m=0,g=0,v=0,_=0,b=0,y=0,x=0,S=0,w=0,E={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,E);var T=E.val;if(d+=E.size,"o1"==T||"o18"==T)o.length%2==0||l||(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==T||"o23"==T)o.length%2==0||l||(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==T)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(a),f+=o.pop(),t.U.P.moveTo(a,h,f),c=!0;else if("o5"==T)for(;o.length>0;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f);else if("o6"==T||"o7"==T)for(var M=o.length,C="o6"==T,A=0;A<M;A++){var R=o.shift();C?h+=R:f+=R,C=!C,t.U.P.lineTo(a,h,f)}else if("o8"==T||"o24"==T){M=o.length;for(var P=0;P+6<=M;)p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(a,p,m,g,v,h,f),P+=6;"o24"==T&&(h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f))}else{if("o11"==T)break;if("o1234"==T||"o1235"==T||"o1236"==T||"o1237"==T)"o1234"==T&&(m=f,g=(p=h+o.shift())+o.shift(),w=v=m+o.shift(),b=v,x=f,h=(y=(_=(S=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,g,v,S,w),t.U.P.curveTo(a,_,b,y,x,h,f)),"o1235"==T&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),S=g+o.shift(),w=v+o.shift(),_=S+o.shift(),b=w+o.shift(),y=_+o.shift(),x=b+o.shift(),h=y+o.shift(),f=x+o.shift(),o.shift(),t.U.P.curveTo(a,p,m,g,v,S,w),t.U.P.curveTo(a,_,b,y,x,h,f)),"o1236"==T&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),w=v=m+o.shift(),b=v,y=(_=(S=g+o.shift())+o.shift())+o.shift(),x=b+o.shift(),h=y+o.shift(),t.U.P.curveTo(a,p,m,g,v,S,w),t.U.P.curveTo(a,_,b,y,x,h,f)),"o1237"==T&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),S=g+o.shift(),w=v+o.shift(),_=S+o.shift(),b=w+o.shift(),Math.abs((y=_+o.shift())-h)>Math.abs((x=b+o.shift())-f)?h=y+o.shift():f=x+o.shift(),t.U.P.curveTo(a,p,m,g,v,S,w),t.U.P.curveTo(a,_,b,y,x,h,f));else if("o14"==T){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var L=o.shift(),I=o.shift(),N=o.shift(),D=o.shift(),U=t.CFF.glyphBySE(r,N),k=t.CFF.glyphBySE(r,D);t.U._drawCFF(r.CharStrings[U],n,r,i,a),n.x=L,n.y=I,t.U._drawCFF(r.CharStrings[k],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==T||"o20"==T)o.length%2==0||l||(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,d+=s+7>>3;else if("o21"==T)o.length>2&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),f+=o.pop(),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,f),c=!0;else if("o22"==T)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,f),c=!0;else if("o25"==T){for(;o.length>6;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f);p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(a,p,m,g,v,h,f)}else if("o26"==T)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,m=f+o.shift(),h=g=p+o.shift(),f=(v=m+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,g,v,h,f);else if("o27"==T)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,g=(p=h+o.shift())+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v,t.U.P.curveTo(a,p,m,g,v,h,f);else if("o10"==T||"o29"==T){var O="o10"==T?i:r;if(0==o.length)console.debug("error: empty stack");else{var F=o.pop(),B=O.Subrs[F+O.Bias];n.x=h,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(B,n,r,i,a),h=n.x,f=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==T||"o31"==T){var z=o.length,G=(P=0,"o31"==T);for(P+=z-(M=-3&z);P<M;)G?(m=f,g=(p=h+o.shift())+o.shift(),f=(v=m+o.shift())+o.shift(),M-P==5?(h=g+o.shift(),P++):h=g,G=!1):(p=h,m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),M-P==5?(f=v+o.shift(),P++):f=v,G=!0),t.U.P.curveTo(a,p,m,g,v,h,f),P+=4}else{if("o"==(T+"").charAt(0))throw console.debug("Unknown operation: "+T,e),T;o.push(T)}}}n.x=h,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c},e.Typr=n=t,e.default={Typr:n},Object.defineProperty(e,"__esModule",{value:!0}),e).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=s(a,0)[0],h=new n(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var s,l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],f=l[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[h[f]>>>u]=c}else for(s=new n(i),a=0;a<i;++a)e[a]&&(s[a]=h[l[e[a]-1]++]>>>15-e[a]);return s},g=new t(288);for(f=0;f<144;++f)g[f]=8;for(f=144;f<256;++f)g[f]=9;for(f=256;f<280;++f)g[f]=7;for(f=280;f<288;++f)g[f]=8;var v=new t(32);for(f=0;f<32;++f)v[f]=5;var _=m(g,9,1),b=m(v,5,1),y=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},S=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},w=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,n){var r=Error(t||w[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},T=function(e,s,l){var c,h,f,p,g=e.length;if(!g||l&&!l.l&&g<5)return s||new t(0);var v=!s||l,w=!l||l.i;l||(l={}),s||(s=new t(3*g));var T,M=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},C=l.f||0,A=l.p||0,R=l.b||0,P=l.l,L=l.d,I=l.m,N=l.n,D=8*g;do{if(!P){l.f=C=x(e,A,1);var U=x(e,A+1,3);if(A+=3,!U){var k=e[(X=((T=A)/8|0)+(7&T&&1)+4)-4]|e[X-3]<<8,O=X+k;if(O>g){w&&E(0);break}v&&M(R+k),s.set(e.subarray(X,O),R),l.b=R+=k,l.p=A=8*O;continue}if(1==U)P=_,L=b,I=9,N=5;else if(2==U){var F=x(e,A,31)+257,B=x(e,A+10,15)+4,z=F+x(e,A+5,31)+1;A+=14;for(var G=new t(z),j=new t(19),H=0;H<B;++H)j[o[H]]=x(e,A+3*H,7);A+=3*B;var V=y(j),W=(1<<V)-1,q=m(j,V,1);for(H=0;H<z;){var X,Y=q[x(e,A,W)];if(A+=15&Y,(X=Y>>>4)<16)G[H++]=X;else{var K=0,$=0;for(16==X?($=3+x(e,A,3),A+=2,K=G[H-1]):17==X?($=3+x(e,A,7),A+=3):18==X&&($=11+x(e,A,127),A+=7);$--;)G[H++]=K}}var Z=G.subarray(0,F),Q=G.subarray(F);I=y(Z),N=y(Q),P=m(Z,I,1),L=m(Q,N,1)}else E(1);if(A>D){w&&E(0);break}}v&&M(R+131072);for(var J=(1<<I)-1,ee=(1<<N)-1,et=A;;et=A){var en=(K=P[S(e,A)&J])>>>4;if((A+=15&K)>D){w&&E(0);break}if(K||E(2),en<256)s[R++]=en;else{if(256==en){et=A,P=null;break}var er=en-254;if(en>264){var ei=i[H=en-257];er=x(e,A,(1<<ei)-1)+u[H],A+=ei}var ea=L[S(e,A)&ee],eo=ea>>>4;if(ea||E(3),A+=15&ea,Q=d[eo],eo>3&&(ei=a[eo],Q+=S(e,A)&(1<<ei)-1,A+=ei),A>D){w&&E(0);break}v&&M(R+131072);for(var es=R+er;R<es;R+=4)s[R]=s[R-Q],s[R+1]=s[R+1-Q],s[R+2]=s[R+2-Q],s[R+3]=s[R+3-Q];R=es}}l.l=P,l.p=et,l.b=R,P&&(C=1,l.m=I,l.d=L,l.n=N)}while(!C)return R==s.length?s:(c=s,(h=0)<0&&(h=0),(null==(f=R)||f>c.length)&&(f=c.length),(p=new(c instanceof n?n:c instanceof r?r:t)(f-h)).set(c.subarray(h,f)),p)},M=new t(0),C="u">typeof TextDecoder&&new TextDecoder;try{C.decode(M,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){v.setUint16(_,e),_+=2}function o(e){v.setUint32(_,e),_+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,d=12,h=[],f=0;f<s.numTables;f++)h.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),d+=16;var p,m=new Uint8Array(12+16*h.length+h.reduce(function(e,t){return e+t.origLength+4},0)),g=m.buffer,v=new DataView(g),_=0;return o(s.flavor),a(s.numTables),a(u),a(l),a(c),h.forEach(function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)}),h.forEach(function(t){var n=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var r=new Uint8Array(t.origLength);T(new Uint8Array(n,2),r)}else r=new Uint8Array(n);m.set(r,t.outOffset);var i=0;(d=t.outOffset+t.origLength)%4!=0&&(i=4-d%4),m.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=d+i}),g.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){let n,r={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},a=[null,"isol","init","fina","medi"];function o(t,n){let r=t.GDEF&&t.GDEF.glyphClassDef;return r?e.U._getGlyphClass(n,r):0}function s(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}return function(l){var u;let c,d,h,f,p,m,g=new Uint8Array(l,0,4),v=e._bin.readASCII(g,0,4);if("wOFF"===v)l=t(l);else if("wOF2"===v)throw Error("woff2 fonts not supported");return u=e.parse(l)[0],c=Object.create(null),d=u["OS/2"],h=u.hhea,f=u.head.unitsPerEm,p=s(d&&d.sTypoAscender,h&&h.ascender,f),m={unitsPerEm:f,ascender:p,descender:s(d&&d.sTypoDescender,h&&h.descender,0),capHeight:s(d&&d.sCapHeight,p),xHeight:s(d&&d.sxHeight,p),lineGap:s(d&&d.sTypoLineGap,h&&h.lineGap),supportsCodePoint:t=>e.U.codeToGlyph(u,t)>0,forEachGlyph(t,s,l,d){let h=0,f=1/m.unitsPerEm*s,p=function(t,r){let o=[];for(let n=0;n<r.length;n++){let i=r.codePointAt(n);i>65535&&n++,o.push(e.U.codeToGlyph(t,i))}let s=t.GSUB;if(s){let t,{lookupList:l,featureList:u}=s,c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,d=[];u.forEach(s=>{if(c.test(s.tag))for(let u=0;u<s.tab.length;u++){if(d[s.tab[u]])continue;d[s.tab[u]]=!0;let c=l[s.tab[u]],h=/^(isol|init|fina|medi)$/.test(s.tag);h&&!t&&(t=function(e){let t=new Uint8Array(e.length),r=32,a=1,o=-1;for(let s=0;s<e.length;s++){let l=e.codePointAt(s),u=0|function(e){if(!n){let e={R:2,L:1,D:4,C:16,U:32,T:8};for(let t in n=new Map,i){let r=0;i[t].split(",").forEach(i=>{let[a,o]=i.split("+");a=parseInt(a,36),o=o?parseInt(o,36):0,n.set(r+=a,e[t]);for(let i=o;i--;)n.set(++r,e[t])})}}return n.get(e)||32}(l),c=1;!(8&u)&&(21&r?22&u?(c=3,(1===a||3===a)&&t[o]++):33&u&&(2===a||4===a)&&t[o]--:34&r&&(2===a||4===a)&&t[o]--,a=t[s]=c,r=u,o=s,l>65535&&s++)}return t}(r));for(let n=0;n<o.length;n++)t&&h&&a[t[n]]!==s.tag||e.U._applySubs(o,n,c,l)}})}return o}(u,t),g=0,v=function(t,n){let r=new Int16Array(3*n.length),i=0;for(;i<n.length;i++){let u=n[i];if(-1===u)continue;r[3*i+2]=t.hmtx.aWidth[u];let c=t.GPOS;if(c){let d=c.lookupList;for(let c=0;c<d.length;c++){let h=d[c];for(let c=0;c<h.tabs.length;c++){let d=h.tabs[c];if(1===h.ltype){if(-1!==e._lctf.coverageIndex(d.coverage,u)&&d.pos){l(d.pos,i);break}}else if(2===h.ltype){let t=null,r=a();if(-1!==r){let a=e._lctf.coverageIndex(d.coverage,n[r]);if(-1!==a){if(1===d.fmt){let e=d.pairsets[a];for(let n=0;n<e.length;n++)e[n].gid2===u&&(t=e[n])}else if(2===d.fmt){let i=e.U._getGlyphClass(n[r],d.classDef1),a=e.U._getGlyphClass(u,d.classDef2);t=d.matrix[i][a]}if(t){t.val1&&l(t.val1,r),t.val2&&l(t.val2,i);break}}}}else if(4===h.ltype){let t=e._lctf.coverageIndex(d.markCoverage,u);if(-1!==t){let o=a(s),l=-1===o?-1:e._lctf.coverageIndex(d.baseCoverage,n[o]);if(-1!==l){let e=d.markArray[t],n=d.baseArray[l][e.markClass];r[3*i]=n.x-e.x+r[3*o]-r[3*o+2],r[3*i+1]=n.y-e.y+r[3*o+1];break}}}else if(6===h.ltype){let s=e._lctf.coverageIndex(d.mark1Coverage,u);if(-1!==s){let l=a();if(-1!==l){let a=n[l];if(3===o(t,a)){let t=e._lctf.coverageIndex(d.mark2Coverage,a);if(-1!==t){let e=d.mark1Array[s],n=d.mark2Array[t][e.markClass];r[3*i]=n.x-e.x+r[3*l]-r[3*l+2],r[3*i+1]=n.y-e.y+r[3*l+1];break}}}}}}}}else if(t.kern&&!t.cff){let e=a();if(-1!==e){let i=t.kern.glyph1.indexOf(n[e]);if(-1!==i){let n=t.kern.rval[i].glyph2.indexOf(u);-1!==n&&(r[3*e+2]+=t.kern.rval[i].vals[n])}}}}return r;function a(e){for(let t=i-1;t>=0;t--)if(-1!==n[t]&&(!e||e(n[t])))return t;return -1}function s(e){return 1===o(t,e)}function l(e,t){for(let n=0;n<3;n++)r[3*t+n]+=e[n]||0}}(u,p);return p.forEach((n,i)=>{if(-1!==n){let t=c[n];if(!t){let i,a,o,s,{cmds:l,crds:d}=e.U.glyphToPath(u,n),h="",f=0;for(let e=0,t=l.length;e<t;e++){let t=r[l[e]];h+=l[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+d[f++]}if(d.length){i=a=1/0,o=s=-1/0;for(let e=0,t=d.length;e<t;e+=2){let t=d[e],n=d[e+1];t<i&&(i=t),n<a&&(a=n),t>o&&(o=t),n>s&&(s=n)}}else i=o=a=s=0;t=c[n]={index:n,advanceWidth:u.hmtx.aWidth[n],xMin:i,yMin:a,xMax:o,yMax:s,path:h}}d.call(null,t,h+v[3*i]*f,v[3*i+1]*f,g),h+=v[3*i+2]*f,l&&(h+=l*s)}g+=t.codePointAt(g)>65535?2:1}),h}}}}],init:(e,t,n)=>n(e(),t())}),oW=ob({name:"FontResolver",dependencies:[function(e,t){let n=Object.create(null),r=Object.create(null);function i(t,i){let a=n[t];if(a)i(a);else if(r[t])r[t].push(i);else{r[t]=[i];let a=e=>{console.error(`Failure loading font ${t}`,e)};try{let i=new XMLHttpRequest;i.open("get",t,!0),i.responseType="arraybuffer",i.onload=function(){if(i.status>=400)a(Error(i.statusText));else if(i.status>0)try{var o;let a=e(i.response);a.src=t,(o=a).src=t,n[t]=o,r[t].forEach(e=>e(o)),delete r[t]}catch(e){a(e)}},i.onerror=a,i.send()}catch(e){a(e)}}}return function(e,r,{lang:a,fonts:o=[],style:s="normal",weight:l="normal",unicodeFontsURL:u}={}){let c=new Uint8Array(e.length),d=[];e.length||m();let h=new Map,f=[];if("italic"!==s&&(s="normal"),"number"!=typeof l&&(l="bold"===l?700:400),o&&!Array.isArray(o)&&(o=[o]),(o=o.slice().filter(e=>!e.lang||e.lang.test(a)).reverse()).length){let t=0;!function r(a=0){for(let s=a,l=e.length;s<l;s++){let a=e.codePointAt(s);if(1===t&&d[c[s-1]].supportsCodePoint(a)||s>0&&/\s/.test(e[s]))c[s]=c[s-1],2===t&&(f[f.length-1][1]=s);else for(let e=c[s],l=o.length;e<=l;e++)if(e===l)(2===t?f[f.length-1]:f[f.length]=[s,s])[1]=s,t=2;else{c[s]=e;let{src:l,unicodeRange:u}=o[e];if(!u||function(e,t){for(let n=0;n<t.length;n++){let[r,i=r]=t[n];if(r<=e&&e<=i)return!0}return!1}(a,u)){let e=n[l];if(!e)return void i(l,()=>{r(s)});if(e.supportsCodePoint(a)){let n=h.get(e);"number"!=typeof n&&(n=d.length,d.push(e),h.set(e,n)),c[s]=n,t=1;break}}}a>65535&&s+1<l&&(c[s+1]=c[s],s++,2===t&&(f[f.length-1][1]=s))}p()}()}else f.push([0,e.length-1]),p();function p(){if(f.length){let n=f.map(t=>e.substring(t[0],t[1]+1)).join("\n");t.getFontsForString(n,{lang:a||void 0,style:s,weight:l,dataUrl:u}).then(({fontUrls:e,chars:t})=>{let n=d.length,r=0;f.forEach(e=>{for(let i=0,a=e[1]-e[0];i<=a;i++)c[e[0]+i]=t[r++]+n;r++});let a=0;e.forEach((t,r)=>{i(t,t=>{d[r+n]=t,++a===e.length&&m()})})})}else m()}function m(){r({chars:c,fonts:d})}}},oV,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&0!=(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach(function(t,n){e.push((+n).toString(36)+":"+t.toString(36))}),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach(function(e){var n=e.split(":");t.buckets.set(parseInt(n[0],36),parseInt(n[1],36))})};function n(e,t){var n=255&e,r=t.codePointAt(n/6|0);return 0!=((r=(r||48)-48)&1<<n%6)}function r(e,t){e.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(e){return e.split("-").map(function(e){return parseInt(e.trim(),16)})}).forEach(function(e){var n=e[0],r=e[1];void 0===r&&(r=n),function(e,n){for(var r=e;r<=n;r++)t(r)}(n,r)})}var i,a={},o={},s=new WeakMap,l="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data",u=new Map;function c(e,t,n){return e[t]?t:e[n]?n:function(e){for(var t in e)return t}(e)}return e.CodePointSet=t,e.clearCache=function(){a={},o={}},e.getFontsForString=function(e,d){void 0===d&&(d={});var h=d.lang;void 0===h&&(h=/\p{Script=Hangul}/u.test(e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(e)?"ja":"en");var f=d.category;void 0===f&&(f="sans-serif");var p=d.style;void 0===p&&(p="normal");var m=d.weight;void 0===m&&(m=400);var g=(d.dataUrl||l).replace(/\/$/g,""),v=new Map,_=new Uint8Array(e.length),b={},y={},x=Array(e.length),S=new Map,w=!1;function E(e){var t=u.get(e);return t||(t=fetch(g+"/"+e).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json().then(function(e){if(!Array.isArray(e)||1!==e[0])throw Error("Incorrect schema version; need 1, got "+e[0]);return e[1]})}).catch(function(t){if(g!==l)return w||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+g+'", trying default CDN. '+t.message),w=!0),g=l,u.delete(e),E(e);throw t}),u.set(e,t)),t}for(var T=0;T<e.length;T++)!function(t){var n=e.codePointAt(t),r=function(e){var t=(-256&e).toString(16),n=((-256&e)+256-1).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+n+".json"}(n);x[t]=r,a[r]||S.has(r)||S.set(r,E(r).then(function(e){a[r]=e})),n>65535&&(T=++t)}(T);return Promise.all(S.values()).then(function(){S.clear();for(var t=0;t<e.length;t++)!function(r){var i=e.codePointAt(r),s=null,l=a[x[r]],u=void 0;for(var c in l){var d=y[c];if(void 0===d&&(d=y[c]=new RegExp(c).test(h||"en")),d){for(var f in u=c,l[c])if(n(i,l[c][f])){s=f;break}break}}if(!s){o:for(var p in l)if(p!==u){for(var m in l[p])if(n(i,l[p][m])){s=m;break o}}}s||(console.debug("No font coverage for U+"+i.toString(16)),s="latin"),x[r]=s,o[s]||S.has(s)||S.set(s,E("font-meta/"+s+".json").then(function(e){o[s]=e})),i>65535&&(t=++r)}(t);return Promise.all(S.values())}).then(function(){for(var n,a=null,l=0;l<e.length;l++){var u=e.codePointAt(l);if(a&&(i||(i=new Set,r("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(e){i.add(e)})),i.has(u)||(function(e){var n=s.get(e);return n||(n=new t,r(e.ranges,function(e){return n.add(e)}),s.set(e,n)),n})(a).has(u)))_[l]=_[l-1];else{var d=b[(a=o[x[l]]).id];if(!d){var h=a.typeforms,y=c(h,f,"sans-serif"),S=c(h[y],p,"normal"),w=function(e,t){var n=t;if(!e.includes(n)){n=1/0;for(var r=0;r<e.length;r++)Math.abs(e[r]-t)<Math.abs(n-t)&&(n=e[r])}return n}(null==(n=h[y])?void 0:n[S],m);d=b[a.id]=g+"/font-files/"+a.id+"/"+y+"."+S+"."+w+".woff"}var E=v.get(d);null==E&&(E=v.size,v.set(d,E)),_[l]=E}u>65535&&(_[++l]=_[l-1])}return{fontUrls:Array.from(v.keys()),chars:_}})},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())}),oq=()=>(self.performance||Date).now(),oX=oS(),oY=[],oK=0;function o$(){let e=oq();for(;oY.length&&oq()-e<5;)oY.shift()();oK=oY.length?setTimeout(o$,0):0}let oZ={},oQ=0;function oJ(e,t,n,r,i,a,o,s,l,u){let c="TroikaTextSDFGenerator_JS_"+oQ++%4,d=oZ[c];return d||(d=oZ[c]={workerModule:ob({name:c,workerId:c,dependencies:[oS,oq],init(e,t){let n=e().javascript.generate;return function(...e){let r=t();return{textureData:n(...e),timing:t()-r}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(e,t,n,r,i,a).then(({textureData:n,timing:r})=>{let i=oq(),a=new Uint8Array(4*n.length);for(let e=0;e<n.length;e++)a[4*e+u]=n[e];return oX.webglUtils.renderImageData(o,a,s,l,e,t,1<<3-u),r+=oq()-i,0==--d.requests&&(d.idleTimer=setTimeout(()=>{ov[c]&&ov[c].forEach(function(e){e()}),og[c]&&(og[c].terminate(),delete og[c])},2e3)),{timing:r}})}let o1=oX.webglUtils.resizeWebGLCanvasWithoutClearing,o2={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},o0=new oc.Color;function o6(){return(self.performance||Date).now()}let o5=Object.create(null);function o3(e,t){e=function(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e);let n=o6(),{defaultFontURL:r}=o2,i=[];if(r&&i.push({label:"default",src:o7(r)}),e.font&&i.push({label:"user",src:o7(e.font)}),e.font=i,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||o2.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||o2.unicodeFontsURL,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=o0.set(r).getHex()),t[n]=r}e.colorRanges=t}Object.freeze(e);let{textureWidth:a,sdfExponent:o}=o2,{sdfGlyphSize:s}=e,l=a/s*4,u=o5[s];if(!u){var c;let e,t=document.createElement("canvas");t.width=a,t.height=256*s/l,(u=o5[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:t,sdfTexture:new oc.Texture(t,void 0,void 0,void 0,oc.LinearFilter,oc.LinearFilter),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,(e=(c=u).sdfCanvas).addEventListener("webglcontextlost",e=>{console.log("Context Lost",e),e.preventDefault(),c.contextLost=!0}),e.addEventListener("webglcontextrestored",e=>{console.log("Context Restored",e),c.contextLost=!1;let t=[];c.glyphsByFont.forEach(e=>{e.forEach(e=>{t.push(o4(e,c,!0))})}),Promise.all(t).then(()=>{o8(c),c.sdfTexture.needsUpdate=!0})})}let{sdfTexture:d,sdfCanvas:h}=u;(o2.useWorker?se:st)(e).then(r=>{let{glyphIds:i,glyphFontIndices:c,fontData:f,glyphPositions:p,fontSize:m,timings:g}=r,v=[],_=new Float32Array(4*i.length),b=0,y=0,x=o6(),S=f.map(e=>{let t=u.glyphsByFont.get(e.src);return t||u.glyphsByFont.set(e.src,t=new Map),t});i.forEach((e,t)=>{let n=c[t],{src:a,unitsPerEm:o}=f[n],l=S[n].get(e);if(!l){let{path:t,pathBounds:i}=r.glyphData[a][e],o=Math.max(i[2]-i[0],i[3]-i[1])/s*(o2.sdfMargin*s+.5),c=u.glyphCount++,d=[i[0]-o,i[1]-o,i[2]+o,i[3]+o];S[n].set(e,l={path:t,atlasIndex:c,sdfViewBox:d}),v.push(l)}let{sdfViewBox:d}=l,h=p[y++],g=p[y++],x=m/o;_[b++]=h+d[0]*x,_[b++]=g+d[1]*x,_[b++]=h+d[2]*x,_[b++]=g+d[3]*x,i[t]=l.atlasIndex}),g.quads=(g.quads||0)+(o6()-x);let w=o6();g.sdf={};let E=h.height,T=Math.pow(2,Math.ceil(Math.log2(Math.ceil(u.glyphCount/l)*s)));T>E&&(console.info(`Increasing SDF texture size ${E}->${T}`),o1(h,a,T),d.dispose()),Promise.all(v.map(t=>o4(t,u,e.gpuAccelerateSDF).then(({timing:e})=>{g.sdf[t.atlasIndex]=e}))).then(()=>{v.length&&!u.contextLost&&(o8(u),d.needsUpdate=!0),g.sdfTotal=o6()-w,g.total=o6()-n,t(Object.freeze({parameters:e,sdfTexture:d,sdfGlyphSize:s,sdfExponent:o,glyphBounds:_,glyphAtlasIndices:i,glyphColors:r.glyphColors,caretPositions:r.caretPositions,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,capHeight:r.capHeight,xHeight:r.xHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings}))})}),Promise.resolve().then(()=>{!u.contextLost&&(h._warm||(oX.webgl.isSupported(h),h._warm=!0))})}function o4({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});let{textureWidth:l,sdfExponent:u}=o2,c=Math.max(n[2]-n[0],n[3]-n[1]),d=Math.floor(t/4),h=d%(l/r)*r,f=Math.floor(d/(l/r))*r;return function(e,t,n,r,i,a,s,l,u,c,d=!0){return d?((...e)=>new Promise((t,n)=>{oY.push(()=>{let r=oq();try{oX.webgl.generateIntoCanvas(...e),t({timing:oq()-r})}catch(e){n(e)}}),oK||(oK=setTimeout(o$,0))}))(e,t,n,r,i,a,s,l,u,c).then(null,d=>(o||(console.warn("WebGL SDF generation failed, falling back to JS",d),o=!0),oJ(e,t,n,r,i,a,s,l,u,c))):oJ(e,t,n,r,i,a,s,l,u,c)}(r,r,e,n,c,u,i,h,f,t%4,s)}function o7(e){return s||(s="u"<typeof document?{}:document.createElement("a")),s.href=e,s.href}function o8(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");let{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:i}=t,a=e.sdfCanvas.getContext("webgl"),o=n.image.data;o&&o.length===r*i*4||(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}let o9=ob({name:"Typesetter",dependencies:[function(e,t){let n=1/0,r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i=`[^\\S\\u00A0]`,a=RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:o="",font:d,lang:h,sdfGlyphSize:f=64,fontSize:p=400,fontWeight:m=1,fontStyle:g="normal",letterSpacing:v=0,lineHeight:_="normal",maxWidth:b=n,direction:y,textAlign:x="left",textIndent:S=0,whiteSpace:w="normal",overflowWrap:E="normal",anchorX:T=0,anchorY:M=0,metricsOnly:C=!1,unicodeFontsURL:A,preResolvedFonts:R=null,includeCaretPositions:P=!1,chunkedBoundsSize:L=8192,colorRanges:I=null},N){let D=u(),U={fontLoad:0,typesetting:0};o.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),o=o.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),p*=1,v*=1,b*=1,_=_||"normal",S*=1,function({text:t,lang:n,fonts:r,style:i,weight:a,preResolvedFonts:o,unicodeFontsURL:s},l){let u=({chars:e,fonts:t})=>{let n,r,i=[];for(let a=0;a<e.length;a++)e[a]!==r?(r=e[a],i.push(n={start:a,end:a,fontObj:t[e[a]]})):n.end=a;l(i)};o?u(o):e(t,u,{lang:n,fonts:r,style:i,weight:a,unicodeFontsURL:s})}({text:o,lang:h,style:g,weight:m,fonts:"string"==typeof d?[{src:d}]:d,unicodeFontsURL:A,preResolvedFonts:R},e=>{U.fontLoad=u()-D;let d=isFinite(b),h=null,f=null,m=null,g=null,A=null,R=null,k=null,O=null,F=0,B=0,z="nowrap"!==w,G=new Map,j=u(),H=S,V=0,W=new c,q=[W];e.forEach(e=>{let t,n,{fontObj:s}=e,{ascender:l,descender:u,unitsPerEm:h,lineGap:f,capHeight:m,xHeight:g}=s,y=G.get(s);if(!y){let e=p/h,t="normal"===_?(l-u+f)*e:_*p,n=(t-(l-u)*e)/2,r=Math.min(t,(l-u)*e),i=(l+u)/2*e+r/2;y={index:G.size,src:s.src,fontObj:s,fontSizeMult:e,unitsPerEm:h,ascender:l*e,descender:u*e,capHeight:m*e,xHeight:g*e,lineHeight:t,baseline:-n-l*e,caretTop:i,caretBottom:i-r},G.set(s,y)}let{fontSizeMult:x}=y,w=o.slice(e.start,e.end+1);s.forEachGlyph(w,p,v,(s,l,u,h)=>{let f;l+=V,h+=e.start,t=l,n=s;let m=o.charAt(h),g=s.advanceWidth*x,_=W.count;if("isEmpty"in s||(s.isWhitespace=!!m&&new RegExp(i).test(m),s.canBreakAfter=!!m&&a.test(m),s.isEmpty=s.xMin===s.xMax||s.yMin===s.yMax||r.test(m)),!s.isWhitespace&&!s.isEmpty&&B++,z&&d&&!s.isWhitespace&&l+g+H>b&&_){if(W.glyphAt(_-1).glyphObj.canBreakAfter)f=new c,H=-l;else for(let e=_;e--;)if(0===e&&"break-word"===E){f=new c,H=-l;break}else if(W.glyphAt(e).glyphObj.canBreakAfter){let t=(f=W.splitAt(e+1)).glyphAt(0).x;H-=t;for(let e=f.count;e--;)f.glyphAt(e).x-=t;break}f&&(W.isSoftWrapped=!0,W=f,q.push(W),F=b)}let w=W.glyphAt(W.count);w.glyphObj=s,w.x=l+H,w.y=u,w.width=g,w.charIndex=h,w.fontData=y,"\n"===m&&(W=new c,q.push(W),H=-(l+g+v*p)+S)}),V=t+n.advanceWidth*x+v*p});let X=0;q.forEach(e=>{let t=!0;for(let n=e.count;n--;){let r=e.glyphAt(n);t&&!r.glyphObj.isWhitespace&&(e.width=r.x+r.width,e.width>F&&(F=e.width),t=!1);let{lineHeight:i,capHeight:a,xHeight:o,baseline:s}=r.fontData;i>e.lineHeight&&(e.lineHeight=i);let l=s-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+a),e.ex=Math.max(e.ex,e.baseline+o)}e.baseline-=X,e.cap-=X,e.ex-=X,X+=e.lineHeight});let Y=0,K=0;if(T&&("number"==typeof T?Y=-T:"string"==typeof T&&(Y=-F*("left"===T?0:"center"===T?.5:"right"===T?1:s(T)))),M&&("number"==typeof M?K=-M:"string"==typeof M&&(K="top"===M?0:"top-baseline"===M?-q[0].baseline:"top-cap"===M?-q[0].cap:"top-ex"===M?-q[0].ex:"middle"===M?X/2:"bottom"===M?X:"bottom-baseline"===M?-q[q.length-1].baseline:s(M)*X)),!C){let e,r,i=t.getEmbeddingLevels(o,y);h=new Uint16Array(B),f=new Uint8Array(B),m=new Float32Array(2*B),g={},k=[n,n,-n,-n],O=[],P&&(R=new Float32Array(4*o.length)),I&&(A=new Uint8Array(3*B));let a=0,s=-1,u=-1;if(q.forEach((c,d)=>{let{count:p,width:v}=c;if(p>0){let d,_=0;for(let e=p;e--&&c.glyphAt(e).glyphObj.isWhitespace;)_++;let b=0,y=0;if("center"===x)b=(F-v)/2;else if("right"===x)b=F-v;else if("justify"===x&&c.isSoftWrapped){let e=0;for(let t=p-_;t--;)c.glyphAt(t).glyphObj.isWhitespace&&e++;y=(F-v)/e}if(y||b){let e=0;for(let t=0;t<p;t++){let n=c.glyphAt(t),r=n.glyphObj;n.x+=b+e,0!==y&&r.isWhitespace&&t<p-_&&(e+=y,n.width+=y)}}let S=t.getReorderSegments(o,i,c.glyphAt(0).charIndex,c.glyphAt(c.count-1).charIndex);for(let e=0;e<S.length;e++){let[t,n]=S[e],r=1/0,i=-1/0;for(let e=0;e<p;e++)if(c.glyphAt(e).charIndex>=t){let t=e,a=e;for(;a<p;a++){let e=c.glyphAt(a);if(e.charIndex>n)break;a<p-_&&(r=Math.min(r,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<a;e++){let t=c.glyphAt(e);t.x=i-(t.x+t.width-r)}break}}let w=e=>d=e;for(let v=0;v<p;v++){let p=c.glyphAt(v),_=(d=p.glyphObj).index,b=1&i.levels[p.charIndex];if(b){let e=t.getMirroredCharacter(o[p.charIndex]);e&&p.fontData.fontObj.forEachGlyph(e,0,0,w)}if(P){let{charIndex:e,fontData:t}=p,n=p.x+Y,r=p.x+p.width+Y;R[4*e]=b?r:n,R[4*e+1]=b?n:r,R[4*e+2]=c.baseline+t.caretBottom+K,R[4*e+3]=c.baseline+t.caretTop+K;let i=e-s;i>1&&l(R,s,i),s=e}if(I){let{charIndex:e}=p;for(;e>u;)u++,I.hasOwnProperty(u)&&(r=I[u])}if(!d.isWhitespace&&!d.isEmpty){let t=a++,{fontSizeMult:i,src:o,index:s}=p.fontData,l=g[o]||(g[o]={});l[_]||(l[_]={path:d.path,pathBounds:[d.xMin,d.yMin,d.xMax,d.yMax]});let u=p.x+Y,v=p.y+c.baseline+K;m[2*t]=u,m[2*t+1]=v;let b=u+d.xMin*i,y=v+d.yMin*i,x=u+d.xMax*i,S=v+d.yMax*i;b<k[0]&&(k[0]=b),y<k[1]&&(k[1]=y),x>k[2]&&(k[2]=x),S>k[3]&&(k[3]=S),t%L==0&&(e={start:t,end:t,rect:[n,n,-n,-n]},O.push(e)),e.end++;let w=e.rect;if(b<w[0]&&(w[0]=b),y<w[1]&&(w[1]=y),x>w[2]&&(w[2]=x),S>w[3]&&(w[3]=S),h[t]=_,f[t]=s,I){let e=3*t;A[e]=r>>16&255,A[e+1]=r>>8&255,A[e+2]=255&r}}}}}),R){let e=o.length-s;e>1&&l(R,s,e)}}let $=[];G.forEach(({index:e,src:t,unitsPerEm:n,ascender:r,descender:i,lineHeight:a,capHeight:o,xHeight:s})=>{$[e]={src:t,unitsPerEm:n,ascender:r,descender:i,lineHeight:a,capHeight:o,xHeight:s}}),U.typesetting=u()-j,N({glyphIds:h,glyphFontIndices:f,glyphPositions:m,glyphData:g,fontData:$,caretPositions:R,glyphColors:A,chunkedBounds:O,fontSize:p,topBaseline:K+q[0].baseline,blockBounds:[Y,K-X,Y+F,K],visibleBounds:k,timings:U})})}function s(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(e,t,n){let r=e[4*t],i=e[4*t+1],a=e[4*t+2],o=e[4*t+3],s=(i-r)/n;for(let i=0;i<n;i++){let n=(t+i)*4;e[n]=r+s*i,e[n+1]=r+s*(i+1),e[n+2]=a,e[n+3]=o}}function u(){return(self.performance||Date).now()}function c(){this.data=[]}let d=["glyphObj","x","y","width","charIndex","fontData"];return c.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(e){let t=c.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new c;return t.data=this.data.splice(e*d.length),t}},c.flyweight=d.reduce((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*d.length+n]},set(e){this.data[this.index*d.length+n]=e}}),e),{data:null,index:0}),{typeset:o,measure:function(e,t){o({...e,metricsOnly:!0},e=>{let[n,r,i,a]=e.blockBounds;t({width:i-n,height:a-r})})}}},oW,function(){return function(e){var t,n,r,i,a={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},s={};o.L=1,s[1]="L",Object.keys(a).forEach(function(e,t){o[e]=1<<t+1,s[o[e]]=e}),Object.freeze(o);var l=o.LRI|o.RLI|o.FSI,u=o.L|o.R|o.AL,c=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,d=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,h=o.S|o.WS|o.B|l|o.PDI|d,f=null;function p(e){if(!f){f=new Map;var t=function(e){if(a.hasOwnProperty(e)){var t=0;a[e].split(",").forEach(function(n){var r=n.split("+"),i=r[0],a=r[1];i=parseInt(i,36),a=a?parseInt(a,36):0,f.set(t+=i,o[e]);for(var s=0;s<a;s++)f.set(++t,o[e])})}};for(var n in a)t(n)}return f.get(e.codePointAt(0))||o.L}function m(e,t){var n,r=0,i=new Map,a=t&&new Map;return e.split(",").forEach(function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),i.set(u,c),t&&a.set(c,u)}}),{map:i,reverseMap:a}}function g(){if(!t){var e=m("14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",!0),i=e.map,a=e.reverseMap;t=i,n=a,r=m("6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye",!1).map}}function v(e){return g(),t.get(e)||null}function _(e){return g(),n.get(e)||null}function b(e){return g(),r.get(e)||null}var y=o.L,x=o.R,S=o.EN,w=o.ES,E=o.ET,T=o.AN,M=o.CS,C=o.B,A=o.S,R=o.ON,P=o.BN,L=o.NSM,I=o.AL,N=o.LRO,D=o.RLO,U=o.LRE,k=o.RLE,O=o.PDF,F=o.LRI,B=o.RLI,z=o.FSI,G=o.PDI;function j(e){if(!i){var t=m("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),n=t.map;t.reverseMap.forEach(function(e,t){n.set(t,e)}),i=n}return i.get(e)||null}function H(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var a=[];return t.paragraphs.forEach(function(i){var o=Math.max(n,i.start),s=Math.min(r,i.end);if(o<s){for(var l=t.levels.slice(o,s+1),u=s;u>=o&&p(e[u])&h;u--)l[u]=i.level;for(var c=i.level,d=1/0,f=0;f<l.length;f++){var m=l[f];m>c&&(c=m),m<d&&(d=1|m)}for(var g=c;g>=d;g--)for(var v=0;v<l.length;v++)if(l[v]>=g){for(var _=v;v+1<l.length&&l[v+1]>=g;)v++;v>_&&a.push([_+o,v+o])}}}),a}function V(e,t,n,r){for(var i=H(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach(function(e){for(var t=e[0],n=e[1],r=a.slice(t,n+1),i=r.length;i--;)a[n-i]=r[i]}),a}return e.closingToOpeningBracket=_,e.getBidiCharType=p,e.getBidiCharTypeName=function(e){return s[p(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=p(e[r]);var i=new Map;function a(e,t){var r=n[e];n[e]=t,i.set(r,i.get(r)-1),r&c&&i.set(c,i.get(c)-1),i.set(t,(i.get(t)||0)+1),t&c&&i.set(c,(i.get(c)||0)+1)}for(var o=new Uint8Array(e.length),s=new Map,f=[],m=null,g=0;g<e.length;g++)m||f.push(m={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:tP(g,!1)}),n[g]&C&&(m.end=g,m=null);for(var j=k|U|D|N|l|G|O|C,H=function(e){return e+(1&e?1:2)},V=function(e){return e+(1&e?2:1)},W=0;W<f.length;W++){var q=[{_level:(m=f[W]).level,_override:0,_isolate:0}],X=void 0,Y=0,K=0,$=0;i.clear();for(var Z=m.start;Z<=m.end;Z++){var Q=n[Z];if(X=q[q.length-1],i.set(Q,(i.get(Q)||0)+1),Q&c&&i.set(c,(i.get(c)||0)+1),Q&j)if(Q&(k|U)){o[Z]=X._level;var J=(Q===k?V:H)(X._level);!(J<=125)||Y||K?!Y&&K++:q.push({_level:J,_override:0,_isolate:0})}else if(Q&(D|N)){o[Z]=X._level;var ee=(Q===D?V:H)(X._level);!(ee<=125)||Y||K?!Y&&K++:q.push({_level:ee,_override:Q&D?x:y,_isolate:0})}else if(Q&l){Q&z&&(Q=1===tP(Z+1,!0)?B:F),o[Z]=X._level,X._override&&a(Z,X._override);var et=(Q===B?V:H)(X._level);et<=125&&0===Y&&0===K?($++,q.push({_level:et,_override:0,_isolate:1,_isolInitIndex:Z})):Y++}else if(Q&G){if(Y>0)Y--;else if($>0){for(K=0;!q[q.length-1]._isolate;)q.pop();var en=q[q.length-1]._isolInitIndex;null!=en&&(s.set(en,Z),s.set(Z,en)),q.pop(),$--}X=q[q.length-1],o[Z]=X._level,X._override&&a(Z,X._override)}else Q&O?(0===Y&&(K>0?K--:!X._isolate&&q.length>1&&(q.pop(),X=q[q.length-1])),o[Z]=X._level):Q&C&&(o[Z]=m.level);else o[Z]=X._level,X._override&&Q!==P&&a(Z,X._override)}for(var er=[],ei=null,ea=m.start;ea<=m.end;ea++){var eo=n[ea];if(!(eo&d)){var es=o[ea],el=eo&l,eu=eo===G;ei&&es===ei._level?(ei._end=ea,ei._endsWithIsolInit=el):er.push(ei={_start:ea,_end:ea,_level:es,_startsWithPDI:eu,_endsWithIsolInit:el})}}for(var ec=[],ed=0;ed<er.length;ed++){var eh=er[ed];if(!eh._startsWithPDI||eh._startsWithPDI&&!s.has(eh._start)){for(var ef=[ei=eh],ep=void 0;ei&&ei._endsWithIsolInit&&null!=(ep=s.get(ei._end));)for(var em=ed+1;em<er.length;em++)if(er[em]._start===ep){ef.push(ei=er[em]);break}for(var eg=[],ev=0;ev<ef.length;ev++)for(var e_=ef[ev],eb=e_._start;eb<=e_._end;eb++)eg.push(eb);for(var ey=o[eg[0]],ex=m.level,eS=eg[0]-1;eS>=0;eS--)if(!(n[eS]&d)){ex=o[eS];break}var ew=eg[eg.length-1],eE=o[ew],eT=m.level;if(!(n[ew]&l)){for(var eM=ew+1;eM<=m.end;eM++)if(!(n[eM]&d)){eT=o[eM];break}}ec.push({_seqIndices:eg,_sosType:Math.max(ex,ey)%2?x:y,_eosType:Math.max(eT,eE)%2?x:y})}}for(var eC=0;eC<ec.length;eC++){var eA=ec[eC],eR=eA._seqIndices,eP=eA._sosType,eL=eA._eosType,eI=1&o[eR[0]]?x:y;if(i.get(L))for(var eN=0;eN<eR.length;eN++){var eD=eR[eN];if(n[eD]&L){for(var eU=eP,ek=eN-1;ek>=0;ek--)if(!(n[eR[ek]]&d)){eU=n[eR[ek]];break}a(eD,eU&(l|G)?R:eU)}}if(i.get(S))for(var eO=0;eO<eR.length;eO++){var eF=eR[eO];if(n[eF]&S)for(var eB=eO-1;eB>=-1;eB--){var ez=-1===eB?eP:n[eR[eB]];if(ez&u){ez===I&&a(eF,T);break}}}if(i.get(I))for(var eG=0;eG<eR.length;eG++){var ej=eR[eG];n[ej]&I&&a(ej,x)}if(i.get(w)||i.get(M))for(var eH=1;eH<eR.length-1;eH++){var eV=eR[eH];if(n[eV]&(w|M)){for(var eW=0,eq=0,eX=eH-1;eX>=0&&(eW=n[eR[eX]])&d;eX--);for(var eY=eH+1;eY<eR.length&&(eq=n[eR[eY]])&d;eY++);eW===eq&&(n[eV]===w?eW===S:eW&(S|T))&&a(eV,eW)}}if(i.get(S)){for(var eK=0;eK<eR.length;eK++)if(n[eR[eK]]&S){for(var e$=eK-1;e$>=0&&n[eR[e$]]&(E|d);e$--)a(eR[e$],S);for(eK++;eK<eR.length&&n[eR[eK]]&(E|d|S);eK++)n[eR[eK]]!==S&&a(eR[eK],S)}}if(i.get(E)||i.get(w)||i.get(M))for(var eZ=0;eZ<eR.length;eZ++){var eQ=eR[eZ];if(n[eQ]&(E|w|M)){a(eQ,R);for(var eJ=eZ-1;eJ>=0&&n[eR[eJ]]&d;eJ--)a(eR[eJ],R);for(var e1=eZ+1;e1<eR.length&&n[eR[e1]]&d;e1++)a(eR[e1],R)}}if(i.get(S))for(var e2=0,e0=eP;e2<eR.length;e2++){var e6=eR[e2],e5=n[e6];e5&S?e0===y&&a(e6,y):e5&u&&(e0=e5)}if(i.get(c)){for(var e3=x|S|T,e4=e3|y,e7=[],e8=[],e9=0;e9<eR.length;e9++)if(n[eR[e9]]&c){var te=e[eR[e9]],tt=void 0;if(null!==v(te))if(e8.length<63)e8.push({char:te,seqIndex:e9});else break;else if(null!==(tt=_(te)))for(var tn=e8.length-1;tn>=0;tn--){var tr=e8[tn].char;if(tr===tt||tr===_(b(te))||v(b(tr))===te){e7.push([e8[tn].seqIndex,e9]),e8.length=tn;break}}}e7.sort(function(e,t){return e[0]-t[0]});for(var ti=0;ti<e7.length;ti++){for(var ta=e7[ti],to=ta[0],ts=ta[1],tl=!1,tu=0,tc=to+1;tc<ts;tc++){var td=eR[tc];if(n[td]&e4){tl=!0;var th=n[td]&e3?x:y;if(th===eI){tu=th;break}}}if(tl&&!tu){tu=eP;for(var tf=to-1;tf>=0;tf--){var tp=eR[tf];if(n[tp]&e4){var tm=n[tp]&e3?x:y;tu=tm!==eI?tm:eI;break}}}if(tu){if(n[eR[to]]=n[eR[ts]]=tu,tu!==eI){for(var tg=to+1;tg<eR.length;tg++)if(!(n[eR[tg]]&d)){p(e[eR[tg]])&L&&(n[eR[tg]]=tu);break}}if(tu!==eI){for(var tv=ts+1;tv<eR.length;tv++)if(!(n[eR[tv]]&d)){p(e[eR[tv]])&L&&(n[eR[tv]]=tu);break}}}}for(var t_=0;t_<eR.length;t_++)if(n[eR[t_]]&c){for(var tb=t_,ty=t_,tx=eP,tS=t_-1;tS>=0;tS--)if(n[eR[tS]]&d)tb=tS;else{tx=n[eR[tS]]&e3?x:y;break}for(var tw=eL,tE=t_+1;tE<eR.length;tE++)if(n[eR[tE]]&(c|d))ty=tE;else{tw=n[eR[tE]]&e3?x:y;break}for(var tT=tb;tT<=ty;tT++)n[eR[tT]]=tx===tw?tx:eI;t_=ty}}}for(var tM=m.start;tM<=m.end;tM++){var tC=o[tM],tA=n[tM];if(1&tC?tA&(y|S|T)&&o[tM]++:tA&x?o[tM]++:tA&(T|S)&&(o[tM]+=2),tA&d&&(o[tM]=0===tM?m.level:o[tM-1]),tM===m.end||p(e[tM])&(A|C))for(var tR=tM;tR>=0&&p(e[tR])&h;tR--)o[tR]=m.level}}return{levels:o,paragraphs:f};function tP(t,r){for(var i=t;i<e.length;i++){var a=n[i];if(a&(x|I))return 1;if(a&(C|y)||r&&a===G)break;if(a&l){var o=function(t){for(var r=1,i=t+1;i<e.length;i++){var a=n[i];if(a&C)break;if(a&G){if(0==--r)return i}else a&l&&r++}return -1}(i);i=-1===o?e.length:o}}return 0}},e.getMirroredCharacter=j,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(1&t[o]){var s=j(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=H,e.getReorderedIndices=V,e.getReorderedString=function(e,t,n,r){var i=V(e,t,n,r),a=[].concat(e);return i.forEach(function(n,r){a[r]=(1&t.levels[n]?j(e[n]):null)||e[n]}),a.join("")},e.openingToClosingBracket=v,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())}),se=ob({name:"Typesetter",dependencies:[o9],init:e=>function(t){return new Promise(n=>{e.typeset(t,n)})},getTransferables(e){let t=[];for(let n in e)e[n]&&e[n].buffer&&t.push(e[n].buffer);return t}}),st=se.onMainThread,sn={},sr="aTroikaGlyphIndex";class si extends oc.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new oc.Sphere,this.boundingBox=new oc.Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){var t;let n;this._detail=e,("number"!=typeof e||e<1)&&(e=1);let r=((n=sn[t=e])||(n=sn[t]=new oc.PlaneGeometry(1,1,t,t).translate(.5,.5,0)),n);["position","normal","uv"].forEach(e=>{this.attributes[e]=r.attributes[e].clone()}),this.setIndex(r.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,i){this.updateAttributeData("aTroikaGlyphBounds",e,4),this.updateAttributeData(sr,t,1),this.updateAttributeData("aTroikaGlyphColor",i,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){let e=this._blockBounds;if(e){let{curveRadius:t,boundingBox:n}=this;if(t){let{PI:r,floor:i,min:a,max:o,sin:s,cos:l}=Math,u=r/2,c=2*r,d=Math.abs(t),h=e[0]/d,f=e[2]/d,p=i((h+u)/c)!==i((f+u)/c)?-d:a(s(h)*d,s(f)*d),m=i((h-u)/c)!==i((f-u)/c)?d:o(s(h)*d,s(f)*d),g=i((h+r)/c)!==i((f+r)/c)?2*d:o(d-l(h)*d,d-l(f)*d);n.min.set(p,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(sr).count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){let r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new oc.InstancedBufferAttribute(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}let sa=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,so=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,ss=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,sl=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`,su=new oc.MeshBasicMaterial({color:0xffffff,side:oc.DoubleSide,transparent:!0}),sc=new oc.Matrix4,sd=new oc.Vector3,sh=new oc.Vector3,sf=[],sp=new oc.Vector3,sm="+x+y";function sg(e){return Array.isArray(e)?e[0]:e}let sv=()=>{let e=new oc.Mesh(new oc.PlaneGeometry(1,1),su);return sv=()=>e,e},s_=()=>{let e=new oc.Mesh(new oc.PlaneGeometry(1,1,32,1),su);return s_=()=>e,e},sb={type:"syncstart"},sy={type:"synccomplete"},sx=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],sS=sx.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class sw extends oc.Mesh{constructor(){super(new si,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=sm,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(sb),o3({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);let n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(e=>e&&e())})),this.dispatchEvent(sy),e&&e()})))}onBeforeRender(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){let t;return(t=oI(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new oc.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new oc.Vector4(0,0,0,0)},uTroikaClipRect:{value:new oc.Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new oc.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new oc.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new oc.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:sa,vertexTransform:so,fragmentDefs:ss,fragmentColorTransform:sl,customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(oE,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}})).transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}get material(){let e=this._derivedMaterial,t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=su.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),!this.hasOutline())return e;{let t=e._outlineMtl;return t||((t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}})).isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",function n(){e.removeEventListener("dispose",n),t.dispose()})),[t,e]}}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return sg(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return sg(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){let t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){let e,i,a,{sdfTexture:o,blockBounds:s}=r;n.uTroikaSDFTexture.value=o,n.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(s),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let l=0,u=0,c=0,d=0,h=0;if(t){let{outlineWidth:t,outlineOffsetX:n,outlineOffsetY:r,outlineBlur:i,outlineOpacity:a}=this;l=this._parsePercent(t)||0,u=Math.max(0,this._parsePercent(i)||0),e=a,d=this._parsePercent(n)||0,h=this._parsePercent(r)||0}else(c=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(a=this.strokeColor,n.uTroikaStrokeColor.value.set(null==a?8421504:a),null==(i=this.strokeOpacity)&&(i=1)),e=this.fillOpacity;n.uTroikaEdgeOffset.value=l,n.uTroikaPositionOffset.value.set(d,h),n.uTroikaBlurRadius.value=u,n.uTroikaStrokeWidth.value=c,n.uTroikaStrokeOpacity.value=i,n.uTroikaFillOpacity.value=null==e?1:e,n.uTroikaCurveRadius.value=this.curveRadius||0;let f=this.clipRect;if(f&&Array.isArray(f)&&4===f.length)n.uTroikaClipRect.value.fromArray(f);else{let e=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(s[0]-e,s[1]-e,s[2]+e,s[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;let i=t?this.outlineColor||0:this.color;if(null==i)delete e.color;else{let t=e.hasOwnProperty("color")?e.color:e.color=new oc.Color;(i!==t._input||"object"==typeof i)&&t.set(t._input=i)}let a=this.orientation||sm;if(a!==e._orientation){let t=n.uTroikaOrient.value,r=(a=a.replace(/[^-+xyz]/g,""))!==sm&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(r){let[,e,n,i,a]=r;sd.set(0,0,0)[n]="-"===e?1:-1,sh.set(0,0,0)[a]="-"===i?-1:1,sc.lookAt(sp,sd.cross(sh),sh),t.setFromMatrix4(sc)}else t.identity();e._orientation=a}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new oc.Vector2){t.copy(e);let n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new oc.Vector2){return sd.copy(e),this.localPositionToTextCoords(this.worldToLocal(sd),t)}raycast(e,t){let{textRenderInfo:n,curveRadius:r}=this;if(n){let i=n.blockBounds,a=r?s_():sv(),o=a.geometry,{position:s,uv:l}=o.attributes;for(let e=0;e<l.count;e++){let t=i[0]+l.getX(e)*(i[2]-i[0]),n=i[1]+l.getY(e)*(i[3]-i[1]),a=0;r&&(a=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),s.setXYZ(e,t,n,a)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,sf.length=0,a.raycast(e,sf);for(let e=0;e<sf.length;e++)sf[e].object=this,t.push(sf[e])}}copy(e){let t=this.geometry;return super.copy(e),this.geometry=t,sS.forEach(t=>{this[t]=e[t]}),this}clone(){return new this.constructor().copy(this)}}sx.forEach(e=>{let t="_private_"+e;Object.defineProperty(sw.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}),new oc.Box3,new oc.Color,new WeakMap,new WeakMap;let sE=T.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:n="middle",font:r,fontSize:i=1,children:a,characters:o,onSync:s,...l},u)=>{let c=nW(({invalidate:e})=>e),[d]=T.useState(()=>new sw),[h,f]=T.useMemo(()=>{let e=[],t="";return T.Children.forEach(a,n=>{"string"==typeof n||"number"==typeof n?t+=n:e.push(n)}),[e,t]},[a]);return ns(()=>new Promise(e=>(function({font:e,characters:t,sdfGlyphSize:n},r){o3({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},r)})({font:r,characters:o},e)),["troika-text",r,o],!1,void 0),T.useLayoutEffect(()=>void d.sync(()=>{c(),s&&s(d)})),T.useEffect(()=>()=>d.dispose(),[d]),T.createElement("primitive",rP({object:d,ref:u,font:r,text:f,anchorX:t,anchorY:n,fontSize:i,sdfGlyphSize:e},l),h)}),sT=T.forwardRef(function({args:[e=1,t=1,n=1]=[],radius:r=.05,steps:i=1,smoothness:a=4,bevelSegments:o=4,creaseAngle:s=.4,children:l,...u},c){return T.createElement("mesh",rP({ref:c},u),T.createElement(sM,{args:[e,t,n],radius:r,steps:i,smoothness:a,bevelSegments:o,creaseAngle:s}),l)}),sM=T.forwardRef(function({args:[e=1,t=1,n=1]=[],radius:r=.05,steps:i=1,smoothness:a=4,bevelSegments:o=4,creaseAngle:s=.4,...l},u){let c=T.useMemo(()=>{let n,i;return n=new M.Shape,i=r-1e-5,n.absarc(1e-5,1e-5,1e-5,-Math.PI/2,-Math.PI,!0),n.absarc(1e-5,t-2*i,1e-5,Math.PI,Math.PI/2,!0),n.absarc(e-2*i,t-2*i,1e-5,Math.PI/2,0,!0),n.absarc(e-2*i,1e-5,1e-5,0,-Math.PI/2,!0),n},[e,t,r]),d=T.useMemo(()=>({depth:n-2*r,bevelEnabled:!0,bevelSegments:2*o,steps:i,bevelSize:r-1e-5,bevelThickness:r,curveSegments:a}),[n,r,a,o,i]),h=T.useRef(null);return T.useLayoutEffect(()=>{h.current&&(h.current.center(),function(e,t=Math.PI/3){let n=Math.cos(t),r=(1+1e-10)*100,i=[new M.Vector3,new M.Vector3,new M.Vector3],a=new M.Vector3,o=new M.Vector3,s=new M.Vector3,l=new M.Vector3;function u(e){let t=~~(e.x*r),n=~~(e.y*r),i=~~(e.z*r);return`${t},${n},${i}`}let c=e.index?e.toNonIndexed():e,d=c.attributes.position,h={};for(let e=0,t=d.count/3;e<t;e++){let t=3*e,n=i[0].fromBufferAttribute(d,t+0),r=i[1].fromBufferAttribute(d,t+1),s=i[2].fromBufferAttribute(d,t+2);a.subVectors(s,r),o.subVectors(n,r);let l=new M.Vector3().crossVectors(a,o).normalize();for(let e=0;e<3;e++){let t=u(i[e]);t in h||(h[t]=[]),h[t].push(l)}}let f=new Float32Array(3*d.count),p=new M.BufferAttribute(f,3,!1);for(let e=0,t=d.count/3;e<t;e++){let t=3*e,r=i[0].fromBufferAttribute(d,t+0),c=i[1].fromBufferAttribute(d,t+1),f=i[2].fromBufferAttribute(d,t+2);a.subVectors(f,c),o.subVectors(r,c),s.crossVectors(a,o).normalize();for(let e=0;e<3;e++){let r=h[u(i[e])];l.set(0,0,0);for(let e=0,t=r.length;e<t;e++){let t=r[e];s.dot(t)>n&&l.add(t)}l.normalize(),p.setXYZ(t+e,l.x,l.y,l.z)}}c.setAttribute("normal",p)}(h.current,s))},[c,d,s]),T.useImperativeHandle(u,()=>h.current),T.createElement("extrudeGeometry",rP({ref:h,args:[c,d]},l))}),sC=e=>{let t=nt(e),n=e=>(function(e,t=e=>e){let n=T.default.useSyncExternalStore(e.subscribe,T.default.useCallback(()=>t(e.getState()),[e,t]),T.default.useCallback(()=>t(e.getInitialState()),[e,t]));return T.default.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},sA=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>sA(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>sA(t)(e)}}};var sR=e.i(1109),sP=e.i(19204);let sL="u">typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),sI="u">typeof URL?URL:"u">typeof window?window.URL||window.webkitURL||window.mozURL:void 0;function sN(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)})}function sD(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function sU(e){return!!(e&&1==e.nodeType)}function sk(e){return!isNaN(parseFloat(e))&&isFinite(e)}function sO(e){let t=parseFloat(e);return!1!==sk(e)&&(!!("string"==typeof e&&e.indexOf(".")>-1)||Math.floor(t)!==t)}function sF(e){var t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],n=e.toLowerCase();if("u"<typeof document||void 0!==document.body.style[n])return e;for(var r=0;r<5;r++)if(void 0!==document.body.style[t[r]+n])return t[r]+n;return e}function sB(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e}function sz(e){var t=[].slice.call(arguments,1);return t.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}),e}function sG(e,t,n){var r=sj(e,t,n);return t.splice(r,0,e),r}function sj(e,t,n,r,i){var a,o=r||0,s=i||t.length,l=parseInt(o+(s-o)/2);return(n||(n=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),s-o<=0)?l:(a=n(t[l],e),s-o==1)?a>=0?l:l+1:0===a?l:-1===a?sj(e,t,n,l,s):sj(e,t,n,o,l)}function sH(e,t,n,r,i){var a,o=r||0,s=i||t.length,l=parseInt(o+(s-o)/2);return(n||(n=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),s-o<=0)?-1:(a=n(t[l],e),s-o==1)?0===a?l:-1:0===a?l:-1===a?sH(e,t,n,l,s):sH(e,t,n,o,l)}function sV(e){var t=window.getComputedStyle(e),n=0,r=0;return["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach(function(e){n+=parseFloat(t[e])||0}),["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach(function(e){r+=parseFloat(t[e])||0}),{height:r,width:n}}function sW(e){var t=window.getComputedStyle(e),n=0,r=0;return["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach(function(e){n+=parseFloat(t[e])||0}),["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach(function(e){r+=parseFloat(t[e])||0}),{height:r,width:n}}function sq(e){let t,n=e.ownerDocument;if(e.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(e),t=r.getBoundingClientRect()}else t=e.getBoundingClientRect();return t}function sX(){var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function sY(e,t){for(var n,r=e.parentNode.childNodes,i=-1,a=0;a<r.length&&((n=r[a]).nodeType===t&&i++,n!=e);a++);return i}function sK(e){return sY(e,3)}function s$(e){return sY(e,1)}function sZ(e){return["xml","opf","ncx"].indexOf(e)>-1}function sQ(e,t){return new Blob([e],{type:t})}function sJ(e,t){var n=sQ(e,t);return sI.createObjectURL(n)}function s1(e){return sI.revokeObjectURL(e)}function s2(e,t){if("string"==typeof e)return"data:"+t+";base64,"+btoa(e)}function s0(e){return Object.prototype.toString.call(e).slice(8,-1)}function s6(e,t,n){var r;return r="u"<typeof DOMParser||n?sP.DOMParser:DOMParser,65279===e.charCodeAt(0)&&(e=e.slice(1)),new r().parseFromString(e,t)}function s5(e,t){var n;if(!e)throw Error("No Element Provided");return void 0!==e.querySelector?e.querySelector(t):(n=e.getElementsByTagName(t)).length?n[0]:void 0}function s3(e,t){return void 0!==e.querySelector?e.querySelectorAll(t):e.getElementsByTagName(t)}function s4(e,t,n){var r,i;if(void 0!==e.querySelector){for(var a in t+="[",n)t+=a+"~='"+n[a]+"'";return t+="]",e.querySelector(t)}if(r=e.getElementsByTagName(t),i=Array.prototype.slice.call(r,0).filter(function(e){for(var t in n)if(e.getAttribute(t)===n[t])return!0;return!1}))return i[0]}function s7(e,t){void 0!==(e.ownerDocument||e).createTreeWalker?s8(e,t,NodeFilter.SHOW_TEXT):s9(e,function(e){e&&3===e.nodeType&&t(e)},!0)}function s8(e,t,n){let r;for(var i=document.createTreeWalker(e,n,null,!1);r=i.nextNode();)t(r)}function s9(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(s9(e,t))return!0;e=e.nextSibling}while(e)}function le(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onloadend=function(){t(r.result)}})}function lt(){this.resolve=null,this.reject=null,this.id=sN(),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),Object.freeze(this)}function ln(e,t,n){var r;if(void 0!==e.querySelector&&(r=e.querySelector(`${t}[*|type="${n}"]`)),r&&0!==r.length)return r;r=s3(e,t);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||r[i].getAttribute("epub:type")===n)return r[i]}function lr(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++){let e=n[r];1===e.nodeType&&t.push(e)}return t}function li(e){for(var t=[e];e;e=e.parentNode)t.unshift(e);return t}function la(e,t,n){for(var r=[],i=e.childNodes,a=0;a<i.length;a++){let e=i[a];if(1===e.nodeType&&e.nodeName.toLowerCase()===t)if(n)return e;else r.push(e)}if(!n)return r}function lo(e,t){let n;if(null!==e&&""!==t)for(n=e.parentNode;1===n.nodeType;){if(n.tagName.toLowerCase()===t)return n;n=n.parentNode}}class ls{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,n=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,n),this.setEnd(t,n+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=3===e.nodeType?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var n=li(e||this.startContainer),r=li(t||this.endContainer);if(n[0]==r[0]){for(var i=0;i<n.length;i++)if(n[i]!=r[i])return n[i-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}e.s(["RangeObject",()=>ls,"blob2base64",()=>le,"borders",()=>sW,"bounds",()=>sV,"createBase64Url",()=>s2,"createBlob",()=>sQ,"createBlobUrl",()=>sJ,"defaults",()=>sB,"defer",()=>lt,"documentHeight",()=>sD,"extend",()=>sz,"filterChildren",()=>la,"findChildren",()=>lr,"getParentByTagName",()=>lo,"indexOfElementNode",()=>s$,"indexOfNode",()=>sY,"indexOfSorted",()=>sH,"indexOfTextNode",()=>sK,"insert",()=>sG,"isElement",()=>sU,"isFloat",()=>sO,"isNumber",()=>sk,"isXml",()=>sZ,"locationOf",()=>sj,"nodeBounds",()=>sq,"parents",()=>li,"parse",()=>s6,"prefixed",()=>sF,"qs",()=>s5,"qsa",()=>s3,"qsp",()=>s4,"querySelectorByType",()=>ln,"requestAnimationFrame",0,sL,"revokeBlobUrl",()=>s1,"sprint",()=>s7,"treeWalker",()=>s8,"type",()=>s0,"uuid",()=>sN,"walk",()=>s9,"windowBounds",()=>sX],5058);var ll=e.i(63755);let lu=class{constructor(e){var t;e.indexOf("://")>-1&&(e=new URL(e).pathname),t=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=t.dir+"/",this.filename=t.base,this.extension=t.ext.slice(1)}parse(e){return ll.default.parse(e)}isAbsolute(e){return ll.default.isAbsolute(e||this.path)}isDirectory(e){return"/"===e.charAt(e.length-1)}resolve(e){return ll.default.resolve(this.directory,e)}relative(e){return e&&e.indexOf("://")>-1?e:ll.default.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}},lc=class{constructor(e,t){var n=e.indexOf("://")>-1,r=e;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!n&&!1!==t&&"string"!=typeof t&&window&&window.location&&(this.base=window.location.href),n||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,r=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(e){this.Url=void 0,this.base&&(r=new lu(this.base).resolve(r))}this.Path=new lu(r),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t;return e.indexOf("://")>-1?e:(t=ll.default.resolve(this.directory,e),this.origin+t)}relative(e){return ll.default.relative(e,this.directory)}toString(){return this.href}};class ld{constructor(e,t,n){var r;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof ld))return new ld(e,t,n);if("string"==typeof t?this.base=this.parseComponent(t):"object"==typeof t&&t.steps&&(this.base=t),"string"===(r=this.checkType(e)))return this.str=e,sz(this,this.parse(e));if("range"===r)return sz(this,this.fromRange(e,this.base,n));if("node"===r)return sz(this,this.fromNode(e,this.base,n));else if("EpubCFI"===r&&e.path)return e;else if(!e)return this;else throw TypeError("not a valid argument for EpubCFI")}checkType(e){return this.isCfiString(e)?"string":e&&"object"==typeof e&&("Range"===s0(e)||void 0!==e.startContainer)?"range":e&&"object"==typeof e&&void 0!==e.nodeType?"node":!!e&&"object"==typeof e&&e instanceof ld&&"EpubCFI"}parse(e){var t,n,r,i={spinePos:-1,range:!1,base:{},path:{},start:null,end:null};return"string"!=typeof e?{spinePos:-1}:(0===e.indexOf("epubcfi(")&&")"===e[e.length-1]&&(e=e.slice(8,e.length-1)),t=this.getChapterComponent(e))?(i.base=this.parseComponent(t),n=this.getPathComponent(e),i.path=this.parseComponent(n),(r=this.getRange(e))&&(i.range=!0,i.start=this.parseComponent(r[0]),i.end=this.parseComponent(r[1])),i.spinePos=i.base.steps[1].index,i):{spinePos:-1}}parseComponent(e){var t,n={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),i=r[0].split("/");return r.length>1&&(t=r[1],n.terminal=this.parseTerminal(t)),""===i[0]&&i.shift(),n.steps=i.map((function(e){return this.parseStep(e)}).bind(this)),n}parseStep(e){var t,n,r,i,a;if((i=e.match(/\[(.*)\]/))&&i[1]&&(a=i[1]),!isNaN(n=parseInt(e)))return n%2==0?(t="element",r=n/2-1):(t="text",r=(n-1)/2),{type:t,index:r,id:a||null}}parseTerminal(e){var t,n,r=e.match(/\[(.*)\]/);return r&&r[1]?(t=parseInt(e.split("[")[0]),n=r[1]):t=parseInt(e),sk(t)||(t=null),{offset:t,assertion:n}}getChapterComponent(e){return e.split("!")[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return 3===t.length&&[t[1],t[2]]}getCharecterOffsetComponent(e){return e.split(":")[1]||""}joinSteps(e){return e?e.map(function(e){var t="";return"element"===e.type&&(t+=(e.index+1)*2),"text"===e.type&&(t+=1+2*e.index),e.id&&(t+="["+e.id+"]"),t}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&null!=e.terminal.offset&&(t+=":"+e.terminal.offset),e.terminal&&null!=e.terminal.assertion&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")"}compare(e,t){if("string"==typeof e&&(e=new ld(e)),"string"==typeof t&&(t=new ld(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return -1;e.range?(n=e.path.steps.concat(e.start.steps),i=e.start.terminal):(n=e.path.steps,i=e.path.terminal),t.range?(r=t.path.steps.concat(t.start.steps),a=t.start.terminal):(r=t.path.steps,a=t.path.terminal);for(var n,r,i,a,o=0;o<n.length;o++){if(!n[o])return -1;if(!r[o]||n[o].index>r[o].index)return 1;if(n[o].index<r[o].index)return -1}return n.length<r.length?-1:i.offset>a.offset?1:i.offset<a.offset?-1:0}step(e){var t=3===e.nodeType?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var n,r=this.filter(e,t);if(r)return n=3===r.nodeType?"text":"element",{id:r.id,tagName:r.tagName,type:n,index:this.filteredPosition(r,t)}}pathTo(e,t,n){for(var r,i={steps:[],terminal:{offset:null,assertion:null}},a=e;a&&a.parentNode&&9!=a.parentNode.nodeType;)(r=n?this.filteredStep(a,n):this.step(a))&&i.steps.unshift(r),a=a.parentNode;return null!=t&&t>=0&&(i.terminal.offset=t,"text"!=i.steps[i.steps.length-1].type&&i.steps.push({type:"text",index:0})),i}equalStep(e,t){return!!e&&!!t&&e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,n){var r={range:!1,base:{},path:{},start:null,end:null},i=e.startContainer,a=e.endContainer,o=e.startOffset,s=e.endOffset,l=!1;if(n&&(l=null!=i.ownerDocument.querySelector("."+n)),"string"==typeof t?(r.base=this.parseComponent(t),r.spinePos=r.base.steps[1].index):"object"==typeof t&&(r.base=t),e.collapsed)l&&(o=this.patchOffset(i,o,n)),r.path=this.pathTo(i,o,n);else{r.range=!0,l&&(o=this.patchOffset(i,o,n)),r.start=this.pathTo(i,o,n),l&&(s=this.patchOffset(a,s,n)),r.end=this.pathTo(a,s,n),r.path={steps:[],terminal:null};var u,c=r.start.steps.length;for(u=0;u<c;u++)if(this.equalStep(r.start.steps[u],r.end.steps[u]))u===c-1?r.start.terminal===r.end.terminal&&(r.path.steps.push(r.start.steps[u]),r.range=!1):r.path.steps.push(r.start.steps[u]);else break;r.start.steps=r.start.steps.slice(r.path.steps.length),r.end.steps=r.end.steps.slice(r.path.steps.length)}return r}fromNode(e,t,n){var r={range:!1,base:{},path:{},start:null,end:null};return"string"==typeof t?(r.base=this.parseComponent(t),r.spinePos=r.base.steps[1].index):"object"==typeof t&&(r.base=t),r.path=this.pathTo(e,null,n),r}filter(e,t){var n,r,i,a,o,s=!1;return(3===e.nodeType?(s=!0,i=e.parentNode,n=e.parentNode.classList.contains(t)):(s=!1,n=e.classList.contains(t)),n&&s)?(a=i.previousSibling,o=i.nextSibling,a&&3===a.nodeType?r=a:o&&3===o.nodeType&&(r=o),r)?r:e:(!n||!!s)&&e}patchOffset(e,t,n){if(3!=e.nodeType)throw Error("Anchor must be a text node");var r=e,i=t;for(e.parentNode.classList.contains(n)&&(r=e.parentNode);r.previousSibling;){if(1===r.previousSibling.nodeType)if(r.previousSibling.classList.contains(n))i+=r.previousSibling.textContent.length;else break;else i+=r.previousSibling.textContent.length;r=r.previousSibling}return i}normalizedMap(e,t,n){var r,i,a,o={},s=-1,l=e.length;for(a=0;a<l;a++)1===(r=e[a].nodeType)&&e[a].classList.contains(n)&&(r=3),a>0&&3===r&&3===i?o[a]=s:t===r&&(s+=1,o[a]=s),i=r;return o}position(e){var t,n;return 1===e.nodeType?((t=e.parentNode.children)||(t=lr(e.parentNode)),n=Array.prototype.indexOf.call(t,e)):n=(t=this.textNodes(e.parentNode)).indexOf(e),n}filteredPosition(e,t){var n,r;return 1===e.nodeType?(n=e.parentNode.children,r=this.normalizedMap(n,1,t)):(n=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(n=(e=e.parentNode).parentNode.childNodes),r=this.normalizedMap(n,3,t)),r[Array.prototype.indexOf.call(n,e)]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(e){var n=e.index+1;e.id?t.push("*[position()="+n+" and @id='"+e.id+"']"):"text"===e.type?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(e){var n=e.index+1;e.id?t.push("#"+e.id):"text"===e.type||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(e){return 3===e.nodeType||!!(t&&e.classList.contains(t))})}walkToNode(e,t,n){var r,i,a=t||document,o=a.documentElement,s=e.length;for(i=0;i<s&&("element"===(r=e[i]).type?o=r.id?a.getElementById(r.id):(o.children||lr(o))[r.index]:"text"===r.type&&(o=this.textNodes(o,n)[r.index]),o);i++);return o}findNode(e,t,n){var r,i,a=t||document;return n||void 0===a.evaluate?r=n?this.walkToNode(e,a,n):this.walkToNode(e,a):(i=this.stepsToXpath(e),r=a.evaluate(i,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue),r}fixMiss(e,t,n,r){var i,a,o=this.findNode(e.slice(0,-1),n,r),s=o.childNodes,l=this.normalizedMap(s,3,r),u=e[e.length-1].index;for(let e in l){if(!l.hasOwnProperty(e))return;if(l[e]===u)if(a=(i=s[e]).textContent.length,t>a)t-=a;else{o=1===i.nodeType?i.childNodes[0]:i;break}}return{container:o,offset:t}}toRange(e,t){var n,r,i,a,o,s,l,u,c=e||document,d=!!t&&null!=c.querySelector("."+t);if(n=void 0!==c.createRange?c.createRange():new ls,this.range?(r=this.start,s=this.path.steps.concat(r.steps),a=this.findNode(s,c,d?t:null),i=this.end,l=this.path.steps.concat(i.steps),o=this.findNode(l,c,d?t:null)):(r=this.path,s=this.path.steps,a=this.findNode(this.path.steps,c,d?t:null)),!a)return console.log("No startContainer found for",this.toString()),null;try{null!=r.terminal.offset?n.setStart(a,r.terminal.offset):n.setStart(a,0)}catch(e){u=this.fixMiss(s,r.terminal.offset,c,d?t:null),n.setStart(u.container,u.offset)}if(o)try{null!=i.terminal.offset?n.setEnd(o,i.terminal.offset):n.setEnd(o,0)}catch(e){u=this.fixMiss(l,this.end.terminal.offset,c,d?t:null),n.setEnd(u.container,u.offset)}return n}isCfiString(e){return"string"==typeof e&&0===e.indexOf("epubcfi(")&&")"===e[e.length-1]}generateChapterComponent(e,t,n){var r=parseInt(t),i="/"+(e+1)*2+"/";return i+=(r+1)*2,n&&(i+="["+n+"]"),i}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}let lh=class{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if("function"==typeof arguments[e])this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){for(let t=0;t<this.hooks.length;t++)if(this.hooks[t]===e){this.hooks.splice(t,1);break}}trigger(){var e=arguments,t=this.context,n=[];return this.hooks.forEach(function(r){try{var i=r.apply(t,e)}catch(e){console.log(e)}i&&"function"==typeof i.then&&n.push(i)}),Promise.all(n)}list(){return this.hooks}clear(){return this.hooks=[]}};function lf(e,t){var n,r,i=t.url,a=i.indexOf("://")>-1;e&&(r=s5(e,"head"),(n=s5(r,"base"))||(n=e.createElement("base"),r.insertBefore(n,r.firstChild)),!a&&window&&window.location&&(i=window.location.origin+i),n.setAttribute("href",i))}function lp(e,t){var n,r,i=t.canonical;e&&(n=s5(e,"head"),(r=s5(n,"link[rel='canonical']"))?r.setAttribute("href",i):((r=e.createElement("link")).setAttribute("rel","canonical"),r.setAttribute("href",i),n.appendChild(r)))}function lm(e,t){var n,r,i=t.idref;e&&(n=s5(e,"head"),(r=s5(n,"link[property='dc.identifier']"))?r.setAttribute("content",i):((r=e.createElement("meta")).setAttribute("name","dc.identifier"),r.setAttribute("content",i),n.appendChild(r)))}function lg(e,t,n){return t.forEach(function(t,r){t&&n[r]&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),e=e.replace(RegExp(t,"g"),n[r]))}),e}let lv=function(e,t,n,r){var i,a="u">typeof window&&window.URL,o=new lt,s=new XMLHttpRequest,l=XMLHttpRequest.prototype;for(i in"overrideMimeType"in l||Object.defineProperty(l,"overrideMimeType",{value:function(){}}),n&&(s.withCredentials=!0),s.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var e,n=!1;if((""===this.responseType||"document"===this.responseType)&&(n=this.responseXML),200===this.status||0===this.status||n){if(!this.response&&!n)return o.reject({status:this.status,message:"Empty Response",stack:Error().stack}),o.promise;if(403===this.status)return o.reject({status:this.status,response:this.response,message:"Forbidden",stack:Error().stack}),o.promise;e=n?this.responseXML:sZ(t)?s6(this.response,"text/xml"):"xhtml"==t?s6(this.response,"application/xhtml+xml"):"html"==t||"htm"==t?s6(this.response,"text/html"):"json"==t?JSON.parse(this.response):"blob"==t?a?this.response:new Blob([this.response]):this.response,o.resolve(e)}else o.reject({status:this.status,message:this.response,stack:Error().stack})}},s.onerror=function(e){o.reject(e)},s.open("GET",e,!0),r)s.setRequestHeader(i,r[i]);return"json"==t&&s.setRequestHeader("Accept","application/json"),t||(t=new lu(e).extension),"blob"==t&&(s.responseType=a?"blob":"arraybuffer"),sZ(t)&&s.overrideMimeType("text/xml"),"binary"==t&&(s.responseType="arraybuffer"),s.send(),o.promise},l_=class{constructor(e,t){this.idref=e.idref,this.linear="yes"===e.linear,this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new lh(this),this.hooks.content=new lh(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||lv,n=new lt,r=n.promise;return this.contents?n.resolve(this.contents):t(this.url).then((function(e){return this.document=e,this.contents=e.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){n.resolve(this.contents)}).bind(this)).catch(function(e){n.reject(e)}),r}base(){return lf(this.document,this)}render(e){var t=new lt,n=t.promise;return this.output,this.load(e).then((function(e){var t=("u">typeof navigator&&navigator.userAgent||"").indexOf("Trident")>=0,n=new("u"<typeof XMLSerializer||t?sP.DOMParser:XMLSerializer);return this.output=n.serializeToString(e),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){t.resolve(this.output)}).bind(this)).catch(function(e){t.reject(e)}),n}find(e){var t=this,n=[],r=e.toLowerCase(),i=function(e){for(var i,a,o,s=e.textContent.toLowerCase(),l=t.document.createRange(),u=-1;-1!=a;)-1!=(a=s.indexOf(r,u+1))&&((l=t.document.createRange()).setStart(e,a),l.setEnd(e,a+r.length),i=t.cfiFromRange(l),o=e.textContent.length<150?e.textContent:"..."+(o=e.textContent.substring(a-75,a+75))+"...",n.push({cfi:i,excerpt:o})),u=a};return s7(t.document,function(e){i(e)}),n}search(e,t=5){if(void 0===document.createTreeWalker)return this.find(e);let n=[],r=this,i=e.toLowerCase(),a=function(e){let t=e.reduce((e,t)=>e+t.textContent,"").toLowerCase().indexOf(i);if(-1!=t){let a=t+i.length,o=0,s=0;if(t<e[0].length){let i;for(;o<e.length-1&&!(a<=(s+=e[o].length));)o+=1;let l=e[0],u=e[o],c=r.document.createRange();c.setStart(l,t);let d=e.slice(0,o).reduce((e,t)=>e+t.textContent.length,0);c.setEnd(u,d>a?a:a-d),i=r.cfiFromRange(c);let h=e.slice(0,o+1).reduce((e,t)=>e+t.textContent,"");h.length>150&&(h="..."+(h=h.substring(t-75,t+75))+"..."),n.push({cfi:i,excerpt:h})}}},o=document.createTreeWalker(r.document,NodeFilter.SHOW_TEXT,null,!1),s,l=[];for(;s=o.nextNode();)l.push(s),l.length==t&&(a(l.slice(0,t)),l=l.slice(1,t));return l.length>0&&a(l),n}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(e){var n,r,i=e.replace("rendition:",""),a=i.indexOf("-");-1!=a&&(n=i.slice(0,a),r=i.slice(a+1),t[n]=r)}),t}cfiFromRange(e){return new ld(e,this.cfiBase).toString()}cfiFromElement(e){return new ld(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}},lb=class{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new lh,this.hooks.content=new lh,this.hooks.content.register(lf),this.hooks.content.register(lp),this.hooks.content.register(lm),this.epubcfi=new ld,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,n){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((e,r)=>{var i,a=this.manifest[e.idref];e.index=r,e.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,e.index,e.id),e.href&&(e.url=t(e.href,!0),e.canonical=n(e.href)),a&&(e.href=a.href,e.url=t(e.href,!0),e.canonical=n(e.href),a.properties.length&&e.properties.push.apply(e.properties,a.properties)),"yes"===e.linear?(e.prev=(function(){let t=e.index;for(;t>0;){let e=this.get(t-1);if(e&&e.linear)return e;t-=1}}).bind(this),e.next=(function(){let t=e.index;for(;t<this.spineItems.length-1;){let e=this.get(t+1);if(e&&e.linear)return e;t+=1}}).bind(this)):(e.prev=function(){},e.next=function(){}),i=new l_(e,this.hooks),this.append(i)}),this.loaded=!0}get(e){var t=0;if(void 0===e)for(;t<this.spineItems.length;){let e=this.spineItems[t];if(e&&e.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new ld(e).spinePos:"number"==typeof e||!1===isNaN(e)?t=e:"string"==typeof e&&0===e.indexOf("#")?t=this.spineById[e.substring(1)]:"string"==typeof e&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(e,t){e.index=t}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}},ly=class{constructor(e){this._q=[],this.context=e,this.tick=sL,this.running=!1,this.paused=!1}enqueue(){var e,t,n,r=[].shift.call(arguments),i=arguments;if(!r)throw Error("No Task Provided");return"function"==typeof r?(t=(e=new lt).promise,n={task:r,args:i,deferred:e,promise:t}):n={promise:r},this._q.push(n),!1!=this.paused||this.running||this.run(),n.promise}dequeue(){var e,t,n;return!this._q.length||this.paused?((e=new lt).deferred.resolve(),e.promise):(t=(e=this._q.shift()).task)?(n=t.apply(this.context,e.args))&&"function"==typeof n.then?n.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,n),e.promise):e.promise?e.promise:void 0}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new lt),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),!0==this.paused&&(this.paused=!1),this.defered.promise}flush(){return this.running?this.running:this._q.length?(this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running):void 0}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}},lx=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],lS="openFailed",lw="expand",lE="resize",lT="selected",lM="selectedRange",lC="linkClicked",lA="changed",lR="resize",lP="resized",lL="orientationchange",lI="added",lN="scroll",lD="scrolled",lU="removed",lk="axis",lO="writingMode",lF="loaderror",lB="rendered",lz="resized",lG="displayed",lj="shown",lH="hidden",lV="markClicked",lW="started",lq="attached",lX="displayed",lY="displayerror",lK="rendered",l$="removed",lZ="resized",lQ="orientationchange",lJ="locationChanged",l1="relocated",l2="markClicked",l0="selected",l6="layout",l5="updated",l3="attach",l4="detach";class l7{constructor(e,t,n){this.spine=e,this.request=t,this.pause=n||100,this.q=new ly(this),this.epubcfi=new ld,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(t){var n=new lt,r=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(r),e.unload(),this.processingTimeout=setTimeout(()=>n.resolve(r),this.pause),n.promise}).bind(this))}parse(e,t,n){var r,i,a=[],o=s5(e.ownerDocument,"body"),s=0,l=n||this.break;if(s7(o,(function(e){var n,o=e.length,u=0;if(0===e.textContent.trim().length)return!1;for(0==s&&((r=this.createRange()).startContainer=e,r.startOffset=0),(n=l-s)>o&&(s+=o,u=o);u<o;)if(n=l-s,0===s&&(u+=1,(r=this.createRange()).startContainer=e,r.startOffset=u),u+n>=o)s+=o-u,u=o;else{u+=n,r.endContainer=e,r.endOffset=u;let i=new ld(r,t).toString();a.push(i),s=0}i=e}).bind(this)),r&&r.startContainer&&i){r.endContainer=i,r.endOffset=i.length;let e=new ld(r,t).toString();a.push(e),s=0}return a}generateFromWords(e,t,n){var r=e?new ld(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(e){e.linear&&(r?e.index>=r.spinePos&&this.q.enqueue(this.processWords.bind(this),e,t,r,n):this.q.enqueue(this.processWords.bind(this),e,t,r,n))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,t,n,r){return r&&this._locationsWords.length>=r?Promise.resolve():e.load(this.request).then((function(i){var a=new lt,o=this.parseWords(i,e,t,n),s=r-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=r?o.slice(0,s):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}).bind(this))}countWords(e){return(e=(e=(e=e.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}parseWords(e,t,n,r){var i,a=t.cfiBase,o=[],s=s5(e.ownerDocument,"body"),l=!r||r.spinePos!==t.index;return r&&t.index===r.spinePos&&(i=r.findNode(r.range?r.path.steps.concat(r.start.steps):r.path.steps,e.ownerDocument)),s7(s,(function(e){if(!l)if(e!==i)return!1;else l=!0;if(e.textContent.length<10&&0===e.textContent.trim().length)return!1;var t,r=this.countWords(e.textContent),s=0;if(0===r)return!1;for((t=n-this._wordCounter)>r&&(this._wordCounter+=r,s=r);s<r;)if(s+(t=n-this._wordCounter)>=r)this._wordCounter+=r-s,s=r;else{s+=t;let n=new ld(e,a);o.push({cfi:n.toString(),wordCount:this._wordCounter}),this._wordCounter=0}}).bind(this)),o}locationFromCfi(e){let t;return(ld.prototype.isCfiString(e)&&(e=new ld(e)),0===this._locations.length)?-1:(t=sj(e,this._locations,this.epubcfi.compare))>this.total?this.total:t}percentageFromCfi(e){if(0===this._locations.length)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return e&&this.total?e/this.total:0}cfiFromLocation(e){var t=-1;return"number"!=typeof e&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let e=new ld(this._locations[this.total]);return e.collapse(),e.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return"string"==typeof e?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if("string"==typeof e)this._currentCfi=e;else{if("number"!=typeof e)return;this._current=e}0!==this._locations.length&&("string"==typeof e?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(lA,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}(0,sR.default)(l7.prototype);let l8=class{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw Error("Container File Not Found");if(!(t=s5(e,"rootfile")))throw Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=ll.default.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}},l9=class{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,n,r;if(!e)throw Error("Package File Not Found");if(!(t=s5(e,"metadata")))throw Error("No Metadata Found");if(!(n=s5(e,"manifest")))throw Error("No Manifest Found");if(!(r=s5(e,"spine")))throw Error("No Spine Found");return this.manifest=this.parseManifest(n),this.navPath=this.findNavPath(n),this.ncxPath=this.findNcxPath(n,r),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=s$(r),this.spine=this.parseSpine(r,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=r.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},n=s3(e,"item");return Array.prototype.slice.call(n).forEach(function(e){var n=e.getAttribute("id"),r=e.getAttribute("href")||"",i=e.getAttribute("media-type")||"",a=e.getAttribute("media-overlay")||"",o=e.getAttribute("properties")||"";t[n]={href:r,type:i,overlay:a,properties:o.length?o.split(" "):[]}}),t}parseSpine(e,t){var n=[],r=s3(e,"itemref");return Array.prototype.slice.call(r).forEach(function(e,t){var r=e.getAttribute("idref"),i=e.getAttribute("properties")||"",a=i.length?i.split(" "):[],o={id:e.getAttribute("id"),idref:r,linear:e.getAttribute("linear")||"yes",properties:a,index:t};n.push(o)}),n}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var n=e.getElementById(t);return n&&"identifier"===n.localName&&"http://purl.org/dc/elements/1.1/"===n.namespaceURI&&n.childNodes.length>0?n.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=s4(e,"item",{properties:"nav"});return!!t&&t.getAttribute("href")}findNcxPath(e,t){var n,r=s4(e,"item",{"media-type":"application/x-dtbncx+xml"});return!r&&(n=t.getAttribute("toc"))&&(r=e.querySelector(`#${n}`)),!!r&&r.getAttribute("href")}findCoverPath(e){s5(e,"package").getAttribute("version");var t=s4(e,"item",{properties:"cover-image"});if(t)return t.getAttribute("href");var n=s4(e,"meta",{name:"cover"});if(!n)return!1;var r=n.getAttribute("content"),i=e.getElementById(r);return i?i.getAttribute("href"):""}getElementText(e,t){var n,r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t);return r&&0!==r.length&&(n=r[0]).childNodes.length?n.childNodes[0].nodeValue:""}getPropertyText(e,t){var n=s4(e,"meta",{property:t});return n&&n.childNodes.length?n.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((e,t)=>(e.index=t,e.linear=e.linear||"yes",e)),e.resources.forEach((e,t)=>{this.manifest[t]=e,e.rel&&"cover"===e.rel[0]&&(this.coverPath=e.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((e,t)=>(e.label=e.title,e)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}},ue=class{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t,n,r=e.nodeType;r&&(t=s5(e,"html"),n=s5(e,"ncx")),r?t?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,n=0;n<e.length;n++)(t=e[n]).href&&(this.tocByHref[t.href]=n),t.id&&(this.tocById[t.id]=n),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(0===e.indexOf("#")?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,n){if(0===n.length)return;let r=n[t];if(r&&(e===r.id||e===r.href))return r;{let r;for(let i=0;i<n.length&&!(r=this.getByIndex(e,t,n[i].subitems));++i);return r}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=ln(e,"nav","toc"),n=[];if(!t)return n;let r=la(t,"ol",!0);return r?n=this.parseNavList(r):n}parseNavList(e,t){let n=[];if(!e||!e.children)return n;for(let r=0;r<e.children.length;r++){let i=this.navItem(e.children[r],t);i&&n.push(i)}return n}navItem(e,t){let n=e.getAttribute("id")||void 0,r=la(e,"a",!0)||la(e,"span",!0);if(!r)return;let i=r.getAttribute("href")||"";n||(n=i);let a=r.textContent||"",o=[],s=la(e,"ol",!0);return s&&(o=this.parseNavList(s,n)),{id:n,href:i,label:a,subitems:o,parent:t}}parseLandmarks(e){var t,n,r=ln(e,"nav","landmarks"),i=r?s3(r,"li"):[],a=i.length,o=[];if(!i||0===a)return o;for(t=0;t<a;++t)(n=this.landmarkItem(i[t]))&&(o.push(n),this.landmarksByType[n.type]=t);return o}landmarkItem(e){let t=la(e,"a",!0);if(!t)return;let n=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0;return{href:t.getAttribute("href")||"",label:t.textContent||"",type:n}}parseNcx(e){var t,n,r=s3(e,"navPoint"),i=r.length,a={},o=[];if(!r||0===i)return o;for(t=0;t<i;++t)a[(n=this.ncxItem(r[t])).id]=n,n.parent?a[n.parent].subitems.push(n):o.push(n);return o}ncxItem(e){var t,n=e.getAttribute("id")||!1,r=s5(e,"content").getAttribute("src"),i=s5(e,"navLabel"),a=i.textContent?i.textContent:"",o=e.parentNode;return o&&("navPoint"===o.nodeName||"navPoint"===o.nodeName.split(":").slice(-1)[0])&&(t=o.getAttribute("id")),{id:n,href:r,label:a,subitems:[],parent:t}}load(e){return e.map(e=>(e.label=e.title,e.subitems=e.children?this.load(e.children):[],e))}forEach(e){return this.toc.forEach(e)}};var ut={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},un=function(){var e,t,n,r,i={};for(e in ut)if(ut.hasOwnProperty(e)){for(t in ut[e])if(ut[e].hasOwnProperty(t))if("string"==typeof(n=ut[e][t]))i[n]=e+"/"+t;else for(r=0;r<n.length;r++)i[n[r]]=e+"/"+t}return i}();let ur=function(e){return e&&un[e.split(".").pop().toLowerCase()]||"text/plain"},ui=class{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if("application/xhtml+xml"===e.type||"text/html"===e.type)return!0}),this.assets=this.resources.filter(function(e){if("application/xhtml+xml"!==e.type&&"text/html"!==e.type)return!0}),this.css=this.resources.filter(function(e){if("text/css"===e.type)return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=ur(new lc(e).filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:"base64"===this.settings.replacements}):"base64"===this.settings.replacements?this.settings.request(e,"blob").then(e=>le(e)).then(e=>s2(e,t)):this.settings.request(e,"blob").then(e=>sJ(e,t))}replacements(){return"none"===this.settings.replacements?new Promise((function(e){e(this.urls)}).bind(this)):Promise.all(this.urls.map(e=>{var t=this.settings.resolver(e);return this.createUrl(t).catch(e=>(console.error(e),null))})).then(e=>(this.replacementUrls=e.filter(e=>"string"==typeof e),e))}replaceCss(e,t){var n=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach((function(r){var i=this.createCssFile(r,e,t).then((function(e){var t=this.urls.indexOf(r);t>-1&&(this.replacementUrls[t]=e)}).bind(this));n.push(i)}).bind(this)),Promise.all(n)}createCssFile(e){if(ll.default.isAbsolute(e))return new Promise(function(e){e()});var t,n=this.settings.resolver(e);t=this.settings.archive?this.settings.archive.getText(n):this.settings.request(n,"text");var r=this.urls.map(e=>{var t=this.settings.resolver(e);return new lu(n).relative(t)});return t?t.then(e=>(e=lg(e,r,this.replacementUrls),"base64"===this.settings.replacements?s2(e,"text/css"):sJ(e,"text/css")),e=>new Promise(function(e){e()})):new Promise(function(e){e()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map((function(n){var r=t(n);return new lu(e).relative(r)}).bind(this))}get(e){var t=this.urls.indexOf(e);if(-1!==t)if(this.replacementUrls.length)return new Promise((function(e,n){e(this.replacementUrls[t])}).bind(this));else return this.createUrl(e)}substitute(e,t){return lg(e,t?this.relativeTo(t):this.urls,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}},ua=class{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new ld,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=s5(e,"html"),n=s5(e,"ncx");return t?this.parseNav(e):n?this.parseNcx(e):void 0}parseNav(e){var t,n=ln(e,"nav","page-list"),r=n?s3(n,"li"):[],i=r.length,a=[];if(!r||0===i)return a;for(t=0;t<i;++t)a.push(this.item(r[t]));return a}parseNcx(e){var t,n,r=[],i=0,a=0;if(!(t=s5(e,"pageList"))||(a=(n=s3(t,"pageTarget")).length,!n||0===n.length))return r;for(i=0;i<a;++i)r.push(this.ncxItem(n[i]));return r}ncxItem(e){var t=s5(e,"navLabel"),n=s5(t,"text").textContent;return{href:s5(e,"content").getAttribute("src"),page:parseInt(n,10)}}item(e){var t,n,r=s5(e,"a"),i=r.getAttribute("href")||"",a=parseInt(r.textContent||"");return -1!=i.indexOf("epubcfi")?(n=(t=i.split("#"))[0],{cfi:t.length>1&&t[1],href:i,packageUrl:n,page:a}):{href:i,page:a}}process(e){e.forEach(function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(0===this.locations.length)return -1;var n=sH(e,this.locations,this.epubcfi.compare);return -1!=n?t=this.pages[n]:void 0!==(t=(n=sj(e,this.locations,this.epubcfi.compare))-1>=0?this.pages[n-1]:this.pages[0])||(t=-1),t}cfiFromPage(e){var t=-1;"number"!=typeof e&&(e=parseInt(e));var n=this.pages.indexOf(e);return -1!=n&&(t=this.locations[n]),t}pageFromPercentage(e){return Math.round(this.totalPages*e)}percentageFromPage(e){return Math.round(1e3*((e-this.firstPage)/this.totalPages))/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e);return this.percentageFromPage(t)}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}};class uo{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread="none"!==e.spread,this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,"scrolled"===e.flow||"scrolled-continuous"===e.flow||"scrolled-doc"===e.flow?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return void 0!==e&&("scrolled"===e||"scrolled-continuous"===e||"scrolled-doc"===e?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread="none"!==e,this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,n){var r,i,a,o,s=1,l=n||0,u=e,c=Math.floor(u/12);s=this._spread&&u>=this._minSpreadWidth?2:1,"reflowable"!==this.name||"paginated"!==this._flow||n>=0||(l=c%2==0?c:c-1),"pre-paginated"===this.name&&(l=0),s>1?a=(r=u/s-l)+l:(r=u,a=u),"pre-paginated"===this.name&&s>1&&(u=r),i=r*s+l,o=u,this.width=u,this.height=t,this.spreadWidth=i,this.pageWidth=a,this.delta=o,this.columnWidth=r,this.gap=l,this.divisor=s,this.update({width:u,height:t,spreadWidth:i,pageWidth:a,delta:o,columnWidth:r,gap:l,divisor:s})}format(e,t,n){return"pre-paginated"===this.name?e.fit(this.columnWidth,this.height,t):"paginated"===this._flow?e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):n&&"horizontal"===n?e.size(null,this.height):e.size(this.width,null)}count(e,t){let n,r;return"pre-paginated"===this.name?(n=1,r=1):r="paginated"===this._flow?(n=Math.ceil(e/(t=t||this.delta)))*this.divisor:n=Math.ceil(e/(t=t||this.height)),{spreads:n,pages:r}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=sz(this.props,e);this.emit(l5,t,e)}}}(0,sR.default)(uo.prototype);let us=class{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(0!=arguments.length){if(1==arguments.length&&"object"==typeof arguments[0])return this.registerThemes(arguments[0]);if(1==arguments.length&&"string"==typeof arguments[0])return this.default(arguments[0]);if(2==arguments.length&&"string"==typeof arguments[1])return this.registerUrl(arguments[0],arguments[1]);if(2==arguments.length&&"object"==typeof arguments[1])return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if("string"==typeof e)return this.registerUrl("default",e);if("object"==typeof e)return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&("string"==typeof e[t]?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||"default"==e)&&this.update(e)}registerUrl(e,t){var n=new lc(t);this._themes[e]={url:n.toString()},(this._injected[e]||"default"==e)&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||"default"==e)&&this.update(e)}select(e){var t=this._current;this._current=e,this.update(e),this.rendition.getContents().forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){this.rendition.getContents().forEach(t=>{this.add(e,t)})}inject(e){var t,n=[],r=this._themes;for(var i in r)r.hasOwnProperty(i)&&(i===this._current||"default"===i)&&(((t=r[i]).rules&&Object.keys(t.rules).length>0||t.url&&-1===n.indexOf(t.url))&&this.add(i,e),this._injected.push(i));"default"!=this._current&&e.addClass(this._current)}add(e,t){var n=this._themes[e];n&&t&&(n.url?t.addStylesheet(n.url):n.serialized?(t.addStylesheetCss(n.serialized,e),n.injected=!0):n.rules&&(t.addStylesheetRules(n.rules,e),n.injected=!0))}override(e,t,n){var r=this.rendition.getContents();this._overrides[e]={value:t,priority:!0===n},r.forEach(t=>{t.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(t=>{t.css(e)})}overrides(e){var t=this._overrides;for(var n in t)t.hasOwnProperty(n)&&e.css(n,t[n].value,t[n].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}},ul=class{constructor(e,t,n,r=!1){this.layout=e,this.horizontal="horizontal"===n,this.direction=t||"ltr",this._dev=r}section(e){var t=this.findRanges(e);return this.rangeListToCfiList(e.section.cfiBase,t)}page(e,t,n,r){var i,a=!!e&&!!e.document&&e.document.body;if(a){if(i=this.rangePairToCfiPair(t,{start:this.findStart(a,n,r),end:this.findEnd(a,n,r)}),!0===this._dev){let t=e.document,n=new ld(i.start).toRange(t),r=new ld(i.end).toRange(t),a=t.defaultView.getSelection(),o=t.createRange();a.removeAllRanges(),o.setStart(n.startContainer,n.startOffset),o.setEnd(r.endContainer,r.endOffset),a.addRange(o)}return i}}walk(e,t){if(!e||e.nodeType!==Node.TEXT_NODE){var n,r,i=function(e){return e.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT};i.acceptNode=i;for(var a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1);(n=a.nextNode())&&!(r=t(n)););return r}}findRanges(e){for(var t,n,r=[],i=Math.ceil(e.contents.scrollWidth()/this.layout.spreadWidth)*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,s=0;s<i.pages;s++)t=(a+o)*s,n=a*(s+1)+o*s,r.push({start:this.findStart(e.document.body,t,n),end:this.findEnd(e.document.body,t,n)});return r}findStart(e,t,n){for(var r,i,a=[e],o=e;a.length;)if(r=a.shift(),i=this.walk(r,e=>{var r,i,s,l,u;if(u=sq(e),this.horizontal&&"ltr"===this.direction){if(r=this.horizontal?u.left:u.top,i=this.horizontal?u.right:u.bottom,r>=t&&r<=n||i>t)return e;o=e,a.push(e)}else if(this.horizontal&&"rtl"===this.direction){if(r=u.left,(i=u.right)<=n&&i>=t||r<n)return e;o=e,a.push(e)}else{if(s=u.top,l=u.bottom,s>=t&&s<=n||l>t)return e;o=e,a.push(e)}}))return this.findTextStartRange(i,t,n);return this.findTextStartRange(o,t,n)}findEnd(e,t,n){for(var r,i,a=[e],o=e;a.length;)if(r=a.shift(),i=this.walk(r,e=>{var r,i,s,l,u;if(u=sq(e),this.horizontal&&"ltr"===this.direction){if(r=Math.round(u.left),i=Math.round(u.right),r>n&&o)return o;if(i>n)return e;o=e,a.push(e)}else if(this.horizontal&&"rtl"===this.direction){if(r=Math.round(this.horizontal?u.left:u.top),(i=Math.round(this.horizontal?u.right:u.bottom))<t&&o)return o;if(r<t)return e;o=e,a.push(e)}else{if(s=Math.round(u.top),l=Math.round(u.bottom),s>n&&o)return o;if(l>n)return e;o=e,a.push(e)}}))return this.findTextEndRange(i,t,n);return this.findTextEndRange(o,t,n)}findTextStartRange(e,t,n){for(var r,i,a=this.splitTextNodeIntoRanges(e),o=0;o<a.length;o++)if(i=(r=a[o]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(i.left>=t)return r}else if(this.horizontal&&"rtl"===this.direction){if(i.right<=n)return r}else if(i.top>=t)return r;return a[0]}findTextEndRange(e,t,n){for(var r,i,a,o,s,l,u,c=this.splitTextNodeIntoRanges(e),d=0;d<c.length;d++){if(a=(i=c[d]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(o=a.left,s=a.right,o>n&&r)return r;if(s>n)return i}else if(this.horizontal&&"rtl"===this.direction){if(o=a.left,(s=a.right)<t&&r)return r;if(o<t)return i}else{if(l=a.top,u=a.bottom,l>n&&r)return r;if(u>n)return i}r=i}return c[c.length-1]}splitTextNodeIntoRanges(e,t){var n,r=[],i=(e.textContent||"").trim(),a=e.ownerDocument,o=t||" ",s=i.indexOf(o);if(-1===s||e.nodeType!=Node.TEXT_NODE)return(n=a.createRange()).selectNodeContents(e),[n];for((n=a.createRange()).setStart(e,0),n.setEnd(e,s),r.push(n),n=!1;-1!=s;)(s=i.indexOf(o,s+1))>0&&(n&&(n.setEnd(e,s),r.push(n)),(n=a.createRange()).setStart(e,s+1));return n&&(n.setEnd(e,i.length),r.push(n)),r}rangePairToCfiPair(e,t){var n=t.start,r=t.end;return n.collapse(!0),r.collapse(!1),{start:new ld(n,e).toString(),end:new ld(r,e).toString()}}rangeListToCfiList(e,t){for(var n=[],r=0;r<t.length;r++)n.push(this.rangePairToCfiPair(e,t[r]));return n}axis(e){return e&&(this.horizontal="horizontal"===e),this.horizontal}},uu="u">typeof navigator,uc=uu&&/Chrome/.test(navigator.userAgent),ud=uu&&!uc&&/AppleWebKit/.test(navigator.userAgent);class uh{constructor(e,t,n,r){this.epubcfi=new ld,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=r||0,this.cfiBase=n||"",this.epubReadingSystem("epub.js","0.3"),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return lx}width(e){var t=this.content;return e&&sk(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&sk(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&sk(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&sk(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t=this.document.createRange(),n=this.content||this.document.body,r=sW(n);return t.selectNodeContents(n),e=t.getBoundingClientRect().width,r&&r.width&&(e+=r.width),Math.round(e)}textHeight(){let e=this.document.createRange(),t=this.content||this.document.body;return e.selectNodeContents(t),Math.round(e.getBoundingClientRect().bottom)}scrollWidth(){return this.documentElement.scrollWidth}scrollHeight(){return this.documentElement.scrollHeight}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,n){var r=this.content||this.document.body;return t?r.style.setProperty(e,t,n?"important":""):r.style.removeProperty(e),this.window.getComputedStyle(r)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),n={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},r=[],i={};if(t&&t.hasAttribute("content")){let e=t.getAttribute("content"),r=e.match(/width\s*=\s*([^,]*)/),i=e.match(/height\s*=\s*([^,]*)/),a=e.match(/initial-scale\s*=\s*([^,]*)/),o=e.match(/minimum-scale\s*=\s*([^,]*)/),s=e.match(/maximum-scale\s*=\s*([^,]*)/),l=e.match(/user-scalable\s*=\s*([^,]*)/);r&&r.length&&void 0!==r[1]&&(n.width=r[1]),i&&i.length&&void 0!==i[1]&&(n.height=i[1]),a&&a.length&&void 0!==a[1]&&(n.scale=a[1]),o&&o.length&&void 0!==o[1]&&(n.minimum=o[1]),s&&s.length&&void 0!==s[1]&&(n.maximum=s[1]),l&&l.length&&void 0!==l[1]&&(n.scalable=l[1])}return i=sB(e||{},n),e&&(i.width&&r.push("width="+i.width),i.height&&r.push("height="+i.height),i.scale&&r.push("initial-scale="+i.scale),"no"===i.scalable?(r.push("minimum-scale="+i.scale),r.push("maximum-scale="+i.scale),r.push("user-scalable="+i.scalable)):(i.scalable&&r.push("user-scalable="+i.scalable),i.minimum&&r.push("minimum-scale="+i.minimum),i.maximum&&r.push("minimum-scale="+i.maximum)),t||((t=this.document.createElement("meta")).setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",r.join(", ")),this.window.scrollTo(0,0)),i}expand(){this.emit(lw)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),"u"<typeof ResizeObserver?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(lE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&!1===this.active?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e,t=this.document.styleSheets,n=(function(e){e.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),r=0;r<t.length;r+=1){try{e=t[r].cssRules}catch(e){return}if(!e)return;for(var i=0;i<e.length;i+=1)e[i].media&&this.window.matchMedia(e[i].media.mediaText).addListener(n)}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(e=>{this.resizeCheck()}),this.observer.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}imageLoadListeners(){for(var e,t=this.document.querySelectorAll("img"),n=0;n<t.length;n++)void 0!==(e=t[n]).naturalWidth&&0===e.naturalWidth&&(e.onload=this.expand.bind(this))}fontLoadListeners(){this.document&&this.document.fonts&&this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var n,r={left:0,top:0};if(!this.document)return r;if(this.epubcfi.isCfiString(e)){let i=new ld(e).toRange(this.document,t);if(i){try{if(!i.endContainer||i.startContainer==i.endContainer&&i.startOffset==i.endOffset){let e=i.startContainer.textContent.indexOf(" ",i.startOffset);-1==e&&(e=i.startContainer.textContent.length),i.setEnd(i.startContainer,e)}}catch(e){console.error("setting end offset to start container length failed",e)}if(i.startContainer.nodeType===Node.ELEMENT_NODE)r.left=(n=i.startContainer.getBoundingClientRect()).left,r.top=n.top;else if(ud){let e=i.startContainer,t=new Range;try{1===e.nodeType?n=e.getBoundingClientRect():i.startOffset+2<e.length?(t.setStart(e,i.startOffset),t.setEnd(e,i.startOffset+2),n=t.getBoundingClientRect()):i.startOffset-2>0?(t.setStart(e,i.startOffset-2),t.setEnd(e,i.startOffset),n=t.getBoundingClientRect()):n=e.parentNode.getBoundingClientRect()}catch(e){console.error(e,e.stack)}}else n=i.getBoundingClientRect()}}else if("string"==typeof e&&e.indexOf("#")>-1){let t=e.substring(e.indexOf("#")+1),r=this.document.getElementById(t);if(r)if(ud){let e=new Range;e.selectNode(r),n=e.getBoundingClientRect()}else n=r.getBoundingClientRect()}return n&&(r.left=n.left,r.top=n.top),r}addStylesheet(e){return new Promise((function(t,n){var r,i=!1;this.document?(r=this.document.querySelector("link[href='"+e+"']"))?t(!0):((r=this.document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=e,r.onload=r.onreadystatechange=function(){i||this.readyState&&"complete"!=this.readyState||(i=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(r)):t(!1)}).bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),!!this.document&&((t=this.document.getElementById(e))||((t=this.document.createElement("style")).id=e,this.document.head.appendChild(t)),t)}addStylesheetCss(e,t){return!!this.document&&!!e&&(this._getStylesheetNode(t).innerHTML=e,!0)}addStylesheetRules(e,t){var n;if(this.document&&e&&0!==e.length)if(n=this._getStylesheetNode(t).sheet,"[object Array]"===Object.prototype.toString.call(e))for(var r=0,i=e.length;r<i;r++){var a=1,o=e[r],s=e[r][0],l="";"[object Array]"===Object.prototype.toString.call(o[1][0])&&(o=o[1],a=0);for(var u=o.length;a<u;a++){var c=o[a];l+=c[0]+":"+c[1]+(c[2]?" !important":"")+";\n"}n.insertRule(s+"{"+l+"}",n.cssRules.length)}else Object.keys(e).forEach(t=>{let r=e[t];if(Array.isArray(r))r.forEach(e=>{let r=Object.keys(e).map(t=>`${t}:${e[t]}`).join(";");n.insertRule(`${t}{${r}}`,n.cssRules.length)});else{let e=Object.keys(r).map(e=>`${e}:${r[e]}`).join(";");n.insertRule(`${t}{${e}}`,n.cssRules.length)}})}addScript(e){return new Promise((function(t,n){var r,i=!1;this.document?((r=this.document.createElement("script")).type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){i||this.readyState&&"complete"!=this.readyState||(i=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(r)):t(!1)}).bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.add(e)}removeClass(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.remove(e)}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),lx.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(lx.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}).bind(this),250)}triggerSelectedEvent(e){var t,n;e&&e.rangeCount>0&&((t=e.getRangeAt(0)).collapsed||(n=new ld(t,this.cfiBase).toString(),this.emit(lT,n),this.emit(lM,t)))}range(e,t){return new ld(e).toRange(this.document,t)}cfiFromRange(e,t){return new ld(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new ld(e,this.cfiBase,t).toString()}map(e){return new ul(e).section()}size(e,t){var n={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),n.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),n.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(n)}columns(e,t,n,r,i){let a=sF("column-axis"),o=sF("column-gap"),s=sF("column-width"),l=sF("column-fill"),u=0===this.writingMode().indexOf("vertical")?"vertical":"horizontal";this.layoutStyle("paginated"),"rtl"===i&&"horizontal"===u&&this.direction(i),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),"vertical"===u?(this.css("padding-top",r/2+"px",!0),this.css("padding-bottom",r/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",r/2+"px",!0),this.css("padding-right",r/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(o,r+"px"),this.css(s,n+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,n){var r="";this.css("transform-origin","top left"),(t>=0||n>=0)&&(r=" translate("+(t||0)+"px, "+(n||0)+"px )"),this.css("transform","scale("+e+")"+r)}fit(e,t,n){var r=this.viewport(),i=parseInt(r.width),a=parseInt(r.height),o=e/i,s=t/a,l=o<s?o:s;if(this.layoutStyle("paginated"),this.width(i),this.height(a),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",i*l+"px "+a*l+"px"),this.css("background-color","transparent"),n&&n.properties.includes("page-spread-left")){var u=e-i*l;this.css("margin-left",u+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,n,r,i){return new ul(t,i).page(this,e,n,r)}linksHandler(){!function(e,t){var n=e.querySelectorAll("a[href]");if(n.length)for(var r=s5(e.ownerDocument,"base"),i=r?r.getAttribute("href"):void 0,a=(function(e){var n,r=e.getAttribute("href");if(0!==r.indexOf("mailto:"))if(r.indexOf("://")>-1)e.setAttribute("target","_blank");else{try{n=new lc(r,i)}catch(e){}e.onclick=function(){return n&&n.hash?t(n.Path.path+n.hash):n?t(n.Path.path):t(r),!1}}}).bind(this),o=0;o<n.length;o++)a(n[o])}(this.content,e=>{this.emit(lC,e)})}writingMode(e){let t=sF("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(e){switch(e){case"dom-manipulation":case"layout-changes":case"touch-events":case"mouse-events":case"keyboard-events":return!0;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}(0,sR.default)(uh.prototype);class uf{constructor({type:e,cfiRange:t,data:n,sectionIndex:r,cb:i,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=n,this.sectionIndex=r,this.mark=void 0,this.cb=i,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let t,{cfiRange:n,data:r,type:i,mark:a,cb:o,className:s,styles:l}=this;return"highlight"===i?t=e.highlight(n,r,o,s,l):"underline"===i?t=e.underline(n,r,o,s,l):"mark"===i&&(t=e.mark(n,r,o)),this.mark=t,this.emit(l3,t),t}detach(e){let t,{cfiRange:n,type:r}=this;return e&&("highlight"===r?t=e.unhighlight(n):"underline"===r?t=e.ununderline(n):"mark"===r&&(t=e.unmark(n))),this.mark=void 0,this.emit(l4,t),t}text(){}}(0,sR.default)(uf.prototype);let up=class{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,n,r,i,a){let o=encodeURI(t+e),s=new ld(t).spinePos,l=new uf({type:e,cfiRange:t,data:n,sectionIndex:s,cb:r,className:i,styles:a});return this._annotations[o]=l,s in this._annotationsBySectionIndex?this._annotationsBySectionIndex[s].push(o):this._annotationsBySectionIndex[s]=[o],this.rendition.views().forEach(e=>{l.sectionIndex===e.index&&l.attach(e)}),l}remove(e,t){let n=encodeURI(e+t);if(n in this._annotations){let e=this._annotations[n];if(t&&e.type!==t)return;this.rendition.views().forEach(t=>{this._removeFromAnnotationBySectionIndex(e.sectionIndex,n),e.sectionIndex===t.index&&e.detach(t)}),delete this._annotations[n]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(e=>e!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,n,r,i){return this.add("highlight",e,t,n,r,i)}underline(e,t,n,r,i){return this.add("underline",e,t,n,r,i)}mark(e,t,n){return this.add("mark",e,t,n)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(t=>{this._annotations[t].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(t=>{this._annotations[t].detach(e)})}show(){}hide(){}};var um=e.i(59788);class ug{constructor(e,t){this.settings=sz({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+sN(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new ld,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&"horizontal"==e?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe||(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=sV(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write")),this.iframe}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(e){return this.load(e)}).bind(this)).then((function(){let e,t=this.contents.writingMode();return e="scrolled"===this.settings.flow?0===t.indexOf("vertical")?"horizontal":"vertical":0===t.indexOf("vertical")?"vertical":"horizontal",0===t.indexOf("vertical")&&"paginated"===this.settings.flow&&(this.layout.delta=this.layout.height),this.setAxis(e),this.emit(lk,e),this.setWritingMode(t),this.emit(lO,t),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((e,t)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),e()})}).bind(this),(function(e){return this.emit(lF,e),new Promise((t,n)=>{n(e)})}).bind(this)).then((function(){this.emit(lB,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var n=e||this.settings.width,r=t||this.settings.height;"pre-paginated"===this.layout.name?this.lock("both",n,r):"horizontal"===this.settings.axis?this.lock("height",n,r):this.lock("width",n,r),this.settings.width=n,this.settings.height=r}lock(e,t,n){var r,i=sW(this.element);r=this.iframe?sW(this.iframe):{width:0,height:0},"width"==e&&sk(t)&&(this.lockedWidth=t-i.width-r.width),"height"==e&&sk(n)&&(this.lockedHeight=n-i.height-r.height),"both"===e&&sk(t)&&sk(n)&&(this.lockedWidth=t-i.width-r.width,this.lockedHeight=n-i.height-r.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t,n=this.lockedWidth,r=this.lockedHeight;this.iframe&&!this._expanding&&(this._expanding=!0,"pre-paginated"===this.layout.name?(n=this.layout.columnWidth,r=this.layout.height):"horizontal"===this.settings.axis?((n=this.contents.textWidth())%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(t=n/this.layout.pageWidth,this.layout.divisor>1&&"reflowable"===this.layout.name&&t%2>0&&(n+=this.layout.pageWidth))):"vertical"===this.settings.axis&&(r=this.contents.textHeight(),"paginated"===this.settings.flow&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||r!=this._height)&&this.reframe(n,r),this._expanding=!1)}reframe(e,t){var n;sk(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),sk(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let r=this.prevBounds?e-this.prevBounds.width:e,i=this.prevBounds?t-this.prevBounds.height:t;n={width:e,height:t,widthDelta:r,heightDelta:i},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let e;for(let t in this.marks)this.marks.hasOwnProperty(t)&&(e=this.marks[t],this.placeMark(e.element,e.range))}),this.onResize(this,n),this.emit(lz,n),this.prevBounds=n,this.elementBounds=sV(this.element)}load(e){var t=new lt,n=t.promise;if(!this.iframe)return t.reject(Error("No Iframe Available")),n;if(this.iframe.onload=(function(e){this.onLoad(e,t)}).bind(this),"blobUrl"===this.settings.method)this.blobUrl=sJ(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if("srcdoc"===this.settings.method)this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(Error("No Document Available")),n;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var r=this;MSApp.execUnsafeLocalFunction(function(){r.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return n}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new uh(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var n=this.document.querySelector("link[rel='canonical']");n?n.setAttribute("href",this.section.canonical):((n=this.document.createElement("link")).setAttribute("rel","canonical"),n.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(n)),this.contents.on(lw,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(lE,e=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,"horizontal"==e?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new lt;return this.displayed?t.resolve(this):this.render(e).then((function(){this.emit(lG,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}).bind(this),function(e){t.reject(e,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(lj,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(lH,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=sV(this.element)),this.elementBounds}highlight(e,t={},n,r="epubjs-hl",i={}){if(!this.contents)return;let a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},i),o=this.contents.range(e),s=()=>{this.emit(lV,e,t)};t.epubcfi=e,this.pane||(this.pane=new um.Pane(this.iframe,this.element));let l=new um.Highlight(o,r,t,a),u=this.pane.addMark(l);return this.highlights[e]={mark:u,element:u.element,listeners:[s,n]},u.element.setAttribute("ref",r),u.element.addEventListener("click",s),u.element.addEventListener("touchstart",s),n&&(u.element.addEventListener("click",n),u.element.addEventListener("touchstart",n)),u}underline(e,t={},n,r="epubjs-ul",i={}){if(!this.contents)return;let a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},i),o=this.contents.range(e),s=()=>{this.emit(lV,e,t)};t.epubcfi=e,this.pane||(this.pane=new um.Pane(this.iframe,this.element));let l=new um.Underline(o,r,t,a),u=this.pane.addMark(l);return this.underlines[e]={mark:u,element:u.element,listeners:[s,n]},u.element.setAttribute("ref",r),u.element.addEventListener("click",s),u.element.addEventListener("touchstart",s),n&&(u.element.addEventListener("click",n),u.element.addEventListener("touchstart",n)),u}mark(e,t={},n){if(!this.contents)return;if(e in this.marks)return this.marks[e];let r=this.contents.range(e);if(!r)return;let i=r.commonAncestorContainer,a=1===i.nodeType?i:i.parentNode,o=n=>{this.emit(lV,e,t)};r.collapsed&&1===i.nodeType?(r=new Range).selectNodeContents(i):r.collapsed&&(r=new Range).selectNodeContents(a);let s=this.document.createElement("a");return s.setAttribute("ref","epubjs-mk"),s.style.position="absolute",s.dataset.epubcfi=e,t&&Object.keys(t).forEach(e=>{s.dataset[e]=t[e]}),n&&(s.addEventListener("click",n),s.addEventListener("touchstart",n)),s.addEventListener("click",o),s.addEventListener("touchstart",o),this.placeMark(s,r),this.element.appendChild(s),this.marks[e]={element:s,range:r,listeners:[o,n]},a}placeMark(e,t){let n,r,i;if("pre-paginated"===this.layout.name||"horizontal"!==this.settings.axis){let e=t.getBoundingClientRect();n=e.top,r=e.right}else{let e,o=t.getClientRects();for(var a=0;a!=o.length;a++)e=o[a],(!i||e.left<i)&&(r=Math.ceil((i=e.left)/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,n=e.top)}e.style.top=`${n}px`,e.style.left=`${r}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(e=>{e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(e=>{e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(e=>{e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&s1(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}(0,sR.default)(ug.prototype);var uv=e.i(24283);let u_=class{constructor(e){this.settings=e||{},this.id="epubjs-container-"+sN(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,n=e.width,r=e.overflow||!1,i=e.axis||"vertical",a=e.direction;sz(this.settings,e),e.height&&sk(e.height)&&(t=e.height+"px"),e.width&&sk(e.width)&&(n=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative","horizontal"===i&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),n&&(o.style.width=n),t&&(o.style.height=t),r&&("scroll"===r&&"vertical"===i?(o.style["overflow-y"]=r,o.style["overflow-x"]="hidden"):"scroll"===r&&"horizontal"===i?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=r):o.style.overflow=r),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(sU(e)?t=e:"string"==typeof e&&(t=document.getElementById(e)),!t)throw Error("Not an Element");return t}attachTo(e){var t,n=this.getElement(e);if(n)return t=this.settings.hidden?this.wrapper:this.container,n.appendChild(t),this.element=n,n}getContainer(){return this.container}onResize(e){sk(this.settings.width)&&sk(this.settings.height)||(this.resizeFunc=(0,uv.default)(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var n;let r=e||this.settings.width,i=t||this.settings.height;null===e?(n=this.element.getBoundingClientRect()).width&&(e=Math.floor(n.width),this.container.style.width=e+"px"):sk(e)?this.container.style.width=e+"px":this.container.style.width=e,null===t?(n=n||this.element.getBoundingClientRect()).height&&(t=n.height,this.container.style.height=t+"px"):sk(t)?this.container.style.height=t+"px":this.container.style.height=t,sk(e)||(e=this.container.clientWidth),sk(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=sX(),o=window.getComputedStyle(document.body),s={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return r||(e=a.width-s.left-s.right),(!this.settings.fullsize||i)&&i||(t=a.height-s.top-s.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return("visible"!==this.container.style.overflow&&(e=this.container&&this.container.getBoundingClientRect()),e&&e.width&&e.height)?e:sX()}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var n="#"+this.id+" ",r="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(r+=t+":"+e[t]+";")}),this.sheet.insertRule(n+e+" {"+r+"}",0)}axis(e){"horizontal"===e?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&("scroll"===e&&"vertical"===this.settings.axis?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):"scroll"===e&&"horizontal"===this.settings.axis?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}},ub=class{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var n=0;n<t;n++)e=this._views[n],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,n=this.length,r=0;r<n;r++)if((t=this._views[r]).displayed&&t.section.index==e.index)return t}displayed(){for(var e,t=[],n=this.length,r=0;r<n;r++)(e=this._views[r]).displayed&&t.push(e);return t}show(){for(var e,t=this.length,n=0;n<t;n++)(e=this._views[n]).displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,n=0;n<t;n++)(e=this._views[n]).displayed&&e.hide();this.hidden=!0}};class uy{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new ly(this),this.settings=sz(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),sz(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){var n,r,i,a,o,s;let l=e.tagName;void 0===this.settings.fullsize&&l&&("body"==l.toLowerCase()||"html"==l.toLowerCase())&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=(n="reverse",(i=document.createElement("div")).dir="rtl",i.style.position="fixed",i.style.width="1px",i.style.height="1px",i.style.top="0px",i.style.left="0px",i.style.overflow="hidden",(a=document.createElement("div")).style.width="2px",(o=document.createElement("span")).style.width="1px",o.style.display="inline-block",(s=document.createElement("span")).style.width="1px",s.style.display="inline-block",a.appendChild(o),a.appendChild(s),i.appendChild(a),r=i,document.body.appendChild(r),r.scrollLeft>0?n="default":"u">typeof Element&&Element.prototype.scrollIntoView?(r.children[0].children[1].scrollIntoView(),r.scrollLeft<0&&(n="negative")):(r.scrollLeft=1,0===r.scrollLeft&&(n="negative")),document.body.removeChild(r),n),this.stage=new u_({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new ub(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(e){this.destroy()}).bind(this)),e=this.settings.fullsize?window:this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(lL,t)}).bind(this),500)}onResized(e){this.resize()}resize(e,t,n){let r=this.stage.size(e,t);if(this.winBounds=sX(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===r.width&&this._stageSize.height===r.height||(this._stageSize=r,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(lP,{width:this._stageSize.width,height:this._stageSize.height},n))}createView(e,t){return new this.View(e,sz(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,n){let r;if("pre-paginated"===this.layout.name&&this.layout.divisor>1){if(e||0===t.index)return;if((r=t.next())&&!r.properties.includes("page-spread-left"))return n.call(this,r)}}display(e,t){var n=new lt,r=n.promise;(t===e.href||sk(t))&&(t=void 0);var i=this.views.find(e);if(i&&e&&"pre-paginated"!==this.layout.name){let e=i.offset();if("ltr"===this.settings.direction)this.scrollTo(e.left,e.top,!0);else{let t=i.width();this.scrollTo(e.left+t,e.top,!0)}if(t){let e=i.locationOf(t),n=i.width();this.moveTo(e,n)}return n.resolve(),r}this.clear();let a=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then((function(e){if(t){let n=e.locationOf(t),r=e.width();this.moveTo(n,r)}}).bind(this),e=>{n.reject(e)}).then((function(){return this.handleNextPrePaginated(a,e,this.add)}).bind(this)).then((function(){this.views.show(),n.resolve()}).bind(this)),r}afterDisplayed(e){this.emit(lI,e)}afterResized(e){this.emit(lR,e.section)}moveTo(e,t){var n=0,r=0;this.isPaginated?((n=Math.floor(e.left/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollWidth&&(n=this.container.scrollWidth-this.layout.delta),(r=Math.floor(e.top/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollHeight&&(r=this.container.scrollHeight-this.layout.delta)):r=e.top,"rtl"===this.settings.direction&&(n+=this.layout.delta,n-=t),this.scrollTo(n,r,!0)}add(e,t){var n=this.createView(e,t);return this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(lk,e=>{this.updateAxis(e)}),n.on(lO,e=>{this.updateWritingMode(e)}),n.display(this.request)}append(e,t){var n=this.createView(e,t);return this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(lk,e=>{this.updateAxis(e)}),n.on(lO,e=>{this.updateWritingMode(e)}),n.display(this.request)}prepend(e,t){var n=this.createView(e,t);return n.on(lz,e=>{this.counter(e)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(lk,e=>{this.updateAxis(e)}),n.on(lO,e=>{this.updateWritingMode(e)}),n.display(this.request)}counter(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e;let t=this.settings.direction;if(this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis&&(!t||"ltr"===t)?(this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft+this.container.offsetWidth+this.layout.delta<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t?(this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next():this.container.scrollLeft+-1*this.layout.delta>-1*this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&"vertical"===this.settings.axis?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let t=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(t=!0),this.append(e,t).then((function(){return this.handleNextPrePaginated(t,e,this.append)}).bind(this),e=>e).then((function(){this.isPaginated||"horizontal"!==this.settings.axis||"rtl"!==this.settings.direction||"default"!==this.settings.rtlScrollType||this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e;let t=this.settings.direction;if(this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis&&(!t||"ltr"===t)?(this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t?(this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft+this.container.offsetWidth<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev():this.container.scrollLeft<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&"vertical"===this.settings.axis?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let t=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&"object"!=typeof e.prev()&&(t=!0),this.prepend(e,t).then((function(){var t;if("pre-paginated"===this.layout.name&&this.layout.divisor>1&&(t=e.prev()))return this.prepend(t)}).bind(this),e=>e).then((function(){this.isPaginated&&"horizontal"===this.settings.axis&&("rtl"===this.settings.direction?"default"===this.settings.rtlScrollType?this.scrollTo(0,0,!0):this.scrollTo(-1*this.container.scrollWidth+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&"horizontal"===this.settings.axis?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),n=t.height<window.innerHeight?t.height:window.innerHeight,r=t.width<window.innerWidth?t.width:window.innerWidth,i="vertical"===this.settings.axis;this.settings.direction;let a=0;return this.settings.fullsize&&(a=i?window.scrollY:window.scrollX),e.map(e=>{let o,s,l,u,{index:c,href:d}=e.section,h=e.position(),f=e.width(),p=e.height();i?(s=(o=a+t.top-h.top+0)+n-0,u=this.layout.count(p,n).pages,l=n):(s=(o=a+t.left-h.left+0)+r-0,u=this.layout.count(f,r).pages,l=r);let m=Math.ceil(o/l),g=[],v=Math.ceil(s/l);if("rtl"===this.settings.direction&&!i){let e=m;m=u-v,v=u-e}g=[];for(var _=m;_<=v;_++){let e=_+1;g.push(e)}return{index:c,href:d,pages:g,totalPages:u,mapping:this.mapping.page(e.contents,e.section.cfiBase,o,s)}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),n=0,r=0;return this.settings.fullsize&&(n=window.scrollX),e.map(e=>{let i,a,o,s,{index:l,href:u}=e.section,c=e.position(),d=e.width();"rtl"===this.settings.direction?(s=Math.min(Math.abs((i=t.right-n)-c.left),this.layout.width)-r,a=(o=c.width-(c.right-i)-r)-s):(i=t.left+n,s=Math.min(c.right-i,this.layout.width)-r,o=(a=i-c.left+r)+s),r+=s;let h=this.mapping.page(e.contents,e.section.cfiBase,a,o),f=this.layout.count(d).pages,p=Math.floor(a/this.layout.pageWidth),m=[],g=Math.floor(o/this.layout.pageWidth);if(p<0&&(p=0,g+=1),"rtl"===this.settings.direction){let e=p;p=f-g,g=f-e}for(var v=p+1;v<=g;v++){let e=v;m.push(e)}return{index:l,href:u,pages:m,totalPages:f,mapping:h}})}isVisible(e,t,n,r){var i=e.position(),a=r||this.bounds();return"horizontal"===this.settings.axis&&i.right>a.left-t&&i.left<a.right+n||"vertical"===this.settings.axis&&!!(i.bottom>a.top-t)&&!!(i.top<a.bottom+n)}visible(){for(var e,t=this.bounds(),n=this.views.displayed(),r=n.length,i=[],a=0;a<r;a++)e=n[a],!0===this.isVisible(e,0,0,t)&&i.push(e);return i}scrollBy(e,t,n){let r="rtl"===this.settings.direction?-1:1;n&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*r,t*r):(e&&(this.container.scrollLeft+=e*r),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,n){n&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(lN,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(lD,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){return this.stage.bounds()}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&"pre-paginated"===this.layout.name&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new ul(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){(t||e!==this.settings.axis)&&(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new ul(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&("vertical"===e?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let n="paginated"===e||"auto"===e;this.isPaginated=n,"scrolled-doc"===e||"scrolled-continuous"===e||"scrolled"===e?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=n?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){let n=t&&t.contents;n&&e.push(n)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}(0,sR.default)(uy.prototype);let ux=uy,uS=function(e){return Math.pow(e,3)};class uw{constructor(e,t){this.settings=sz({duration:80,minVelocity:.2,minDistance:10,easing:uS},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=2*this.settings.duration,this.isVertical="vertical"===this.manager.settings.axis,this.manager.isPaginated&&!this.isVertical&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(lI,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(lI,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(e=>{t.on(e,e=>this.triggerViewEvent(e,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:n}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=n,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=n,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:n}=e.touches[0],r=Math.abs(n-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&r<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=n,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();0!==t?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,n=Math.abs(t),r=t/(this.endTime-this.startTime),i=this.settings.minVelocity;return n<=this.settings.minDistance||n>=e?0:r>i?-1:r<-i?1:void 0}needsSnap(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!=0}snap(e=0){let t=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor,r=Math.round(t/n)*n;return e&&(r+=e*n),this.smoothScrollTo(r)}smoothScrollTo(e){let t=new lt,n=this.scrollLeft,r=this.now(),i=this.settings.duration,a=this.settings.easing;return this.snapping=!0,(function o(){let s=Math.min(1,(this.now()-r)/i);if(a(s),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}s<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(n+(e-n)*s,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}).call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}(0,sR.default)(uw.prototype);var uE=e.i(74009);let uT=class extends ux{constructor(e){super(e),this.name="continuous",this.settings=sz(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),sz(this.settings,e.settings||{}),"undefined"!=e.settings.gap&&0===e.settings.gap&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return ux.prototype.display.call(this,e,t).then((function(){return this.fill()}).bind(this))}fill(e){var t=e||new lt;return this.q.enqueue(()=>this.check()).then(e=>{e?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,n=0;this.isPaginated?t=Math.floor(e.left/this.layout.delta)*this.layout.delta:(n=e.top,e.top),this.settings.offsetDelta,(t>0||n>0)&&this.scrollBy(t,n,!0)}afterResized(e){this.emit(lR,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(lz,e=>{t.expanded=!0}),t.on(lk,e=>{this.updateAxis(e)}),t.on(lO,e=>{this.updateWritingMode(e)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(lz,e=>{t.expanded=!0}),t.on(lk,e=>{this.updateAxis(e)}),t.on(lO,e=>{this.updateWritingMode(e)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(lz,e=>{this.counter(e),t.expanded=!0}),t.on(lk,e=>{this.updateAxis(e)}),t.on(lO,e=>{this.updateWritingMode(e)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t,n=this.bounds(),r=this.views.all(),i=r.length,a=[],o=void 0!==e?e:this.settings.offset||0,s=new lt,l=[],u=0;u<i;u++)if(t=r[u],!0===this.isVisible(t,o,o,n)){if(t.displayed)t.show();else{let e=t.display(this.request).then(function(e){e.show()},e=>{t.hide()});l.push(e)}a.push(t)}else this.q.enqueue(t.destroy.bind(t)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return l.length?Promise.all(l).catch(e=>{s.reject(e)}):(s.resolve(),s.promise)}check(e,t){var n=new lt,r=[],i="horizontal"===this.settings.axis,a=this.settings.offset||0;e&&i&&(a=e),t&&!i&&(a=t);var o=this._bounds;let s=i?this.scrollLeft:this.scrollTop,l=i?Math.floor(o.width):o.height,u=i?this.container.scrollWidth:this.container.scrollHeight,c=this.writingMode&&0===this.writingMode.indexOf("vertical")?"vertical":"horizontal",d=this.settings.rtlScrollType,h="rtl"===this.settings.direction;this.settings.fullsize?(i&&h&&"negative"===d||!i&&h&&"default"===d)&&(s*=-1):(h&&"default"===d&&"horizontal"===c&&(s=u-l-s),h&&"negative"===d&&"horizontal"===c&&(s*=-1));let f=()=>{let e=this.views.first(),t=e&&e.section.prev();t&&r.push(this.prepend(t))},p=()=>{let e=this.views.last(),t=e&&e.section.next();t&&r.push(this.append(t))},m=s+l+a,g=s-a;m>=u&&p(),g<0&&f();let v=r.map(e=>e.display(this.request));return r.length?Promise.all(v).then(()=>this.check()).then(()=>this.update(a),e=>e):(this.q.enqueue((function(){this.update()}).bind(this)),n.resolve(!1),n.promise)}trim(){for(var e=new lt,t=this.views.displayed(),n=t[0],r=t[t.length-1],i=this.views.indexOf(n),a=this.views.indexOf(r),o=this.views.slice(0,i),s=this.views.slice(a+1),l=0;l<o.length-1;l++)this.erase(o[l],o);for(var u=1;u<s.length;u++)this.erase(s[u]);return e.resolve(),e.promise}erase(e,t){this.settings.fullsize?(n=window.scrollY,r=window.scrollX):(n=this.container.scrollTop,r=this.container.scrollLeft);var n,r,i=e.bounds();this.views.remove(e),t&&("vertical"===this.settings.axis?this.scrollTo(0,n-i.height,!0):"rtl"===this.settings.direction?this.settings.fullsize?this.scrollTo(r+Math.floor(i.width),0,!0):this.scrollTo(r,0,!0):this.scrollTo(r-Math.floor(i.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(e){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new uw(this,this.settings.snap&&"object"==typeof this.settings.snap&&this.settings.snap))}addScrollListeners(){var e;this.tick=sL;let t="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=(0,uE.default)(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,n="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.settings.fullsize?(e=window.scrollY*n,t=window.scrollX*n):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(lN,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(lD,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new uw(this,this.settings.snap&&"object"==typeof this.settings.snap&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}};class uM{constructor(e,t){this.settings=sz(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),sz(this.settings,t),"object"==typeof this.settings.manager&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new lh(this),this.hooks.serialize=new lh(this),this.hooks.content=new lh(this),this.hooks.unloaded=new lh(this),this.hooks.layout=new lh(this),this.hooks.render=new lh(this),this.hooks.show=new lh(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new us(this),this.annotations=new up(this),this.epubcfi=new ld,this.q=new ly(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new lt,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){return"string"==typeof e&&"default"===e?ux:"string"==typeof e&&"continuous"===e?uT:e}requireView(e){return"string"==typeof e&&"iframe"===e?ug:e}start(){switch(!this.settings.layout&&("pre-paginated"===this.book.package.metadata.layout||"true"===this.book.displayOptions.fixedLayout)&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(lI,this.afterDisplayed.bind(this)),this.manager.on(lU,this.afterRemoved.bind(this)),this.manager.on(lP,this.onResized.bind(this)),this.manager.on(lL,this.onOrientationChange.bind(this)),this.manager.on(lD,this.reportLocation.bind(this)),this.emit(lW),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(lq)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t,n=new lt,r=n.promise;return(this.displaying=n,this.book.locations.length()&&sO(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),t=this.book.spine.get(e))?this.manager.display(t,e).then(()=>{n.resolve(t),this.displaying=void 0,this.emit(lX,t),this.reportLocation()},e=>{this.emit(lY,e)}):n.reject(Error("No Section Found")),r}}afterDisplayed(e){e.on(lV,(t,n)=>this.triggerMarkEvent(t,n,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(lK,e.section,e)}):this.emit(lK,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(l$,e.section,e)})}onResized(e,t){this.emit(lZ,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(lQ,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,n){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,n)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",r=this.settings.orientation||e.orientation||"auto",i=this.settings.flow||e.flow||"auto",a=e.viewport||"",o=this.settings.minSpreadWidth||e.minSpreadWidth||800,s=this.settings.direction||e.direction||"ltr";return(0===this.settings.width||this.settings.width>0)&&(0===this.settings.height||this.settings.height),{layout:t,spread:n,orientation:r,flow:i,viewport:a,minSpreadWidth:o,direction:s}}flow(e){var t=e;("scrolled"===e||"scrolled-doc"===e||"scrolled-continuous"===e)&&(t="scrolled"),("auto"===e||"paginated"===e)&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new uo(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(l5,(e,t)=>{this.emit(l6,e,t)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var e=this.manager.currentLocation();if(e&&e.then&&"function"==typeof e.then)e.then((function(e){let t=this.located(e);t&&t.start&&t.end&&(this.location=t,this.emit(lJ,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(l1,this.location))}).bind(this));else if(e){let t=this.located(e);if(!t||!t.start||!t.end)return;this.location=t,this.emit(lJ,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(l1,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&"function"==typeof e.then)e.then((function(e){return this.located(e)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],n=e[e.length-1],r={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:n.index,href:n.href,cfi:n.mapping.end,displayed:{page:n.pages[n.pages.length-1]||1,total:n.totalPages}}},i=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(n.mapping.end);null!=i&&(r.start.location=i,r.start.percentage=this.book.locations.percentageFromLocation(i)),null!=a&&(r.end.location=a,r.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),s=this.book.pageList.pageFromCfi(n.mapping.end);return -1!=o&&(r.start.page=o),-1!=s&&(r.end.page=s),n.index===this.book.spine.last().index&&r.end.displayed.page>=r.end.displayed.total&&(r.atEnd=!0),t.index===this.book.spine.first().index&&1===r.start.displayed.page&&(r.atStart=!0),r}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){lx.forEach(t=>{e.on(t,t=>this.triggerViewEvent(t,e))}),e.on(lT,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(l0,e,t)}triggerMarkEvent(e,t,n){this.emit(l2,e,t,n)}getRange(e,t){var n=new ld(e),r=this.manager.visible().filter(function(e){if(n.spinePos===e.index)return!0});if(r.length)return r[0].contents.range(n,t)}adjustImages(e){if("pre-paginated"===this._layout.name)return new Promise(function(e){e()});let t=e.window.getComputedStyle(e.content,null),n=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,r=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-r+"px":"100%")+"!important","max-height":n+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-r+"px":"100%")+"!important","max-height":n+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(e,t){setTimeout(function(){e()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(lC,e=>{let t=this.book.path.relative(e);this.display(t)})}injectStylesheet(e,t){let n=e.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(n)}injectScript(e,t){let n=e.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",this.settings.script),n.textContent=" ",e.getElementsByTagName("head")[0].appendChild(n)}injectIdentifier(e,t){let n=this.book.packaging.metadata.identifier,r=e.createElement("meta");r.setAttribute("name","dc.relation.ispartof"),n&&r.setAttribute("content",n),e.getElementsByTagName("head")[0].appendChild(r)}}(0,sR.default)(uM.prototype);var uC=e.i(67873);let uA=class{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new uC.default}catch(e){throw Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return lv(e,"binary").then((function(e){return this.zip.loadAsync(e,{base64:t})}).bind(this))}request(e,t){var n,r=new lt,i=new lu(e);return t||(t=i.extension),(n="blob"==t?this.getBlob(e):this.getText(e))?n.then((function(e){let n=this.handleResponse(e,t);r.resolve(n)}).bind(this)):r.reject({message:"File not found in the epub: "+e,stack:Error().stack}),r.promise}handleResponse(e,t){return"json"==t?JSON.parse(e):sZ(t)?s6(e,"text/xml"):"xhtml"==t?s6(e,"application/xhtml+xml"):"html"==t||"htm"==t?s6(e,"text/html"):e}getBlob(e,t){var n=window.decodeURIComponent(e.substr(1)),r=this.zip.file(n);if(r)return t=t||ur(r.name),r.async("uint8array").then(function(e){return new Blob([e],{type:t})})}getText(e,t){var n=window.decodeURIComponent(e.substr(1)),r=this.zip.file(n);if(r)return r.async("string").then(function(e){return e})}getBase64(e,t){var n=window.decodeURIComponent(e.substr(1)),r=this.zip.file(n);if(r)return t=t||ur(r.name),r.async("base64").then(function(e){return"data:"+t+";base64,"+e})}createUrl(e,t){var n,r,i=new lt,a=window.URL||window.webkitURL||window.mozURL,o=t&&t.base64;return e in this.urlCache?i.resolve(this.urlCache[e]):(o?(r=this.getBase64(e))&&r.then((function(t){this.urlCache[e]=t,i.resolve(t)}).bind(this)):(r=this.getBlob(e))&&r.then((function(t){n=a.createObjectURL(t),this.urlCache[e]=n,i.resolve(n)}).bind(this)),r||i.reject({message:"File not found in the epub: "+e,stack:Error().stack})),i.promise}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}};var uR=e.i(52383);class uP{constructor(e,t,n){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||lv,this.resolver=n,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;void 0===uR.default&&(e=uR.default),this.storage=e.createInstance({name:this.name})}catch(e){throw Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){return Promise.all(e.resources.map(e=>{let{href:n}=e,r=this.resolver(n),i=window.encodeURIComponent(r);return this.storage.getItem(i).then(e=>!e||t?this.requester(r,"binary").then(e=>this.storage.setItem(i,e)):e)}))}put(e,t,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(i=>i||this.requester(e,"binary",t,n).then(e=>this.storage.setItem(r,e)))}request(e,t,n,r){return this.online?this.requester(e,t,n,r).then(t=>(this.put(e),t)):this.retrieve(e,t)}retrieve(e,t){new lt;var n=new lu(e);return t||(t=n.extension),("blob"==t?this.getBlob(e):this.getText(e)).then(n=>{var r,i=new lt;return n?(r=this.handleResponse(n,t),i.resolve(r)):i.reject({message:"File not found in storage: "+e,stack:Error().stack}),i.promise})}handleResponse(e,t){return"json"==t?JSON.parse(e):sZ(t)?s6(e,"text/xml"):"xhtml"==t?s6(e,"application/xhtml+xml"):"html"==t||"htm"==t?s6(e,"text/html"):e}getBlob(e,t){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(function(n){if(n)return new Blob([n],{type:t=t||ur(e)})})}getText(e,t){let n=window.encodeURIComponent(e);return t=t||ur(e),this.storage.getItem(n).then(function(e){var n,r=new lt,i=new FileReader;if(e)return n=new Blob([e],{type:t}),i.addEventListener("loadend",()=>{r.resolve(i.result)}),i.readAsText(n,t),r.promise})}getBase64(e,t){let n=window.encodeURIComponent(e);return t=t||ur(e),this.storage.getItem(n).then(e=>{var n,r=new lt,i=new FileReader;if(e)return n=new Blob([e],{type:t}),i.addEventListener("loadend",()=>{r.resolve(i.result)}),i.readAsDataURL(n,t),r.promise})}createUrl(e,t){var n,r,i=new lt,a=window.URL||window.webkitURL||window.mozURL,o=t&&t.base64;return e in this.urlCache?i.resolve(this.urlCache[e]):(o?(r=this.getBase64(e))&&r.then((function(t){this.urlCache[e]=t,i.resolve(t)}).bind(this)):(r=this.getBlob(e))&&r.then((function(t){n=a.createObjectURL(t),this.urlCache[e]=n,i.resolve(n)}).bind(this)),r||i.reject({message:"File not found in storage: "+e,stack:Error().stack})),i.promise}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}(0,sR.default)(uP.prototype);let uL=class{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;let t=s5(e,"display_options");return t&&s3(t,"option").forEach(e=>{let t="";switch(e.childNodes.length&&(t=e.childNodes[0].nodeValue),e.attributes.name.value){case"interactive":this.interactive=t;break;case"fixed-layout":this.fixedLayout=t;break;case"open-to-spread":this.openToSpread=t;break;case"orientation-lock":this.orientationLock=t}}),this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}},uI="META-INF/container.xml",uN="binary",uD="base64",uU="epub",uk="json";class uO{constructor(e,t){void 0===t&&"string"!=typeof e&&e instanceof Blob==!1&&e instanceof ArrayBuffer==!1&&(t=e,e=void 0),this.settings=sz(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),sz(this.settings,t),this.opening=new lt,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new lt,spine:new lt,metadata:new lt,cover:new lt,navigation:new lt,pageList:new lt,resources:new lt,displayOptions:new lt},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||lv,this.spine=new lb,this.locations=new l7(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(t=>{var n=Error("Cannot load book at "+e);this.emit(lS,n)})}open(e,t){var n,r=t||this.determineType(e);return r===uN?(this.archived=!0,this.url=new lc("/",""),n=this.openEpub(e)):r===uD?(this.archived=!0,this.url=new lc("/",""),n=this.openEpub(e,r)):r===uU?(this.archived=!0,this.url=new lc("/",""),n=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):"opf"==r?(this.url=new lc(e),n=this.openPackaging(this.url.Path.toString())):r==uk?(this.url=new lc(e),n=this.openManifest(this.url.Path.toString())):(this.url=new lc(e),n=this.openContainer(uI).then(this.openPackaging.bind(this))),n}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(uI)).then(e=>this.openPackaging(e))}openContainer(e){return this.load(e).then(e=>(this.container=new l8(e),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new lu(e),this.load(e).then(e=>(this.packaging=new l9(e),this.unpack(this.packaging)))}openManifest(e){return this.path=new lu(e),this.load(e).then(e=>(this.packaging=new l9,this.packaging.load(e),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var n=e;return e.indexOf("://")>-1?e:(this.path&&(n=this.path.resolve(e)),!1!=t&&this.url&&(n=this.url.resolve(n)),n)}}canonical(e){return e?this.settings.canonical?this.settings.canonical(e):this.resolve(e,!0):""}determineType(e){var t;return"base64"===this.settings.encoding?uD:"string"!=typeof e?uN:((t=new lc(e).path().extension)&&(t=t.replace(/\?.*$/,"")),t)?"epub"===t?uU:"opf"===t?"opf":"json"===t?uk:void 0:"directory"}unpack(e){this.package=e,""===this.packaging.metadata.layout?this.load(this.url.resolve("META-INF/com.apple.ibooks.display-options.xml")).then(e=>{this.displayOptions=new uL(e),this.loading.displayOptions.resolve(this.displayOptions)}).catch(e=>{this.displayOptions=new uL,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new uL,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new ui(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&"none"!=this.settings.replacements?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(e=>{console.error(e)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,n=e.toc;return n?new Promise((t,r)=>{this.navigation=new ue(n),e.pageList&&(this.pageList=new ua(e.pageList)),t(this.navigation)}):t?this.load(t,"xml").then(e=>(this.navigation=new ue(e),this.pageList=new ua(e),this.navigation)):new Promise((e,t)=>{this.navigation=new ue,this.pageList=new ua,e(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new uM(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new uA,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&"none"!==this.settings.replacements,n=this.url,r=this.settings.requestMethod||lv.bind(this);return this.storage=new uP(e,r,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let e=(e,t)=>{t.output=this.resources.substitute(e,t.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new lc("/",""),this.spine.hooks.serialize.register(e)}),this.storage.on("online",()=>{this.url=n,this.spine.hooks.serialize.deregister(e)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new ld(e),n=this.spine.get(t.spinePos),r=this.load.bind(this);return n?n.load(r).then(function(e){return t.toRange(n.document)}):new Promise((e,t)=>{t("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:0.3:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}(0,sR.default)(uO.prototype);var uF=e.i(5058);function uB(e,t){return new uO(e,t)}async function uz(e){let t=uB(e);await t.ready;let n={title:t.packaging?.metadata?.title||"Untitled",author:t.packaging?.metadata?.creator||"Unknown Author",publisher:t.packaging?.metadata?.publisher,language:t.packaging?.metadata?.language};try{let e=await t.coverUrl();e&&(n.coverUrl=e)}catch{}let r=t.spine,i=[],a=0,o=await t.loaded.navigation,s=new Map;if(o?.toc)for(let e of o.toc)s.set(e.href,e.label);return await r.each(async e=>{try{let n=await e.load(t.load.bind(t)),r=n.body?.innerHTML||"",o=function(e){if("u"<typeof document)return e.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim();let t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("script, style").forEach(e=>e.remove()),(t.textContent||t.innerText||"").replace(/\s+/g," ").trim()}(r);if(o.length>10){let t=s.get(e.href)||s.get(e.href.split("#")[0])||`Chapter ${i.length+1}`,n=function(e,t=800){let n=[],r=e.trim();for(;r.length>0;){if(r.length<=t){n.push(r);break}let e=t,i=r.lastIndexOf("\n\n",t);if(i>.5*t)e=i;else{let n=Math.max(r.lastIndexOf(". ",t),r.lastIndexOf("! ",t),r.lastIndexOf("? ",t));if(n>.5*t)e=n+1;else{let n=r.lastIndexOf(" ",t);n>0&&(e=n)}}n.push(r.slice(0,e).trim()),r=r.slice(e).trim()}return n}(o);i.push({title:t,href:e.href,content:o,pages:n}),a+=n.length}}catch(t){console.warn(`Failed to load chapter ${e.href}:`,t)}}),{metadata:n,chapters:i,totalPages:a}}async function uG(e){let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch EPUB: ${t.status}`);return uz(await t.arrayBuffer())}uB.VERSION="0.3",e.g.EPUBJS_VERSION="0.3",uB.Book=uO,uB.Rendition=uM,uB.Contents=uh,uB.CFI=ld,uB.utils=uF;let uj=[{id:"pride-prejudice",title:"Pride and Prejudice",author:"Jane Austen",url:"https://www.gutenberg.org/ebooks/1342.epub.noimages"},{id:"moby-dick",title:"Moby Dick",author:"Herman Melville",url:"https://www.gutenberg.org/ebooks/2701.epub.noimages"},{id:"frankenstein",title:"Frankenstein",author:"Mary Shelley",url:"https://www.gutenberg.org/ebooks/84.epub.noimages"}],uH=(h?sC(h):sC)((f=(e,t)=>({currentBook:null,currentBookId:null,isLoading:!1,error:null,currentPage:0,fontSize:.035,bookDistance:1.5,loadBook:async(n,r)=>{e({isLoading:!0,error:null});try{let i=r||uj.find(e=>e.id===n)?.url;if(!i)throw Error("Book URL not found");let a=await uG(i),o=t().currentBookId===n?t().currentPage:0;e({currentBook:a,currentBookId:n,currentPage:o,isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to load book",isLoading:!1})}},loadDemoBook:async e=>{let n=uj.find(t=>t.id===e);n&&await t().loadBook(n.id,n.url)},clearBook:()=>{e({currentBook:null,currentBookId:null,currentPage:0,error:null})},setPage:n=>{let{currentBook:r}=t();r&&e({currentPage:Math.max(0,Math.min(n,r.totalPages-1))})},nextPage:()=>{let{currentBook:n,currentPage:r}=t();n&&r<n.totalPages-1&&e({currentPage:r+1})},prevPage:()=>{let{currentPage:n}=t();n>0&&e({currentPage:n-1})},setFontSize:t=>{e({fontSize:Math.max(.02,Math.min(.06,t))})},setBookDistance:t=>{e({bookDistance:Math.max(.8,Math.min(3,t))})},getCurrentPageContent:()=>{let{currentBook:e,currentPage:n}=t();return e?function(e,t){let n=0;for(let r=0;r<e.chapters.length;r++){let i=e.chapters[r],a=i.pages.length;if(n+a>t){let e=t-n;return{text:i.pages[e],chapter:i.title,chapterIndex:r,pageInChapter:e,totalPagesInChapter:a}}n+=a}return null}(e,n):null}}),p={name:"vr-reader-storage",partialize:e=>({currentBookId:e.currentBookId,currentPage:e.currentPage,fontSize:e.fontSize,bookDistance:e.bookDistance})},(e,t,n)=>{let r,i={storage:function(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...p},a=!1,o=0,s=new Set,l=new Set,u=i.storage;if(!u)return f((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),e(...t)},t,n);let c=()=>{let e=i.partialize({...t()});return u.setItem(i.name,{state:e,version:i.version})},d=n.setState;n.setState=(e,t)=>(d(e,t),c());let h=f((...t)=>(e(...t),c()),t,n);n.getInitialState=()=>h;let m=()=>{var n,d;if(!u)return;let f=++o;a=!1,s.forEach(e=>{var n;return e(null!=(n=t())?n:h)});let p=(null==(d=i.onRehydrateStorage)?void 0:d.call(i,null!=(n=t())?n:h))||void 0;return sA(u.getItem.bind(u))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(n=>{var a;if(f!==o)return;let[s,l]=n;if(e(r=i.merge(l,null!=(a=t())?a:h),!0),s)return c()}).then(()=>{f===o&&(null==p||p(r,void 0),r=t(),a=!0,l.forEach(e=>e(r)))}).catch(e=>{f===o&&(null==p||p(void 0,e))})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||m(),r||h})),uV=[`PRIDE AND PREJUDICE
by Jane Austen

Chapter 1

It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.

However little known the feelings or views of such a man may be on his first entering a neighbourhood, this truth is so well fixed in the minds of the surrounding families, that he is considered the rightful property of some one or other of their daughters.`,`"My dear Mr. Bennet," said his lady to him one day, "have you heard that Netherfield Park is let at last?"

Mr. Bennet replied that he had not.

"But it is," returned she; "for Mrs. Long has just been here, and she told me all about it."

Mr. Bennet made no answer.

"Do you not want to know who has taken it?" cried his wife impatiently.`,`"You want to tell me, and I have no objection to hearing it."

This was invitation enough.

"Why, my dear, you must know, Mrs. Long says that Netherfield is taken by a young man of large fortune from the north of England; that he came down on Monday in a chaise and four to see the place, and was so much delighted with it, that he agreed with Mr. Morris immediately."`];function uW({currentPage:e,fontSize:t,distance:n,onNextPage:r,onPrevPage:i}){let a=(0,T.useRef)(null),{currentBook:o,getCurrentPageContent:s}=uH(),l=o?s():null,u=l?.text||uV[e%uV.length],c=o?.totalPages||uV.length,d=l?e+1:e%uV.length+1,h=l?`${l.chapter} (${l.pageInChapter+1}/${l.totalPagesInChapter})`:null;return nq(e=>{a.current&&(a.current.position.y=1.4+.02*Math.sin(.5*e.clock.elapsedTime))}),(0,w.jsxs)("group",{ref:a,position:[0,1.4,-n],children:[(0,w.jsx)(sT,{args:[1.4,1.8,.05],radius:.02,smoothness:4,position:[0,0,-.03],children:(0,w.jsx)("meshStandardMaterial",{color:"#1a1a1a",roughness:.8,metalness:.1})}),(0,w.jsx)(sT,{args:[1.3,1.7,.02],radius:.01,smoothness:4,position:[0,0,0],children:(0,w.jsx)("meshStandardMaterial",{color:"#f5f5dc",roughness:.9,metalness:0})}),h&&(0,w.jsx)(sE,{position:[0,.75,.02],fontSize:.022,maxWidth:1.15,color:"#666666",anchorX:"center",anchorY:"middle",children:h}),(0,w.jsx)(sE,{position:[0,h?.05:.1,.02],fontSize:t,maxWidth:1.15,lineHeight:1.5,letterSpacing:.01,textAlign:"left",anchorX:"center",anchorY:"middle",color:"#1a1a1a",font:"/fonts/Merriweather-Regular.ttf",overflowWrap:"break-word",children:u}),(0,w.jsxs)(sE,{position:[0,-.8,.02],fontSize:.025,color:"#666666",anchorX:"center",anchorY:"middle",children:["Page ",d," of ",c]}),o&&(0,w.jsxs)(sE,{position:[0,-.72,.02],fontSize:.018,color:"#888888",anchorX:"center",anchorY:"middle",children:[o.metadata.title," â€” ",o.metadata.author]}),(0,w.jsxs)("group",{position:[-.55,-.8,.03],children:[(0,w.jsxs)("mesh",{onClick:i,children:[(0,w.jsx)("planeGeometry",{args:[.08,.08]}),(0,w.jsx)("meshBasicMaterial",{color:"#333333",transparent:!0,opacity:e>0?.8:.3})]}),(0,w.jsx)(sE,{position:[0,0,.01],fontSize:.04,color:"white",children:"â†"})]}),(0,w.jsxs)("group",{position:[.55,-.8,.03],children:[(0,w.jsxs)("mesh",{onClick:r,children:[(0,w.jsx)("planeGeometry",{args:[.08,.08]}),(0,w.jsx)("meshBasicMaterial",{color:"#333333",transparent:!0,opacity:e<c-1?.8:.3})]}),(0,w.jsx)(sE,{position:[0,0,.01],fontSize:.04,color:"white",children:"â†’"})]})]})}var uq=M;let uX=parseInt(M.REVISION.replace(/\D+/g,""));var uY=Object.defineProperty,uK=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?uY(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};let u$=(()=>{let e={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new uq.Vector3},up:{value:new uq.Vector3(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${uX>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},t=new uq.ShaderMaterial({name:"SkyShader",fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:uq.UniformsUtils.clone(e.uniforms),side:uq.BackSide,depthWrite:!1});class n extends uq.Mesh{constructor(){super(new uq.BoxGeometry(1,1,1),t)}}return uK(n,"SkyShader",e),uK(n,"material",t),n})();function uZ(e,t,n=new M.Vector3){let r=Math.PI*(e-.5),i=2*Math.PI*(t-.5);return n.x=Math.cos(i),n.y=Math.sin(r),n.z=Math.sin(i),n}let uQ=T.forwardRef(({inclination:e=.6,azimuth:t=.1,distance:n=1e3,mieCoefficient:r=.005,mieDirectionalG:i=.8,rayleigh:a=.5,turbidity:o=10,sunPosition:s=uZ(e,t),...l},u)=>{let c=T.useMemo(()=>new M.Vector3().setScalar(n),[n]),[d]=T.useState(()=>new u$);return T.createElement("primitive",rP({object:d,ref:u,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":i,"material-uniforms-rayleigh-value":a,"material-uniforms-sunPosition-value":s,"material-uniforms-turbidity-value":o,scale:c},l))});var uJ=M;let u1=parseInt(M.REVISION.replace(/\D+/g,""));class u2 extends uJ.ShaderMaterial{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${u1>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}let u0=e=>new uJ.Vector3().setFromSpherical(new uJ.Spherical(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI)),u6=T.forwardRef(({radius:e=100,depth:t=50,count:n=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:o=1},s)=>{let l=T.useRef(null),[u,c,d]=T.useMemo(()=>{let a=[],o=[],s=Array.from({length:n},()=>(.5+.5*Math.random())*i),l=new uJ.Color,u=e+t,c=t/n;for(let e=0;e<n;e++)u-=c*Math.random(),a.push(...u0(u).toArray()),l.setHSL(e/n,r,.9),o.push(l.r,l.g,l.b);return[new Float32Array(a),new Float32Array(o),new Float32Array(s)]},[n,t,i,e,r]);nq(e=>l.current&&(l.current.uniforms.time.value=e.clock.elapsedTime*o));let[h]=T.useState(()=>new u2);return T.createElement("points",{ref:s},T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[d,1]})),T.createElement("primitive",{ref:l,object:h,attach:"material",blending:uJ.AdditiveBlending,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))});var u5=M;class u3 extends u5.ShaderMaterial{constructor(){super({uniforms:{time:{value:0},pixelRatio:{value:1}},vertexShader:`
        uniform float pixelRatio;
        uniform float time;
        attribute float size;  
        attribute float speed;  
        attribute float opacity;
        attribute vec3 noise;
        attribute vec3 color;
        varying vec3 vColor;
        varying float vOpacity;

        void main() {
          vec4 modelPosition = modelMatrix * vec4(position, 1.0);
          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
          vec4 viewPosition = viewMatrix * modelPosition;
          vec4 projectionPostion = projectionMatrix * viewPosition;
          gl_Position = projectionPostion;
          gl_PointSize = size * 25. * pixelRatio;
          gl_PointSize *= (1.0 / - viewPosition.z);
          vColor = color;
          vOpacity = opacity;
        }
      `,fragmentShader:`
        varying vec3 vColor;
        varying float vOpacity;
        void main() {
          float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
          float strength = 0.05 / distanceToCenter - 0.1;
          gl_FragColor = vec4(vColor, strength * vOpacity);
          #include <tonemapping_fragment>
          #include <${u1>=154?"colorspace_fragment":"encodings_fragment"}>
        }
      `})}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}get pixelRatio(){return this.uniforms.pixelRatio.value}set pixelRatio(e){this.uniforms.pixelRatio.value=e}}let u4=e=>e&&e.constructor===Float32Array,u7=e=>e instanceof u5.Vector2||e instanceof u5.Vector3||e instanceof u5.Vector4,u8=e=>Array.isArray(e)?e:u7(e)?e.toArray():[e,e,e];function u9(e,t,n){return T.useMemo(()=>{if(void 0!==t)if(u4(t))return t;else{if(t instanceof u5.Color){let n=Array.from({length:3*e},()=>[t.r,t.g,t.b]).flat();return Float32Array.from(n)}if(u7(t)||Array.isArray(t)){let n=Array.from({length:3*e},()=>u8(t)).flat();return Float32Array.from(n)}return Float32Array.from({length:e},()=>t)}return Float32Array.from({length:e},n)},[t])}let ce=T.forwardRef(({noise:e=1,count:t=100,speed:n=1,opacity:r=1,scale:i=1,size:a,color:o,children:s,...l},u)=>{T.useMemo(()=>n6({SparklesImplMaterial:u3}),[]);let c=T.useRef(null),d=nW(e=>e.viewport.dpr),h=u8(i),f=T.useMemo(()=>Float32Array.from(Array.from({length:t},()=>h.map(u5.MathUtils.randFloatSpread)).flat()),[t,...h]),p=u9(t,a,Math.random),m=u9(t,r),g=u9(t,n),v=u9(3*t,e),_=u9(void 0===o?3*t:t,u4(o)?o:new u5.Color(o),()=>1);return nq(e=>{c.current&&c.current.material&&(c.current.material.time=e.clock.elapsedTime)}),T.useImperativeHandle(u,()=>c.current,[]),T.createElement("points",rP({key:`particle-${t}-${JSON.stringify(i)}`},l,{ref:c}),T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1]}),T.createElement("bufferAttribute",{attach:"attributes-opacity",args:[m,1]}),T.createElement("bufferAttribute",{attach:"attributes-speed",args:[g,1]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[_,3]}),T.createElement("bufferAttribute",{attach:"attributes-noise",args:[v,3]})),s||T.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:d,depthWrite:!1}))}),ct=T.forwardRef(({children:e,enabled:t=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],autoInvalidate:o=!1,...s},l)=>{let u=T.useRef(null);T.useImperativeHandle(l,()=>u.current,[]);let c=T.useRef(1e4*Math.random());return nq(e=>{var s,l;if(!t||0===n)return;o&&e.invalidate();let d=c.current+e.clock.elapsedTime;u.current.rotation.x=Math.cos(d/4*n)/8*r,u.current.rotation.y=Math.sin(d/4*n)/8*r,u.current.rotation.z=Math.sin(d/4*n)/20*r;let h=Math.sin(d/4*n)/10;h=M.MathUtils.mapLinear(h,-.1,.1,null!=(s=null==a?void 0:a[0])?s:-.1,null!=(l=null==a?void 0:a[1])?l:.1),u.current.position.y=h*i,u.current.updateMatrix()}),T.createElement("group",s,T.createElement("group",{ref:u,matrixAutoUpdate:!1},e))}),cn={morning:{ambient:.5,ambientColor:"#fff8e7",sunIntensity:.7,sunColor:"#ffeecc",sunPosition:[80,30,60],skyInclination:.4,windowGlow:.8,windowColor:"#ffeedd"},afternoon:{ambient:.45,ambientColor:"#fffef5",sunIntensity:.6,sunColor:"#fff5e6",sunPosition:[100,50,100],skyInclination:.3,windowGlow:.6,windowColor:"#fff8f0"},evening:{ambient:.35,ambientColor:"#ffd8b0",sunIntensity:.4,sunColor:"#ffaa66",sunPosition:[150,10,80],skyInclination:.1,windowGlow:1.2,windowColor:"#ff9955"},night:{ambient:.2,ambientColor:"#aabbdd",sunIntensity:.1,sunColor:"#6688bb",sunPosition:[-50,-10,100],skyInclination:0,windowGlow:.3,windowColor:"#334466"}};function cr({timeOfDay:e="evening"}){let t=cn[e],n="night"===e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("ambientLight",{intensity:t.ambient,color:t.ambientColor}),(0,w.jsx)("directionalLight",{position:t.sunPosition,intensity:t.sunIntensity,color:t.sunColor,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),(0,w.jsx)("pointLight",{position:[-3,.8,-4],intensity:n?2:1.2,color:"#ff6622",distance:6}),(0,w.jsx)("pointLight",{position:[-3,.3,-3.5],intensity:n?.8:.5,color:"#ff8844",distance:4}),(0,w.jsx)(uQ,{distance:45e4,sunPosition:t.sunPosition,inclination:t.skyInclination,azimuth:.25,rayleigh:n?.1:.5}),(0,w.jsx)(u6,{radius:100,depth:50,count:n?3e3:500,factor:n?6:3,saturation:0,fade:!0,speed:.3}),(0,w.jsx)(ce,{count:80,scale:[12,6,12],size:2.5,speed:.15,opacity:.25,color:"#ffcc88"}),(0,w.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],receiveShadow:!0,children:[(0,w.jsx)("planeGeometry",{args:[24,24]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.85,metalness:.05})]}),(0,w.jsx)(ci,{position:[0,.01,0]}),(0,w.jsx)(ca,{position:[0,0,-6],rotation:[0,0,0],width:14}),(0,w.jsx)(ca,{position:[-7,0,0],rotation:[0,Math.PI/2,0],width:12}),(0,w.jsx)(ca,{position:[7,0,0],rotation:[0,-Math.PI/2,0],width:12}),(0,w.jsx)(co,{}),(0,w.jsx)(cs,{position:[-3,0,-5.8]}),(0,w.jsx)(cl,{position:[6.9,1.8,-2],rotation:[0,-Math.PI/2,0],glowIntensity:t.windowGlow,glowColor:t.windowColor,isNight:n}),(0,w.jsx)(cu,{position:[-1.5,1.5,-5.85],scale:1.1}),(0,w.jsx)(cu,{position:[1.5,1.5,-5.85],scale:1.1}),(0,w.jsx)(cu,{position:[4.5,1.5,-5.85],scale:1}),(0,w.jsx)(cc,{position:[6.5,0,-5.5],rotation:[0,-Math.PI/4,0]}),(0,w.jsx)(cd,{position:[0,0,.5],rotation:[0,.05*Math.PI,0]}),(0,w.jsx)(ch,{position:[1.3,0,.2]}),(0,w.jsx)(cf,{position:[-1.1,0,.3]}),(0,w.jsx)(cp,{position:[-6.3,0,-5]}),(0,w.jsx)(cv,{position:[-1.5,2,-2],delay:0}),(0,w.jsx)(cv,{position:[1.8,2.2,-2.5],delay:.5}),(0,w.jsx)(cv,{position:[.2,2.4,-3.5],delay:1}),(0,w.jsx)(cv,{position:[-2.5,1.9,-3],delay:1.5}),(0,w.jsx)(cv,{position:[3,2.1,-4],delay:2}),(0,w.jsx)(cm,{position:[5,0,-3]}),(0,w.jsx)(cg,{position:[-5.5,0,-2]})]})}function ci({position:e}){return(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,w.jsx)("planeGeometry",{args:[3.5,4]}),(0,w.jsx)("meshStandardMaterial",{color:"#8B2323",roughness:.95})]}),(0,w.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,.001,0],children:[(0,w.jsx)("ringGeometry",{args:[1.5,1.7,4]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a1515",roughness:.95})]}),(0,w.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,.002,-.5],children:[(0,w.jsx)("circleGeometry",{args:[.5,32]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",roughness:.9})]})]})}function ca({position:e,rotation:t,width:n}){let r=Math.floor(n/2);return(0,w.jsxs)("group",{position:e,rotation:t,children:[(0,w.jsxs)("mesh",{position:[0,3.5,0],children:[(0,w.jsx)("planeGeometry",{args:[n,3]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.95})]}),(0,w.jsxs)("mesh",{position:[0,1,0],children:[(0,w.jsx)("planeGeometry",{args:[n,2]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c4033",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,2,.02],children:[(0,w.jsx)("boxGeometry",{args:[n,.08,.04]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.85})]}),Array.from({length:r}).map((e,t)=>(0,w.jsxs)("mesh",{position:[-n/2+n/r*(t+.5),1,.01],children:[(0,w.jsx)("boxGeometry",{args:[1.2,1.5,.02]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.88})]},t)),(0,w.jsxs)("mesh",{position:[0,.06,.02],children:[(0,w.jsx)("boxGeometry",{args:[n,.12,.03]}),(0,w.jsx)("meshStandardMaterial",{color:"#2d1f15",roughness:.9})]})]})}function co(){return(0,w.jsxs)("group",{children:[(0,w.jsxs)("mesh",{rotation:[Math.PI/2,0,0],position:[0,5,0],children:[(0,w.jsx)("planeGeometry",{args:[14,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#f5f0e8",roughness:.95})]}),(0,w.jsxs)("mesh",{position:[0,4.9,-6],children:[(0,w.jsx)("boxGeometry",{args:[14,.15,.15]}),(0,w.jsx)("meshStandardMaterial",{color:"#e8e0d5",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[-7,4.9,0],rotation:[0,Math.PI/2,0],children:[(0,w.jsx)("boxGeometry",{args:[12,.15,.15]}),(0,w.jsx)("meshStandardMaterial",{color:"#e8e0d5",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[7,4.9,0],rotation:[0,Math.PI/2,0],children:[(0,w.jsx)("boxGeometry",{args:[12,.15,.15]}),(0,w.jsx)("meshStandardMaterial",{color:"#e8e0d5",roughness:.9})]})]})}function cs({position:e}){let t=(0,T.useRef)([]);return nq(e=>{t.current.forEach((t,n)=>{if(t){let r=e.clock.elapsedTime;t.scale.y=.8+.3*Math.sin(8*r+2*n),t.scale.x=.9+.15*Math.sin(6*r+n),t.position.y=.25+.05*Math.sin(5*r+1.5*n)}})}),(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{position:[0,1.4,.1],children:[(0,w.jsx)("boxGeometry",{args:[1.8,.15,.25]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c4033",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[0,1.5,.05],children:[(0,w.jsx)("boxGeometry",{args:[2,.08,.35]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[-.75,.7,.1],children:[(0,w.jsx)("boxGeometry",{args:[.2,1.4,.2]}),(0,w.jsx)("meshStandardMaterial",{color:"#666",roughness:.7,metalness:.1})]}),(0,w.jsxs)("mesh",{position:[.75,.7,.1],children:[(0,w.jsx)("boxGeometry",{args:[.2,1.4,.2]}),(0,w.jsx)("meshStandardMaterial",{color:"#666",roughness:.7,metalness:.1})]}),(0,w.jsxs)("mesh",{position:[0,.55,.05],children:[(0,w.jsx)("boxGeometry",{args:[1.3,1,.1]}),(0,w.jsx)("meshStandardMaterial",{color:"#1a1a1a",roughness:1})]}),(0,w.jsxs)("mesh",{position:[-.2,.15,.15],rotation:[0,.3,Math.PI/2],children:[(0,w.jsx)("cylinderGeometry",{args:[.08,.08,.6,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.95})]}),(0,w.jsxs)("mesh",{position:[.15,.12,.2],rotation:[0,-.2,Math.PI/2],children:[(0,w.jsx)("cylinderGeometry",{args:[.07,.09,.55,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.95})]}),[0,1,2,3,4].map(e=>(0,w.jsxs)("mesh",{ref:n=>{n&&(t.current[e]=n)},position:[-.25+.12*e,.3,.18],children:[(0,w.jsx)("coneGeometry",{args:[.06,.35,8]}),(0,w.jsx)("meshBasicMaterial",{color:e%2==0?"#ff6600":"#ffaa00",transparent:!0,opacity:.9})]},e)),(0,w.jsx)("pointLight",{position:[0,.2,.2],intensity:1.5,color:"#ff4400",distance:2}),(0,w.jsxs)("mesh",{position:[0,.02,.35],children:[(0,w.jsx)("boxGeometry",{args:[1.6,.04,.5]}),(0,w.jsx)("meshStandardMaterial",{color:"#555",roughness:.8})]})]})}function cl({position:e,rotation:t,glowIntensity:n,glowColor:r,isNight:i}){return(0,w.jsxs)("group",{position:e,rotation:t,children:[(0,w.jsxs)("mesh",{children:[(0,w.jsx)("boxGeometry",{args:[1.6,2.2,.15]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c4033",roughness:.85})]}),[[-.35,.45],[.35,.45],[-.35,-.45],[.35,-.45]].map(([e,t],i)=>(0,w.jsxs)("mesh",{position:[e,t,0],children:[(0,w.jsx)("planeGeometry",{args:[.55,.85]}),(0,w.jsx)("meshBasicMaterial",{color:r,transparent:!0,opacity:.3+.2*n})]},i)),(0,w.jsxs)("mesh",{position:[0,0,.08],children:[(0,w.jsx)("boxGeometry",{args:[.06,2,.02]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,0,.08],children:[(0,w.jsx)("boxGeometry",{args:[1.4,.06,.02]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.9})]}),(0,w.jsx)("rectAreaLight",{width:1.2,height:1.8,intensity:2*n,color:r,position:[0,0,.2],rotation:[0,Math.PI,0]}),(0,w.jsxs)("mesh",{position:[-.85,0,.05],children:[(0,w.jsx)("boxGeometry",{args:[.15,2.4,.02]}),(0,w.jsx)("meshStandardMaterial",{color:"#8B4513",roughness:.95})]}),(0,w.jsxs)("mesh",{position:[.85,0,.05],children:[(0,w.jsx)("boxGeometry",{args:[.15,2.4,.02]}),(0,w.jsx)("meshStandardMaterial",{color:"#8B4513",roughness:.95})]}),(0,w.jsxs)("mesh",{position:[0,1.25,.1],rotation:[0,0,Math.PI/2],children:[(0,w.jsx)("cylinderGeometry",{args:[.02,.02,2,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.6,roughness:.4})]})]})}function cu({position:e,scale:t=1}){let n=(0,T.useMemo)(()=>["#8B0000","#006400","#00008B","#8B4513","#4B0082","#8B2252","#2F4F4F","#B8860B","#556B2F","#8B008B","#CD853F","#2E8B57","#4682B4","#9932CC","#D2691E"],[]),r=(0,T.useMemo)(()=>Array.from({length:4}).map((e,t)=>Array.from({length:8}).map((e,r)=>({color:n[(8*t+r)%n.length],height:.32+.12*Math.random(),width:.1+.04*Math.random(),tilt:(Math.random()-.5)*.08}))),[n]);return(0,w.jsxs)("group",{position:e,scale:t,children:[(0,w.jsxs)("mesh",{children:[(0,w.jsx)("boxGeometry",{args:[2.2,2.6,.35]}),(0,w.jsx)("meshStandardMaterial",{color:"#2d1f15",roughness:.88})]}),[-.95,-.35,.25,.85].map((e,t)=>(0,w.jsxs)("mesh",{position:[0,e,.05],children:[(0,w.jsx)("boxGeometry",{args:[2,.04,.3]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.9})]},t)),r.map((e,t)=>(0,w.jsx)("group",{position:[0,-.75+.6*t,.12],children:e.map((e,t)=>(0,w.jsxs)("mesh",{position:[-.85+.22*t,e.height/2,0],rotation:[0,0,e.tilt],children:[(0,w.jsx)("boxGeometry",{args:[e.width,e.height,.16]}),(0,w.jsx)("meshStandardMaterial",{color:e.color,roughness:.75})]},t))},t))]})}function cc({position:e,rotation:t=[0,0,0]}){let n=["#8B0000","#006400","#00008B","#8B4513","#4B0082","#CD853F"];return(0,w.jsxs)("group",{position:e,rotation:t,children:[(0,w.jsxs)("mesh",{position:[0,2,0],children:[(0,w.jsx)("boxGeometry",{args:[1.2,4,.35]}),(0,w.jsx)("meshStandardMaterial",{color:"#2d1f15",roughness:.9})]}),[.3,.9,1.5,2.1,2.7,3.3].map((e,t)=>(0,w.jsxs)("group",{children:[(0,w.jsxs)("mesh",{position:[0,e,.05],children:[(0,w.jsx)("boxGeometry",{args:[1.1,.03,.28]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.9})]}),(0,w.jsx)("group",{position:[0,e+.2,.1],children:Array.from({length:5}).map((e,r)=>(0,w.jsxs)("mesh",{position:[-.4+.2*r,0,0],children:[(0,w.jsx)("boxGeometry",{args:[.12,.28+.08*Math.random(),.14]}),(0,w.jsx)("meshStandardMaterial",{color:n[(t+r)%n.length],roughness:.8})]},r))})]},t))]})}function cd({position:e,rotation:t=[0,0,0]}){return(0,w.jsxs)("group",{position:e,rotation:t,children:[[[-.3,-.25],[.3,-.25],[-.3,.25],[.3,.25]].map(([e,t],n)=>(0,w.jsxs)("mesh",{position:[e,.08,t],children:[(0,w.jsx)("cylinderGeometry",{args:[.04,.05,.16,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#2d1f15",roughness:.85})]},n)),(0,w.jsxs)("mesh",{position:[0,.32,0],children:[(0,w.jsx)("boxGeometry",{args:[.75,.18,.65]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c2018",roughness:.7,metalness:.1})]}),(0,w.jsxs)("mesh",{position:[0,.44,0],children:[(0,w.jsx)("boxGeometry",{args:[.6,.06,.5]}),(0,w.jsx)("meshStandardMaterial",{color:"#722020",roughness:.8})]}),(0,w.jsxs)("mesh",{position:[0,.7,-.3],children:[(0,w.jsx)("boxGeometry",{args:[.75,.8,.12]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c2018",roughness:.7,metalness:.1})]}),(0,w.jsxs)("mesh",{position:[0,.65,-.22],children:[(0,w.jsx)("boxGeometry",{args:[.6,.55,.08]}),(0,w.jsx)("meshStandardMaterial",{color:"#722020",roughness:.8})]}),(0,w.jsxs)("mesh",{position:[-.4,.5,-.05],children:[(0,w.jsx)("boxGeometry",{args:[.12,.2,.55]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c2018",roughness:.7,metalness:.1})]}),(0,w.jsxs)("mesh",{position:[.4,.5,-.05],children:[(0,w.jsx)("boxGeometry",{args:[.12,.2,.55]}),(0,w.jsx)("meshStandardMaterial",{color:"#5c2018",roughness:.7,metalness:.1})]}),(0,w.jsxs)("mesh",{position:[-.4,.62,-.05],children:[(0,w.jsx)("boxGeometry",{args:[.14,.06,.5]}),(0,w.jsx)("meshStandardMaterial",{color:"#722020",roughness:.8})]}),(0,w.jsxs)("mesh",{position:[.4,.62,-.05],children:[(0,w.jsx)("boxGeometry",{args:[.14,.06,.5]}),(0,w.jsx)("meshStandardMaterial",{color:"#722020",roughness:.8})]}),[[-.2,.75,-.16],[0,.8,-.16],[.2,.75,-.16]].map(([e,t,n],r)=>(0,w.jsxs)("mesh",{position:[e,t,n],children:[(0,w.jsx)("sphereGeometry",{args:[.025,8,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.7,roughness:.3})]},r))]})}function ch({position:e}){return(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{position:[0,.52,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.28,.28,.04,24]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[0,.5,0],children:[(0,w.jsx)("torusGeometry",{args:[.28,.02,8,24]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,.25,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.05,.08,.5,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.88})]}),(0,w.jsxs)("mesh",{position:[0,.02,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.15,.18,.04,16]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,.56,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.06,.08,.04,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.7,roughness:.3})]}),(0,w.jsxs)("mesh",{position:[0,.72,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.012,.012,.32,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.7,roughness:.3})]}),(0,w.jsxs)("mesh",{position:[0,.92,0],children:[(0,w.jsx)("coneGeometry",{args:[.14,.12,12,1,!0]}),(0,w.jsx)("meshStandardMaterial",{color:"#daa520",roughness:.6,side:M.DoubleSide,transparent:!0,opacity:.85,emissive:"#ff9944",emissiveIntensity:.3})]}),(0,w.jsx)("pointLight",{position:[0,.88,0],intensity:.8,color:"#fff5e6",distance:2.5}),(0,w.jsxs)("mesh",{position:[-.08,.56,.08],rotation:[0,.3,0],children:[(0,w.jsx)("boxGeometry",{args:[.1,.02,.14]}),(0,w.jsx)("meshStandardMaterial",{color:"#8B0000",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[.1,.56,-.05],children:[(0,w.jsx)("cylinderGeometry",{args:[.03,.025,.04,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#f5f5f5",roughness:.3})]})]})}function cf({position:e}){return(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{position:[0,.45,0],children:[(0,w.jsx)("boxGeometry",{args:[.35,.03,.35]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.85})]}),[[-.12,-.12],[.12,-.12],[-.12,.12],[.12,.12]].map(([e,t],n)=>(0,w.jsxs)("mesh",{position:[e,.22,t],children:[(0,w.jsx)("boxGeometry",{args:[.04,.44,.04]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.9})]},n)),(0,w.jsxs)("mesh",{position:[.05,.5,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.025,.022,.05,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#d4a574",transparent:!0,opacity:.7,roughness:.1})]}),(0,w.jsxs)("mesh",{position:[-.08,.48,.05],children:[(0,w.jsx)("boxGeometry",{args:[.12,.04,.08]}),(0,w.jsx)("meshStandardMaterial",{color:"#006400",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[-.08,.51,.05],rotation:[0,.15,0],children:[(0,w.jsx)("boxGeometry",{args:[.11,.03,.075]}),(0,w.jsx)("meshStandardMaterial",{color:"#8B4513",roughness:.85})]})]})}function cp({position:e}){let t=(0,T.useRef)(null);return nq(e=>{t.current&&(t.current.rotation.z=.15*Math.sin(1.5*e.clock.elapsedTime))}),(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{position:[0,.4,0],children:[(0,w.jsx)("boxGeometry",{args:[.5,.8,.35]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.88})]}),(0,w.jsxs)("mesh",{position:[0,1.3,0],children:[(0,w.jsx)("boxGeometry",{args:[.45,1,.32]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[0,2.1,0],children:[(0,w.jsx)("boxGeometry",{args:[.5,.6,.35]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:.88})]}),(0,w.jsxs)("mesh",{position:[0,2.45,0],children:[(0,w.jsx)("boxGeometry",{args:[.55,.1,.38]}),(0,w.jsx)("meshStandardMaterial",{color:"#2d1f15",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,2.1,.18],children:[(0,w.jsx)("circleGeometry",{args:[.18,32]}),(0,w.jsx)("meshStandardMaterial",{color:"#f5f5dc",roughness:.4})]}),(0,w.jsxs)("mesh",{position:[0,2.1,.19],children:[(0,w.jsx)("torusGeometry",{args:[.18,.015,8,32]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.7,roughness:.3})]}),(0,w.jsxs)("mesh",{position:[0,1.3,.17],children:[(0,w.jsx)("planeGeometry",{args:[.25,.6]}),(0,w.jsx)("meshStandardMaterial",{color:"#222",transparent:!0,opacity:.5})]}),(0,w.jsx)("mesh",{ref:t,position:[0,1.1,.18],children:(0,w.jsxs)("group",{children:[(0,w.jsxs)("mesh",{position:[0,.15,0],children:[(0,w.jsx)("boxGeometry",{args:[.015,.5,.01]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.7,roughness:.3})]}),(0,w.jsxs)("mesh",{position:[0,-.1,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.06,.06,.015,16]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.8,roughness:.2})]})]})})]})}function cm({position:e}){let t=(0,T.useRef)(null);return nq(e=>{t.current&&(t.current.rotation.y=.05*e.clock.elapsedTime)}),(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{position:[0,.02,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.15,.18,.04,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#4a3526",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[0,.35,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.03,.04,.6,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.6,roughness:.4})]}),(0,w.jsxs)("mesh",{position:[0,.75,0],rotation:[.3,0,0],children:[(0,w.jsx)("torusGeometry",{args:[.22,.015,8,32]}),(0,w.jsx)("meshStandardMaterial",{color:"#b8860b",metalness:.7,roughness:.3})]}),(0,w.jsxs)("mesh",{ref:t,position:[0,.75,0],children:[(0,w.jsx)("sphereGeometry",{args:[.2,32,32]}),(0,w.jsx)("meshStandardMaterial",{color:"#4682b4",roughness:.6,metalness:.1})]})]})}function cg({position:e}){return(0,w.jsxs)("group",{position:e,children:[(0,w.jsxs)("mesh",{position:[0,.2,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.15,.12,.4,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#8B4513",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,.38,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.13,.13,.04,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#3d2b1f",roughness:1})]}),[0,.8,1.6,2.4,3.2,4].map((e,t)=>(0,w.jsxs)("mesh",{position:[.08*Math.cos(e),.55+.15*Math.random(),.08*Math.sin(e)],rotation:[.5-.3*Math.random(),e,0],children:[(0,w.jsx)("coneGeometry",{args:[.04,.25+.1*Math.random(),8]}),(0,w.jsx)("meshStandardMaterial",{color:"#228B22",roughness:.9})]},t)),(0,w.jsxs)("mesh",{position:[0,.6,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.015,.02,.35,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#228B22",roughness:.9})]})]})}function cv({position:e,delay:t=0}){let n=(0,T.useRef)(null),r=(0,T.useRef)(null),i=(0,T.useRef)(null);return nq(a=>{let o=a.clock.elapsedTime+t;n.current&&(n.current.position.y=e[1]+.08*Math.sin(.6*o),n.current.rotation.z=.05*Math.sin(.4*o)),r.current&&(r.current.scale.y=.9+.25*Math.sin(12*o),r.current.scale.x=.95+.1*Math.sin(10*o+.5)),i.current&&(i.current.intensity=.35+.1*Math.sin(8*o))}),(0,w.jsx)(ct,{speed:.8,rotationIntensity:.15,floatIntensity:.4,children:(0,w.jsxs)("group",{ref:n,position:e,children:[(0,w.jsxs)("mesh",{children:[(0,w.jsx)("cylinderGeometry",{args:[.018,.025,.18,12]}),(0,w.jsx)("meshStandardMaterial",{color:"#f5f0e0",roughness:.85})]}),(0,w.jsxs)("mesh",{position:[.015,.02,0],children:[(0,w.jsx)("sphereGeometry",{args:[.008,8,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#f5f0e0",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[-.012,-.01,.01],children:[(0,w.jsx)("sphereGeometry",{args:[.006,8,8]}),(0,w.jsx)("meshStandardMaterial",{color:"#f5f0e0",roughness:.9})]}),(0,w.jsxs)("mesh",{position:[0,.095,0],children:[(0,w.jsx)("cylinderGeometry",{args:[.002,.002,.02,4]}),(0,w.jsx)("meshStandardMaterial",{color:"#222",roughness:1})]}),(0,w.jsxs)("mesh",{ref:r,position:[0,.12,0],children:[(0,w.jsx)("coneGeometry",{args:[.012,.055,8]}),(0,w.jsx)("meshBasicMaterial",{color:"#ffcc00",transparent:!0,opacity:.95})]}),(0,w.jsxs)("mesh",{position:[0,.13,0],children:[(0,w.jsx)("coneGeometry",{args:[.018,.07,8]}),(0,w.jsx)("meshBasicMaterial",{color:"#ff6600",transparent:!0,opacity:.5})]}),(0,w.jsx)("pointLight",{ref:i,position:[0,.12,0],intensity:.35,color:"#ff9944",distance:1.2})]})})}function c_({onNextPage:e,onPrevPage:t,onFontIncrease:n,onFontDecrease:r}){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(cb,{hand:"right",onTrigger:e,onSqueeze:n}),(0,w.jsx)(cb,{hand:"left",onTrigger:t,onSqueeze:r})]})}function cb({hand:e,onTrigger:t,onSqueeze:n}){let r=oa(t=>t.inputSourceStates.find(t=>"controller"===t.type&&(null==e||t.inputSource.handedness===e))),i=(0,T.useRef)(!1),a=(0,T.useRef)(!1);return(0,T.useEffect)(()=>{if(!r)return;let e=r.inputSource?.gamepad;if(!e)return;let o=e.buttons[0]?.pressed??!1;o&&!i.current&&t(),i.current=o;let s=e.buttons[1]?.pressed??!1;s&&!a.current&&n(),a.current=s}),null}function cy({onClose:e}){let{loadDemoBook:t,isLoading:n,error:r,currentBookId:i,clearBook:a}=uH(),o=async n=>{await t(n),e?.()};return(0,w.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,w.jsxs)("div",{className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full border border-purple-500/30 shadow-xl shadow-purple-500/20",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold text-white",children:"ðŸ“š Select Book"}),(0,w.jsx)("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors p-2",children:"âœ•"})]}),r&&(0,w.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4 text-red-200 text-sm",children:r}),(0,w.jsx)("div",{className:"space-y-3",children:uj.map(e=>(0,w.jsxs)("button",{onClick:()=>o(e.id),disabled:n,className:`w-full text-left p-4 rounded-xl border transition-all ${i===e.id?"bg-purple-600/30 border-purple-500 text-white":"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700 hover:border-purple-500/50"} ${n?"opacity-50 cursor-wait":""}`,children:[(0,w.jsx)("div",{className:"font-semibold",children:e.title}),(0,w.jsx)("div",{className:"text-sm text-gray-400",children:e.author}),i===e.id&&(0,w.jsx)("div",{className:"text-xs text-purple-400 mt-1",children:"Currently reading"})]},e.id))}),n&&(0,w.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-purple-400",children:[(0,w.jsx)("span",{className:"animate-spin",children:"â³"}),(0,w.jsx)("span",{children:"Loading book..."})]}),i&&(0,w.jsx)("button",{onClick:a,className:"mt-4 w-full p-3 rounded-lg border border-gray-600 text-gray-400 hover:text-white hover:border-gray-500 transition-colors",children:"Use Sample Text Instead"}),(0,w.jsx)("p",{className:"mt-4 text-xs text-gray-500 text-center",children:"Free books from Project Gutenberg"})]})})}let cx=function(e){var t,n,r,i;let a,o,s,l,u,c,d,h="u"<typeof HTMLElement?void 0:e?.domOverlay instanceof HTMLElement?e.domOverlay:document.createElement("div"),f=(0,iW.createStore)(()=>({...iK,controller:e?.controller,hand:e?.hand,gaze:e?.gaze,screenInput:e?.screenInput,transientPointer:e?.transientPointer,domOverlayRoot:h})),p=f.subscribe(({session:t},{session:n})=>{null!=n&&null==t&&null!=l&&iJ(l,e,h).catch(console.error)}),m=e?.emulate??"metaQuest3";if("u">typeof window&&!1!=m){let t=("object"==typeof m?m.inject:void 0)??{hostname:"localhost"};(!0===t||"boolean"!=typeof t&&window.location.hostname===t.hostname)&&i$(f,m,!1).then(t=>{t&&null!=l&&iJ(l,e,h)});let n=t=>{t.altKey&&t.metaKey&&"KeyE"===t.code&&i$(f,m,!0).then(t=>{t&&null!=l&&iJ(l,e,h)})};window.addEventListener("keydown",n),o=()=>window.removeEventListener("keydown",n)}if(null!=h){if(null==h.parentNode){let e=e=>{h.style.display=null!=e.session?"block":"none"},t=f.subscribe(e);e(f.getState()),document.body.appendChild(h),s=()=>{h.remove(),t()}}document.body.append(h)}let g=(t=e=>f.setState({inputSourceStates:[...f.getState().inputSourceStates,e]}),u=new Map,c=new am(e),d=new Map,(n,r,i)=>{if("remove-all"===i){for(let e of u.values())e();return r}let a=[...r];for(let{added:r,isPrimary:o,removed:s}of i){if(null!=s)for(let e of s){let t=a.findIndex(({inputSource:t,isPrimary:n})=>n===o&&t===e);-1!==t&&(a.splice(t,1),u.get(e)?.(),u.delete(e))}if(null!=r)for(let i of r){let r,s=[],l=function(e,t){let n=e=>t.push(e);return e.addEventListener("selectstart",n),e.addEventListener("selectend",n),e.addEventListener("select",n),e.addEventListener("squeeze",n),e.addEventListener("squeezestart",n),e.addEventListener("squeezeend",n),()=>{e.removeEventListener("selectstart",n),e.removeEventListener("selectend",n),e.removeEventListener("select",n),e.removeEventListener("squeeze",n),e.removeEventListener("squeezestart",n),e.removeEventListener("squeezeend",n)}}(n,s),h=`${i.handedness}-${i.hand?"hand":"nohand"}-${i.targetRayMode}-${i.profiles.join(",")}`;if(null==(r=d.get(h))&&d.set(h,r=`${iN++}`),null!=i.hand)a.push(function(e,t,n,r,i){var a;let o,s;return{id:e,isPrimary:i,type:"hand",inputSource:t,pose:{data:new Float32Array(16*t.hand.size)},assetPath:(a=t.handedness,o=n?.baseAssetPath??ap,s=n?.defaultXRHandProfileId??"generic-hand",new URL(`${s}/${a}.glb`,o).href),events:r}}(r,i,e,s,o));else switch(i.targetRayMode){case"gaze":a.push({id:r,isPrimary:o,type:"gaze",inputSource:i,events:s});break;case"screen":a.push({id:r,isPrimary:o,type:"screenInput",inputSource:i,events:s});break;case"transient-pointer":a.push({id:r,isPrimary:o,type:"transientPointer",inputSource:i,events:s});break;case"tracked-pointer":let f=!1,p=l;l=()=>{p(),f=!0};let m=function(e,t,n,r,i){return iA(()=>n.load(t.profiles,t.handedness),n=>{let a={};return rH(a,t,n),{id:e,isPrimary:i,events:r,type:"controller",inputSource:t,gamepad:a,layout:n}})}(r,i,c,s,o);m instanceof Promise?m.then(e=>!f&&t(e)).catch(console.error):a.push(m)}u.set(i,l)}}return a}),v=(n=f,r=g,i=e?.secondaryInputSources??!1,e=>{let t,o;if(a?.(),null==e)return{};let s=[],l=()=>{t=void 0,n.setState({inputSourceStates:r(e,n.getState().inputSourceStates,s)}),s.length=0},u=(e,n)=>{s.push({isPrimary:e,added:n.added,removed:n.removed}),null==t&&(i?t=setTimeout(l,100):l())},c=u.bind(null,!0);if(e.addEventListener("inputsourceschange",c),i){let t=u.bind(null,!1);e.addEventListener("trackedsourceschange",t),o=()=>e.removeEventListener("trackedsourceschange",t)}let d=()=>n.setState({frameRate:e.frameRate,visibilityState:e.visibilityState});e.addEventListener("frameratechange",d),e.addEventListener("visibilitychange",d);let h=()=>{a?.(),a=void 0,n.setState({emulator:n.getState().emulator,...iK})};e.addEventListener("end",h);let f=[{isPrimary:!0,added:e.inputSources}];i&&f.push({isPrimary:!1,added:e.trackedSources});let p=r(e,[],f);return a=()=>{o?.(),clearTimeout(t),r(e,n.getState().inputSourceStates,"remove-all"),e.removeEventListener("end",h),e.removeEventListener("frameratechange",d),e.removeEventListener("visibilitychange",d),e.removeEventListener("inputsourceschange",c)},{inputSourceStates:p,frameRate:e.frameRate,visibilityState:e.visibilityState,detectedMeshes:[],detectedPlanes:[],mode:"opaque"===e.environmentBlendMode?"immersive-vr":"immersive-ar",session:e,mediaBinding:"u"<typeof XRMediaBinding?void 0:new XRMediaBinding(e)}}),_=function(e=i5,t){if("u"<typeof navigator||!1===e)return;!0===e&&(e=i5);let n=async()=>{for(let n of e)await navigator.xr?.isSessionSupported(n)&&t(n)};return navigator.xr?.addEventListener("sessiongranted",n),()=>navigator.xr?.removeEventListener("sessiongranted",n)}(e?.enterGrantedSession,t=>i2(h,t,e,l)),b=[],y=()=>{f.setState(v(l.getSession()))};return Object.assign(f,{addLayerEntry(e){null!=f.getState().session&&f.setState({layerEntries:[...f.getState().layerEntries,e]})},removeLayerEntry(e){null!=f.getState().session&&f.setState({layerEntries:f.getState().layerEntries.filter(t=>t!=e)})},requestFrame:()=>new Promise(e=>b.push(e)),setWebXRManager(t){if(l===t)return;l?.removeEventListener("sessionstart",y),(l=t).addEventListener("sessionstart",y);let{foveation:n,bounded:r}=e??{};l.setReferenceSpaceType(r?"bounded-floor":"local-floor"),null!=n&&l.setFoveation(n),iJ(l,e,h).catch(console.error)},setFrameRate(e){let{session:t}=f.getState();null!=t&&i1(t,e)},setHand(e,t){if(null==t)return void f.setState({hand:e});let n=f.getState().hand,r={};"object"==typeof n&&Object.assign(r,n),Object.assign(r,{default:iY(n,void 0,{}),[t]:e}),f.setState({hand:r})},setController(e,t){if(null==t)return void f.setState({controller:e});let n=f.getState().controller,r={};"object"==typeof n&&Object.assign(r,n),Object.assign(r,{default:iY(n,void 0,{}),[t]:e}),f.setState({controller:r})},setTransientPointer(e,t){if(null==t)return void f.setState({transientPointer:e});let n=f.getState().transientPointer,r={};"object"==typeof n&&Object.assign(r,n),Object.assign(r,{default:iY(n,void 0,{}),[t]:e}),f.setState({transientPointer:r})},setGaze(e){f.setState({gaze:e})},setScreenInput(e){f.setState({screenInput:e})},destroy(){l?.removeEventListener("sessionstart",y),o?.(),s?.(),_?.(),p(),v(void 0)},enterXR:t=>i2(h,t,e,l),enterAR:()=>i2(h,"immersive-ar",e,l),enterVR:()=>i2(h,"immersive-vr",e,l),onBeforeFrame(e,t,n){let r,i=l?.getReferenceSpace()??void 0,a=f.getState(),o=t.parent??e;if(a.origin!=o&&((r??={}).origin=o),i!=a.originReferenceSpace&&((r??={}).originReferenceSpace=i),o.xrSpace=i,a.origin!=o&&null!=a.origin&&(a.origin.xrSpace=void 0),null!=n&&(null!=l&&function(e,t,n){let r=n.getReferenceSpace(),{detectedMeshes:i,detectedPlanes:a,session:o,inputSourceStates:s}=e.getState();if(null==r||null==o)return;let l=i4(a,t.detectedPlanes),u=i4(i,t.detectedMeshes);(a!=l||i!=u)&&e.setState({detectedPlanes:l,detectedMeshes:u});let c=s.length;for(let e=0;e<c;e++){let r=s[e];switch(r.type){case"controller":!function({gamepad:e,inputSource:t,layout:n}){rH(e,t,n)}(r);break;case"hand":!function({inputSource:e,pose:t},n,r){!function(e,t,n,r,i){let a=r.getReferenceSpace();null==a||null==t||"visible-blurred"===t.session.visibilityState||"hidden"===t.session.visibilityState||!function(e,t,n,r){if(!e.fillPoses(n.values(),t,r))return;iR.fromArray(r,0),iR.invert();for(let e=0;e<r.length;e+=16)iP.fromArray(r,e),iP.premultiply(iR),iP.toArray(r,e);}(t,a,n,e.data)}(t,n,e.hand,r,e.handedness)}(r,t,n)}}}(f,n,l),a.body!=n.body&&((r??={}).body=n.body)),null!=r&&f.setState(r),null!=n){let e=b.length;for(let t=0;t<e;t++)b[t](n);b.length=0}},onBeforeRender(){let{session:e,layerEntries:t}=f.getState();if(null==e||null==l)return;let n=l.getCamera();n.aspect=n.projectionMatrix.elements[5]/n.projectionMatrix.elements[0];let r=e?.renderState.layers;if(null==r)return;n.getWorldPosition(iZ),t.sort((e,t)=>{let n=e.renderOrder-t.renderOrder;if(0!==n)return n;e.object3D.getWorldPosition(iQ);let r=iQ.distanceToSquared(iZ);return t.object3D.getWorldPosition(iQ),iQ.distanceToSquared(iZ)-r});let i=!1,a=t.map(({layer:e},t)=>(e!=r[t]&&(i=!0),e));i&&(a.push(l.getBaseLayer()),e.updateRenderState({layers:a}))}})}(void 0);function cS(){let[e,t]=(0,T.useState)(!1),[n,r]=(0,T.useState)("evening"),{currentBook:i,currentPage:a,fontSize:o,bookDistance:s,isLoading:l,nextPage:u,prevPage:c,setFontSize:d}=uH(),h=(0,T.useCallback)(()=>{r(e=>{let t=["morning","afternoon","evening","night"],n=t.indexOf(e);return t[(n+1)%t.length]})},[]),f=i?.totalPages||uV.length,p=(0,T.useCallback)(e=>{d(o+e)},[o,d]);return(0,w.jsxs)("div",{className:"h-full w-full relative",children:[(0,w.jsxs)("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:[(0,w.jsxs)("button",{onClick:()=>cx.enterVR(),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium  shadow-lg transition-all flex items-center gap-2",children:[(0,w.jsx)("span",{className:"text-xl",children:"ðŸ¥½"}),"Enter VR"]}),(0,w.jsxs)("button",{onClick:()=>cx.enterAR(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium  shadow-lg transition-all flex items-center gap-2",children:[(0,w.jsx)("span",{className:"text-xl",children:"ðŸ“±"}),"Enter AR"]})]}),(0,w.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-10 flex gap-2",children:[(0,w.jsxs)("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg font-medium  shadow-lg transition-all flex items-center gap-2 border border-purple-500/30",children:[(0,w.jsx)("span",{className:"text-xl",children:"ðŸ“–"}),i?i.metadata.title:"Select Book"]}),(0,w.jsxs)("button",{onClick:h,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg font-medium  shadow-lg transition-all flex items-center gap-2 border border-amber-500/30",title:"Change time of day",children:[(0,w.jsx)("span",{className:"text-xl",children:"morning"===n?"ðŸŒ…":"afternoon"===n?"â˜€ï¸":"evening"===n?"ðŸŒ†":"ðŸŒ™"}),(0,w.jsx)("span",{className:"text-sm capitalize hidden sm:inline",children:n})]})]}),(0,w.jsxs)("div",{className:"absolute top-4 right-4 z-10 bg-black/50 backdrop-blur-sm p-4 rounded-lg text-white max-w-xs",children:[(0,w.jsx)("h3",{className:"font-bold mb-2",children:"Controls"}),(0,w.jsxs)("div",{className:"text-sm space-y-1",children:[(0,w.jsx)("p",{children:"â† â†’ Arrow keys: Turn pages"}),(0,w.jsx)("p",{children:"+/- keys: Font size"}),(0,w.jsx)("p",{children:"Mouse: Look around"}),(0,w.jsx)("p",{children:"VR: Trigger to turn pages"})]}),(0,w.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)("span",{className:"text-xs",children:"Font:"}),(0,w.jsx)("button",{onClick:()=>p(-.005),className:"px-2 py-1 bg-gray-700 rounded text-xs hover:bg-gray-600",children:"A-"}),(0,w.jsx)("button",{onClick:()=>p(.005),className:"px-2 py-1 bg-gray-700 rounded text-xs hover:bg-gray-600",children:"A+"})]}),(0,w.jsxs)("div",{className:"text-xs",children:["Page: ",a+1," / ",f]}),i&&(0,w.jsx)("div",{className:"text-xs text-purple-300 truncate",children:i.metadata.title})]})]}),l&&(0,w.jsx)("div",{className:"absolute inset-0 bg-black/50 z-20 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-white flex items-center gap-3",children:[(0,w.jsx)("span",{className:"animate-spin text-3xl",children:"â³"}),(0,w.jsx)("span",{className:"text-xl",children:"Loading book..."})]})}),(0,w.jsx)(rR,{gl:{antialias:!0,alpha:!1},camera:{position:[0,1.6,0],fov:70},children:(0,w.jsx)(on,{store:cx,children:(0,w.jsxs)(T.Suspense,{fallback:null,children:[(0,w.jsx)(rG,{makeDefault:!0,position:[0,1.6,0]}),(0,w.jsx)(ou,{position:[0,0,0]}),(0,w.jsx)(cr,{timeOfDay:n}),(0,w.jsx)(uW,{currentPage:a,fontSize:o,distance:s,onNextPage:u,onPrevPage:c}),(0,w.jsx)(c_,{onNextPage:u,onPrevPage:c,onFontIncrease:()=>p(.005),onFontDecrease:()=>p(-.005)}),(0,w.jsx)(rz,{target:[0,1.4,-s],enablePan:!1,minDistance:.5,maxDistance:4})]})})}),(0,w.jsx)(cw,{onNextPage:u,onPrevPage:c,onFontIncrease:()=>p(.005),onFontDecrease:()=>p(-.005)}),e&&(0,w.jsx)(cy,{onClose:()=>t(!1)})]})}function cw({onNextPage:e,onPrevPage:t,onFontIncrease:n,onFontDecrease:r}){return(0,T.useEffect)(()=>{let i=i=>{"ArrowRight"===i.key||" "===i.key?e():"ArrowLeft"===i.key?t():"+"===i.key||"="===i.key?n():"-"===i.key&&r()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t,n,r]),null}e.s(["default",()=>cS],5141)},23382,e=>{e.n(e.i(5141))}]);