var no=Object.defineProperty;var vc=Object.getOwnPropertyDescriptor;var _c=Object.getOwnPropertyNames;var Sc=Object.prototype.hasOwnProperty;var io=(Ot,it)=>()=>(Ot&&(it=Ot(Ot=0)),it);var Ni=(Ot,it,Hr,Ae)=>{if(it&&typeof it=="object"||typeof it=="function")for(let q of _c(it))!Sc.call(Ot,q)&&q!==Hr&&no(Ot,q,{get:()=>it[q],enumerable:!(Ae=vc(it,q))||Ae.enumerable});return Ot},Mr=(Ot,it,Hr)=>(Ni(Ot,it,"default"),Hr&&Ni(Hr,it,"default"));var ao=Ot=>Ni(no({},"__esModule",{value:!0}),Ot);var pn={};import*as Nc from"node:buffer";var oo=io(()=>{Mr(pn,Nc)});var hn={};import*as jc from"node:async_hooks";var so=io(()=>{Mr(hn,jc)});var Ke={},Lc=(Ot,it,Hr)=>(Ke.__chunk_6195=Ae=>{"use strict";Ae.exports=(oo(),ao(pn))},Ke.__chunk_2067=Ae=>{"use strict";Ae.exports=(so(),ao(hn))},Ke.__chunk_230=(Ae,q,M)=>{"use strict";M.d(q,{I8:()=>O,handlers:()=>E});var F=M(5048),ee=M(6798);let N=["mattiapetrucciani@gmail.com","mattiapetrucciani@mac.com","mattia@freeriverhouse.com","mattia@onde.la","magmaticxr@gmail.com","freeriverhouse@gmail.com"],{handlers:E,auth:O,signIn:o,signOut:h}=(0,F.ZP)({providers:[(0,ee.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{signIn:async({user:R})=>!!(R.email&&N.includes(R.email.toLowerCase()))||"/coming-soon",session:async({session:R})=>R},pages:{signIn:"/login",error:"/coming-soon"},trustHost:!0})},Ke.__chunk_5048=(Ae,q,M)=>{"use strict";let F,ee,N,E,O,o;M.d(q,{ZP:()=>wc});var h={};M.r(h),M.d(h,{parse:()=>No,serialize:()=>jo});var R=function(e,t,r,n,i){if(n==="m")throw TypeError("Private method is not writable");if(n==="a"&&!i)throw TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},g=function(e,t,r,n){if(r==="a"&&!n)throw TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)};function S(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class u{constructor(t,r,n){if(Yr.add(this),nr.set(this,{}),Rr.set(this,void 0),An.set(this,void 0),R(this,An,n,"f"),R(this,Rr,t,"f"),!r)return;let{name:i}=t;for(let[a,c]of Object.entries(r))a.startsWith(i)&&c&&(g(this,nr,"f")[a]=c)}get value(){return Object.keys(g(this,nr,"f")).sort((t,r)=>parseInt(t.split(".").pop()||"0")-parseInt(r.split(".").pop()||"0")).map(t=>g(this,nr,"f")[t]).join("")}chunk(t,r){let n=g(this,Yr,"m",ni).call(this);for(let i of g(this,Yr,"m",Gi).call(this,{name:g(this,Rr,"f").name,value:t,options:{...g(this,Rr,"f").options,...r}}))n[i.name]=i;return Object.values(n)}clean(){return Object.values(g(this,Yr,"m",ni).call(this))}}nr=new WeakMap,Rr=new WeakMap,An=new WeakMap,Yr=new WeakSet,Gi=function(e){let t=Math.ceil(e.value.length/3936);if(t===1)return g(this,nr,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let i=`${e.name}.${n}`,a=e.value.substr(3936*n,3936);r.push({...e,name:i,value:a}),g(this,nr,"f")[i]=a}return g(this,An,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(n=>n.value.length+160)}),r},ni=function(){let e={};for(let t in g(this,nr,"f"))delete g(this,nr,"f")?.[t],e[t]={name:t,value:"",options:{...g(this,Rr,"f").options,maxAge:0}};return e};class l extends Error{constructor(t,r){t instanceof Error?super(void 0,{cause:{err:t,...t.cause,...r}}):typeof t=="string"?(r instanceof Error&&(r={err:r,...r.cause}),super(t,r)):super(void 0,t),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let n=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${n}`}}class y extends l{}y.kind="signIn";class I extends l{}I.type="AdapterError";class d extends l{}d.type="AccessDenied";class v extends l{}v.type="CallbackRouteError";class m extends l{}m.type="ErrorPageLoop";class k extends l{}k.type="EventError";class U extends l{}U.type="InvalidCallbackUrl";class J extends y{constructor(){super(...arguments),this.code="credentials"}}J.type="CredentialsSignin";class G extends l{}G.type="InvalidEndpoints";class X extends l{}X.type="InvalidCheck";class Y extends l{}Y.type="JWTSessionError";class ne extends l{}ne.type="MissingAdapter";class ke extends l{}ke.type="MissingAdapterMethods";class Re extends l{}Re.type="MissingAuthorize";class je extends l{}je.type="MissingSecret";class qe extends y{}qe.type="OAuthAccountNotLinked";class We extends y{}We.type="OAuthCallbackError";class at extends l{}at.type="OAuthProfileParseError";class Be extends l{}Be.type="SessionTokenError";class K extends y{}K.type="OAuthSignInError";class W extends y{}W.type="EmailSignInError";class B extends l{}B.type="SignOutError";class fe extends l{}fe.type="UnknownAction";class De extends l{}De.type="UnsupportedStrategy";class Ie extends l{}Ie.type="InvalidProvider";class Ee extends l{}Ee.type="UntrustedHost";class Le extends l{}Le.type="Verification";class ze extends y{}ze.type="MissingCSRF";let Ge=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class Xe extends l{}Xe.type="DuplicateConditionalUI";class ot extends l{}ot.type="MissingWebAuthnAutocomplete";class rt extends l{}rt.type="WebAuthnVerificationError";class gt extends y{}gt.type="AccountNotLinked";class bt extends l{}bt.type="ExperimentalFeatureNotEnabled";let ut=!1;function Et(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let wt=!1,Ye=!1,vt=!1,jt=["createVerificationToken","useVerificationToken","getUserByEmail"],At=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],Vt=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],qt=()=>{if(typeof it<"u")return it;if(typeof Ot<"u")return Ot;if(typeof window<"u")return window;throw Error("unable to locate global object")},_e=async(e,t,r,n,i)=>{let{crypto:{subtle:a}}=qt();return new Uint8Array(await a.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:n},await a.importKey("raw",t,"HKDF",!1,["deriveBits"]),i<<3))};function Fe(e,t){if(typeof e=="string")return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function Ue(e,t,r,n,i){return _e(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(e),function(a){let c=Fe(a,"ikm");if(!c.byteLength)throw TypeError('"ikm" must be at least one byte in length');return c}(t),Fe(r,"salt"),function(a){let c=Fe(a,"info");if(c.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return c}(n),function(a,c){if(typeof a!="number"||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(c.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(i,e))}async function ye(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}let pe=new TextEncoder,me=new TextDecoder;function Oe(...e){let t=new Uint8Array(e.reduce((n,{length:i})=>n+i,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function st(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967295}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function $e(e){let t=new Uint8Array(8);return st(t,Math.floor(e/4294967296),0),st(t,e%4294967296,4),t}function Tt(e){let t=new Uint8Array(4);return st(t,e),t}function Se(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=n}return t}function Qe(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:me.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=me.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{return function(r){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function dt(e){let t=e;return typeof t=="string"&&(t=pe.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):function(r){if(Uint8Array.prototype.toBase64)return r.toBase64();let n=[];for(let i=0;i<r.length;i+=32768)n.push(String.fromCharCode.apply(null,r.subarray(i,i+32768)));return btoa(n.join(""))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class lt extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,r){super(t,r),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class Ct extends lt{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(t,r,n="unspecified",i="unspecified"){super(t,{cause:{claim:n,reason:i,payload:r}}),this.claim=n,this.reason=i,this.payload=r}}class Wr extends lt{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(t,r,n="unspecified",i="unspecified"){super(t,{cause:{claim:n,reason:i,payload:r}}),this.claim=n,this.reason=i,this.payload=r}}class ir extends lt{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class tt extends lt{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class Zt extends lt{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(t="decryption operation failed",r){super(t,r)}}class ve extends lt{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class Dt extends lt{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class ar extends lt{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class Kr extends lt{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(t="multiple matching keys found in the JSON Web Key Set",r){super(t,r)}}function or(e){if(!Ft(e))throw Error("CryptoKey instance expected")}let Ft=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},Qt=e=>e?.[Symbol.toStringTag]==="KeyObject",hr=e=>Ft(e)||Qt(e),fn=e=>typeof e=="object"&&e!==null;function Rt(e){if(!fn(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let fr=e=>Rt(e)&&typeof e.kty=="string",Gn=e=>e.kty!=="oct"&&(e.kty==="AKP"&&typeof e.priv=="string"||typeof e.d=="string"),gn=e=>e.kty!=="oct"&&e.d===void 0&&e.priv===void 0,sr=e=>e.kty==="oct"&&typeof e.k=="string";function gr(e,t,...r){if((r=r.filter(Boolean)).length>2){let n=r.pop();e+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let er=(e,...t)=>gr("Key must be ",e,...t),Br=(e,t,...r)=>gr(`Key for the ${e} algorithm must be `,t,...r);async function mr(e){if(Qt(e)){if(e.type!=="secret")return e.export({format:"jwk"});e=e.export()}if(e instanceof Uint8Array)return{kty:"oct",k:dt(e)};if(!Ft(e))throw TypeError(er(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...a}=await crypto.subtle.exportKey("jwk",e);return a.kty==="AKP"&&(a.alg=n),a}async function Mt(e){return mr(e)}let It=(e,t)=>{if(typeof e!="string"||!e)throw new ar(`${t} missing or invalid`)};async function cr(e,t){let r,n;if(fr(e))r=e;else if(hr(e))r=await Mt(e);else throw TypeError(er(e,"CryptoKey","KeyObject","JSON Web Key"));if((t??="sha256")!=="sha256"&&t!=="sha384"&&t!=="sha512")throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":It(r.alg,'"alg" (Algorithm) Parameter'),It(r.pub,'"pub" (Public key) Parameter'),n={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":It(r.crv,'"crv" (Curve) Parameter'),It(r.x,'"x" (X Coordinate) Parameter'),It(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":It(r.crv,'"crv" (Subtype of Key Pair) Parameter'),It(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":It(r.e,'"e" (Exponent) Parameter'),It(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":It(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new tt('"kty" (Key Type) Parameter missing or unsupported')}let i=Se(JSON.stringify(n));return dt(await ye(t,i))}let mn=Symbol();function Jr(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new tt(`Unsupported JWE Algorithm: ${e}`)}}let Vr=e=>crypto.getRandomValues(new Uint8Array(Jr(e)>>3));function qr(e,t){if(t.length<<3!==Jr(e))throw new ve("Invalid Initialization Vector length")}function yr(e,t){let r=e.byteLength<<3;if(r!==t)throw new ve(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}let Wt=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`),br=(e,t)=>e.name===t;function s(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!br(e.algorithm,"AES-GCM"))throw Wt("AES-GCM");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw Wt(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!br(e.algorithm,"AES-KW"))throw Wt("AES-KW");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw Wt(n,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw Wt("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!br(e.algorithm,"PBKDF2"))throw Wt("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!br(e.algorithm,"RSA-OAEP"))throw Wt("RSA-OAEP");let n=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==n)throw Wt(`SHA-${n}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}(function(n,i){if(i&&!n.usages.includes(i))throw TypeError(`CryptoKey does not support this operation, its usages must include ${i}.`)})(e,r)}async function f(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(er(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),c=await crypto.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),p=await crypto.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),b=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},c,t)),P=Oe(i,n,b,$e(i.length<<3));return{ciphertext:b,tag:new Uint8Array((await crypto.subtle.sign("HMAC",p,P)).slice(0,a>>3)),iv:n}}async function x(e,t,r,n,i){let a;r instanceof Uint8Array?a=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(s(r,e,"encrypt"),a=r);let c=new Uint8Array(await crypto.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),p=c.slice(-16);return{ciphertext:c.slice(0,-16),tag:p,iv:n}}async function T(e,t,r,n,i){if(!Ft(r)&&!(r instanceof Uint8Array))throw TypeError(er(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(n?qr(e,n):n=Vr(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&yr(r,parseInt(e.slice(-3),10)),f(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&yr(r,parseInt(e.slice(1,4),10)),x(e,t,r,n,i);default:throw new tt("Unsupported JWE Content Encryption Algorithm")}}function A(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function ce(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(s(e,t,r),e)}async function D(e,t,r){let n=await ce(t,e,"wrapKey");A(n,e);let i=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",i,n,"AES-KW"))}async function we(e,t,r){let n=await ce(t,e,"unwrapKey");A(n,e);let i=await crypto.subtle.unwrapKey("raw",r,n,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",i))}function ge(e){return Oe(Tt(e.length),e)}async function oe(e,t,r){let n=t>>3,i=Math.ceil(n/32),a=new Uint8Array(32*i);for(let c=1;c<=i;c++){let p=new Uint8Array(4+e.length+r.length);p.set(Tt(c),0),p.set(e,4),p.set(r,4+e.length);let b=await ye("sha256",p);a.set(b,(c-1)*32)}return a.slice(0,n)}async function Te(e,t,r,n,i=new Uint8Array,a=new Uint8Array){s(e,"ECDH"),s(t,"ECDH","deriveBits");let c=ge(Se(r)),p=ge(i),b=Oe(c,p,ge(a),Tt(n),new Uint8Array);return oe(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,e.algorithm.name==="X25519"?256:Math.ceil(parseInt(e.algorithm.namedCurve.slice(-3),10)/8)<<3)),n,b)}function pt(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return e.algorithm.name==="X25519"}}let et=(e,t)=>Oe(Se(e),Uint8Array.of(0),t);async function Ut(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new ve("PBES2 Salt Input must be 8 or more octets");let i=et(t,e),a=parseInt(t.slice(13,16),10),c={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},p=await(n instanceof Uint8Array?crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]):(s(n,t,"deriveBits"),n));return new Uint8Array(await crypto.subtle.deriveBits(c,p,a))}async function tr(e,t,r,n=2048,i=crypto.getRandomValues(new Uint8Array(16))){let a=await Ut(i,e,n,t);return{encryptedKey:await D(e.slice(-6),a,r),p2c:n,p2s:dt(i)}}async function Ar(e,t,r,n,i){let a=await Ut(i,e,n,t);return we(e.slice(-6),a,r)}function Cr(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let yn=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new tt(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function Tr(e,t,r){return s(t,e,"encrypt"),Cr(e,t),new Uint8Array(await crypto.subtle.encrypt(yn(e),t,r))}async function Fr(e,t,r){return s(t,e,"decrypt"),Cr(e,t),new Uint8Array(await crypto.subtle.decrypt(yn(e),t,r))}async function wr(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(i){let a,c;switch(i.kty){case"AKP":switch(i.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":a={name:i.alg},c=i.priv?["sign"]:["verify"];break;default:throw new tt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(i.alg){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${i.alg.slice(-3)}`},c=i.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.alg.slice(-3)}`},c=i.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(i.alg.slice(-3),10)||1}`},c=i.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new tt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(i.alg){case"ES256":a={name:"ECDSA",namedCurve:"P-256"},c=i.d?["sign"]:["verify"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},c=i.d?["sign"]:["verify"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},c=i.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":a={name:"ECDH",namedCurve:i.crv},c=i.d?["deriveBits"]:[];break;default:throw new tt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(i.alg){case"Ed25519":case"EdDSA":a={name:"Ed25519"},c=i.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":a={name:i.crv},c=i.d?["deriveBits"]:[];break;default:throw new tt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new tt('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:a,keyUsages:c}}(e),n={...e};return n.kty!=="AKP"&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let ji=async(e,t,r,n=!1)=>{let i=(F||=new WeakMap).get(e);if(i?.[r])return i[r];let a=await wr({...t,alg:r});return n&&Object.freeze(e),i?i[r]=a:F.set(e,{[r]:a}),a},co=(e,t)=>{let r,n=(F||=new WeakMap).get(e);if(n?.[t])return n[t];let i=e.type==="public",a=!!i;if(e.asymmetricKeyType==="x25519"){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}r=e.toCryptoKey(e.asymmetricKeyType,a,i?[]:["deriveBits"])}if(e.asymmetricKeyType==="ed25519"){if(t!=="EdDSA"&&t!=="Ed25519")throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,a,[i?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(t!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,a,[i?"verify":"sign"])}if(e.asymmetricKeyType==="rsa"){let c;switch(t){case"RSA-OAEP":c="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":c="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":c="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":c="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:c},a,i?["encrypt"]:["decrypt"]);r=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:c},a,[i?"verify":"sign"])}if(e.asymmetricKeyType==="ec"){let c=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!c)throw TypeError("given KeyObject instance cannot be used for this algorithm");t==="ES256"&&c==="P-256"&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:c},a,[i?"verify":"sign"])),t==="ES384"&&c==="P-384"&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:c},a,[i?"verify":"sign"])),t==="ES512"&&c==="P-521"&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:c},a,[i?"verify":"sign"])),t.startsWith("ECDH-ES")&&(r=e.toCryptoKey({name:"ECDH",namedCurve:c},a,i?[]:["deriveBits"]))}if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[t]=r:F.set(e,{[t]:r}),r};async function Xn(e,t){if(e instanceof Uint8Array||Ft(e))return e;if(Qt(e)){if(e.type==="secret")return e.export();if("toCryptoKey"in e&&typeof e.toCryptoKey=="function")try{return co(e,t)}catch(n){if(n instanceof TypeError)throw n}let r=e.export({format:"jwk"});return ji(e,r,t)}if(fr(e))return e.k?Qe(e.k):ji(e,e,t,!0);throw Error("unreachable")}function Yn(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new tt(`Unsupported JWE Algorithm: ${e}`)}}let Pr=e=>crypto.getRandomValues(new Uint8Array(Yn(e)>>3));async function lo(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},n=await crypto.subtle.generateKey(r,!1,["sign"]),i=new Uint8Array(await crypto.subtle.sign(r,n,e)),a=new Uint8Array(await crypto.subtle.sign(r,n,t)),c=0,p=-1;for(;++p<32;)c|=i[p]^a[p];return c===0}async function uo(e,t,r,n,i,a){let c,p;if(!(t instanceof Uint8Array))throw TypeError(er(t,"Uint8Array"));let b=parseInt(e.slice(1,4),10),P=await crypto.subtle.importKey("raw",t.subarray(b>>3),"AES-CBC",!1,["decrypt"]),C=await crypto.subtle.importKey("raw",t.subarray(0,b>>3),{hash:`SHA-${b<<1}`,name:"HMAC"},!1,["sign"]),w=Oe(a,n,r,$e(a.length<<3)),L=new Uint8Array((await crypto.subtle.sign("HMAC",C,w)).slice(0,b>>3));try{c=await lo(i,L)}catch{}if(!c)throw new Zt;try{p=new Uint8Array(await crypto.subtle.decrypt({iv:n,name:"AES-CBC"},P,r))}catch{}if(!p)throw new Zt;return p}async function po(e,t,r,n,i,a){let c;t instanceof Uint8Array?c=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(s(t,e,"decrypt"),c=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},c,Oe(r,i)))}catch{throw new Zt}}async function Li(e,t,r,n,i,a){if(!Ft(t)&&!(t instanceof Uint8Array))throw TypeError(er(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!n)throw new ve("JWE Initialization Vector missing");if(!i)throw new ve("JWE Authentication Tag missing");switch(qr(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&yr(t,parseInt(e.slice(-3),10)),uo(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&yr(t,parseInt(e.slice(1,4),10)),po(e,t,r,n,i,a);default:throw new tt("Unsupported JWE Content Encryption Algorithm")}}async function ho(e,t,r,n){let i=e.slice(0,7),a=await T(i,r,t,n,new Uint8Array);return{encryptedKey:a.ciphertext,iv:dt(a.iv),tag:dt(a.tag)}}async function fo(e,t,r,n,i){return Li(e.slice(0,7),t,r,n,i,new Uint8Array)}async function go(e,t,r,n,i={}){let a,c,p;switch(e){case"dir":p=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let b;if(or(r),!pt(r))throw new tt("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:P,apv:C}=i;b=i.epk?await Xn(i.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:w,y:L,crv:$,kty:V}=await Mt(b),Z=await Te(r,b,e==="ECDH-ES"?t:e,e==="ECDH-ES"?Yn(t):parseInt(e.slice(-5,-2),10),P,C);if(c={epk:{x:w,crv:$,kty:V}},V==="EC"&&(c.epk.y=L),P&&(c.apu=dt(P)),C&&(c.apv=dt(C)),e==="ECDH-ES"){p=Z;break}p=n||Pr(t);let Q=e.slice(-6);a=await D(Q,Z,p);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":p=n||Pr(t),or(r),a=await Tr(e,r,p);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{p=n||Pr(t);let{p2c:b,p2s:P}=i;({encryptedKey:a,...c}=await tr(e,r,p,b,P));break}case"A128KW":case"A192KW":case"A256KW":p=n||Pr(t),a=await D(e,r,p);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{p=n||Pr(t);let{iv:b}=i;({encryptedKey:a,...c}=await ho(e,r,p,b));break}default:throw new tt('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:p,encryptedKey:a,parameters:c}}function Di(...e){let t,r=e.filter(Boolean);if(r.length===0||r.length===1)return!0;for(let n of r){let i=Object.keys(n);if(!t||t.size===0){t=new Set(i);continue}for(let a of i){if(t.has(a))return!1;t.add(a)}}return!0}function Mi(e,t,r,n,i){let a;if(i.crit!==void 0&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(c=>typeof c!="string"||c.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let c of(a=r!==void 0?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(c))throw new tt(`Extension Header Parameter "${c}" is not recognized`);if(i[c]===void 0)throw new e(`Extension Header Parameter "${c}" is missing`);if(a.get(c)&&n[c]===void 0)throw new e(`Extension Header Parameter "${c}" MUST be integrity protected`)}return new Set(n.crit)}let Or=e=>e?.[Symbol.toStringTag],Zn=(e,t,r)=>{if(t.use!==void 0){let n;switch(r){case"sign":case"verify":n="sig";break;case"encrypt":case"decrypt":n="enc"}if(t.use!==n)throw TypeError(`Invalid key for this operation, its "use" must be "${n}" when present`)}if(t.alg!==void 0&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case(r==="sign"||r==="verify"):case e==="dir":case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?r==="encrypt"?"wrapKey":"unwrapKey":r;break;case(r==="encrypt"&&e.startsWith("RSA")):n="wrapKey";break;case r==="decrypt":n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0},mo=(e,t,r)=>{if(!(t instanceof Uint8Array)){if(fr(t)){if(sr(t)&&Zn(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!hr(t))throw TypeError(Br(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(t.type!=="secret")throw TypeError(`${Or(t)} instances for symmetric algorithms must be of type "secret"`)}},yo=(e,t,r)=>{if(fr(t))switch(r){case"decrypt":case"sign":if(Gn(t)&&Zn(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if(gn(t)&&Zn(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!hr(t))throw TypeError(Br(e,t,"CryptoKey","KeyObject","JSON Web Key"));if(t.type==="secret")throw TypeError(`${Or(t)} instances for asymmetric algorithms must not be of type "secret"`);if(t.type==="public")switch(r){case"sign":throw TypeError(`${Or(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${Or(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.type==="private")switch(r){case"verify":throw TypeError(`${Or(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${Or(t)} instances for asymmetric algorithm encryption must be of type "public"`)}};function Hi(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":mo(e,t,r);break;default:yo(e,t,r)}}class bo{#e;#t;#i;#r;#o;#a;#s;#n;constructor(t){if(!(t instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#e=t}setKeyManagementParameters(t){if(this.#n)throw TypeError("setKeyManagementParameters can only be called once");return this.#n=t,this}setProtectedHeader(t){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=t,this}setSharedUnprotectedHeader(t){if(this.#i)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#i=t,this}setUnprotectedHeader(t){if(this.#r)throw TypeError("setUnprotectedHeader can only be called once");return this.#r=t,this}setAdditionalAuthenticatedData(t){return this.#o=t,this}setContentEncryptionKey(t){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=t,this}setInitializationVector(t){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=t,this}async encrypt(t,r){let n,i,a,c,p,b;if(!this.#t&&!this.#r&&!this.#i)throw new ve("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Di(this.#t,this.#r,this.#i))throw new ve("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let P={...this.#t,...this.#r,...this.#i};if(Mi(ve,new Map,r?.crit,this.#t,P),P.zip!==void 0)throw new tt('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:C,enc:w}=P;if(typeof C!="string"||!C)throw new ve('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof w!="string"||!w)throw new ve('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#a&&(C==="dir"||C==="ECDH-ES"))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${C}`);Hi(C==="dir"?w:C,t,"encrypt");{let Q,he=await Xn(t,C);({cek:i,encryptedKey:n,parameters:Q}=await go(C,w,he,this.#a,this.#n)),Q&&(r&&mn in r?this.#r?this.#r={...this.#r,...Q}:this.setUnprotectedHeader(Q):this.#t?this.#t={...this.#t,...Q}:this.setProtectedHeader(Q))}if(this.#t?p=Se(c=dt(JSON.stringify(this.#t))):(c="",p=new Uint8Array),this.#o){let Q=Se(b=dt(this.#o));a=Oe(p,Se("."),Q)}else a=p;let{ciphertext:L,tag:$,iv:V}=await T(w,this.#e,i,this.#s,a),Z={ciphertext:dt(L)};return V&&(Z.iv=dt(V)),$&&(Z.tag=dt($)),n&&(Z.encrypted_key=dt(n)),b&&(Z.aad=b),this.#t&&(Z.protected=c),this.#i&&(Z.unprotected=this.#i),this.#r&&(Z.header=this.#r),Z}}class wo{#e;constructor(t){this.#e=new bo(t)}setContentEncryptionKey(t){return this.#e.setContentEncryptionKey(t),this}setInitializationVector(t){return this.#e.setInitializationVector(t),this}setProtectedHeader(t){return this.#e.setProtectedHeader(t),this}setKeyManagementParameters(t){return this.#e.setKeyManagementParameters(t),this}async encrypt(t,r){let n=await this.#e.encrypt(t,r);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}let lr=e=>Math.floor(e.getTime()/1e3),vo=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function zr(e){let t,r=vo.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(31557600*n)}return r[1]==="-"||r[4]==="ago"?-t:t}function vr(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let Wi=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`,_o=(e,t)=>typeof e=="string"?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));class So{#e;constructor(t){if(!Rt(t))throw TypeError("JWT Claims Set MUST be an object");this.#e=structuredClone(t)}data(){return pe.encode(JSON.stringify(this.#e))}get iss(){return this.#e.iss}set iss(t){this.#e.iss=t}get sub(){return this.#e.sub}set sub(t){this.#e.sub=t}get aud(){return this.#e.aud}set aud(t){this.#e.aud=t}set jti(t){this.#e.jti=t}set nbf(t){typeof t=="number"?this.#e.nbf=vr("setNotBefore",t):t instanceof Date?this.#e.nbf=vr("setNotBefore",lr(t)):this.#e.nbf=lr(new Date)+zr(t)}set exp(t){typeof t=="number"?this.#e.exp=vr("setExpirationTime",t):t instanceof Date?this.#e.exp=vr("setExpirationTime",lr(t)):this.#e.exp=lr(new Date)+zr(t)}set iat(t){t===void 0?this.#e.iat=lr(new Date):t instanceof Date?this.#e.iat=vr("setIssuedAt",lr(t)):typeof t=="string"?this.#e.iat=vr("setIssuedAt",lr(new Date)+zr(t)):this.#e.iat=vr("setIssuedAt",t)}}class ko{#e;#t;#i;#r;#o;#a;#s;#n;constructor(t={}){this.#n=new So(t)}setIssuer(t){return this.#n.iss=t,this}setSubject(t){return this.#n.sub=t,this}setAudience(t){return this.#n.aud=t,this}setJti(t){return this.#n.jti=t,this}setNotBefore(t){return this.#n.nbf=t,this}setExpirationTime(t){return this.#n.exp=t,this}setIssuedAt(t){return this.#n.iat=t,this}setProtectedHeader(t){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=t,this}setKeyManagementParameters(t){if(this.#i)throw TypeError("setKeyManagementParameters can only be called once");return this.#i=t,this}setContentEncryptionKey(t){if(this.#e)throw TypeError("setContentEncryptionKey can only be called once");return this.#e=t,this}setInitializationVector(t){if(this.#t)throw TypeError("setInitializationVector can only be called once");return this.#t=t,this}replicateIssuerAsHeader(){return this.#o=!0,this}replicateSubjectAsHeader(){return this.#a=!0,this}replicateAudienceAsHeader(){return this.#s=!0,this}async encrypt(t,r){let n=new wo(this.#n.data());return this.#r&&(this.#o||this.#a||this.#s)&&(this.#r={...this.#r,iss:this.#o?this.#n.iss:void 0,sub:this.#a?this.#n.sub:void 0,aud:this.#s?this.#n.aud:void 0}),n.setProtectedHeader(this.#r),this.#t&&n.setInitializationVector(this.#t),this.#e&&n.setContentEncryptionKey(this.#e),this.#i&&n.setKeyManagementParameters(this.#i),n.encrypt(t,r)}}async function xo(e,t,r){let n;if(!Rt(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return Qe(e.k);case"RSA":if("oth"in e&&e.oth!==void 0)throw new tt('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return wr({...e,alg:t,ext:n});case"AKP":if(typeof e.alg!="string"||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(t!==void 0&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return wr({...e,ext:n});case"EC":case"OKP":return wr({...e,alg:t,ext:n});default:throw new tt('Unsupported "kty" (Key Type) Parameter value')}}async function Eo(e,t,r,n,i){switch(e){case"dir":if(r!==void 0)throw new ve("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(r!==void 0)throw new ve("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let a,c;if(!Rt(n.epk))throw new ve('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(or(t),!pt(t))throw new tt("ECDH with the provided key is not allowed or not supported by your javascript runtime");let p=await xo(n.epk,e);if(or(p),n.apu!==void 0){if(typeof n.apu!="string")throw new ve('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{a=Qe(n.apu)}catch{throw new ve("Failed to base64url decode the apu")}}if(n.apv!==void 0){if(typeof n.apv!="string")throw new ve('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{c=Qe(n.apv)}catch{throw new ve("Failed to base64url decode the apv")}}let b=await Te(p,t,e==="ECDH-ES"?n.enc:e,e==="ECDH-ES"?Yn(n.enc):parseInt(e.slice(-5,-2),10),a,c);if(e==="ECDH-ES")return b;if(r===void 0)throw new ve("JWE Encrypted Key missing");return we(e.slice(-6),b,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(r===void 0)throw new ve("JWE Encrypted Key missing");return or(t),Fr(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(r===void 0)throw new ve("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new ve('JOSE Header "p2c" (PBES2 Count) missing or invalid');let c=i?.maxPBES2Count||1e4;if(n.p2c>c)throw new ve('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new ve('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=Qe(n.p2s)}catch{throw new ve("Failed to base64url decode the p2s")}return Ar(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(r===void 0)throw new ve("JWE Encrypted Key missing");return we(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let a,c;if(r===void 0)throw new ve("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new ve('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new ve('JOSE Header "tag" (Authentication Tag) missing or invalid');try{a=Qe(n.iv)}catch{throw new ve("Failed to base64url decode the iv")}try{c=Qe(n.tag)}catch{throw new ve("Failed to base64url decode the tag")}return fo(e,t,r,a,c)}default:throw new tt('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function Ki(e,t){if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function Ao(e,t,r){let n,i,a,c,p,b,P;if(!Rt(e))throw new ve("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new ve("JOSE Header missing");if(e.iv!==void 0&&typeof e.iv!="string")throw new ve("JWE Initialization Vector incorrect type");if(typeof e.ciphertext!="string")throw new ve("JWE Ciphertext missing or incorrect type");if(e.tag!==void 0&&typeof e.tag!="string")throw new ve("JWE Authentication Tag incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new ve("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new ve("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new ve("JWE AAD incorrect type");if(e.header!==void 0&&!Rt(e.header))throw new ve("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!Rt(e.unprotected))throw new ve("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let z=Qe(e.protected);n=JSON.parse(me.decode(z))}catch{throw new ve("JWE Protected Header is invalid")}if(!Di(n,e.header,e.unprotected))throw new ve("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let C={...n,...e.header,...e.unprotected};if(Mi(ve,new Map,r?.crit,n,C),C.zip!==void 0)throw new tt('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:w,enc:L}=C;if(typeof w!="string"||!w)throw new ve("missing JWE Algorithm (alg) in JWE Header");if(typeof L!="string"||!L)throw new ve("missing JWE Encryption Algorithm (enc) in JWE Header");let $=r&&Ki("keyManagementAlgorithms",r.keyManagementAlgorithms),V=r&&Ki("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if($&&!$.has(w)||!$&&w.startsWith("PBES2"))throw new ir('"alg" (Algorithm) Header Parameter value not allowed');if(V&&!V.has(L))throw new ir('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(e.encrypted_key!==void 0)try{i=Qe(e.encrypted_key)}catch{throw new ve("Failed to base64url decode the encrypted_key")}let Z=!1;typeof t=="function"&&(t=await t(n,e),Z=!0),Hi(w==="dir"?L:w,t,"decrypt");let Q=await Xn(t,w);try{a=await Eo(w,Q,i,C,r)}catch(z){if(z instanceof TypeError||z instanceof ve||z instanceof tt)throw z;a=Pr(L)}if(e.iv!==void 0)try{c=Qe(e.iv)}catch{throw new ve("Failed to base64url decode the iv")}if(e.tag!==void 0)try{p=Qe(e.tag)}catch{throw new ve("Failed to base64url decode the tag")}let he=e.protected!==void 0?Se(e.protected):new Uint8Array;b=e.aad!==void 0?Oe(he,Se("."),Se(e.aad)):he;try{P=Qe(e.ciphertext)}catch{throw new ve("Failed to base64url decode the ciphertext")}let ie={plaintext:await Li(L,a,P,c,p,b)};if(e.protected!==void 0&&(ie.protectedHeader=n),e.aad!==void 0)try{ie.additionalAuthenticatedData=Qe(e.aad)}catch{throw new ve("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(ie.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(ie.unprotectedHeader=e.header),Z?{...ie,key:Q}:ie}async function Co(e,t,r){if(e instanceof Uint8Array&&(e=me.decode(e)),typeof e!="string")throw new ve("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:c,4:p,length:b}=e.split(".");if(b!==5)throw new ve("Invalid Compact JWE");let P=await Ao({ciphertext:c,iv:a||void 0,protected:n,tag:p||void 0,encrypted_key:i||void 0},t,r),C={plaintext:P.plaintext,protectedHeader:P.protectedHeader};return typeof t=="function"?{...C,key:P.key}:C}async function To(e,t,r){let n=await Co(e,t,r),i=function(p,b,P={}){let C,w;try{C=JSON.parse(me.decode(b))}catch{}if(!Rt(C))throw new Dt("JWT Claims Set must be a top-level JSON object");let{typ:L}=P;if(L&&(typeof p.typ!="string"||Wi(p.typ)!==Wi(L)))throw new Ct('unexpected "typ" JWT header value',C,"typ","check_failed");let{requiredClaims:$=[],issuer:V,subject:Z,audience:Q,maxTokenAge:he}=P,ie=[...$];for(let j of(he!==void 0&&ie.push("iat"),Q!==void 0&&ie.push("aud"),Z!==void 0&&ie.push("sub"),V!==void 0&&ie.push("iss"),new Set(ie.reverse())))if(!(j in C))throw new Ct(`missing required "${j}" claim`,C,j,"missing");if(V&&!(Array.isArray(V)?V:[V]).includes(C.iss))throw new Ct('unexpected "iss" claim value',C,"iss","check_failed");if(Z&&C.sub!==Z)throw new Ct('unexpected "sub" claim value',C,"sub","check_failed");if(Q&&!_o(C.aud,typeof Q=="string"?[Q]:Q))throw new Ct('unexpected "aud" claim value',C,"aud","check_failed");switch(typeof P.clockTolerance){case"string":w=zr(P.clockTolerance);break;case"number":w=P.clockTolerance;break;case"undefined":w=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:z}=P,_=lr(z||new Date);if((C.iat!==void 0||he)&&typeof C.iat!="number")throw new Ct('"iat" claim must be a number',C,"iat","invalid");if(C.nbf!==void 0){if(typeof C.nbf!="number")throw new Ct('"nbf" claim must be a number',C,"nbf","invalid");if(C.nbf>_+w)throw new Ct('"nbf" claim timestamp check failed',C,"nbf","check_failed")}if(C.exp!==void 0){if(typeof C.exp!="number")throw new Ct('"exp" claim must be a number',C,"exp","invalid");if(C.exp<=_-w)throw new Wr('"exp" claim timestamp check failed',C,"exp","check_failed")}if(he){let j=_-C.iat;if(j-w>(typeof he=="number"?he:zr(he)))throw new Wr('"iat" claim timestamp check failed (too far in the past)',C,"iat","check_failed");if(j<0-w)throw new Ct('"iat" claim timestamp check failed (it should be in the past)',C,"iat","check_failed")}return C}(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(a.iss!==void 0&&a.iss!==i.iss)throw new Ct('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(a.sub!==void 0&&a.sub!==i.sub)throw new Ct('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(a.aud!==void 0&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new Ct('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let c={payload:i,protectedHeader:a};return typeof t=="function"?{...c,key:n.key}:c}let Po=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,Oo=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,Ro=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Io=/^[\u0020-\u003A\u003D-\u007E]*$/,Uo=Object.prototype.toString,$o=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function No(e,t){let r=new $o,n=e.length;if(n<2)return r;let i=t?.decode||Lo,a=0;do{let c=e.indexOf("=",a);if(c===-1)break;let p=e.indexOf(";",a),b=p===-1?n:p;if(c>b){a=e.lastIndexOf(";",c-1)+1;continue}let P=Bi(e,a,c),C=Ji(e,c,P),w=e.slice(P,C);if(r[w]===void 0){let L=Bi(e,c+1,b),$=Ji(e,b,L),V=i(e.slice(L,$));r[w]=V}a=b+1}while(a<n);return r}function Bi(e,t,r){do{let n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function Ji(e,t,r){for(;t>r;){let n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function jo(e,t,r){let n=r?.encode||encodeURIComponent;if(!Po.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=n(t);if(!Oo.test(i))throw TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!r)return a;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);a+="; Max-Age="+r.maxAge}if(r.domain){if(!Ro.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);a+="; Domain="+r.domain}if(r.path){if(!Io.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);a+="; Path="+r.path}if(r.expires){var c;if(c=r.expires,Uo.call(c)!=="[object Date]"||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return a}function Lo(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}let{parse:kc}=h,Do=()=>Date.now()/1e3|0,Qn="A256CBC-HS512";async function bn(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,a=Array.isArray(r)?r:[r],c=await Vi(Qn,a[0],i),p=await cr({kty:"oct",k:dt(c)},`sha${c.byteLength<<3}`);return await new ko(t).setProtectedHeader({alg:"dir",enc:Qn,kid:p}).setIssuedAt().setExpirationTime(Do()+n).setJti(crypto.randomUUID()).encrypt(c)}async function wn(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await To(t,async({kid:c,enc:p})=>{for(let b of i){let P=await Vi(p,b,n);if(c===void 0||c===await cr({kty:"oct",k:dt(P)},`sha${P.byteLength<<3}`))return P}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[Qn,"A256GCM"]});return a}async function Vi(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await Ue("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function Mo({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let ei="\x1B[31m",Gr="\x1B[0m",Ho={error(e){let t=e instanceof l?e.type:e.name;if(console.error(`${ei}[auth][error]${Gr} ${t}: ${e.message}`),e.cause&&typeof e.cause=="object"&&"err"in e.cause&&e.cause.err instanceof Error){let{err:r,...n}=e.cause;console.error(`${ei}[auth][cause]${Gr}:`,r.stack),n&&console.error(`${ei}[auth][details]${Gr}:`,JSON.stringify(n,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1B[33m[auth][warn][${e}]${Gr}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1B[90m[auth][debug]:${Gr} ${e}`,JSON.stringify(t,null,2))}};function Xr(e){let t={...Ho};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let Wo=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{parse:Ko,serialize:Bo}=h;async function Jo(e){if(!("body"in e)||!e.body||e.method!=="POST")return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function Vo(e,t){try{if(e.method!=="GET"&&e.method!=="POST")throw new fe("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(a,c){let p=a.match(RegExp(`^${c}(.+)`));if(p===null)throw new fe(`Cannot parse action at ${a}`);let b=p.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(b.length!==1&&b.length!==2)throw new fe(`Cannot parse action at ${a}`);let[P,C]=b;if(!Wo.includes(P)||C&&!["signin","callback","webauthn-options"].includes(P))throw new fe(`Cannot parse action at ${a}`);return{action:P,providerId:C=="undefined"?void 0:C}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await Jo(e):void 0,cookies:Ko(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(r){let n=Xr(t);n.error(r),n.debug("request",e)}}function qi(e){let t=new Headers(e.headers);e.cookies?.forEach(i=>{let{name:a,value:c,options:p}=i,b=Bo(a,c,p);t.has("Set-Cookie")?t.append("Set-Cookie",b):t.set("Set-Cookie",b)});let r=e.body;t.get("content-type")==="application/json"?r=JSON.stringify(e.body):t.get("content-type")==="application/x-www-form-urlencoded"&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function vn(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(r=>r.toString(16).padStart(2,"0")).join("").toString()}function ti(e){let t=r=>("0"+r.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((r,n)=>r+t(n),"")}async function qo({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[c,p]=t.split("|");if(p===await vn(`${c}${e.secret}`))return{csrfTokenVerified:r&&c===n,csrfToken:c}}let i=ti(32),a=await vn(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function _n(e,t){if(!t)throw new ze(`CSRF token was missing during an action ${e}`)}function Sn(e){return e!==null&&typeof e=="object"}function kn(e,...t){if(!t.length)return e;let r=t.shift();if(Sn(e)&&Sn(r))for(let n in r)Sn(r[n])?(Sn(e[n])||(e[n]=Array.isArray(r[n])?[]:{}),kn(e[n],r[n])):r[n]!==void 0&&(e[n]=r[n]);return kn(e,...t)}let xn=Symbol("skip-csrf-check"),En=Symbol("return-type-raw"),rr=Symbol("custom-fetch"),Fi=Symbol("conform-internal"),Fo=e=>zi({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),zo=e=>zi({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function zi(e){let t={};for(let[r,n]of Object.entries(e))n!==void 0&&(t[r]=n);return t}function ri(e,t){if(!e&&t)return;if(typeof e=="string")return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[n,i]of Object.entries(e.params))n==="claims"&&(i=JSON.stringify(i)),r.searchParams.set(n,String(i));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let Go={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function Xo({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:c,csrfDisabled:p,isPost:b}){var P;let C=Xr(e),{providers:w,provider:L}=function(ie){let{providerId:z,config:_}=ie,j=new URL(_.basePath??"/auth",ie.url.origin),H=_.providers.map(te=>{let be=typeof te=="function"?te():te,{options:se,...le}=be,xe=se?.id??le.id,Ne=kn(le,se,{signinUrl:`${j}/signin/${xe}`,callbackUrl:`${j}/callback/${xe}`});if(be.type==="oauth"||be.type==="oidc"){Ne.redirectProxyUrl??(Ne.redirectProxyUrl=se?.redirectProxyUrl??_.redirectProxyUrl);let ue=function(re){re.issuer&&(re.wellKnown??(re.wellKnown=`${re.issuer}/.well-known/openid-configuration`));let Me=ri(re.authorization,re.issuer);Me&&!Me.url?.searchParams.has("scope")&&Me.url.searchParams.set("scope","openid profile email");let ht=ri(re.token,re.issuer),He=ri(re.userinfo,re.issuer),ct=re.checks??["pkce"];return re.redirectProxyUrl&&(ct.includes("state")||ct.push("state"),re.redirectProxyUrl=`${re.redirectProxyUrl}/callback/${re.id}`),{...re,authorization:Me,token:ht,checks:ct,userinfo:He,profile:re.profile??Fo,account:re.account??zo}}(Ne);return ue.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete ue.redirectProxyUrl,ue[rr]??(ue[rr]=se?.[rr]),ue}return Ne}),ae=H.find(({id:te})=>te===z);if(z&&!ae){let te=H.map(be=>be.id).join(", ");throw Error(`Provider with id "${z}" not found. Available providers: [${te}].`)}return{providers:H,provider:ae}}({url:n,providerId:t,config:e}),$=!1;if((L?.type==="oauth"||L?.type==="oidc")&&L.redirectProxyUrl)try{$=new URL(L.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${L.redirectProxyUrl}`)}let V={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:L,cookies:kn(S(e.useSecureCookies??n.protocol==="https:"),e.cookies),providers:w,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:bn,decode:wn,...e.jwt},events:Object.keys(P=e.events??{}).reduce((ie,z)=>(ie[z]=async(..._)=>{try{let j=P[z];return await j(..._)}catch(j){C.error(new k(j))}},ie),{}),adapter:function(ie,z){if(ie)return Object.keys(ie).reduce((_,j)=>(_[j]=async(...H)=>{try{z.debug(`adapter_${j}`,{args:H});let ae=ie[j];return await ae(...H)}catch(ae){let te=new I(ae);throw z.error(te),te}},_),{})}(e.adapter,C),callbacks:{...Go,...e.callbacks},logger:C,callbackUrl:n.origin,isOnRedirectProxy:$,experimental:{...e.experimental}},Z=[];if(p)V.csrfTokenVerified=!0;else{let{csrfToken:ie,cookie:z,csrfTokenVerified:_}=await qo({options:V,cookieValue:i?.[V.cookies.csrfToken.name],isPost:b,bodyValue:c});V.csrfToken=ie,V.csrfTokenVerified=_,z&&Z.push({name:V.cookies.csrfToken.name,value:z,options:V.cookies.csrfToken.options})}let{callbackUrl:Q,callbackUrlCookie:he}=await Mo({options:V,cookieValue:i?.[V.cookies.callbackUrl.name],paramValue:a});return V.callbackUrl=Q,he&&Z.push({name:V.cookies.callbackUrl.name,value:he,options:V.cookies.callbackUrl.options}),{options:V,cookies:Z}}var Yr,nr,Rr,An,Gi,ni,Cn,Je,Xi,_r,Yi,Zi,ii,ai,oi,si,Zr={},Qi=[],Yo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ci=Array.isArray;function ur(e,t){for(var r in t)e[r]=t[r];return e}function ea(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ta(e,t,r){var n,i,a,c={};for(a in t)a=="key"?n=t[a]:a=="ref"?i=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?Cn.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)c[a]===void 0&&(c[a]=e.defaultProps[a]);return Tn(e,c,n,i,null)}function Tn(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Xi,__i:-1,__u:0};return i==null&&Je.vnode!=null&&Je.vnode(a),a}function zt(e){return e.children}function Pn(e,t){this.props=e,this.context=t}function Ir(e,t){if(t==null)return e.__?Ir(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Ir(e):null}function ra(e){(!e.__d&&(e.__d=!0)&&_r.push(e)&&!On.__r++||Yi!==Je.debounceRendering)&&((Yi=Je.debounceRendering)||Zi)(On)}function On(){var e,t,r,n,i,a,c,p;for(_r.sort(ii);e=_r.shift();)e.__d&&(t=_r.length,n=void 0,a=(i=(r=e).__v).__e,c=[],p=[],r.__P&&((n=ur({},i)).__v=i.__v+1,Je.vnode&&Je.vnode(n),li(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[a]:null,c,a??Ir(i),!!(32&i.__u),p),n.__v=i.__v,n.__.__k[n.__i]=n,oa(c,n,p),n.__e!=a&&function b(P){var C,w;if((P=P.__)!=null&&P.__c!=null){for(P.__e=P.__c.base=null,C=0;C<P.__k.length;C++)if((w=P.__k[C])!=null&&w.__e!=null){P.__e=P.__c.base=w.__e;break}return b(P)}}(n)),_r.length>t&&_r.sort(ii));On.__r=0}function na(e,t,r,n,i,a,c,p,b,P,C){var w,L,$,V,Z,Q=n&&n.__k||Qi,he=t.length;for(r.__d=b,function(ie,z,_){var j,H,ae,te,be,se=z.length,le=_.length,xe=le,Ne=0;for(ie.__k=[],j=0;j<se;j++)(H=z[j])!=null&&typeof H!="boolean"&&typeof H!="function"?(te=j+Ne,(H=ie.__k[j]=typeof H=="string"||typeof H=="number"||typeof H=="bigint"||H.constructor==String?Tn(null,H,null,null,null):ci(H)?Tn(zt,{children:H},null,null,null):H.constructor===void 0&&H.__b>0?Tn(H.type,H.props,H.key,H.ref?H.ref:null,H.__v):H).__=ie,H.__b=ie.__b+1,ae=null,(be=H.__i=function(ue,re,Me,ht){var He=ue.key,ct=ue.type,Pe=Me-1,xt=Me+1,ft=re[Me];if(ft===null||ft&&He==ft.key&&ct===ft.type&&(131072&ft.__u)==0)return Me;if(ht>(ft!=null&&(131072&ft.__u)==0?1:0))for(;Pe>=0||xt<re.length;){if(Pe>=0){if((ft=re[Pe])&&(131072&ft.__u)==0&&He==ft.key&&ct===ft.type)return Pe;Pe--}if(xt<re.length){if((ft=re[xt])&&(131072&ft.__u)==0&&He==ft.key&&ct===ft.type)return xt;xt++}}return-1}(H,_,te,xe))!==-1&&(xe--,(ae=_[be])&&(ae.__u|=131072)),ae==null||ae.__v===null?(be==-1&&Ne--,typeof H.type!="function"&&(H.__u|=65536)):be!==te&&(be==te-1?Ne--:be==te+1?Ne++:(be>te?Ne--:Ne++,H.__u|=65536))):H=ie.__k[j]=null;if(xe)for(j=0;j<le;j++)(ae=_[j])!=null&&(131072&ae.__u)==0&&(ae.__e==ie.__d&&(ie.__d=Ir(ae)),function ue(re,Me,ht){var He,ct;if(Je.unmount&&Je.unmount(re),(He=re.ref)&&(He.current&&He.current!==re.__e||ui(He,null,Me)),(He=re.__c)!=null){if(He.componentWillUnmount)try{He.componentWillUnmount()}catch(Pe){Je.__e(Pe,Me)}He.base=He.__P=null}if(He=re.__k)for(ct=0;ct<He.length;ct++)He[ct]&&ue(He[ct],Me,ht||typeof re.type!="function");ht||ea(re.__e),re.__c=re.__=re.__e=re.__d=void 0}(ae,ae))}(r,t,Q),b=r.__d,w=0;w<he;w++)($=r.__k[w])!=null&&(L=$.__i===-1?Zr:Q[$.__i]||Zr,$.__i=w,li(e,$,L,i,a,c,p,b,P,C),V=$.__e,$.ref&&L.ref!=$.ref&&(L.ref&&ui(L.ref,null,$),C.push($.ref,$.__c||V,$)),Z==null&&V!=null&&(Z=V),65536&$.__u||L.__k===$.__k?b=function ie(z,_,j){var H,ae;if(typeof z.type=="function"){for(H=z.__k,ae=0;H&&ae<H.length;ae++)H[ae]&&(H[ae].__=z,_=ie(H[ae],_,j));return _}z.__e!=_&&(_&&z.type&&!j.contains(_)&&(_=Ir(z)),j.insertBefore(z.__e,_||null),_=z.__e);do _=_&&_.nextSibling;while(_!=null&&_.nodeType===8);return _}($,b,e):typeof $.type=="function"&&$.__d!==void 0?b=$.__d:V&&(b=V.nextSibling),$.__d=void 0,$.__u&=-196609);r.__d=b,r.__e=Z}function ia(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Yo.test(t)?r:r+"px"}function Rn(e,t,r,n,i){var a;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||ia(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||ia(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=ai,e.addEventListener(t,a?si:oi,a)):e.removeEventListener(t,a?si:oi,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function aa(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ai++;else if(t.t<r.u)return;return r(Je.event?Je.event(t):t)}}}function li(e,t,r,n,i,a,c,p,b,P){var C,w,L,$,V,Z,Q,he,ie,z,_,j,H,ae,te,be,se=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(b=!!(32&r.__u),a=[p=t.__e=r.__e]),(C=Je.__b)&&C(t);e:if(typeof se=="function")try{if(he=t.props,ie="prototype"in se&&se.prototype.render,z=(C=se.contextType)&&n[C.__c],_=C?z?z.props.value:C.__:n,r.__c?Q=(w=t.__c=r.__c).__=w.__E:(ie?t.__c=w=new se(he,_):(t.__c=w=new Pn(he,_),w.constructor=se,w.render=Zo),z&&z.sub(w),w.props=he,w.state||(w.state={}),w.context=_,w.__n=n,L=w.__d=!0,w.__h=[],w._sb=[]),ie&&w.__s==null&&(w.__s=w.state),ie&&se.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=ur({},w.__s)),ur(w.__s,se.getDerivedStateFromProps(he,w.__s))),$=w.props,V=w.state,w.__v=t,L)ie&&se.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),ie&&w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(ie&&se.getDerivedStateFromProps==null&&he!==$&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(he,_),!w.__e&&(w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(he,w.__s,_)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(w.props=he,w.state=w.__s,w.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(le){le&&(le.__=t)}),j=0;j<w._sb.length;j++)w.__h.push(w._sb[j]);w._sb=[],w.__h.length&&c.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(he,w.__s,_),ie&&w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate($,V,Z)})}if(w.context=_,w.props=he,w.__P=e,w.__e=!1,H=Je.__r,ae=0,ie){for(w.state=w.__s,w.__d=!1,H&&H(t),C=w.render(w.props,w.state,w.context),te=0;te<w._sb.length;te++)w.__h.push(w._sb[te]);w._sb=[]}else do w.__d=!1,H&&H(t),C=w.render(w.props,w.state,w.context),w.state=w.__s;while(w.__d&&++ae<25);w.state=w.__s,w.getChildContext!=null&&(n=ur(ur({},n),w.getChildContext())),ie&&!L&&w.getSnapshotBeforeUpdate!=null&&(Z=w.getSnapshotBeforeUpdate($,V)),na(e,ci(be=C!=null&&C.type===zt&&C.key==null?C.props.children:C)?be:[be],t,r,n,i,a,c,p,b,P),w.base=t.__e,t.__u&=-161,w.__h.length&&c.push(w),Q&&(w.__E=w.__=null)}catch(le){if(t.__v=null,b||a!=null){for(t.__u|=b?160:128;p&&p.nodeType===8&&p.nextSibling;)p=p.nextSibling;a[a.indexOf(p)]=null,t.__e=p}else t.__e=r.__e,t.__k=r.__k;Je.__e(le,t,r)}else a==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(le,xe,Ne,ue,re,Me,ht,He,ct){var Pe,xt,ft,Dr,yt,Yt,Lt,St=Ne.props,mt=xe.props,Ve=xe.type;if(Ve==="svg"?re="http://www.w3.org/2000/svg":Ve==="math"?re="http://www.w3.org/1998/Math/MathML":re||(re="http://www.w3.org/1999/xhtml"),Me!=null){for(Pe=0;Pe<Me.length;Pe++)if((yt=Me[Pe])&&"setAttribute"in yt==!!Ve&&(Ve?yt.localName===Ve:yt.nodeType===3)){le=yt,Me[Pe]=null;break}}if(le==null){if(Ve===null)return document.createTextNode(mt);le=document.createElementNS(re,Ve,mt.is&&mt),He&&(Je.__m&&Je.__m(xe,Me),He=!1),Me=null}if(Ve===null)St===mt||He&&le.data===mt||(le.data=mt);else{if(Me=Me&&Cn.call(le.childNodes),St=Ne.props||Zr,!He&&Me!=null)for(St={},Pe=0;Pe<le.attributes.length;Pe++)St[(yt=le.attributes[Pe]).name]=yt.value;for(Pe in St)if(yt=St[Pe],Pe!="children"){if(Pe=="dangerouslySetInnerHTML")ft=yt;else if(!(Pe in mt)){if(Pe=="value"&&"defaultValue"in mt||Pe=="checked"&&"defaultChecked"in mt)continue;Rn(le,Pe,null,yt,re)}}for(Pe in mt)yt=mt[Pe],Pe=="children"?Dr=yt:Pe=="dangerouslySetInnerHTML"?xt=yt:Pe=="value"?Yt=yt:Pe=="checked"?Lt=yt:He&&typeof yt!="function"||St[Pe]===yt||Rn(le,Pe,yt,St[Pe],re);if(xt)He||ft&&(xt.__html===ft.__html||xt.__html===le.innerHTML)||(le.innerHTML=xt.__html),xe.__k=[];else if(ft&&(le.innerHTML=""),na(le,ci(Dr)?Dr:[Dr],xe,Ne,ue,Ve==="foreignObject"?"http://www.w3.org/1999/xhtml":re,Me,ht,Me?Me[0]:Ne.__k&&Ir(Ne,0),He,ct),Me!=null)for(Pe=Me.length;Pe--;)ea(Me[Pe]);He||(Pe="value",Ve==="progress"&&Yt==null?le.removeAttribute("value"):Yt===void 0||Yt===le[Pe]&&(Ve!=="progress"||Yt)&&(Ve!=="option"||Yt===St[Pe])||Rn(le,Pe,Yt,St[Pe],re),Pe="checked",Lt!==void 0&&Lt!==le[Pe]&&Rn(le,Pe,Lt,St[Pe],re))}return le}(r.__e,t,r,n,i,a,c,b,P);(C=Je.diffed)&&C(t)}function oa(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)ui(r[n],r[++n],r[++n]);Je.__c&&Je.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){Je.__e(a,i.__v)}})}function ui(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){Je.__e(i,r)}}function Zo(e,t,r){return this.constructor(e,r)}function dr(e,t){var r,n,i,a,c;r=e,Je.__&&Je.__(r,t),i=(n=typeof dr=="function")?null:dr&&dr.__k||t.__k,a=[],c=[],li(t,r=(!n&&dr||t).__k=ta(zt,null,[r]),i||Zr,Zr,t.namespaceURI,!n&&dr?[dr]:i?null:t.firstChild?Cn.call(t.childNodes):null,a,!n&&dr?dr:i?i.__e:t.firstChild,n,c),oa(a,r,c)}Cn=Qi.slice,Je={__e:function(e,t,r,n){for(var i,a,c;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),c=i.__d),c)return i.__E=i}catch(p){e=p}throw e}},Xi=0,Pn.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ur({},this.state),typeof e=="function"&&(e=e(ur({},r),this.props)),e&&ur(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),ra(this))},Pn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ra(this))},Pn.prototype.render=zt,_r=[],Zi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ii=function(e,t){return e.__v.__b-t.__v.__b},On.__r=0,ai=0,oi=aa(!1),si=aa(!0);var sa=/[\s\n\\/='"\0<>]/,ca=/^(xlink|xmlns|xml)([A-Z])/,Qo=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,es=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,ts=new Set(["draggable","spellcheck"]),rs=/["&<]/;function In(e){if(e.length===0||rs.test(e)===!1)return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var la={},ns=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),is=/[A-Z]/g;function ua(){this.__d=!0}var di,Sr,Qr,en,pi={},da=[],tn=Array.isArray,hi=Object.assign;function pa(e,t){var r,n=e.type,i=!0;return e.__c?(i=!1,(r=e.__c).state=r.__s):r=new n(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,r.state==null&&(r.state=pi),r.__s==null&&(r.__s=r.state),n.getDerivedStateFromProps?r.state=hi({},r.state,n.getDerivedStateFromProps(r.props,r.state)):i&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!i&&r.componentWillUpdate&&r.componentWillUpdate(),Qr&&Qr(e),r.render(r.props,r.state,t)}var as=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),os=0;function de(e,t,r,n,i,a){t||(t={});var c,p,b=t;"ref"in t&&(c=t.ref,delete t.ref);var P={type:e,props:b,key:r,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--os,__i:-1,__u:0,__source:i,__self:a};if(typeof e=="function"&&(c=e.defaultProps))for(p in c)b[p]===void 0&&(b[p]=c[p]);return Je.vnode&&Je.vnode(P),P}async function ss(e,t){let r=window.SimpleWebAuthnBrowser;async function n(C){let w=new URL(`${e}/webauthn-options/${t}`);C&&w.searchParams.append("action",C),a().forEach($=>{w.searchParams.append($.name,$.value)});let L=await fetch(w);if(!L.ok){console.error("Failed to fetch options",L);return}return L.json()}function i(){let C=`#${t}-form`,w=document.querySelector(C);if(!w)throw Error(`Form '${C}' not found`);return w}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function c(C,w){let L=i();if(C){let $=document.createElement("input");$.type="hidden",$.name="action",$.value=C,L.appendChild($)}if(w){let $=document.createElement("input");$.type="hidden",$.name="data",$.value=JSON.stringify(w),L.appendChild($)}return L.submit()}async function p(C,w){let L=await r.startAuthentication(C,w);return await c("authenticate",L)}async function b(C){a().forEach(L=>{if(L.required&&!L.value)throw Error(`Missing required field: ${L.name}`)});let w=await r.startRegistration(C);return await c("register",w)}async function P(){if(!r.browserSupportsWebAuthnAutofill())return;let C=await n("authenticate");if(!C){console.error("Failed to fetch option for autofill authentication");return}try{await p(C.options,!0)}catch(w){console.error(w)}}(async function(){let C=i();if(!r.browserSupportsWebAuthn()){C.style.display="none";return}C&&C.addEventListener("submit",async w=>{w.preventDefault();let L=await n(void 0);if(!L){console.error("Failed to fetch options for form submission");return}if(L.action==="authenticate")try{await p(L.options,!1)}catch($){console.error($)}else if(L.action==="register")try{await b(L.options)}catch($){console.error($)}})})(),P()}let ha={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},cs=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function Un({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${cs}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${function(c,p,b){var P=Je.__s;Je.__s=!0,di=Je.__b,Sr=Je.diffed,Qr=Je.__r,en=Je.unmount;var C=ta(zt,null);C.__k=[c];try{var w=function L($,V,Z,Q,he,ie,z){if($==null||$===!0||$===!1||$==="")return"";var _=typeof $;if(_!="object")return _=="function"?"":_=="string"?In($):$+"";if(tn($)){var j,H="";he.__k=$;for(var ae=0;ae<$.length;ae++){var te=$[ae];if(te!=null&&typeof te!="boolean"){var be,se=L(te,V,Z,Q,he,ie,z);typeof se=="string"?H+=se:(j||(j=[]),H&&j.push(H),H="",tn(se)?(be=j).push.apply(be,se):j.push(se))}}return j?(H&&j.push(H),j):H}if($.constructor!==void 0)return"";$.__=he,di&&di($);var le=$.type,xe=$.props;if(typeof le=="function"){var Ne,ue,re,Me=V;if(le===zt){if("tpl"in xe){for(var ht="",He=0;He<xe.tpl.length;He++)if(ht+=xe.tpl[He],xe.exprs&&He<xe.exprs.length){var ct=xe.exprs[He];if(ct==null)continue;typeof ct=="object"&&(ct.constructor===void 0||tn(ct))?ht+=L(ct,V,Z,Q,$,ie,z):ht+=ct}return ht}if("UNSTABLE_comment"in xe)return"<!--"+In(xe.UNSTABLE_comment)+"-->";ue=xe.children}else{if((Ne=le.contextType)!=null){var Pe=V[Ne.__c];Me=Pe?Pe.props.value:Ne.__}var xt=le.prototype&&typeof le.prototype.render=="function";if(xt)ue=pa($,Me),re=$.__c;else{$.__c=re={__v:$,context:Me,props:$.props,setState:ua,forceUpdate:ua,__d:!0,__h:[]};for(var ft=0;re.__d&&ft++<25;)re.__d=!1,Qr&&Qr($),ue=le.call(re,xe,Me);re.__d=!0}if(re.getChildContext!=null&&(V=hi({},V,re.getChildContext())),xt&&Je.errorBoundaries&&(le.getDerivedStateFromError||re.componentDidCatch)){ue=ue!=null&&ue.type===zt&&ue.key==null&&ue.props.tpl==null?ue.props.children:ue;try{return L(ue,V,Z,Q,$,ie,z)}catch(Ht){return le.getDerivedStateFromError&&(re.__s=le.getDerivedStateFromError(Ht)),re.componentDidCatch&&re.componentDidCatch(Ht,pi),re.__d?(ue=pa($,V),(re=$.__c).getChildContext!=null&&(V=hi({},V,re.getChildContext())),L(ue=ue!=null&&ue.type===zt&&ue.key==null&&ue.props.tpl==null?ue.props.children:ue,V,Z,Q,$,ie,z)):""}finally{Sr&&Sr($),$.__=null,en&&en($)}}}ue=ue!=null&&ue.type===zt&&ue.key==null&&ue.props.tpl==null?ue.props.children:ue;try{var Dr=L(ue,V,Z,Q,$,ie,z);return Sr&&Sr($),$.__=null,Je.unmount&&Je.unmount($),Dr}catch(Ht){if(!ie&&z&&z.onError){var yt=z.onError(Ht,$,function(Er){return L(Er,V,Z,Q,$,ie,z)});if(yt!==void 0)return yt;var Yt=Je.__e;return Yt&&Yt(Ht,$),""}if(!ie||!Ht||typeof Ht.then!="function")throw Ht;return Ht.then(function Er(){try{return L(ue,V,Z,Q,$,ie,z)}catch(Jt){if(!Jt||typeof Jt.then!="function")throw Jt;return Jt.then(function(){return L(ue,V,Z,Q,$,ie,z)},Er)}})}}var Lt,St="<"+le,mt="";for(var Ve in xe){var kt=xe[Ve];if(typeof kt!="function"||Ve==="class"||Ve==="className"){switch(Ve){case"children":Lt=kt;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in xe)continue;Ve="for";break;case"className":if("class"in xe)continue;Ve="class";break;case"defaultChecked":Ve="checked";break;case"defaultSelected":Ve="selected";break;case"defaultValue":case"value":switch(Ve="value",le){case"textarea":Lt=kt;continue;case"select":Q=kt;continue;case"option":Q!=kt||"selected"in xe||(St+=" selected")}break;case"dangerouslySetInnerHTML":mt=kt&&kt.__html;continue;case"style":typeof kt=="object"&&(kt=function(Ht){var Er="";for(var Jt in Ht){var zn=Ht[Jt];if(zn!=null&&zn!==""){var $i=Jt[0]=="-"?Jt:la[Jt]||(la[Jt]=Jt.replace(is,"-$&").toLowerCase()),ro=";";typeof zn!="number"||$i.startsWith("--")||ns.has($i)||(ro="px;"),Er=Er+$i+":"+zn+ro}}return Er||void 0}(kt));break;case"acceptCharset":Ve="accept-charset";break;case"httpEquiv":Ve="http-equiv";break;default:if(ca.test(Ve))Ve=Ve.replace(ca,"$1:$2").toLowerCase();else{if(sa.test(Ve))continue;(Ve[4]==="-"||ts.has(Ve))&&kt!=null?kt+="":Z?es.test(Ve)&&(Ve=Ve==="panose1"?"panose-1":Ve.replace(/([A-Z])/g,"-$1").toLowerCase()):Qo.test(Ve)&&(Ve=Ve.toLowerCase())}}kt!=null&&kt!==!1&&(St=kt===!0||kt===""?St+" "+Ve:St+" "+Ve+'="'+(typeof kt=="string"?In(kt):kt+"")+'"')}}if(sa.test(le))throw Error(le+" is not a valid HTML tag name in "+St+">");if(mt||(typeof Lt=="string"?mt=In(Lt):Lt!=null&&Lt!==!1&&Lt!==!0&&(mt=L(Lt,V,le==="svg"||le!=="foreignObject"&&Z,Q,$,ie,z))),Sr&&Sr($),$.__=null,en&&en($),!mt&&as.has(le))return St+"/>";var Ii="</"+le+">",Ui=St+">";return tn(mt)?[Ui].concat(mt,[Ii]):typeof mt!="string"?[Ui,mt,Ii]:Ui+mt+Ii}(c,pi,!1,void 0,C,!1,void 0);return tn(w)?w.join(""):w}catch(L){throw L.then?Error('Use "renderToStringAsync" for suspenseful rendering.'):L}finally{Je.__c&&Je.__c(c,da),Je.__s=P,da.length=0}}(e)}</div></body></html>`}}function fa(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:c}=e;return{csrf:(p,b,P)=>p?(b.logger.warn("csrf-disabled"),P.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:P}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:b.csrfToken},cookies:P},providers:p=>({headers:{"Content-Type":"application/json"},body:p.reduce((b,{id:P,name:C,type:w,signinUrl:L,callbackUrl:$})=>(b[P]={id:P,name:C,type:w,signinUrl:L,callbackUrl:$},b),{})}),signin(p,b){if(p)throw new fe("Unsupported action");if(a?.signIn){let w=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return b&&(w=`${w}&${new URLSearchParams({error:b})}`),{redirect:w,cookies:i}}let P=c?.find(w=>w.type==="webauthn"&&w.enableConditionalUI&&!!w.simpleWebAuthnBrowserVersion),C="";if(P){let{simpleWebAuthnBrowserVersion:w}=P;C=`<script src="https://unpkg.com/@simplewebauthn/browser@${w}/dist/bundle/index.umd.min.js" crossorigin="anonymous"><\/script>`}return Un({cookies:i,theme:r,html:function(w){let{csrfToken:L,providers:$=[],callbackUrl:V,theme:Z,email:Q,error:he}=w;typeof document<"u"&&Z?.brandColor&&document.documentElement.style.setProperty("--brand-color",Z.brandColor),typeof document<"u"&&Z?.buttonText&&document.documentElement.style.setProperty("--button-text-color",Z.buttonText);let ie=he&&(ha[he]??ha.default),z=$.find(_=>_.type==="webauthn"&&_.enableConditionalUI)?.id;return de("div",{className:"signin",children:[Z?.brandColor&&de("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${Z.brandColor}}`}}),Z?.buttonText&&de("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${Z.buttonText}
        }
      `}}),de("div",{className:"card",children:[ie&&de("div",{className:"error",children:de("p",{children:ie})}),Z?.logo&&de("img",{src:Z.logo,alt:"Logo",className:"logo"}),$.map((_,j)=>{let H,ae,te;(_.type==="oauth"||_.type==="oidc")&&({bg:H="#fff",brandColor:ae,logo:te=`https://authjs.dev/img/providers/${_.id}.svg`}=_.style??{});let be=ae??H??"#fff";return de("div",{className:"provider",children:[_.type==="oauth"||_.type==="oidc"?de("form",{action:_.signinUrl,method:"POST",children:[de("input",{type:"hidden",name:"csrfToken",value:L}),V&&de("input",{type:"hidden",name:"callbackUrl",value:V}),de("button",{type:"submit",className:"button",style:{"--provider-brand-color":be},tabIndex:0,children:[de("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",_.name]}),te&&de("img",{loading:"lazy",height:24,src:te})]})]}):null,(_.type==="email"||_.type==="credentials"||_.type==="webauthn")&&j>0&&$[j-1].type!=="email"&&$[j-1].type!=="credentials"&&$[j-1].type!=="webauthn"&&de("hr",{}),_.type==="email"&&de("form",{action:_.signinUrl,method:"POST",children:[de("input",{type:"hidden",name:"csrfToken",value:L}),de("label",{className:"section-header",htmlFor:`input-email-for-${_.id}-provider`,children:"Email"}),de("input",{id:`input-email-for-${_.id}-provider`,autoFocus:!0,type:"email",name:"email",value:Q,placeholder:"email@example.com",required:!0}),de("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",_.name]})]}),_.type==="credentials"&&de("form",{action:_.callbackUrl,method:"POST",children:[de("input",{type:"hidden",name:"csrfToken",value:L}),Object.keys(_.credentials).map(se=>de("div",{children:[de("label",{className:"section-header",htmlFor:`input-${se}-for-${_.id}-provider`,children:_.credentials[se].label??se}),de("input",{name:se,id:`input-${se}-for-${_.id}-provider`,type:_.credentials[se].type??"text",placeholder:_.credentials[se].placeholder??"",..._.credentials[se]})]},`input-group-${_.id}`)),de("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",_.name]})]}),_.type==="webauthn"&&de("form",{action:_.callbackUrl,method:"POST",id:`${_.id}-form`,children:[de("input",{type:"hidden",name:"csrfToken",value:L}),Object.keys(_.formFields).map(se=>de("div",{children:[de("label",{className:"section-header",htmlFor:`input-${se}-for-${_.id}-provider`,children:_.formFields[se].label??se}),de("input",{name:se,"data-form-field":!0,id:`input-${se}-for-${_.id}-provider`,type:_.formFields[se].type??"text",placeholder:_.formFields[se].placeholder??"",..._.formFields[se]})]},`input-group-${_.id}`)),de("button",{id:`submitButton-${_.id}`,type:"submit",tabIndex:0,children:["Sign in with ",_.name]})]}),(_.type==="email"||_.type==="credentials"||_.type==="webauthn")&&j+1<$.length&&de("hr",{})]},_.id)})]}),z&&de(zt,{children:de("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${ss})(authURL, "${z}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(w=>["email","oauth","oidc"].includes(w.type)||w.type==="credentials"&&w.credentials||w.type==="webauthn"&&w.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:b,...n}),title:"Sign In",headTags:C})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:Un({cookies:i,theme:r,html:function(p){let{url:b,csrfToken:P,theme:C}=p;return de("div",{className:"signout",children:[C?.brandColor&&de("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${C.brandColor}
        }
      `}}),C?.buttonText&&de("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${C.buttonText}
        }
      `}}),de("div",{className:"card",children:[C?.logo&&de("img",{src:C.logo,alt:"Logo",className:"logo"}),de("h1",{children:"Signout"}),de("p",{children:"Are you sure you want to sign out?"}),de("form",{action:b?.toString(),method:"POST",children:[de("input",{type:"hidden",name:"csrfToken",value:P}),de("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:p=>a?.verifyRequest?{redirect:`${a.verifyRequest}${t?.search??""}`,cookies:i}:Un({cookies:i,theme:r,html:function(b){let{url:P,theme:C}=b;return de("div",{className:"verify-request",children:[C.brandColor&&de("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${C.brandColor}
        }
      `}}),de("div",{className:"card",children:[C.logo&&de("img",{src:C.logo,alt:"Logo",className:"logo"}),de("h1",{children:"Check your email"}),de("p",{children:"A sign in link has been sent to your email address."}),de("p",{children:de("a",{className:"site",href:P.origin,children:P.host})})]})]})}({url:t,theme:r,...p}),title:"Verify Request"}),error:p=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${p}`,cookies:i}:Un({cookies:i,theme:r,...function(b){let{url:P,error:C="default",theme:w}=b,L=`${P}/signin`,$={default:{status:200,heading:"Error",message:de("p",{children:de("a",{className:"site",href:P?.origin,children:P?.host})})},Configuration:{status:500,heading:"Server error",message:de("div",{children:[de("p",{children:"There is a problem with the server configuration."}),de("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:de("div",{children:[de("p",{children:"You do not have permission to sign in."}),de("p",{children:de("a",{className:"button",href:L,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:de("div",{children:[de("p",{children:"The sign in link is no longer valid."}),de("p",{children:"It may have been used already or it may have expired."})]}),signin:de("a",{className:"button",href:L,children:"Sign in"})}},{status:V,heading:Z,message:Q,signin:he}=$[C]??$.default;return{status:V,html:de("div",{className:"error",children:[w?.brandColor&&de("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${w?.brandColor}
        }
      `}}),de("div",{className:"card",children:[w?.logo&&de("img",{src:w?.logo,alt:"Logo",className:"logo"}),de("h1",{children:Z}),de("div",{className:"message",children:Q}),he]})]})}}({url:t,theme:r,error:p}),title:"Error"})}}function kr(e,t=Date.now()){return new Date(t+1e3*e)}async function fi(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:c,session:{strategy:p,generateSessionToken:b}}=n;if(!i)return{user:t,account:r};let P=r,{createUser:C,updateUser:w,getUser:L,getUserByAccount:$,getUserByEmail:V,linkAccount:Z,createSession:Q,getSessionAndUser:he,deleteSession:ie}=i,z=null,_=null,j=!1,H=p==="jwt";if(e)if(H)try{let te=n.cookies.sessionToken.name;(z=await a.decode({...a,token:e,salt:te}))&&"sub"in z&&z.sub&&(_=await L(z.sub))}catch{}else{let te=await he(e);te&&(z=te.session,_=te.user)}if(P.type==="email"){let te=await V(t.email);return te?(_?.id!==te.id&&!H&&e&&await ie(e),_=await w({id:te.id,emailVerified:new Date}),await c.updateUser?.({user:_})):(_=await C({...t,emailVerified:new Date}),await c.createUser?.({user:_}),j=!0),{session:z=H?{}:await Q({sessionToken:b(),userId:_.id,expires:kr(n.session.maxAge)}),user:_,isNewUser:j}}if(P.type==="webauthn"){let te=await $({providerAccountId:P.providerAccountId,provider:P.provider});if(te){if(_){if(te.id===_.id){let se={...P,userId:_.id};return{session:z,user:_,isNewUser:j,account:se}}throw new gt("The account is already associated with another user",{provider:P.provider})}z=H?{}:await Q({sessionToken:b(),userId:te.id,expires:kr(n.session.maxAge)});let be={...P,userId:te.id};return{session:z,user:te,isNewUser:j,account:be}}{if(_){await Z({...P,userId:_.id}),await c.linkAccount?.({user:_,account:P,profile:t});let se={...P,userId:_.id};return{session:z,user:_,isNewUser:j,account:se}}if(t.email&&await V(t.email))throw new gt("Another account already exists with the same e-mail address",{provider:P.provider});_=await C({...t}),await c.createUser?.({user:_}),await Z({...P,userId:_.id}),await c.linkAccount?.({user:_,account:P,profile:t}),z=H?{}:await Q({sessionToken:b(),userId:_.id,expires:kr(n.session.maxAge)});let be={...P,userId:_.id};return{session:z,user:_,isNewUser:!0,account:be}}}let ae=await $({providerAccountId:P.providerAccountId,provider:P.provider});if(ae){if(_){if(ae.id===_.id)return{session:z,user:_,isNewUser:j};throw new qe("The account is already associated with another user",{provider:P.provider})}return{session:z=H?{}:await Q({sessionToken:b(),userId:ae.id,expires:kr(n.session.maxAge)}),user:ae,isNewUser:j}}{let{provider:te}=n,{type:be,provider:se,providerAccountId:le,userId:xe,...Ne}=P;if(P=Object.assign(te.account(Ne)??{},{providerAccountId:le,provider:se,type:be,userId:xe}),_)return await Z({...P,userId:_.id}),await c.linkAccount?.({user:_,account:P,profile:t}),{session:z,user:_,isNewUser:j};let ue=t.email?await V(t.email):null;if(ue)if(n.provider?.allowDangerousEmailAccountLinking)_=ue,j=!1;else throw new qe("Another account already exists with the same e-mail address",{provider:P.provider});else _=await C({...t,emailVerified:null}),j=!0;return await c.createUser?.({user:_}),await Z({...P,userId:_.id}),await c.linkAccount?.({user:_,account:P,profile:t}),{session:z=H?{}:await Q({sessionToken:b(),userId:_.id,expires:kr(n.session.maxAge)}),user:_,isNewUser:j}}}function Ur(e,t){if(e==null)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}typeof navigator<"u"&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(ee="oauth4webapi/v3.8.3");let $t="ERR_INVALID_ARG_VALUE",Pt="ERR_INVALID_ARG_TYPE";function nt(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let Gt=Symbol(),ga=Symbol(),ls=Symbol(),Xt=Symbol(),ma=Symbol(),gi=Symbol(),xc=Symbol(),us=new TextEncoder,ds=new TextDecoder;function Kt(e){return typeof e=="string"?us.encode(e):ds.decode(e)}function Bt(e){return typeof e=="string"?E(e):N(e)}Uint8Array.prototype.toBase64?N=e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):N=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},Uint8Array.fromBase64?E=e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(t){throw nt("The input to be decoded is not correctly encoded.",$t,t)}}:E=e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}catch(t){throw nt("The input to be decoded is not correctly encoded.",$t,t)}};class Nt extends Error{code;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Ws,Error.captureStackTrace?.(this,this.constructor)}}class ps extends Error{code;constructor(t,r){super(t,r),this.name=this.constructor.name,r?.code&&(this.code=r?.code),Error.captureStackTrace?.(this,this.constructor)}}function Ce(e,t,r){return new ps(e,{code:t,cause:r})}function rn(e){return!(e===null||typeof e!="object"||Array.isArray(e))}function nn(e){Ur(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(ee&&!t.has("user-agent")&&t.set("user-agent",ee),t.has("authorization"))throw nt('"options.headers" must not include the "authorization" header name',$t);return t}function $n(e,t){if(t!==void 0){if(typeof t=="function"&&(t=t(e.href)),!(t instanceof AbortSignal))throw nt('"options.signal" must return or be an instance of AbortSignal',Pt);return t}}function ya(e){return e.includes("//")?e.replace("//","/"):e}async function hs(e,t,r,n){if(!(e instanceof URL))throw nt(`"${t}" must be an instance of URL`,Pt);bi(e,n?.[Gt]!==!0);let i=r(new URL(e.href)),a=nn(n?.headers);return a.set("accept","application/json"),(n?.[Xt]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:$n(i,n?.signal)})}async function mi(e,t){return hs(e,"issuerIdentifier",r=>{switch(t?.algorithm){case void 0:case"oidc":r.pathname=ya(`${r.pathname}/.well-known/openid-configuration`);break;case"oauth2":(function(n,i,a=!1){n.pathname==="/"?n.pathname=i:n.pathname=ya(`${i}/${a?n.pathname:n.pathname.replace(/(\/)$/,"")}`)})(r,".well-known/oauth-authorization-server");break;default:throw nt('"options.algorithm" must be "oidc" (default), or "oauth2"',$t)}return r},t)}function an(e,t,r,n,i){try{if(typeof e!="number"||!Number.isFinite(e))throw nt(`${r} must be a number`,Pt,i);if(e>0)return;if(t){if(e!==0)throw nt(`${r} must be a non-negative number`,$t,i);return}throw nt(`${r} must be a positive number`,$t,i)}catch(a){throw n?Ce(a.message,n,i):a}}function _t(e,t,r,n){try{if(typeof e!="string")throw nt(`${t} must be a string`,Pt,n);if(e.length===0)throw nt(`${t} must not be empty`,$t,n)}catch(i){throw r?Ce(i.message,r,n):i}}async function yi(e,t){if(!(e instanceof URL)&&e!==ja)throw nt('"expectedIssuerIdentifier" must be an instance of URL',Pt);if(!Ur(t,Response))throw nt('"response" must be an instance of Response',Pt);if(t.status!==200)throw Ce('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',Dn,t);cn(t);let r=await Hn(t);if(_t(r.issuer,'"response" body "issuer" property',Ze,{body:r}),e!==ja&&new URL(r.issuer).href!==e.href)throw Ce('"response" body "issuer" property does not match the expected value',Ra,{expected:e.href,body:r,attribute:"issuer"});return r}function ba(e){(function(t,r){if(vi(t)!==r)throw wa(t,r)})(e,"application/json")}function wa(e,...t){let r='"response" content-type must be ';if(t.length>2){let n=t.pop();r+=`${t.join(", ")}, or ${n}`}else t.length===2?r+=`${t[0]} or ${t[1]}`:r+=t[0];return Ce(r,Js,e)}function Nn(){return Bt(crypto.getRandomValues(new Uint8Array(32)))}async function fs(e){return _t(e,"codeVerifier"),Bt(await crypto.subtle.digest("SHA-256",Kt(e)))}function $r(e){let t=e?.[ga];return typeof t=="number"&&Number.isFinite(t)?t:0}function jn(e){let t=e?.[ls];return typeof t=="number"&&Number.isFinite(t)&&Math.sign(t)!==-1?t:30}function on(){return Math.floor(Date.now()/1e3)}function Nr(e){if(typeof e!="object"||e===null)throw nt('"as" must be an object',Pt);_t(e.issuer,'"as.issuer"')}function sn(e){if(typeof e!="object"||e===null)throw nt('"client" must be an object',Pt);_t(e.client_id,'"client.client_id"')}function va(e,t){let r=on()+$r(t);return{jti:Nn(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function gs(e,t,r){if(!r.usages.includes("sign"))throw nt('CryptoKey instances used for signing assertions must include "sign" in their "usages"',$t);let n=`${Bt(Kt(JSON.stringify(e)))}.${Bt(Kt(JSON.stringify(t)))}`,i=Bt(await crypto.subtle.sign(Gs(r),r,Kt(n)));return`${n}.${i}`}async function Ec(e,t){let{kty:r,e:n,n:i,x:a,y:c,crv:p,pub:b}=await crypto.subtle.exportKey("jwk",e),P={kty:r,e:n,n:i,x:a,y:c,crv:p,pub:b};return r==="AKP"&&(P.alg=t),O.set(e,P),P}let ms=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function bi(e,t){if(t&&e.protocol!=="https:")throw Ce("only requests to HTTPS are allowed",Vs,e);if(e.protocol!=="https:"&&e.protocol!=="http:")throw Ce("only HTTP and HTTPS requests are allowed",qs,e)}function _a(e,t,r,n){let i;if(typeof e!="string"||!(i=ms(e)))throw Ce(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,e===void 0?Fs:zs,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return bi(i,n),i}function wi(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?_a(e.mtls_endpoint_aliases[t],t,r,n):_a(e[t],t,r,n)}class ys extends Error{cause;code;error;status;error_description;response;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Hs,this.cause=r.cause,this.error=r.cause.error,this.status=r.response.status,this.error_description=r.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:r.response}),Error.captureStackTrace?.(this,this.constructor)}}class Sa extends Error{cause;code;error;error_description;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Ks,this.cause=r.cause,this.error=r.cause.get("error"),this.error_description=r.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class bs extends Error{cause;code;response;status;constructor(t,r){super(t,r),this.name=this.constructor.name,this.code=Ms,this.cause=r.cause,this.status=r.response.status,this.response=r.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let Ln="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",ws=RegExp("^[,\\s]*("+Ln+")"),vs=RegExp("^[,\\s]*("+Ln+')\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),_s=RegExp("^[,\\s]*("+Ln+")\\s*=\\s*("+Ln+")[,\\s]*(.*)"),Ss=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");async function ks(e){if(e.status>399&&e.status<500){cn(e),ba(e);try{let t=await e.clone().json();if(rn(t)&&typeof t.error=="string"&&t.error.length)return t}catch{}}}async function xs(e,t,r){if(e.status!==t){let n;throw Ta(e),(n=await ks(e))?(await e.body?.cancel(),new ys("server responded with an error in the response body",{cause:n,response:e})):Ce(`"response" is not a conform ${r} response (unexpected HTTP status code)`,Dn,e)}}function ka(e){if(!Si.has(e))throw nt('"options.DPoP" is not a valid DPoPHandle',$t)}async function Es(e,t,r,n,i,a){if(_t(e,'"accessToken"'),!(r instanceof URL))throw nt('"url" must be an instance of URL',Pt);bi(r,a?.[Gt]!==!0),n=nn(n),a?.DPoP&&(ka(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let c=await(a?.[Xt]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:$n(r,a?.signal)});return a?.DPoP?.cacheNonce(c,r),c}async function xa(e,t,r,n){Nr(e),sn(t);let i=wi(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[Gt]!==!0),a=nn(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),Es(r,"GET",i,a,null,{...n,[ga]:$r(t)})}function Ac(e,t,r,n){(o||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return on()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function Cc(e,t){o?.delete(e),delete t?.jwks,delete t?.uat}let As=Symbol();function vi(e){return e.headers.get("content-type")?.split(";")[0]}async function Cs(e,t,r,n,i){let a;if(Nr(e),sn(t),!Ur(n,Response))throw nt('"response" must be an instance of Response',Pt);if(Ta(n),n.status!==200)throw Ce('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',Dn,n);if(cn(n),vi(n)==="application/jwt"){let{claims:c,jwt:p}=await Ua(await n.text(),$a.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),$r(t),jn(t),i?.[gi]).then(Os.bind(void 0,t.client_id)).then(Rs.bind(void 0,e));Aa.set(n,p),a=c}else{if(t.userinfo_signed_response_alg)throw Ce("JWT UserInfo Response expected",Bs,n);a=await Hn(n)}if(_t(a.sub,'"response" body "sub" property',Ze,{body:a}),r!==As){if(_t(r,'"expectedSubject"'),a.sub!==r)throw Ce('unexpected "response" body "sub" property value',Ra,{expected:r,body:a,attribute:"sub"})}return a}async function Ts(e,t,r,n,i,a,c){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(c?.[Xt]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:$n(n,c?.signal)})}async function Ps(e,t,r,n,i,a){let c=wi(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[Gt]!==!0);i.set("grant_type",n);let p=nn(a?.headers);p.set("accept","application/json"),a?.DPoP!==void 0&&(ka(a.DPoP),await a.DPoP.addProof(c,p,"POST"));let b=await Ts(e,t,r,c,i,p,a);return a?.DPoP?.cacheNonce(b,c),b}let Ea=new WeakMap,Aa=new WeakMap;function _i(e){if(!e.id_token)return;let t=Ea.get(e);if(!t)throw nt('"ref" was already garbage collected or did not resolve from the proper sources',$t);return t}async function Ca(e,t,r,n,i,a){if(Nr(e),sn(t),!Ur(r,Response))throw nt('"response" must be an instance of Response',Pt);await xs(r,200,"Token Endpoint"),cn(r);let c=await Hn(r);if(_t(c.access_token,'"response" body "access_token" property',Ze,{body:c}),_t(c.token_type,'"response" body "token_type" property',Ze,{body:c}),c.token_type=c.token_type.toLowerCase(),c.expires_in!==void 0){let p=typeof c.expires_in!="number"?parseFloat(c.expires_in):c.expires_in;an(p,!0,'"response" body "expires_in" property',Ze,{body:c}),c.expires_in=p}if(c.refresh_token!==void 0&&_t(c.refresh_token,'"response" body "refresh_token" property',Ze,{body:c}),c.scope!==void 0&&typeof c.scope!="string")throw Ce('"response" body "scope" property must be a string',Ze,{body:c});if(c.id_token!==void 0){_t(c.id_token,'"response" body "id_token" property',Ze,{body:c});let p=["aud","exp","iat","iss","sub"];t.require_auth_time===!0&&p.push("auth_time"),t.default_max_age!==void 0&&(an(t.default_max_age,!0,'"client.default_max_age"'),p.push("auth_time")),n?.length&&p.push(...n);let{claims:b,jwt:P}=await Ua(c.id_token,$a.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),$r(t),jn(t),i).then(Ns.bind(void 0,p)).then(Oa.bind(void 0,e)).then(Pa.bind(void 0,t.client_id));if(Array.isArray(b.aud)&&b.aud.length!==1){if(b.azp===void 0)throw Ce('ID Token "aud" (audience) claim includes additional untrusted audiences',pr,{claims:b,claim:"aud"});if(b.azp!==t.client_id)throw Ce('unexpected ID Token "azp" (authorized party) claim value',pr,{expected:t.client_id,claims:b,claim:"azp"})}b.auth_time!==void 0&&an(b.auth_time,!0,'ID Token "auth_time" (authentication time)',Ze,{claims:b}),Aa.set(r,P),Ea.set(c,b)}if(a?.[c.token_type]!==void 0)a[c.token_type](r,c);else if(c.token_type!=="dpop"&&c.token_type!=="bearer")throw new Nt("unsupported `token_type` value",{cause:{body:c}});return c}function Ta(e){let t;if(t=function(r){if(!Ur(r,Response))throw nt('"response" must be an instance of Response',Pt);let n=r.headers.get("www-authenticate");if(n===null)return;let i=[],a=n;for(;a;){let c,p=a.match(ws),b=p?.[1].toLowerCase();if(!b)return;let P=a.substring(p[0].length);if(P&&!P.match(/^[\s,]/))return;let C=P.match(/^\s+(.*)$/),w=!!C;a=C?C[1]:void 0;let L={};if(w)for(;a;){let V,Z;if(p=a.match(vs)){if([,V,Z,a]=p,Z.includes("\\"))try{Z=JSON.parse(`"${Z}"`)}catch{}L[V.toLowerCase()]=Z;continue}if(p=a.match(_s)){[,V,Z,a]=p,L[V.toLowerCase()]=Z;continue}if(p=a.match(Ss)){if(Object.keys(L).length)break;[,c,a]=p;break}return}else a=P||void 0;let $={scheme:b,parameters:L};c&&($.token68=c),i.push($)}if(i.length)return i}(e))throw new bs("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function Os(e,t){return t.claims.aud!==void 0?Pa(e,t):t}function Pa(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw Ce('unexpected JWT "aud" (audience) claim value',pr,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw Ce('unexpected JWT "aud" (audience) claim value',pr,{expected:e,claims:t.claims,claim:"aud"});return t}function Rs(e,t){return t.claims.iss!==void 0?Oa(e,t):t}function Oa(e,t){let r=e[Ys]?.(t)??e.issuer;if(t.claims.iss!==r)throw Ce('unexpected JWT "iss" (issuer) claim value',pr,{expected:r,claims:t.claims,claim:"iss"});return t}let Si=new WeakSet,Is=Symbol();async function Us(e,t,r,n,i,a,c){if(Nr(e),sn(t),!Si.has(n))throw nt('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',$t);_t(i,'"redirectUri"');let p=xr(n,"code");if(!p)throw Ce('no authorization code in "callbackParameters"',Ze);let b=new URLSearchParams(c?.additionalParameters);return b.set("redirect_uri",i),b.set("code",p),a!==Is&&(_t(a,'"codeVerifier"'),b.set("code_verifier",a)),Ps(e,t,r,"authorization_code",b,c)}let $s={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function Ns(e,t){for(let r of e)if(t.claims[r]===void 0)throw Ce(`JWT "${r}" (${$s[r]}) claim missing`,Ze,{claims:t.claims});return t}let ki=Symbol(),xi=Symbol();async function js(e,t,r,n){return typeof n?.expectedNonce=="string"||typeof n?.maxAge=="number"||n?.requireIdToken?Ls(e,t,r,n.expectedNonce,n.maxAge,n[gi],n.recognizedTokenTypes):Ds(e,t,r,n?.[gi],n?.recognizedTokenTypes)}async function Ls(e,t,r,n,i,a,c){let p=[];switch(n){case void 0:n=ki;break;case ki:break;default:_t(n,'"expectedNonce" argument'),p.push("nonce")}switch(i??=t.default_max_age){case void 0:i=xi;break;case xi:break;default:an(i,!0,'"maxAge" argument'),p.push("auth_time")}let b=await Ca(e,t,r,p,a,c);_t(b.id_token,'"response" body "id_token" property',Ze,{body:b});let P=_i(b);if(i!==xi){let C=on()+$r(t),w=jn(t);if(P.auth_time+i<C-w)throw Ce("too much time has elapsed since the last End-User authentication",Mn,{claims:P,now:C,tolerance:w,claim:"auth_time"})}if(n===ki){if(P.nonce!==void 0)throw Ce('unexpected ID Token "nonce" claim value',pr,{expected:void 0,claims:P,claim:"nonce"})}else if(P.nonce!==n)throw Ce('unexpected ID Token "nonce" claim value',pr,{expected:n,claims:P,claim:"nonce"});return b}async function Ds(e,t,r,n,i){let a=await Ca(e,t,r,void 0,n,i),c=_i(a);if(c){if(t.default_max_age!==void 0){an(t.default_max_age,!0,'"client.default_max_age"');let p=on()+$r(t),b=jn(t);if(c.auth_time+t.default_max_age<p-b)throw Ce("too much time has elapsed since the last End-User authentication",Mn,{claims:c,now:p,tolerance:b,claim:"auth_time"})}if(c.nonce!==void 0)throw Ce('unexpected ID Token "nonce" claim value',pr,{expected:void 0,claims:c,claim:"nonce"})}return a}let Ms="OAUTH_WWW_AUTHENTICATE_CHALLENGE",Hs="OAUTH_RESPONSE_BODY_ERROR",Ws="OAUTH_UNSUPPORTED_OPERATION",Ks="OAUTH_AUTHORIZATION_RESPONSE_ERROR",Bs="OAUTH_JWT_USERINFO_EXPECTED",Ei="OAUTH_PARSE_ERROR",Ze="OAUTH_INVALID_RESPONSE",Js="OAUTH_RESPONSE_IS_NOT_JSON",Dn="OAUTH_RESPONSE_IS_NOT_CONFORM",Vs="OAUTH_HTTP_REQUEST_FORBIDDEN",qs="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",Mn="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",pr="OAUTH_JWT_CLAIM_COMPARISON_FAILED",Ra="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",Tc="OAUTH_KEY_SELECTION_FAILED",Fs="OAUTH_MISSING_SERVER_METADATA",zs="OAUTH_INVALID_SERVER_METADATA";function cn(e){if(e.bodyUsed)throw nt('"response" body has been used already',$t)}async function Pc(e,t){Nr(e);let r=wi(e,"jwks_uri",!1,t?.[Gt]!==!0),n=nn(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[Xt]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:$n(r,t?.signal)})}async function Oc(e){if(!Ur(e,Response))throw nt('"response" must be an instance of Response',Pt);if(e.status!==200)throw Ce('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',Dn,e);cn(e);let t=await Hn(e,r=>function(n,...i){if(!i.includes(vi(n)))throw wa(n,...i)}(r,"application/json","application/jwk-set+json"));if(!Array.isArray(t.keys))throw Ce('"response" body "keys" property must be an array',Ze,{body:t});if(!Array.prototype.every.call(t.keys,rn))throw Ce('"response" body "keys" property members must be JWK formatted objects',Ze,{body:t});return t}function Ia(e){let{algorithm:t}=e;if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new Nt(`unsupported ${t.name} modulusLength`,{cause:e})}function Gs(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(t){let{algorithm:r}=t;switch(r.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Nt("unsupported ECDSA namedCurve",{cause:t})}}(e)};case"RSA-PSS":switch(Ia(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new Nt("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return Ia(e),e.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return e.algorithm.name}throw new Nt("unsupported CryptoKey algorithm name",{cause:e})}async function Ua(e,t,r,n,i){let a,c,{0:p,1:b,length:P}=e.split(".");if(P===5)if(i!==void 0)e=await i(e),{0:p,1:b,length:P}=e.split(".");else throw new Nt("JWE decryption is not configured",{cause:e});if(P!==3)throw Ce("Invalid JWT",Ze,e);try{a=JSON.parse(Kt(Bt(p)))}catch(w){throw Ce("failed to parse JWT Header body as base64url encoded JSON",Ei,w)}if(!rn(a))throw Ce("JWT Header must be a top level object",Ze,e);if(t(a),a.crit!==void 0)throw new Nt('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{c=JSON.parse(Kt(Bt(b)))}catch(w){throw Ce("failed to parse JWT Payload body as base64url encoded JSON",Ei,w)}if(!rn(c))throw Ce("JWT Payload must be a top level object",Ze,e);let C=on()+r;if(c.exp!==void 0){if(typeof c.exp!="number")throw Ce('unexpected JWT "exp" (expiration time) claim type',Ze,{claims:c});if(c.exp<=C-n)throw Ce('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',Mn,{claims:c,now:C,tolerance:n,claim:"exp"})}if(c.iat!==void 0&&typeof c.iat!="number")throw Ce('unexpected JWT "iat" (issued at) claim type',Ze,{claims:c});if(c.iss!==void 0&&typeof c.iss!="string")throw Ce('unexpected JWT "iss" (issuer) claim type',Ze,{claims:c});if(c.nbf!==void 0){if(typeof c.nbf!="number")throw Ce('unexpected JWT "nbf" (not before) claim type',Ze,{claims:c});if(c.nbf>C+n)throw Ce('unexpected JWT "nbf" (not before) claim value',Mn,{claims:c,now:C,tolerance:n,claim:"nbf"})}if(c.aud!==void 0&&typeof c.aud!="string"&&!Array.isArray(c.aud))throw Ce('unexpected JWT "aud" (audience) claim type',Ze,{claims:c});return{header:a,claims:c,jwt:e}}async function Rc(e,t,r){let n;switch(t.alg){case"RS256":case"PS256":case"ES256":n="SHA-256";break;case"RS384":case"PS384":case"ES384":n="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":n="SHA-512";break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":n={name:"cSHAKE256",length:512};break;default:throw new Nt(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let i=await crypto.subtle.digest(n,Kt(e));return Bt(i.slice(0,i.byteLength/2))}async function Ic(e){if(e.bodyUsed)throw nt("form_post Request instances must contain a readable body",$t,{cause:e});return e.text()}function $a(e,t,r,n){if(e!==void 0){if(typeof e=="string"?n.alg!==e:!e.includes(n.alg))throw Ce('unexpected JWT "alg" header parameter',Ze,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw Ce('unexpected JWT "alg" header parameter',Ze,{header:n,expected:t,reason:"authorization server metadata"});return}if(r!==void 0){if(typeof r=="string"?n.alg!==r:typeof r=="function"?!r(n.alg):!r.includes(n.alg))throw Ce('unexpected JWT "alg" header parameter',Ze,{header:n,expected:r,reason:"default value"});return}throw Ce('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function xr(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw Ce(`"${t}" parameter must be provided only once`,Ze);return r}let Na=Symbol(),Xs=Symbol();async function Uc(e,t){let{ext:r,key_ops:n,use:i,...a}=t;return crypto.subtle.importKey("jwk",a,function(c){switch(c){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${c.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${c.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${c.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"EdDSA":return"Ed25519";case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return c;default:throw new Nt("unsupported JWS algorithm",{cause:{alg:c}})}}(e),!0,["verify"])}async function Hn(e,t=ba){let r;try{r=await e.json()}catch(n){throw t(e),Ce('failed to parse "response" body as JSON',Ei,n)}if(!rn(r))throw Ce('"response" body must be a top level object',Ze,{body:r});return r}let ja=Symbol(),Ys=Symbol();async function Wn(e,t,r){let{cookies:n,logger:i}=r,a=n[e],c=new Date;c.setTime(c.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:c});let p=await bn({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),b={...a.options,expires:c};return{name:a.name,value:p,options:b}}async function La(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new X(`${e} cookie was missing`);let c=await wn({...a,token:t,salt:i[e].name});if(c?.value)return c.value;throw Error("Invalid cookie")}catch(n){throw new X(`${e} value could not be parsed`,{cause:n})}}function Da(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function Ai(e,t){return async function(r,n,i){let{provider:a,logger:c}=i;if(!a?.checks?.includes(e))return;let p=r?.[i.cookies[t].name];c.debug(`USE_${t.toUpperCase()}`,{value:p});let b=await La(t,p,i);return Da(t,i,n),b}}let Ma={async create(e){let t=Nn(),r=await fs(t);return{cookie:await Wn("pkceCodeVerifier",t,e),value:r}},use:Ai("pkce","pkceCodeVerifier")},Ha="encodedState",Ci={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new X("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:Nn()},i=await bn({secret:e.jwt.secret,token:n,salt:Ha,maxAge:900});return{cookie:await Wn("state",i,e),value:i}},use:Ai("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await wn({secret:t.jwt.secret,token:e,salt:Ha});if(r)return r;throw Error("Invalid state")}catch(r){throw new X("State could not be decoded",{cause:r})}}},Wa={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=Nn();return{cookie:await Wn("nonce",t,e),value:t}},use:Ai("nonce","nonce")},Ka="encodedWebauthnChallenge",Kn={create:async(e,t,r)=>({cookie:await Wn("webauthnChallenge",await bn({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:Ka,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await La("webauthnChallenge",n,e),a=await wn({secret:e.jwt.secret,token:i,salt:Ka});if(Da("webauthnChallenge",e,r),!a)throw new X("WebAuthn challenge was missing");return a}};function Ba(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function Zs(e,t,r){let n,i,a,{logger:c,provider:p}=r,{token:b,userinfo:P}=p;if(b?.url&&b.url.host!=="authjs.dev"||P?.url&&P.url.host!=="authjs.dev")n={issuer:p.issuer??"https://authjs.dev",token_endpoint:b?.url.toString(),userinfo_endpoint:P?.url.toString()};else{let _=new URL(p.issuer),j=await mi(_,{[Gt]:!0,[Xt]:p[rr]});if(!(n=await yi(_,j)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let C={client_id:p.clientId,...p.client};switch(C.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(_,j,H,ae)=>{ae.set("authorization",function(te,be){let se=Ba(te),le=Ba(be);return`Basic ${btoa(`${se}:${le}`)}`}(p.clientId,p.clientSecret))};break;case"client_secret_post":var w;_t(w=p.clientSecret,'"clientSecret"'),i=(_,j,H,ae)=>{H.set("client_id",j.client_id),H.set("client_secret",w)};break;case"client_secret_jwt":i=function(_,j){let H;_t(_,'"clientSecret"');let ae;return async(te,be,se,le)=>{H||=await crypto.subtle.importKey("raw",Kt(_),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let xe={alg:"HS256"},Ne=va(te,be);ae?.(xe,Ne);let ue=`${Bt(Kt(JSON.stringify(xe)))}.${Bt(Kt(JSON.stringify(Ne)))}`,re=await crypto.subtle.sign(H.algorithm,H,Kt(ue));se.set("client_id",be.client_id),se.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),se.set("client_assertion",`${ue}.${Bt(new Uint8Array(re))}`)}}(p.clientSecret);break;case"private_key_jwt":i=function(_,j){let{key:H,kid:ae}=_ instanceof CryptoKey?{key:_}:_?.key instanceof CryptoKey?(_.kid!==void 0&&_t(_.kid,'"kid"'),{key:_.key,kid:_.kid}):{};return function(te,be){if(function(se,le){if(!(se instanceof CryptoKey))throw nt(`${le} must be a CryptoKey`,Pt)}(te,be),te.type!=="private")throw nt(`${be} must be a private CryptoKey`,$t)}(H,'"clientPrivateKey.key"'),async(te,be,se,le)=>{let xe={alg:function(ue){switch(ue.algorithm.name){case"RSA-PSS":return function(re){switch(re.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new Nt("unsupported RsaHashedKeyAlgorithm hash name",{cause:re})}}(ue);case"RSASSA-PKCS1-v1_5":return function(re){switch(re.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new Nt("unsupported RsaHashedKeyAlgorithm hash name",{cause:re})}}(ue);case"ECDSA":return function(re){switch(re.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new Nt("unsupported EcKeyAlgorithm namedCurve",{cause:re})}}(ue);case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return ue.algorithm.name;case"EdDSA":return"Ed25519";default:throw new Nt("unsupported CryptoKey algorithm name",{cause:ue})}}(H),kid:ae},Ne=va(te,be);j?.[ma]?.(xe,Ne),se.set("client_id",be.client_id),se.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),se.set("client_assertion",await gs(xe,Ne,H))}}(p.token.clientPrivateKey,{[ma](_,j){j.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=(_,j,H,ae)=>{H.set("client_id",j.client_id)};break;default:throw Error("unsupported client authentication method")}let L=[],$=await Ci.use(t,L,r);try{a=function(_,j,H,ae){var te;if(Nr(_),sn(j),H instanceof URL&&(H=H.searchParams),!(H instanceof URLSearchParams))throw nt('"parameters" must be an instance of URLSearchParams, or URL',Pt);if(xr(H,"response"))throw Ce('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',Ze,{parameters:H});let be=xr(H,"iss"),se=xr(H,"state");if(!be&&_.authorization_response_iss_parameter_supported)throw Ce('response parameter "iss" (issuer) missing',Ze,{parameters:H});if(be&&be!==_.issuer)throw Ce('unexpected "iss" (issuer) response parameter value',Ze,{expected:_.issuer,parameters:H});switch(ae){case void 0:case Xs:if(se!==void 0)throw Ce('unexpected "state" response parameter encountered',Ze,{expected:void 0,parameters:H});break;case Na:break;default:if(_t(ae,'"expectedState" argument'),se!==ae)throw Ce(se===void 0?'response parameter "state" missing':'unexpected "state" response parameter value',Ze,{expected:ae,parameters:H})}if(xr(H,"error"))throw new Sa("authorization response from the server is an error",{cause:H});let le=xr(H,"id_token"),xe=xr(H,"token");if(le!==void 0||xe!==void 0)throw new Nt("implicit and hybrid flows are not supported");return te=new URLSearchParams(H),Si.add(te),te}(n,C,new URLSearchParams(e),p.checks.includes("state")?$:Na)}catch(_){if(_ instanceof Sa){let j={providerId:p.id,...Object.fromEntries(_.cause.entries())};throw c.debug("OAuthCallbackError",j),new We("OAuth Provider returned an error",j)}throw _}let V=await Ma.use(t,L,r),Z=p.callbackUrl;!r.isOnRedirectProxy&&p.redirectProxyUrl&&(Z=p.redirectProxyUrl);let Q=await Us(n,C,i,a,Z,V??"decoy",{[Gt]:!0,[Xt]:(..._)=>(p.checks.includes("pkce")||_[1].body.delete("code_verifier"),(p[rr]??fetch)(..._))});p.token?.conform&&(Q=await p.token.conform(Q.clone())??Q);let he={},ie=p.type==="oidc";if(p[Fi])switch(p.id){case"microsoft-entra-id":case"azure-ad":{let _=await Q.clone().json();if(_.error){let H={providerId:p.id,..._};throw new We(`OAuth Provider returned an error: ${_.error}`,H)}let{tid:j}=function(H){let ae,te;if(typeof H!="string")throw new Dt("JWTs must use Compact JWS serialization, JWT must be a string");let{1:be,length:se}=H.split(".");if(se===5)throw new Dt("Only JWTs using Compact JWS serialization can be decoded");if(se!==3)throw new Dt("Invalid JWT");if(!be)throw new Dt("JWTs must contain a payload");try{ae=Qe(be)}catch{throw new Dt("Failed to base64url decode the payload")}try{te=JSON.parse(me.decode(ae))}catch{throw new Dt("Failed to parse the decoded payload as JSON")}if(!Rt(te))throw new Dt("Invalid JWT Claims Set");return te}(_.id_token);if(typeof j=="string"){let H=n.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",ae=new URL(n.issuer.replace(H,j)),te=await mi(ae,{[Xt]:p[rr]});n=await yi(ae,te)}}}let z=await js(n,C,Q,{expectedNonce:await Wa.use(t,L,r),requireIdToken:ie});if(ie){let _=_i(z);if(he=_,p[Fi]&&p.id==="apple")try{he.user=JSON.parse(e?.user)}catch{}if(p.idToken===!1){let j=await xa(n,C,z.access_token,{[Xt]:p[rr],[Gt]:!0});he=await Cs(n,C,_.sub,j)}}else if(P?.request){let _=await P.request({tokens:z,provider:p});_ instanceof Object&&(he=_)}else if(P?.url)he=await(await xa(n,C,z.access_token,{[Xt]:p[rr],[Gt]:!0})).json();else throw TypeError("No userinfo endpoint configured");return z.expires_in&&(z.expires_at=Math.floor(Date.now()/1e3)+Number(z.expires_in)),{...await Qs(he,p,z,c),profile:he,cookies:L}}async function Qs(e,t,r,n){try{let i=await t.profile(e,r);return{user:{...i,id:crypto.randomUUID(),email:i.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:i.id??crypto.randomUUID()}}}catch(i){n.debug("getProfile error details",e),n.error(new at(i,{provider:t.id}))}}var Ja=M(6195).Buffer;async function ec(e,t,r,n){let i=await ac(e,t,r),{cookie:a}=await Kn.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function tc(e,t,r,n){let i=await ic(e,t,r),{cookie:a}=await Kn.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function rc(e,t,r){let n,{adapter:i,provider:a}=e,c=t.body&&typeof t.body.data=="string"?JSON.parse(t.body.data):void 0;if(!c||typeof c!="object"||!("id"in c)||typeof c.id!="string")throw new l("Invalid WebAuthn Authentication response");let p=Bn(ln(c.id)),b=await i.getAuthenticator(p);if(!b)throw new l(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:p})}`);let{challenge:P}=await Kn.use(e,t.cookies,r);try{let V=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:P,response:c,authenticator:{...b,credentialDeviceType:b.credentialDeviceType,transports:Ti(b.transports),credentialID:ln(b.credentialID),credentialPublicKey:ln(b.credentialPublicKey)},expectedOrigin:V.origin,expectedRPID:V.id})}catch(V){throw new rt(V)}let{verified:C,authenticationInfo:w}=n;if(!C)throw new rt("WebAuthn authentication response could not be verified");try{let{newCounter:V}=w;await i.updateAuthenticatorCounter(b.credentialID,V)}catch(V){throw new I(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:p,oldCounter:b.counter,newCounter:w.newCounter})}`,V)}let L=await i.getAccount(b.providerAccountId,a.id);if(!L)throw new l(`WebAuthn account not found in database: ${JSON.stringify({credentialID:p,providerAccountId:b.providerAccountId})}`);let $=await i.getUser(L.userId);if(!$)throw new l(`WebAuthn user not found in database: ${JSON.stringify({credentialID:p,providerAccountId:b.providerAccountId,userID:L.userId})}`);return{account:L,user:$}}async function nc(e,t,r){var n;let i,{provider:a}=e,c=t.body&&typeof t.body.data=="string"?JSON.parse(t.body.data):void 0;if(!c||typeof c!="object"||!("id"in c)||typeof c.id!="string")throw new l("Invalid WebAuthn Registration response");let{challenge:p,registerData:b}=await Kn.use(e,t.cookies,r);if(!b)throw new l("Missing user registration data in WebAuthn challenge cookie");try{let w=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:p,response:c,expectedOrigin:w.origin,expectedRPID:w.id})}catch(w){throw new rt(w)}if(!i.verified||!i.registrationInfo)throw new rt("WebAuthn registration response could not be verified");let P={providerAccountId:Bn(i.registrationInfo.credentialID),provider:e.provider.id,type:a.type},C={providerAccountId:P.providerAccountId,counter:i.registrationInfo.counter,credentialID:Bn(i.registrationInfo.credentialID),credentialPublicKey:Bn(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=c.response.transports,n?.join(","))};return{user:b,account:P,authenticator:C}}async function ic(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,c=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:c.id,allowCredentials:a?.map(p=>({id:ln(p.credentialID),type:"public-key",transports:Ti(p.transports)}))})}async function ac(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,c=ti(32),p=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:c,userName:r.email,userDisplayName:r.name??void 0,rpID:p.id,rpName:p.name,excludeCredentials:a?.map(b=>({id:ln(b.credentialID),type:"public-key",transports:Ti(b.transports)}))})}function Va(e){let{provider:t,adapter:r}=e;if(!r)throw new ne("An adapter is required for the WebAuthn provider");if(!t||t.type!=="webauthn")throw new Ie("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function ln(e){return new Uint8Array(Ja.from(e,"base64"))}function Bn(e){return Ja.from(e).toString("base64")}function Ti(e){return e?e.split(","):void 0}async function qa(e,t,r,n){if(!t.provider)throw new Ie("Callback route called without provider");let{query:i,body:a,method:c,headers:p}=e,{provider:b,adapter:P,url:C,callbackUrl:w,pages:L,jwt:$,events:V,callbacks:Z,session:{strategy:Q,maxAge:he},logger:ie}=t,z=Q==="jwt";try{if(b.type==="oauth"||b.type==="oidc"){let _,j=b.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&j?.state){let ue=await Ci.decode(j.state,t);if(ue?.origin&&new URL(ue.origin).origin!==t.url.origin){let re=`${ue.origin}?${new URLSearchParams(j)}`;return ie.debug("Proxy redirecting to",re),{redirect:re,cookies:n}}}let H=await Zs(j,e.cookies,t);H.cookies.length&&n.push(...H.cookies),ie.debug("authorization result",H);let{user:ae,account:te,profile:be}=H;if(!ae||!te||!be)return{redirect:`${C}/signin`,cookies:n};if(P){let{getUserByAccount:ue}=P;_=await ue({providerAccountId:te.providerAccountId,provider:b.id})}let se=await Jn({user:_??ae,account:te,profile:be},t);if(se)return{redirect:se,cookies:n};let{user:le,session:xe,isNewUser:Ne}=await fi(r.value,ae,te,t);if(z){let ue={name:le.name,email:le.email,picture:le.image,sub:le.id?.toString()},re=await Z.jwt({token:ue,user:le,account:te,profile:be,isNewUser:Ne,trigger:Ne?"signUp":"signIn"});if(re===null)n.push(...r.clean());else{let Me=t.cookies.sessionToken.name,ht=await $.encode({...$,token:re,salt:Me}),He=new Date;He.setTime(He.getTime()+1e3*he);let ct=r.chunk(ht,{expires:He});n.push(...ct)}}else n.push({name:t.cookies.sessionToken.name,value:xe.sessionToken,options:{...t.cookies.sessionToken.options,expires:xe.expires}});return await V.signIn?.({user:le,account:te,profile:be,isNewUser:Ne}),Ne&&L.newUser?{redirect:`${L.newUser}${L.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:w})}`,cookies:n}:{redirect:w,cookies:n}}if(b.type==="email"){let _=i?.token,j=i?.email;if(!_){let ht=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!_}});throw ht.name="Configuration",ht}let H=b.secret??t.secret,ae=await P.useVerificationToken({identifier:j,token:await vn(`${_}${H}`)}),te=!!ae,be=te&&ae.expires.valueOf()<Date.now();if(!te||be||j&&ae.identifier!==j)throw new Le({hasInvite:te,expired:be});let{identifier:se}=ae,le=await P.getUserByEmail(se)??{id:crypto.randomUUID(),email:se,emailVerified:null},xe={providerAccountId:le.email,userId:le.id,type:"email",provider:b.id},Ne=await Jn({user:le,account:xe},t);if(Ne)return{redirect:Ne,cookies:n};let{user:ue,session:re,isNewUser:Me}=await fi(r.value,le,xe,t);if(z){let ht={name:ue.name,email:ue.email,picture:ue.image,sub:ue.id?.toString()},He=await Z.jwt({token:ht,user:ue,account:xe,isNewUser:Me,trigger:Me?"signUp":"signIn"});if(He===null)n.push(...r.clean());else{let ct=t.cookies.sessionToken.name,Pe=await $.encode({...$,token:He,salt:ct}),xt=new Date;xt.setTime(xt.getTime()+1e3*he);let ft=r.chunk(Pe,{expires:xt});n.push(...ft)}}else n.push({name:t.cookies.sessionToken.name,value:re.sessionToken,options:{...t.cookies.sessionToken.options,expires:re.expires}});return await V.signIn?.({user:ue,account:xe,isNewUser:Me}),Me&&L.newUser?{redirect:`${L.newUser}${L.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:w})}`,cookies:n}:{redirect:w,cookies:n}}if(b.type==="credentials"&&c==="POST"){let _=a??{};Object.entries(i??{}).forEach(([se,le])=>C.searchParams.set(se,le));let j=await b.authorize(_,new Request(C,{headers:p,method:c,body:JSON.stringify(a)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new J;let H={providerAccountId:j.id,type:"credentials",provider:b.id},ae=await Jn({user:j,account:H,credentials:_},t);if(ae)return{redirect:ae,cookies:n};let te={name:j.name,email:j.email,picture:j.image,sub:j.id},be=await Z.jwt({token:te,user:j,account:H,isNewUser:!1,trigger:"signIn"});if(be===null)n.push(...r.clean());else{let se=t.cookies.sessionToken.name,le=await $.encode({...$,token:be,salt:se}),xe=new Date;xe.setTime(xe.getTime()+1e3*he);let Ne=r.chunk(le,{expires:xe});n.push(...Ne)}return await V.signIn?.({user:j,account:H}),{redirect:w,cookies:n}}if(b.type==="webauthn"&&c==="POST"){let _,j,H,ae=e.body?.action;if(typeof ae!="string"||ae!=="authenticate"&&ae!=="register")throw new l("Invalid action parameter");let te=Va(t);switch(ae){case"authenticate":{let Ne=await rc(te,e,n);_=Ne.user,j=Ne.account;break}case"register":{let Ne=await nc(t,e,n);_=Ne.user,j=Ne.account,H=Ne.authenticator}}await Jn({user:_,account:j},t);let{user:be,isNewUser:se,session:le,account:xe}=await fi(r.value,_,j,t);if(!xe)throw new l("Error creating or finding account");if(H&&be.id&&await te.adapter.createAuthenticator({...H,userId:be.id}),z){let Ne={name:be.name,email:be.email,picture:be.image,sub:be.id?.toString()},ue=await Z.jwt({token:Ne,user:be,account:xe,isNewUser:se,trigger:se?"signUp":"signIn"});if(ue===null)n.push(...r.clean());else{let re=t.cookies.sessionToken.name,Me=await $.encode({...$,token:ue,salt:re}),ht=new Date;ht.setTime(ht.getTime()+1e3*he);let He=r.chunk(Me,{expires:ht});n.push(...He)}}else n.push({name:t.cookies.sessionToken.name,value:le.sessionToken,options:{...t.cookies.sessionToken.options,expires:le.expires}});return await V.signIn?.({user:be,account:xe,isNewUser:se}),se&&L.newUser?{redirect:`${L.newUser}${L.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:w})}`,cookies:n}:{redirect:w,cookies:n}}throw new Ie(`Callback for provider type (${b.type}) is not supported`)}catch(_){if(_ instanceof l)throw _;let j=new v(_,{provider:b.id});throw ie.debug("callback route error details",{method:c,query:i,body:a}),j}}async function Jn(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(a){throw a instanceof l?a:new d(a)}if(!r)throw new d("AccessDenied");if(typeof r=="string")return await i({url:r,baseUrl:t.url.origin})}async function Fa(e,t,r,n,i){let{adapter:a,jwt:c,events:p,callbacks:b,logger:P,session:{strategy:C,maxAge:w}}=e,L={body:null,headers:{"Content-Type":"application/json",...!n&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},$=t.value;if(!$)return L;if(C==="jwt"){try{let V=e.cookies.sessionToken.name,Z=await c.decode({...c,token:$,salt:V});if(!Z)throw Error("Invalid JWT");let Q=await b.jwt({token:Z,...n&&{trigger:"update"},session:i}),he=kr(w);if(Q!==null){let ie={user:{name:Q.name,email:Q.email,image:Q.picture},expires:he.toISOString()},z=await b.session({session:ie,token:Q});L.body=z;let _=await c.encode({...c,token:Q,salt:V}),j=t.chunk(_,{expires:he});L.cookies?.push(...j),await p.session?.({session:z,token:Q})}else L.cookies?.push(...t.clean())}catch(V){P.error(new Y(V)),L.cookies?.push(...t.clean())}return L}try{let{getSessionAndUser:V,deleteSession:Z,updateSession:Q}=a,he=await V($);if(he&&he.session.expires.valueOf()<Date.now()&&(await Z($),he=null),he){let{user:ie,session:z}=he,_=e.session.updateAge,j=z.expires.valueOf()-1e3*w+1e3*_,H=kr(w);j<=Date.now()&&await Q({sessionToken:$,expires:H});let ae=await b.session({session:{...z,user:ie},user:ie,newSession:i,...n?{trigger:"update"}:{}});L.body=ae,L.cookies?.push({name:e.cookies.sessionToken.name,value:$,options:{...e.cookies.sessionToken.options,expires:H}}),await p.session?.({session:ae})}else $&&L.cookies?.push(...t.clean())}catch(V){P.error(new Be(V))}return L}async function oc(e,t){let r,n,{logger:i,provider:a}=t,c=a.authorization?.url;if(!c||c.host==="authjs.dev"){let $=new URL(a.issuer),V=await mi($,{[Xt]:a[rr],[Gt]:!0}),Z=await yi($,V).catch(Q=>{throw!(Q instanceof TypeError)||Q.message!=="Invalid URL"?Q:TypeError(`Discovery request responded with an invalid issuer. expected: ${$}`)});if(!Z.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");c=new URL(Z.authorization_endpoint)}let p=c.searchParams,b=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(b=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:b,data:n}));let P=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:b,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let $ in P)p.set($,P[$]);let C=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let w=await Ci.create(t,n);if(w&&(p.set("state",w.value),C.push(w.cookie)),a.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))a.type==="oidc"&&(a.checks=["nonce"]);else{let{value:$,cookie:V}=await Ma.create(t);p.set("code_challenge",$),p.set("code_challenge_method","S256"),C.push(V)}let L=await Wa.create(t);return L&&(p.set("nonce",L.value),C.push(L.cookie)),a.type!=="oidc"||c.searchParams.has("scope")||c.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:c,cookies:C,provider:a}),{redirect:c.toString(),cookies:C}}async function sc(e,t){let r,{body:n}=e,{provider:i,callbacks:a,adapter:c}=t,p=(i.normalizeIdentifier??function(z){if(!z)throw Error("Missing email from request body.");let[_,j]=z.toLowerCase().trim().split("@");return j=j.split(",")[0],`${_}@${j}`})(n?.email),b={id:crypto.randomUUID(),email:p,emailVerified:null},P=await c.getUserByEmail(p)??b,C={providerAccountId:p,userId:P.id,type:"email",provider:i.id};try{r=await a.signIn({user:P,account:C,email:{verificationRequest:!0}})}catch(z){throw new d(z)}if(!r)throw new d("AccessDenied");if(typeof r=="string")return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:w,theme:L}=t,$=await i.generateVerificationToken?.()??ti(32),V=new Date(Date.now()+(i.maxAge??86400)*1e3),Z=i.secret??t.secret,Q=new URL(t.basePath,t.url.origin),he=i.sendVerificationRequest({identifier:p,token:$,expires:V,url:`${Q}/callback/${i.id}?${new URLSearchParams({callbackUrl:w,token:$,email:p})}`,provider:i,theme:L,request:new Request(e.url,{headers:e.headers,method:e.method,body:e.method==="POST"?JSON.stringify(e.body??{}):void 0})}),ie=c.createVerificationToken?.({identifier:p,token:await vn(`${$}${Z}`),expires:V});return await Promise.all([he,ie]),{redirect:`${Q}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function cc(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:i,cookies:a}=await oc(e.query,r);return a&&t.push(...a),{redirect:i,cookies:t}}case"email":return{...await sc(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function lc(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:c,session:p}=r,b=t.value;if(!b)return{redirect:a,cookies:e};try{if(p.strategy==="jwt"){let P=r.cookies.sessionToken.name,C=await n.decode({...n,token:b,salt:P});await i.signOut?.({token:C})}else{let P=await r.adapter?.deleteSession(b);await i.signOut?.({session:P})}}catch(P){c.error(new B(P))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function uc(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if(i==="jwt"){let c=e.cookies.sessionToken.name,p=await n.decode({...n,token:a,salt:c});if(p&&p.sub)return{id:p.sub,name:p.name,email:p.email,image:p.picture}}else{let c=await r?.getSessionAndUser(a);if(c)return c.user}return null}async function dc(e,t,r,n){let i=Va(t),{provider:a}=i,{action:c}=e.query??{};if(c!=="register"&&c!=="authenticate"&&c!==void 0)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let p=await uc(t,r),b=p?{user:p,exists:!0}:await a.getUserInfo(t,e),P=b?.user;switch(function(C,w,L){let{user:$,exists:V=!1}=L??{};switch(C){case"authenticate":return"authenticate";case"register":if($&&w===V)return"register";break;case void 0:if(!w)return!$||V?"authenticate":"register"}return null}(c,!!p,b)){case"authenticate":return tc(i,e,P,n);case"register":if(typeof P?.email=="string")return ec(i,e,P,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function pc(e,t){let{action:r,providerId:n,error:i,method:a}=e,c=t.skipCSRFCheck===xn,{options:p,cookies:b}=await Xo({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:a==="POST",csrfDisabled:c}),P=new u(p.cookies.sessionToken,e.cookies,p.logger);if(a==="GET"){let C=fa({...p,query:e.query,cookies:b});switch(r){case"callback":return await qa(e,p,P,b);case"csrf":return C.csrf(c,p,b);case"error":return C.error(i);case"providers":return C.providers(p.providers);case"session":return await Fa(p,P,b);case"signin":return C.signin(n,i);case"signout":return C.signout();case"verify-request":return C.verifyRequest();case"webauthn-options":return await dc(e,p,P,b)}}else{let{csrfTokenVerified:C}=p;switch(r){case"callback":return p.provider.type==="credentials"&&_n(r,C),await qa(e,p,P,b);case"session":return _n(r,C),await Fa(p,P,b,!0,e.body?.data);case"signin":return _n(r,C),await cc(e,b,p);case"signout":return _n(r,C),await lc(b,P,p)}}throw new fe(`Cannot handle action: ${r}`)}function Vn(e,t,r,n,i){let a,c=i?.basePath,p=n.AUTH_URL??n.NEXTAUTH_URL;if(p)a=new URL(p),c&&c!=="/"&&a.pathname!=="/"&&(a.pathname!==c&&Xr(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let P=r.get("x-forwarded-host")??r.get("host"),C=r.get("x-forwarded-proto")??t??"https",w=C.endsWith(":")?C:C+":";a=new URL(`${w}//${P}`)}let b=a.toString().replace(/\/$/,"");if(c){let P=c?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${b}/${P}/${e}`)}return new URL(`${b}/${e}`)}async function jr(e,t){let r=Xr(t),n=await Vo(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(p,b){let{url:P}=p,C=[];if(!ut&&b.debug&&C.push("debug-enabled"),!b.trustHost)return new Ee(`Host must be trusted. URL was: ${p.url}`);if(!b.secret?.length)return new je("Please define a `secret`");let w=p.query?.callbackUrl;if(w&&!Et(w,P.origin))return new U(`Invalid callback URL. Received: ${w}`);let{callbackUrl:L}=S(b.useSecureCookies??P.protocol==="https:"),$=p.cookies?.[b.cookies?.callbackUrl?.name??L.name];if($&&!Et($,P.origin))return new U(`Invalid callback URL. Received: ${$}`);let V=!1;for(let z of b.providers){let _=typeof z=="function"?z():z;if((_.type==="oauth"||_.type==="oidc")&&!(_.issuer??_.options?.issuer)){let j,{authorization:H,token:ae,userinfo:te}=_;if(typeof H=="string"||H?.url?typeof ae=="string"||ae?.url?typeof te=="string"||te?.url||(j="userinfo"):j="token":j="authorization",j)return new G(`Provider "${_.id}" is missing both \`issuer\` and \`${j}\` endpoint config. At least one of them is required`)}if(_.type==="credentials")wt=!0;else if(_.type==="email")Ye=!0;else if(_.type==="webauthn"){var Z;if(vt=!0,_.simpleWebAuthnBrowserVersion&&(Z=_.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(Z)))return new l(`Invalid provider config for "${_.id}": simpleWebAuthnBrowserVersion "${_.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(_.enableConditionalUI){if(V)return new Xe("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(V=!0,!Object.values(_.formFields).some(j=>j.autocomplete&&j.autocomplete.toString().indexOf("webauthn")>-1))return new ot(`Provider "${_.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(wt){let z=b.session?.strategy==="database",_=!b.providers.some(j=>(typeof j=="function"?j():j).type!=="credentials");if(z&&_)return new De("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(j=>{let H=typeof j=="function"?j():j;return H.type==="credentials"&&!H.authorize}))return new Re("Must define an authorize() handler to use credentials authentication provider")}let{adapter:Q,session:he}=b,ie=[];if(Ye||he?.strategy==="database"||!he?.strategy&&Q)if(Ye){if(!Q)return new ne("Email login requires an adapter");ie.push(...jt)}else{if(!Q)return new ne("Database session requires an adapter");ie.push(...At)}if(vt){if(!b.experimental?.enableWebAuthn)return new bt("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(C.push("experimental-webauthn"),!Q)return new ne("WebAuthn requires an adapter");ie.push(...Vt)}if(Q){let z=ie.filter(_=>!(_ in Q));if(z.length)return new ke(`Required adapter methods were missing: ${z.join(", ")}`)}return ut||(ut=!0),C}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||n.method!=="GET")return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:p,theme:b}=t,P=p?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(p.error);if(!p?.error||P)return P&&r.error(new m(`The error page ${p?.error} should not require authentication`)),qi(fa({theme:b}).error("Configuration"));let C=`${n.url.origin}${p.error}?error=Configuration`;return Response.redirect(C)}let a=e.headers?.has("X-Auth-Return-Redirect"),c=t.raw===En;try{let p=await pc(n,t);if(c)return p;let b=qi(p),P=b.headers.get("Location");return!a||!P?b:Response.json({url:P},{headers:b.headers})}catch(p){r.error(p);let b=p instanceof l;if(b&&c&&!a)throw p;if(e.method==="POST"&&n.action==="session")return Response.json(null,{status:400});let P=new URLSearchParams({error:p instanceof l&&Ge.has(p.type)?p.type:"Configuration"});p instanceof J&&P.set("code",p.code);let C=b&&p.kind||"error",w=t.pages?.[C]??`${t.basePath}/${C.toLowerCase()}`,L=`${n.url.origin}${w}?${P}`;return a?Response.json({url:L}):Response.redirect(L)}}var hc=M(662),Pi=M(7701);function Oi(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new hc.I(n.replace(i,r),e)}function Lr(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if(r==="/")return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(t,r,n=!1){try{let i=t.AUTH_URL;i&&(r.basePath?n||Xr(r).warn("env-url-basepath-redundant"):r.basePath=new URL(i).pathname)}catch{}finally{r.basePath??(r.basePath="/auth")}if(!r.secret?.length){r.secret=[];let i=t.AUTH_SECRET;for(let a of(i&&r.secret.push(i),[1,2,3])){let c=t[`AUTH_SECRET_${a}`];c&&r.secret.unshift(c)}}r.redirectProxyUrl??(r.redirectProxyUrl=t.AUTH_REDIRECT_PROXY_URL),r.trustHost??(r.trustHost=!!(t.AUTH_URL??t.AUTH_TRUST_HOST??t.VERCEL??t.CF_PAGES??t.NODE_ENV!=="production")),r.providers=r.providers.map(i=>{let{id:a}=typeof i=="function"?i({}):i,c=a.toUpperCase().replace(/-/g,"_"),p=t[`AUTH_${c}_ID`],b=t[`AUTH_${c}_SECRET`],P=t[`AUTH_${c}_ISSUER`],C=t[`AUTH_${c}_KEY`],w=typeof i=="function"?i({clientId:p,clientSecret:b,issuer:P,apiKey:C}):i;return w.type==="oauth"||w.type==="oidc"?(w.clientId??(w.clientId=p),w.clientSecret??(w.clientSecret=b),w.issuer??(w.issuer=P)):w.type==="email"&&(w.apiKey??(w.apiKey=C)),w})}(process.env,e,!0)}}M(4155),typeof URLPattern>"u"||URLPattern;var fc=M(6776),gc=M(3665),mc=M(4101),yc=M(2296),za=M(9182),Ga=M(828),Xa=M(8983);function un(){let e="headers",t=za.A.getStore();if(t){if(t.forceStatic)return gc.h.seal(new Headers({}));(0,Ga.TP)(t,e)}return(0,Xa.F)(e).headers}function Ri(){let e="cookies",t=za.A.getStore();if(t){if(t.forceStatic)return fc.Qb.seal(new mc.qC(new Headers({})));(0,Ga.TP)(t,e)}let r=(0,Xa.F)(e),n=yc.W.getStore();return n?.isAction||n?.isAppRoute?r.mutableCookies:r.cookies}async function dn(e,t){return jr(new Request(Vn("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...r){let n=await t.callbacks?.session?.(...r)??{...r[0].session,expires:r[0].session.expires?.toISOString?.()??r[0].session.expires};return{user:r[0].user??r[0].token,...n}}}})}function Ya(e){return typeof e=="function"}function Za(e,t){return typeof e=="function"?async(...r)=>{if(!r.length){let c=await un(),p=await e(void 0);return t?.(p),dn(c,p).then(b=>b.json())}if(r[0]instanceof Request){let c=r[0],p=r[1],b=await e(c);return t?.(b),qn([c,p],b)}if(Ya(r[0])){let c=r[0];return async(...p)=>{let b=await e(p[0]);return t?.(b),qn(p,b,c)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),dn(new Headers(n.headers),a).then(async c=>{let p=await c.json();for(let b of c.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",b):i.appendHeader("set-cookie",b);return p})}:(...r)=>{if(!r.length)return Promise.resolve(un()).then(a=>dn(a,e).then(c=>c.json()));if(r[0]instanceof Request)return qn([r[0],r[1]],e);if(Ya(r[0])){let a=r[0];return async(...c)=>qn(c,e,a).then(p=>p)}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1];return dn(new Headers(n.headers),e).then(async a=>{let c=await a.json();for(let p of a.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",p):i.appendHeader("set-cookie",p);return c})}}async function qn(e,t,r){let n=Oi(e[0]),i=await dn(n.headers,t),a=await i.json(),c=!0;t.callbacks?.authorized&&(c=await t.callbacks.authorized({request:n,auth:a}));let p=Pi.x.next?.();if(c instanceof Response){p=c;let P=c.headers.get("Location"),{pathname:C}=n.nextUrl;P&&function(w,L,$){let V=L.replace(`${w}/`,""),Z=Object.values($.pages??{});return(bc.has(V)||Z.includes(L))&&L===w}(C,new URL(P).pathname,t)&&(c=!0)}else if(r)n.auth=a,p=await r(n,e[1])??Pi.x.next();else if(!c){let P=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==P){let C=n.nextUrl.clone();C.pathname=P,C.searchParams.set("callbackUrl",n.nextUrl.href),p=Pi.x.redirect(C)}}let b=new Response(p?.body,p);for(let P of i.headers.getSetCookie())b.headers.append("set-cookie",P);return b}let bc=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var Fn=M(6947);async function Qa(e,t={},r,n){let i=new Headers(await un()),{redirect:a=!0,redirectTo:c,...p}=t instanceof FormData?Object.fromEntries(t):t,b=c?.toString()??i.get("Referer")??"/",P=Vn("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return P.searchParams.append("callbackUrl",b),a&&(0,Fn.uX)(P.toString()),P.toString();let C=`${P}/${e}?${new URLSearchParams(r)}`,w={};for(let Q of n.providers){let{options:he,...ie}=typeof Q=="function"?Q():Q,z=he?.id??ie.id;if(z===e){w={id:z,type:he?.type??ie.type};break}}if(!w.id){let Q=`${P}?${new URLSearchParams({callbackUrl:b})}`;return a&&(0,Fn.uX)(Q),Q}w.type==="credentials"&&(C=C.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let L=new Request(C,{method:"POST",headers:i,body:new URLSearchParams({...p,callbackUrl:b})}),$=await jr(L,{...n,raw:En,skipCSRFCheck:xn}),V=await Ri();for(let Q of $?.cookies??[])V.set(Q.name,Q.value,Q.options);let Z=($ instanceof Response?$.headers.get("Location"):$.redirect)??C;return a?(0,Fn.uX)(Z):Z}async function eo(e,t){let r=new Headers(await un());r.set("Content-Type","application/x-www-form-urlencoded");let n=Vn("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),c=await jr(a,{...t,raw:En,skipCSRFCheck:xn}),p=await Ri();for(let b of c?.cookies??[])p.set(b.name,b.value,b.options);return e?.redirect??!0?(0,Fn.uX)(c.redirect):c}async function to(e,t){let r=new Headers(await un());r.set("Content-Type","application/json");let n=new Request(Vn("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await jr(n,{...t,raw:En,skipCSRFCheck:xn}),a=await Ri();for(let c of i?.cookies??[])a.set(c.name,c.value,c.options);return i.body}function wc(e){if(typeof e=="function"){let r=async n=>{let i=await e(n);return Lr(i),jr(Oi(n),i)};return{handlers:{GET:r,POST:r},auth:Za(e,n=>Lr(n)),signIn:async(n,i,a)=>{let c=await e(void 0);return Lr(c),Qa(n,i,a,c)},signOut:async n=>{let i=await e(void 0);return Lr(i),eo(n,i)},unstable_update:async n=>{let i=await e(void 0);return Lr(i),to(n,i)}}}Lr(e);let t=r=>jr(Oi(r),e);return{handlers:{GET:t,POST:t},auth:Za(e),signIn:(r,n,i)=>Qa(r,n,i,e),signOut:r=>eo(r,e),unstable_update:r=>to(r,e)}}},Ke.__chunk_6798=(Ae,q,M)=>{"use strict";function F(ee){return{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:ee}}M.d(q,{Z:()=>F})},Ke.__chunk_9182=(Ae,q,M)=>{"use strict";M.d(q,{A:()=>F});let F=(0,M(5228).P)()},Ke.__chunk_8983=(Ae,q,M)=>{"use strict";M.d(q,{F:()=>ee,O:()=>F});let F=(0,M(5228).P)();function ee(N){let E=F.getStore();if(E)return E;throw Error("`"+N+"` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context")}},Ke.__chunk_5228=(Ae,q,M)=>{"use strict";M.d(q,{P:()=>E});let F=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class ee{disable(){throw F}getStore(){}run(){throw F}exit(){throw F}enterWith(){throw F}}let N=it.AsyncLocalStorage;function E(){return N?new N:new ee}},Ke.__chunk_2296=(Ae,q,M)=>{"use strict";M.d(q,{W:()=>F});let F=(0,M(5228).P)()},Ke.__chunk_5577=(Ae,q,M)=>{"use strict";function F(ee){return ee.replace(/\/$/,"")||"/"}M.d(q,{Q:()=>F})},Ke.__chunk_3039=(Ae,q,M)=>{"use strict";function F(ee,N){let E,O=ee.split("/");return(N||[]).some(o=>!!O[1]&&O[1].toLowerCase()===o.toLowerCase()&&(E=o,O.splice(1,1),ee=O.join("/")||"/",!0)),{pathname:ee,detectedLocale:E}}M.d(q,{h:()=>F})},Ke.__chunk_9573=(Ae,q,M)=>{"use strict";function F(O){let o=new Headers;for(let[h,R]of Object.entries(O))for(let g of Array.isArray(R)?R:[R])g!==void 0&&(typeof g=="number"&&(g=g.toString()),o.append(h,g));return o}function ee(O){var o,h,R,g,S,u=[],l=0;function y(){for(;l<O.length&&/\s/.test(O.charAt(l));)l+=1;return l<O.length}for(;l<O.length;){for(o=l,S=!1;y();)if((h=O.charAt(l))===","){for(R=l,l+=1,y(),g=l;l<O.length&&(h=O.charAt(l))!=="="&&h!==";"&&h!==",";)l+=1;l<O.length&&O.charAt(l)==="="?(S=!0,l=g,u.push(O.substring(o,R)),o=l):l=R+1}else l+=1;(!S||l>=O.length)&&u.push(O.substring(o,O.length))}return u}function N(O){let o={},h=[];if(O)for(let[R,g]of O.entries())R.toLowerCase()==="set-cookie"?(h.push(...ee(g)),o[R]=h.length===1?h[0]:h):o[R]=g;return o}function E(O){try{return String(new URL(String(O)))}catch(o){throw Error(`URL is malformed "${String(O)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:o})}}M.d(q,{EK:()=>F,l$:()=>ee,lb:()=>N,r4:()=>E})},Ke.__chunk_7701=(Ae,q,M)=>{"use strict";M.d(q,{x:()=>R});var F=M(4101),ee=M(7444),N=M(9573),E=M(8042);let O=Symbol("internal response"),o=new Set([301,302,303,307,308]);function h(g,S){var u;if(!(g==null||(u=g.request)==null)&&u.headers){if(!(g.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let l=[];for(let[y,I]of g.request.headers)S.set("x-middleware-request-"+y,I),l.push(y);S.set("x-middleware-override-headers",l.join(","))}}class R extends Response{constructor(S,u={}){super(S,u);let l=this.headers,y=new Proxy(new F.nV(l),{get(I,d,v){switch(d){case"delete":case"set":return(...m)=>{let k=Reflect.apply(I[d],I,m),U=new Headers(l);return k instanceof F.nV&&l.set("x-middleware-set-cookie",k.getAll().map(J=>(0,F.Q7)(J)).join(",")),h(u,U),k};default:return E.g.get(I,d,v)}}});this[O]={cookies:y,url:u.url?new ee.c(u.url,{headers:(0,N.lb)(l),nextConfig:u.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[O].cookies}static json(S,u){let l=Response.json(S,u);return new R(l.body,l)}static redirect(S,u){let l=typeof u=="number"?u:u?.status??307;if(!o.has(l))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let y=typeof u=="object"?u:{},I=new Headers(y?.headers);return I.set("Location",(0,N.r4)(S)),new R(null,{...y,headers:I,status:l})}static rewrite(S,u){let l=new Headers(u?.headers);return l.set("x-middleware-rewrite",(0,N.r4)(S)),h(u,l),new R(null,{...u,headers:l})}static next(S){let u=new Headers(S?.headers);return u.set("x-middleware-next","1"),h(S,u),new R(null,{...S,headers:u})}}},Ke.__chunk_662=(Ae,q,M)=>{"use strict";M.d(q,{I:()=>o});var F=M(7444),ee=M(9573),N=M(4591),E=M(4101);let O=Symbol("internal request");class o extends Request{constructor(R,g={}){let S=typeof R!="string"&&"url"in R?R.url:String(R);(0,ee.r4)(S),R instanceof Request?super(R,g):super(S,g);let u=new F.c(S,{headers:(0,ee.lb)(this.headers),nextConfig:g.nextConfig});this[O]={cookies:new E.qC(this.headers),geo:g.geo||{},ip:g.ip,nextUrl:u,url:u.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[O].cookies}get geo(){return this[O].geo}get ip(){return this[O].ip}get nextUrl(){return this[O].nextUrl}get page(){throw new N.cR}get ua(){throw new N.Y5}get url(){return this[O].url}}},Ke.__chunk_4101=(Ae,q,M)=>{"use strict";M.d(q,{Q7:()=>F.stringifyCookie,nV:()=>F.ResponseCookies,qC:()=>F.RequestCookies});var F=M(676)},Ke.__chunk_6776=(Ae,q,M)=>{"use strict";M.d(q,{Qb:()=>O,_5:()=>h,vr:()=>R});var F=M(4101),ee=M(8042),N=M(9182);class E extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new E}}class O{static seal(S){return new Proxy(S,{get(u,l,y){switch(l){case"clear":case"delete":case"set":return E.callable;default:return ee.g.get(u,l,y)}}})}}let o=Symbol.for("next.mutated.cookies");function h(g,S){let u=function(I){let d=I[o];return d&&Array.isArray(d)&&d.length!==0?d:[]}(S);if(u.length===0)return!1;let l=new F.nV(g),y=l.getAll();for(let I of u)l.set(I);for(let I of y)l.set(I);return!0}class R{static wrap(S,u){let l=new F.nV(new Headers);for(let v of S.getAll())l.set(v);let y=[],I=new Set,d=()=>{let v=N.A.getStore();if(v&&(v.pathWasRevalidated=!0),y=l.getAll().filter(m=>I.has(m.name)),u){let m=[];for(let k of y){let U=new F.nV(new Headers);U.set(k),m.push(U.toString())}u(m)}};return new Proxy(l,{get(v,m,k){switch(m){case o:return y;case"delete":return function(...U){I.add(typeof U[0]=="string"?U[0]:U[0].name);try{v.delete(...U)}finally{d()}};case"set":return function(...U){I.add(typeof U[0]=="string"?U[0]:U[0].name);try{return v.set(...U)}finally{d()}};default:return ee.g.get(v,m,k)}}})}}},Ke.__chunk_8042=(Ae,q,M)=>{"use strict";M.d(q,{g:()=>F});class F{static get(N,E,O){let o=Reflect.get(N,E,O);return typeof o=="function"?o.bind(N):o}static set(N,E,O,o){return Reflect.set(N,E,O,o)}static has(N,E){return Reflect.has(N,E)}static deleteProperty(N,E){return Reflect.deleteProperty(N,E)}}},Ke.__chunk_3665=(Ae,q,M)=>{"use strict";M.d(q,{h:()=>N});var F=M(8042);class ee extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new ee}}class N extends Headers{constructor(O){super(),this.headers=new Proxy(O,{get(o,h,R){if(typeof h=="symbol")return F.g.get(o,h,R);let g=h.toLowerCase(),S=Object.keys(O).find(u=>u.toLowerCase()===g);if(S!==void 0)return F.g.get(o,S,R)},set(o,h,R,g){if(typeof h=="symbol")return F.g.set(o,h,R,g);let S=h.toLowerCase(),u=Object.keys(O).find(l=>l.toLowerCase()===S);return F.g.set(o,u??h,R,g)},has(o,h){if(typeof h=="symbol")return F.g.has(o,h);let R=h.toLowerCase(),g=Object.keys(O).find(S=>S.toLowerCase()===R);return g!==void 0&&F.g.has(o,g)},deleteProperty(o,h){if(typeof h=="symbol")return F.g.deleteProperty(o,h);let R=h.toLowerCase(),g=Object.keys(O).find(S=>S.toLowerCase()===R);return g===void 0||F.g.deleteProperty(o,g)}})}static seal(O){return new Proxy(O,{get(o,h,R){switch(h){case"append":case"delete":case"set":return ee.callable;default:return F.g.get(o,h,R)}}})}merge(O){return Array.isArray(O)?O.join(", "):O}static from(O){return O instanceof Headers?O:new N(O)}append(O,o){let h=this.headers[O];typeof h=="string"?this.headers[O]=[h,o]:Array.isArray(h)?h.push(o):this.headers[O]=o}delete(O){delete this.headers[O]}get(O){let o=this.headers[O];return o!==void 0?this.merge(o):null}has(O){return this.headers[O]!==void 0}set(O,o){this.headers[O]=o}forEach(O,o){for(let[h,R]of this.entries())O.call(o,R,h,this)}*entries(){for(let O of Object.keys(this.headers)){let o=O.toLowerCase(),h=this.get(o);yield[o,h]}}*keys(){for(let O of Object.keys(this.headers))yield O.toLowerCase()}*values(){for(let O of Object.keys(this.headers))yield this.get(O)}[Symbol.iterator](){return this.entries()}}},Ke.__chunk_7444=(Ae,q,M)=>{"use strict";M.d(q,{c:()=>S});var F=M(5577);function ee(u){let l=u.indexOf("#"),y=u.indexOf("?"),I=y>-1&&(l<0||y<l);return I||l>-1?{pathname:u.substring(0,I?y:l),query:I?u.substring(y,l>-1?l:void 0):"",hash:l>-1?u.slice(l):""}:{pathname:u,query:"",hash:""}}function N(u,l){if(!u.startsWith("/")||!l)return u;let{pathname:y,query:I,hash:d}=ee(u);return""+l+y+I+d}function E(u,l){if(!u.startsWith("/")||!l)return u;let{pathname:y,query:I,hash:d}=ee(u);return""+y+l+I+d}function O(u,l){if(typeof u!="string")return!1;let{pathname:y}=ee(u);return y===l||y.startsWith(l+"/")}var o=M(3039);let h=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function R(u,l){return new URL(String(u).replace(h,"localhost"),l&&String(l).replace(h,"localhost"))}let g=Symbol("NextURLInternal");class S{constructor(l,y,I){let d,v;typeof y=="object"&&"pathname"in y||typeof y=="string"?(d=y,v=I||{}):v=I||y||{},this[g]={url:R(l,d??v.base),options:v,basePath:""},this.analyze()}analyze(){var l,y,I,d,v;let m=function(J,G){var X,Y;let{basePath:ne,i18n:ke,trailingSlash:Re}=(X=G.nextConfig)!=null?X:{},je={pathname:J,trailingSlash:J!=="/"?J.endsWith("/"):Re};ne&&O(je.pathname,ne)&&(je.pathname=function(We,at){if(!O(We,at))return We;let Be=We.slice(at.length);return Be.startsWith("/")?Be:"/"+Be}(je.pathname,ne),je.basePath=ne);let qe=je.pathname;if(je.pathname.startsWith("/_next/data/")&&je.pathname.endsWith(".json")){let We=je.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),at=We[0];je.buildId=at,qe=We[1]!=="index"?"/"+We.slice(1).join("/"):"/",G.parseData===!0&&(je.pathname=qe)}if(ke){let We=G.i18nProvider?G.i18nProvider.analyze(je.pathname):(0,o.h)(je.pathname,ke.locales);je.locale=We.detectedLocale,je.pathname=(Y=We.pathname)!=null?Y:je.pathname,!We.detectedLocale&&je.buildId&&(We=G.i18nProvider?G.i18nProvider.analyze(qe):(0,o.h)(qe,ke.locales)).detectedLocale&&(je.locale=We.detectedLocale)}return je}(this[g].url.pathname,{nextConfig:this[g].options.nextConfig,parseData:!0,i18nProvider:this[g].options.i18nProvider}),k=function(J,G){let X;if(G?.host&&!Array.isArray(G.host))X=G.host.toString().split(":",1)[0];else{if(!J.hostname)return;X=J.hostname}return X.toLowerCase()}(this[g].url,this[g].options.headers);this[g].domainLocale=this[g].options.i18nProvider?this[g].options.i18nProvider.detectDomainLocale(k):function(J,G,X){if(J)for(let ke of(X&&(X=X.toLowerCase()),J)){var Y,ne;if(G===((Y=ke.domain)==null?void 0:Y.split(":",1)[0].toLowerCase())||X===ke.defaultLocale.toLowerCase()||((ne=ke.locales)==null?void 0:ne.some(Re=>Re.toLowerCase()===X)))return ke}}((y=this[g].options.nextConfig)==null||(l=y.i18n)==null?void 0:l.domains,k);let U=((I=this[g].domainLocale)==null?void 0:I.defaultLocale)||((v=this[g].options.nextConfig)==null||(d=v.i18n)==null?void 0:d.defaultLocale);this[g].url.pathname=m.pathname,this[g].defaultLocale=U,this[g].basePath=m.basePath??"",this[g].buildId=m.buildId,this[g].locale=m.locale??U,this[g].trailingSlash=m.trailingSlash}formatPathname(){var l;let y;return y=function(I,d,v,m){if(!d||d===v)return I;let k=I.toLowerCase();return!m&&(O(k,"/api")||O(k,"/"+d.toLowerCase()))?I:N(I,"/"+d)}((l={basePath:this[g].basePath,buildId:this[g].buildId,defaultLocale:this[g].options.forceLocale?void 0:this[g].defaultLocale,locale:this[g].locale,pathname:this[g].url.pathname,trailingSlash:this[g].trailingSlash}).pathname,l.locale,l.buildId?void 0:l.defaultLocale,l.ignorePrefix),(l.buildId||!l.trailingSlash)&&(y=(0,F.Q)(y)),l.buildId&&(y=E(N(y,"/_next/data/"+l.buildId),l.pathname==="/"?"index.json":".json")),y=N(y,l.basePath),!l.buildId&&l.trailingSlash?y.endsWith("/")?y:E(y,"/"):(0,F.Q)(y)}formatSearch(){return this[g].url.search}get buildId(){return this[g].buildId}set buildId(l){this[g].buildId=l}get locale(){return this[g].locale??""}set locale(l){var y,I;if(!this[g].locale||!(!((I=this[g].options.nextConfig)==null||(y=I.i18n)==null)&&y.locales.includes(l)))throw TypeError(`The NextURL configuration includes no locale "${l}"`);this[g].locale=l}get defaultLocale(){return this[g].defaultLocale}get domainLocale(){return this[g].domainLocale}get searchParams(){return this[g].url.searchParams}get host(){return this[g].url.host}set host(l){this[g].url.host=l}get hostname(){return this[g].url.hostname}set hostname(l){this[g].url.hostname=l}get port(){return this[g].url.port}set port(l){this[g].url.port=l}get protocol(){return this[g].url.protocol}set protocol(l){this[g].url.protocol=l}get href(){let l=this.formatPathname(),y=this.formatSearch();return`${this.protocol}//${this.host}${l}${y}${this.hash}`}set href(l){this[g].url=R(l),this.analyze()}get origin(){return this[g].url.origin}get pathname(){return this[g].url.pathname}set pathname(l){this[g].url.pathname=l}get hash(){return this[g].url.hash}set hash(l){this[g].url.hash=l}get search(){return this[g].url.search}set search(l){this[g].url.search=l}get password(){return this[g].url.password}set password(l){this[g].url.password=l}get username(){return this[g].url.username}set username(l){this[g].url.username=l}get basePath(){return this[g].basePath}set basePath(l){this[g].basePath=l.startsWith("/")?l:`/${l}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new S(String(this),this[g].options)}}},Ke.__chunk_4591=(Ae,q,M)=>{"use strict";M.d(q,{Y5:()=>N,cR:()=>ee,qJ:()=>F});class F extends Error{constructor({page:O}){super(`The middleware "${O}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class ee extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class N extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}},Ke.__chunk_6991=(Ae,q,M)=>{"use strict";let F;M.d(q,{MU:()=>h,Yz:()=>v});var ee=M(8816);let{context:N,propagation:E,trace:O,SpanStatusCode:o,SpanKind:h,ROOT_CONTEXT:R}=F=M(8819),g=m=>m!==null&&typeof m=="object"&&typeof m.then=="function",S=(m,k)=>{k?.bubble===!0?m.setAttribute("next.bubble",!0):(k&&m.recordException(k),m.setStatus({code:o.ERROR,message:k?.message})),m.end()},u=new Map,l=F.createContextKey("next.rootSpanId"),y=0,I=()=>y++;class d{getTracerInstance(){return O.getTracer("next.js","0.0.1")}getContext(){return N}getActiveScopeSpan(){return O.getSpan(N?.active())}withPropagatedContext(k,U,J){let G=N.active();if(O.getSpanContext(G))return U();let X=E.extract(G,k,J);return N.with(X,U)}trace(...k){var U;let[J,G,X]=k,{fn:Y,options:ne}=typeof G=="function"?{fn:G,options:{}}:{fn:X,options:{...G}},ke=ne.spanName??J;if(!ee.lw.includes(J)&&process.env.NEXT_OTEL_VERBOSE!=="1"||ne.hideSpan)return Y();let Re=this.getSpanContext(ne?.parentSpan??this.getActiveScopeSpan()),je=!1;Re?(U=O.getSpanContext(Re))!=null&&U.isRemote&&(je=!0):(Re=N?.active()??R,je=!0);let qe=I();return ne.attributes={"next.span_name":ke,"next.span_type":J,...ne.attributes},N.with(Re.setValue(l,qe),()=>this.getTracerInstance().startActiveSpan(ke,ne,We=>{let at="performance"in it?it.performance.now():void 0,Be=()=>{u.delete(qe),at&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&ee.hT.includes(J||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(J.split(".").pop()||"").replace(/[A-Z]/g,K=>"-"+K.toLowerCase())}`,{start:at,end:performance.now()})};je&&u.set(qe,new Map(Object.entries(ne.attributes??{})));try{if(Y.length>1)return Y(We,W=>S(We,W));let K=Y(We);return g(K)?K.then(W=>(We.end(),W)).catch(W=>{throw S(We,W),W}).finally(Be):(We.end(),Be(),K)}catch(K){throw S(We,K),Be(),K}}))}wrap(...k){let U=this,[J,G,X]=k.length===3?k:[k[0],{},k[1]];return ee.lw.includes(J)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let Y=G;typeof Y=="function"&&typeof X=="function"&&(Y=Y.apply(this,arguments));let ne=arguments.length-1,ke=arguments[ne];if(typeof ke!="function")return U.trace(J,Y,()=>X.apply(this,arguments));{let Re=U.getContext().bind(N.active(),ke);return U.trace(J,Y,(je,qe)=>(arguments[ne]=function(We){return qe?.(We),Re.apply(this,arguments)},X.apply(this,arguments)))}}:X}startSpan(...k){let[U,J]=k,G=this.getSpanContext(J?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(U,J,G)}getSpanContext(k){return k?O.setSpan(N.active(),k):void 0}getRootSpanAttributes(){let k=N.active().getValue(l);return u.get(k)}}let v=(()=>{let m=new d;return()=>m})()},Ke.__chunk_8816=(Ae,q,M)=>{"use strict";var F,ee,N,E,O,o,h,R,g,S,u,l;M.d(q,{PB:()=>S,Xy:()=>E,dI:()=>l,hT:()=>I,k0:()=>h,lw:()=>y}),function(d){d.handleRequest="BaseServer.handleRequest",d.run="BaseServer.run",d.pipe="BaseServer.pipe",d.getStaticHTML="BaseServer.getStaticHTML",d.render="BaseServer.render",d.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",d.renderToResponse="BaseServer.renderToResponse",d.renderToHTML="BaseServer.renderToHTML",d.renderError="BaseServer.renderError",d.renderErrorToResponse="BaseServer.renderErrorToResponse",d.renderErrorToHTML="BaseServer.renderErrorToHTML",d.render404="BaseServer.render404"}(F||(F={})),function(d){d.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",d.loadComponents="LoadComponents.loadComponents"}(ee||(ee={})),function(d){d.getRequestHandler="NextServer.getRequestHandler",d.getServer="NextServer.getServer",d.getServerRequestHandler="NextServer.getServerRequestHandler",d.createServer="createServer.createServer"}(N||(N={})),function(d){d.compression="NextNodeServer.compression",d.getBuildId="NextNodeServer.getBuildId",d.createComponentTree="NextNodeServer.createComponentTree",d.clientComponentLoading="NextNodeServer.clientComponentLoading",d.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",d.generateStaticRoutes="NextNodeServer.generateStaticRoutes",d.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",d.generatePublicRoutes="NextNodeServer.generatePublicRoutes",d.generateImageRoutes="NextNodeServer.generateImageRoutes.route",d.sendRenderResult="NextNodeServer.sendRenderResult",d.proxyRequest="NextNodeServer.proxyRequest",d.runApi="NextNodeServer.runApi",d.render="NextNodeServer.render",d.renderHTML="NextNodeServer.renderHTML",d.imageOptimizer="NextNodeServer.imageOptimizer",d.getPagePath="NextNodeServer.getPagePath",d.getRoutesManifest="NextNodeServer.getRoutesManifest",d.findPageComponents="NextNodeServer.findPageComponents",d.getFontManifest="NextNodeServer.getFontManifest",d.getServerComponentManifest="NextNodeServer.getServerComponentManifest",d.getRequestHandler="NextNodeServer.getRequestHandler",d.renderToHTML="NextNodeServer.renderToHTML",d.renderError="NextNodeServer.renderError",d.renderErrorToHTML="NextNodeServer.renderErrorToHTML",d.render404="NextNodeServer.render404",d.startResponse="NextNodeServer.startResponse",d.route="route",d.onProxyReq="onProxyReq",d.apiResolver="apiResolver",d.internalFetch="internalFetch"}(E||(E={})),(O||(O={})).startServer="startServer.startServer",function(d){d.getServerSideProps="Render.getServerSideProps",d.getStaticProps="Render.getStaticProps",d.renderToString="Render.renderToString",d.renderDocument="Render.renderDocument",d.createBodyResult="Render.createBodyResult"}(o||(o={})),function(d){d.renderToString="AppRender.renderToString",d.renderToReadableStream="AppRender.renderToReadableStream",d.getBodyResult="AppRender.getBodyResult",d.fetch="AppRender.fetch"}(h||(h={})),(R||(R={})).executeRoute="Router.executeRoute",(g||(g={})).runHandler="Node.runHandler",(S||(S={})).runHandler="AppRouteRouteHandlers.runHandler",function(d){d.generateMetadata="ResolveMetadata.generateMetadata",d.generateViewport="ResolveMetadata.generateViewport"}(u||(u={})),(l||(l={})).execute="Middleware.execute";let y=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],I=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},Ke.__chunk_6631=(Ae,q,M)=>{"use strict";M.d(q,{RQ:()=>S,XH:()=>l});var F=M(8816),ee=M(6991),N=M(5927),E=M(1583),O=M(828),o=M(7908);function h(y){if(!y.body)return[y,y];let[I,d]=y.body.tee(),v=new Response(I,{status:y.status,statusText:y.statusText,headers:y.headers});Object.defineProperty(v,"url",{value:y.url});let m=new Response(d,{status:y.status,statusText:y.statusText,headers:y.headers});return Object.defineProperty(m,"url",{value:y.url}),[v,m]}var R=M(6195).Buffer;let g=y=>{let I=["/layout"];if(y.startsWith("/")){let d=y.split("/");for(let v=1;v<d.length+1;v++){let m=d.slice(0,v).join("/");m&&(m.endsWith("/page")||m.endsWith("/route")||(m=`${m}${m.endsWith("/")?"":"/"}layout`),I.push(m))}}return I};function S(y){var I,d;let v=[],{pagePath:m,urlPathname:k}=y;if(Array.isArray(y.tags)||(y.tags=[]),m)for(let U of g(m))U=`${N.zt}${U}`,(I=y.tags)!=null&&I.includes(U)||y.tags.push(U),v.push(U);if(k){let U=new URL(k,"http://n").pathname,J=`${N.zt}${U}`;(d=y.tags)!=null&&d.includes(J)||y.tags.push(J),v.push(J)}return v}function u(y,I){var d;y&&((d=y.requestEndedState)==null||d.ended)}function l(y){var I;if("__nextPatched"in(I=it.fetch)&&I.__nextPatched===!0)return;let d=function(v){let m=o.cache(k=>[]);return function(k,U){let J,G;if(U&&U.signal)return v(k,U);if(typeof k!="string"||U){let Re=typeof k=="string"||k instanceof URL?new Request(k,U):k;if(Re.method!=="GET"&&Re.method!=="HEAD"||Re.keepalive)return v(k,U);G=JSON.stringify([Re.method,Array.from(Re.headers.entries()),null,Re.redirect,null,Re.referrer,Re.referrerPolicy,null]),J=Re.url}else G='["GET",[],null,"follow",null,null,null,null]',J=k;let X=m(J);for(let Re=0,je=X.length;Re<je;Re+=1){let[qe,We]=X[Re];if(qe===G)return We.then(()=>{let at=X[Re][2];if(!at)throw Error("No cached response");let[Be,K]=h(at);return X[Re][2]=K,Be})}let Y=new AbortController,ne=v(k,{...U,signal:Y.signal}),ke=[G,ne,null];return X.push(ke),ne.then(Re=>{let[je,qe]=h(Re);return ke[2]=qe,je})}}(it.fetch);it.fetch=function(v,{serverHooks:{DynamicServerError:m},staticGenerationAsyncStorage:k}){let U=async(J,G)=>{var X,Y;let ne;try{(ne=new URL(J instanceof Request?J.url:J)).username="",ne.password=""}catch{ne=void 0}let ke=ne?.href??"",Re=Date.now(),je=(G==null||(X=G.method)==null?void 0:X.toUpperCase())||"GET",qe=(G==null||(Y=G.next)==null?void 0:Y.internal)===!0,We=process.env.NEXT_OTEL_FETCH_DISABLED==="1";return(0,ee.Yz)().trace(qe?F.Xy.internalFetch:F.k0.fetch,{hideSpan:We,kind:ee.MU.CLIENT,spanName:["fetch",je,ke].filter(Boolean).join(" "),attributes:{"http.url":ke,"http.method":je,"net.peer.name":ne?.hostname,"net.peer.port":ne?.port||void 0}},async()=>{var at;let Be,K,W;if(qe)return v(J,G);let B=k.getStore();if(!B||B.isDraftMode)return v(J,G);let fe=J&&typeof J=="object"&&typeof J.method=="string",De=_e=>G?.[_e]||(fe?J[_e]:null),Ie=_e=>{var Fe,Ue,ye;return(G==null||(Fe=G.next)==null?void 0:Fe[_e])!==void 0?G==null||(Ue=G.next)==null?void 0:Ue[_e]:fe?(ye=J.next)==null?void 0:ye[_e]:void 0},Ee=Ie("revalidate"),Le=function(_e,Fe){let Ue=[],ye=[];for(let pe=0;pe<_e.length;pe++){let me=_e[pe];if(typeof me!="string"?ye.push({tag:me,reason:"invalid type, must be a string"}):me.length>N.Ho?ye.push({tag:me,reason:`exceeded max length of ${N.Ho}`}):Ue.push(me),Ue.length>N.cv){console.warn(`Warning: exceeded max tag count for ${Fe}, dropped tags:`,_e.slice(pe).join(", "));break}}if(ye.length>0)for(let{tag:pe,reason:me}of(console.warn(`Warning: invalid tags passed to ${Fe}: `),ye))console.log(`tag: "${pe}" ${me}`);return Ue}(Ie("tags")||[],`fetch ${J.toString()}`);if(Array.isArray(Le))for(let _e of(B.tags||(B.tags=[]),Le))B.tags.includes(_e)||B.tags.push(_e);let ze=S(B),Ge=B.fetchCache,Xe=!!B.isUnstableNoStore,ot=De("cache"),rt="";typeof ot=="string"&&Ee!==void 0&&(fe&&ot==="default"||E.ZK(`fetch for ${ke} on ${B.urlPathname} specified "cache: ${ot}" and "revalidate: ${Ee}", only one should be specified.`),ot=void 0),ot==="force-cache"?Ee=!1:(ot==="no-cache"||ot==="no-store"||Ge==="force-no-store"||Ge==="only-no-store")&&(Ee=0),(ot==="no-cache"||ot==="no-store")&&(rt=`cache: ${ot}`),W=function(_e,Fe){try{let Ue;if(_e===!1)Ue=_e;else if(typeof _e=="number"&&!isNaN(_e)&&_e>-1)Ue=_e;else if(_e!==void 0)throw Error(`Invalid revalidate value "${_e}" on "${Fe}", must be a non-negative number or "false"`);return Ue}catch(Ue){if(Ue instanceof Error&&Ue.message.includes("Invalid revalidate"))throw Ue;return}}(Ee,B.urlPathname);let gt=De("headers"),bt=typeof gt?.get=="function"?gt:new Headers(gt||{}),ut=bt.get("authorization")||bt.get("cookie"),Et=!["get","head"].includes(((at=De("method"))==null?void 0:at.toLowerCase())||"get"),wt=(ut||Et)&&B.revalidate===0;switch(Ge){case"force-no-store":rt="fetchCache = force-no-store";break;case"only-no-store":if(ot==="force-cache"||W!==void 0&&(W===!1||W>0))throw Error(`cache: 'force-cache' used on fetch for ${ke} with 'export const fetchCache = 'only-no-store'`);rt="fetchCache = only-no-store";break;case"only-cache":if(ot==="no-store")throw Error(`cache: 'no-store' used on fetch for ${ke} with 'export const fetchCache = 'only-cache'`);break;case"force-cache":(Ee===void 0||Ee===0)&&(rt="fetchCache = force-cache",W=!1)}W===void 0?Ge==="default-cache"?(W=!1,rt="fetchCache = default-cache"):wt?(W=0,rt="auto no cache"):Ge==="default-no-store"?(W=0,rt="fetchCache = default-no-store"):Xe?(W=0,rt="noStore call"):(rt="auto cache",W=typeof B.revalidate!="boolean"&&B.revalidate!==void 0&&B.revalidate):rt||(rt=`revalidate: ${W}`),B.forceStatic&&W===0||wt||B.revalidate!==void 0&&(typeof W!="number"||B.revalidate!==!1&&(typeof B.revalidate!="number"||!(W<B.revalidate)))||(W===0&&(0,O.fl)(B,"revalidate: 0"),B.revalidate=W);let Ye=typeof W=="number"&&W>0||W===!1;if(B.incrementalCache&&Ye)try{Be=await B.incrementalCache.fetchCacheKey(ke,fe?J:G)}catch{console.error("Failed to generate cache key for",J)}let vt=B.nextFetchId??1;B.nextFetchId=vt+1;let jt=typeof W!="number"?N.BR:W,At=async(_e,Fe)=>{let Ue=["credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",..._e?[]:["signal"]];if(fe){let pe=J,me={body:pe._ogBody||pe.body};for(let Oe of Ue)me[Oe]=pe[Oe];J=new Request(pe.url,me)}else if(G){let{_ogBody:pe,body:me,signal:Oe,...st}=G;G={...st,body:pe||me,signal:_e?void 0:Oe}}let ye={...G,next:{...G?.next,fetchType:"origin",fetchIdx:vt}};return v(J,ye).then(async pe=>{if(_e||u(B,{start:Re,url:ke,cacheReason:Fe||rt,cacheStatus:W===0||Fe?"skip":"miss",status:pe.status,method:ye.method||"GET"}),pe.status===200&&B.incrementalCache&&Be&&Ye){let me=R.from(await pe.arrayBuffer());try{await B.incrementalCache.set(Be,{kind:"FETCH",data:{headers:Object.fromEntries(pe.headers.entries()),body:me.toString("base64"),status:pe.status,url:pe.url},revalidate:jt},{fetchCache:!0,revalidate:W,fetchUrl:ke,fetchIdx:vt,tags:Le})}catch(st){console.warn("Failed to set fetch cache",J,st)}let Oe=new Response(me,{headers:new Headers(pe.headers),status:pe.status});return Object.defineProperty(Oe,"url",{value:pe.url}),Oe}return pe})},Vt=()=>Promise.resolve(),qt=!1;if(Be&&B.incrementalCache){Vt=await B.incrementalCache.lock(Be);let _e=B.isOnDemandRevalidate?null:await B.incrementalCache.get(Be,{kindHint:"fetch",revalidate:W,fetchUrl:ke,fetchIdx:vt,tags:Le,softTags:ze});if(_e?await Vt():K="cache-control: no-cache (hard refresh)",_e?.value&&_e.value.kind==="FETCH")if(B.isRevalidate&&_e.isStale)qt=!0;else{if(_e.isStale&&(B.pendingRevalidates??={},!B.pendingRevalidates[Be])){let ye=At(!0).then(async pe=>({body:await pe.arrayBuffer(),headers:pe.headers,status:pe.status,statusText:pe.statusText})).finally(()=>{B.pendingRevalidates??={},delete B.pendingRevalidates[Be||""]});ye.catch(console.error),B.pendingRevalidates[Be]=ye}let Fe=_e.value.data;u(B,{start:Re,url:ke,cacheReason:rt,cacheStatus:"hit",status:Fe.status||200,method:G?.method||"GET"});let Ue=new Response(R.from(Fe.body,"base64"),{headers:Fe.headers,status:Fe.status});return Object.defineProperty(Ue,"url",{value:_e.value.data.url}),Ue}}if(B.isStaticGeneration&&G&&typeof G=="object"){let{cache:_e}=G;if(delete G.cache,!B.forceStatic&&_e==="no-store"){let ye=`no-store fetch ${J}${B.urlPathname?` ${B.urlPathname}`:""}`;(0,O.fl)(B,ye),B.revalidate=0;let pe=new m(ye);throw B.dynamicUsageErr=pe,B.dynamicUsageDescription=ye,pe}let Fe="next"in G,{next:Ue={}}=G;if(typeof Ue.revalidate=="number"&&(B.revalidate===void 0||typeof B.revalidate=="number"&&Ue.revalidate<B.revalidate)){if(!B.forceDynamic&&!B.forceStatic&&Ue.revalidate===0){let ye=`revalidate: 0 fetch ${J}${B.urlPathname?` ${B.urlPathname}`:""}`;(0,O.fl)(B,ye);let pe=new m(ye);throw B.dynamicUsageErr=pe,B.dynamicUsageDescription=ye,pe}B.forceStatic&&Ue.revalidate===0||(B.revalidate=Ue.revalidate)}Fe&&delete G.next}if(!Be||!qt)return At(!1,K).finally(Vt);{B.pendingRevalidates??={};let _e=B.pendingRevalidates[Be];if(_e){let Ue=await _e;return new Response(Ue.body,{headers:Ue.headers,status:Ue.status,statusText:Ue.statusText})}let Fe=At(!0,K).then(h);return(_e=Fe.then(async Ue=>{let ye=Ue[0];return{body:await ye.arrayBuffer(),headers:ye.headers,status:ye.status,statusText:ye.statusText}}).finally(()=>{if(Be){var Ue;(Ue=B.pendingRevalidates)!=null&&Ue[Be]&&delete B.pendingRevalidates[Be]}})).catch(()=>{}),B.pendingRevalidates[Be]=_e,Fe.then(Ue=>Ue[1])}})};return U.__nextPatched=!0,U.__nextGetStaticStore=()=>k,U._nextOriginalFetch=v,U}(d,y)}},Ke.__chunk_4828=(Ae,q,M)=>{"use strict";var F;M.d(q,{x:()=>F}),function(ee){ee.PAGES="PAGES",ee.PAGES_API="PAGES_API",ee.APP_PAGE="APP_PAGE",ee.APP_ROUTE="APP_ROUTE"}(F||(F={}))},Ke.__chunk_828=(Ae,q,M)=>{"use strict";M.d(q,{hQ:()=>h,FI:()=>O,TP:()=>o,fl:()=>R});var F=M(7908),ee=M(4363),N=M(8439);let E=typeof F.unstable_postpone=="function";function O(S){return{isDebugSkeleton:S,dynamicAccesses:[]}}function o(S,u){let l=new URL(S.urlPathname,"http://n").pathname;if(S.isUnstableCacheCallback)throw Error(`Route ${l} used "${u}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${u}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(S.dynamicShouldError)throw new N.G(`Route ${l} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${u}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(S.prerenderState)g(S.prerenderState,u,l);else if(S.revalidate=0,S.isStaticGeneration){let y=new ee.DynamicServerError(`Route ${l} couldn't be rendered statically because it used \`${u}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw S.dynamicUsageDescription=u,S.dynamicUsageStack=y.stack,y}}function h({reason:S,prerenderState:u,pathname:l}){g(u,S,l)}function R(S,u){S.prerenderState&&g(S.prerenderState,u,S.urlPathname)}function g(S,u,l){(function(){if(!E)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")})();let y=`Route ${l} needs to bail out of prerendering at this point because it used ${u}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;S.dynamicAccesses.push({stack:S.isDebugSkeleton?Error().stack:void 0,expression:u}),F.unstable_postpone(y)}},Ke.__chunk_5927=(Ae,q,M)=>{"use strict";M.d(q,{Ar:()=>g,BR:()=>d,EX:()=>h,Et:()=>R,Ho:()=>y,JT:()=>o,Qq:()=>N,Sx:()=>E,X_:()=>u,cv:()=>l,dN:()=>F,hd:()=>O,of:()=>S,y3:()=>ee,zt:()=>I});let F="nxtP",ee="x-prerender-revalidate",N="x-prerender-revalidate-if-generated",E=".prefetch.rsc",O=".rsc",o=".json",h=".meta",R="x-next-cache-tags",g="x-next-cache-soft-tags",S="x-next-revalidated-tags",u="x-next-revalidate-tag-token",l=128,y=256,I="_N_T_",d=31536e3,v={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...v,GROUP:(v.reactServerComponents,v.actionBrowser,v.appMetadataRoute,v.appRouteHandler,v.instrument,v.serverSideRendering,v.appPagesBrowser,v.middleware,v.api,v.reactServerComponents,v.actionBrowser,v.appMetadataRoute,v.appRouteHandler,v.serverSideRendering,v.appPagesBrowser,v.shared,v.instrument)})},Ke.__chunk_8439=(Ae,q,M)=>{"use strict";M.d(q,{G:()=>F});class F extends Error{constructor(...N){super(...N),this.code="NEXT_STATIC_GEN_BAILOUT"}}},Ke.__chunk_6947=(Ae,q,M)=>{"use strict";M.d(q,{j2:()=>g,M6:()=>R,eo:()=>h,uX:()=>o});var F,ee,N=M(8983),E=M(2296);(function(S){S[S.SeeOther=303]="SeeOther",S[S.TemporaryRedirect=307]="TemporaryRedirect",S[S.PermanentRedirect=308]="PermanentRedirect"})(F||(F={}));let O="NEXT_REDIRECT";function o(S,u){u===void 0&&(u="replace");let l=E.W.getStore();throw function(y,I,d){d===void 0&&(d=F.TemporaryRedirect);let v=Error(O);v.digest=O+";"+I+";"+y+";"+d+";";let m=N.O.getStore();return m&&(v.mutableCookies=m.mutableCookies),v}(S,u,l?.isAction?F.SeeOther:F.TemporaryRedirect)}function h(S){if(typeof S!="object"||S===null||!("digest"in S)||typeof S.digest!="string")return!1;let[u,l,y,I]=S.digest.split(";",4),d=Number(I);return u===O&&(l==="replace"||l==="push")&&typeof y=="string"&&!isNaN(d)&&d in F}function R(S){return h(S)?S.digest.split(";",3)[2]:null}function g(S){if(!h(S))throw Error("Not a redirect error");return Number(S.digest.split(";",4)[3])}(function(S){S.push="push",S.replace="replace"})(ee||(ee={}))},Ke.__chunk_4363=(Ae,q,M)=>{"use strict";M.r(q),M.d(q,{DynamicServerError:()=>ee,isDynamicServerError:()=>N});let F="DYNAMIC_SERVER_USAGE";class ee extends Error{constructor(O){super("Dynamic server usage: "+O),this.description=O,this.digest=F}}function N(E){return typeof E=="object"&&E!==null&&"digest"in E&&typeof E.digest=="string"&&E.digest===F}},Ke.__chunk_8264=(Ae,q,M)=>{"use strict";M.d(q,{D:()=>F});let F=M(796).createClientModuleProxy},Ke.__chunk_1583=(Ae,q,M)=>{"use strict";var F;M.d(q,{ZK:()=>d});let{env:ee,stdout:N}=((F=it)==null?void 0:F.process)??{},E=ee&&!ee.NO_COLOR&&(ee.FORCE_COLOR||N?.isTTY&&!ee.CI&&ee.TERM!=="dumb"),O=(v,m,k,U)=>{let J=v.substring(0,U)+k,G=v.substring(U+m.length),X=G.indexOf(m);return~X?J+O(G,m,k,X):J+G},o=(v,m,k=v)=>E?U=>{let J=""+U,G=J.indexOf(m,v.length);return~G?v+O(J,m,k,G)+m:v+J+m}:String,h=o("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m");o("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),o("\x1B[3m","\x1B[23m"),o("\x1B[4m","\x1B[24m"),o("\x1B[7m","\x1B[27m"),o("\x1B[8m","\x1B[28m"),o("\x1B[9m","\x1B[29m"),o("\x1B[30m","\x1B[39m");let R=o("\x1B[31m","\x1B[39m"),g=o("\x1B[32m","\x1B[39m"),S=o("\x1B[33m","\x1B[39m");o("\x1B[34m","\x1B[39m");let u=o("\x1B[35m","\x1B[39m");o("\x1B[38;2;173;127;168m","\x1B[39m"),o("\x1B[36m","\x1B[39m");let l=o("\x1B[37m","\x1B[39m");o("\x1B[90m","\x1B[39m"),o("\x1B[40m","\x1B[49m"),o("\x1B[41m","\x1B[49m"),o("\x1B[42m","\x1B[49m"),o("\x1B[43m","\x1B[49m"),o("\x1B[44m","\x1B[49m"),o("\x1B[45m","\x1B[49m"),o("\x1B[46m","\x1B[49m"),o("\x1B[47m","\x1B[49m");let y={wait:l(h("\u25CB")),error:R(h("\u2A2F")),warn:S(h("\u26A0")),ready:"\u25B2",info:l(h(" ")),event:g(h("\u2713")),trace:u(h("\xBB"))},I={log:"log",warn:"warn",error:"error"};function d(...v){(function(m,...k){(k[0]===""||k[0]===void 0)&&k.length===1&&k.shift();let U=m in I?I[m]:"log",J=y[m];k.length===0?console[U](""):console[U](" "+J,...k)})("warn",...v)}},Ke.__chunk_4155=(Ae,q,M)=>{var F;(()=>{var ee={226:function(o,h){(function(R,g){"use strict";var S="function",u="undefined",l="object",y="string",I="major",d="model",v="name",m="type",k="vendor",U="version",J="architecture",G="console",X="mobile",Y="tablet",ne="smarttv",ke="wearable",Re="embedded",je="Amazon",qe="Apple",We="ASUS",at="BlackBerry",Be="Browser",K="Chrome",W="Firefox",B="Google",fe="Huawei",De="Microsoft",Ie="Motorola",Ee="Opera",Le="Samsung",ze="Sharp",Ge="Sony",Xe="Xiaomi",ot="Zebra",rt="Facebook",gt="Chromium OS",bt="Mac OS",ut=function(ye,pe){var me={};for(var Oe in ye)pe[Oe]&&pe[Oe].length%2==0?me[Oe]=pe[Oe].concat(ye[Oe]):me[Oe]=ye[Oe];return me},Et=function(ye){for(var pe={},me=0;me<ye.length;me++)pe[ye[me].toUpperCase()]=ye[me];return pe},wt=function(ye,pe){return typeof ye===y&&Ye(pe).indexOf(Ye(ye))!==-1},Ye=function(ye){return ye.toLowerCase()},vt=function(ye,pe){if(typeof ye===y)return ye=ye.replace(/^\s\s*/,""),typeof pe===u?ye:ye.substring(0,350)},jt=function(ye,pe){for(var me,Oe,st,$e,Tt,Se,Qe=0;Qe<pe.length&&!Tt;){var dt=pe[Qe],lt=pe[Qe+1];for(me=Oe=0;me<dt.length&&!Tt&&dt[me];)if(Tt=dt[me++].exec(ye))for(st=0;st<lt.length;st++)Se=Tt[++Oe],typeof($e=lt[st])===l&&$e.length>0?$e.length===2?typeof $e[1]==S?this[$e[0]]=$e[1].call(this,Se):this[$e[0]]=$e[1]:$e.length===3?typeof $e[1]!==S||$e[1].exec&&$e[1].test?this[$e[0]]=Se?Se.replace($e[1],$e[2]):void 0:this[$e[0]]=Se?$e[1].call(this,Se,$e[2]):void 0:$e.length===4&&(this[$e[0]]=Se?$e[3].call(this,Se.replace($e[1],$e[2])):void 0):this[$e]=Se||g;Qe+=2}},At=function(ye,pe){for(var me in pe)if(typeof pe[me]===l&&pe[me].length>0){for(var Oe=0;Oe<pe[me].length;Oe++)if(wt(pe[me][Oe],ye))return me==="?"?g:me}else if(wt(pe[me],ye))return me==="?"?g:me;return ye},Vt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},qt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[U,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[U,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,U],[/opios[\/ ]+([\w\.]+)/i],[U,[v,Ee+" Mini"]],[/\bopr\/([\w\.]+)/i],[U,[v,Ee]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,U],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[U,[v,"UC"+Be]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[U,[v,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[U,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[U,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[U,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[U,[v,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+Be],U],[/\bfocus\/([\w\.]+)/i],[U,[v,W+" Focus"]],[/\bopt\/([\w\.]+)/i],[U,[v,Ee+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[U,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[U,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[U,[v,Ee+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[U,[v,"MIUI "+Be]],[/fxios\/([-\w\.]+)/i],[U,[v,W]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360 "+Be]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1 "+Be],U],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],U],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[v,U],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,rt],U],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[v,U],[/\bgsa\/([\w\.]+) .*safari\//i],[U,[v,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[U,[v,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[U,[v,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,K+" WebView"],U],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[U,[v,"Android "+Be]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,U],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[U,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[U,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[U,At,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[v,U],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],U],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[U,[v,W+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[v,U],[/(cobalt)\/([\w\.]+)/i],[v,[U,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[J,"amd64"]],[/(ia32(?=;))/i],[[J,Ye]],[/((?:i[346]|x)86)[;\)]/i],[[J,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[J,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[J,"armhf"]],[/windows (ce|mobile); ppc;/i],[[J,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[J,/ower/,"",Ye]],[/(sun4\w)[;\)]/i],[[J,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[J,Ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[k,Le],[m,Y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[k,Le],[m,X]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[k,qe],[m,X]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[k,qe],[m,Y]],[/(macintosh);/i],[d,[k,qe]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[k,ze],[m,X]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[k,fe],[m,Y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[k,fe],[m,X]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[k,Xe],[m,X]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[k,Xe],[m,Y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[k,"OPPO"],[m,X]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[k,"Vivo"],[m,X]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[k,"Realme"],[m,X]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[k,Ie],[m,X]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[k,Ie],[m,Y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[k,"LG"],[m,Y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[k,"LG"],[m,X]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[k,"Lenovo"],[m,Y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[k,"Nokia"],[m,X]],[/(pixel c)\b/i],[d,[k,B],[m,Y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[k,B],[m,X]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[k,Ge],[m,X]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[k,Ge],[m,Y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[k,"OnePlus"],[m,X]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[k,je],[m,Y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[k,je],[m,X]],[/(playbook);[-\w\),; ]+(rim)/i],[d,k,[m,Y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[k,at],[m,X]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[k,We],[m,Y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[k,We],[m,X]],[/(nexus 9)/i],[d,[k,"HTC"],[m,Y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[d,/_/g," "],[m,X]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[k,"Acer"],[m,Y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[k,"Meizu"],[m,X]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,d,[m,X]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[k,d,[m,Y]],[/(surface duo)/i],[d,[k,De],[m,Y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[k,"Fairphone"],[m,X]],[/(u304aa)/i],[d,[k,"AT&T"],[m,X]],[/\bsie-(\w*)/i],[d,[k,"Siemens"],[m,X]],[/\b(rct\w+) b/i],[d,[k,"RCA"],[m,Y]],[/\b(venue[\d ]{2,7}) b/i],[d,[k,"Dell"],[m,Y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[k,"Verizon"],[m,Y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[k,"Barnes & Noble"],[m,Y]],[/\b(tm\d{3}\w+) b/i],[d,[k,"NuVision"],[m,Y]],[/\b(k88) b/i],[d,[k,"ZTE"],[m,Y]],[/\b(nx\d{3}j) b/i],[d,[k,"ZTE"],[m,X]],[/\b(gen\d{3}) b.+49h/i],[d,[k,"Swiss"],[m,X]],[/\b(zur\d{3}) b/i],[d,[k,"Swiss"],[m,Y]],[/\b((zeki)?tb.*\b) b/i],[d,[k,"Zeki"],[m,Y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[k,"Dragon Touch"],d,[m,Y]],[/\b(ns-?\w{0,9}) b/i],[d,[k,"Insignia"],[m,Y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[k,"NextBook"],[m,Y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[k,"Voice"],d,[m,X]],[/\b(lvtel\-)?(v1[12]) b/i],[[k,"LvTel"],d,[m,X]],[/\b(ph-1) /i],[d,[k,"Essential"],[m,X]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[k,"Envizen"],[m,Y]],[/\b(trio[-\w\. ]+) b/i],[d,[k,"MachSpeed"],[m,Y]],[/\btu_(1491) b/i],[d,[k,"Rotor"],[m,Y]],[/(shield[\w ]+) b/i],[d,[k,"Nvidia"],[m,Y]],[/(sprint) (\w+)/i],[k,d,[m,X]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[k,De],[m,X]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[k,ot],[m,Y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[k,ot],[m,X]],[/smart-tv.+(samsung)/i],[k,[m,ne]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[k,Le],[m,ne]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[m,ne]],[/(apple) ?tv/i],[k,[d,qe+" TV"],[m,ne]],[/crkey/i],[[d,K+"cast"],[k,B],[m,ne]],[/droid.+aft(\w)( bui|\))/i],[d,[k,je],[m,ne]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[k,ze],[m,ne]],[/(bravia[\w ]+)( bui|\))/i],[d,[k,Ge],[m,ne]],[/(mitv-\w{5}) bui/i],[d,[k,Xe],[m,ne]],[/Hbbtv.*(technisat) (.*);/i],[k,d,[m,ne]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,vt],[d,vt],[m,ne]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,ne]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[k,d,[m,G]],[/droid.+; (shield) bui/i],[d,[k,"Nvidia"],[m,G]],[/(playstation [345portablevi]+)/i],[d,[k,Ge],[m,G]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[k,De],[m,G]],[/((pebble))app/i],[k,d,[m,ke]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[k,qe],[m,ke]],[/droid.+; (glass) \d/i],[d,[k,B],[m,ke]],[/droid.+; (wt63?0{2,3})\)/i],[d,[k,ot],[m,ke]],[/(quest( 2| pro)?)/i],[d,[k,rt],[m,ke]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[m,Re]],[/(aeobc)\b/i],[d,[k,je],[m,Re]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[m,X]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[m,Y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,Y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,X]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[U,[v,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[U,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,U],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[U,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,U],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[v,[U,At,Vt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,"Windows"],[U,At,Vt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[U,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,bt],[U,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[U,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,U],[/\(bb(10);/i],[U,[v,at]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[U,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[U,[v,W+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[U,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[U,[v,"watchOS"]],[/crkey\/([\d\.]+)/i],[U,[v,K+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,gt],U],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,U],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],U],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,U]]},_e=function(ye,pe){if(typeof ye===l&&(pe=ye,ye=g),!(this instanceof _e))return new _e(ye,pe).getResult();var me=typeof R!==u&&R.navigator?R.navigator:g,Oe=ye||(me&&me.userAgent?me.userAgent:""),st=me&&me.userAgentData?me.userAgentData:g,$e=pe?ut(qt,pe):qt,Tt=me&&me.userAgent==Oe;return this.getBrowser=function(){var Se,Qe={};return Qe[v]=g,Qe[U]=g,jt.call(Qe,Oe,$e.browser),Qe[I]=typeof(Se=Qe[U])===y?Se.replace(/[^\d\.]/g,"").split(".")[0]:g,Tt&&me&&me.brave&&typeof me.brave.isBrave==S&&(Qe[v]="Brave"),Qe},this.getCPU=function(){var Se={};return Se[J]=g,jt.call(Se,Oe,$e.cpu),Se},this.getDevice=function(){var Se={};return Se[k]=g,Se[d]=g,Se[m]=g,jt.call(Se,Oe,$e.device),Tt&&!Se[m]&&st&&st.mobile&&(Se[m]=X),Tt&&Se[d]=="Macintosh"&&me&&typeof me.standalone!==u&&me.maxTouchPoints&&me.maxTouchPoints>2&&(Se[d]="iPad",Se[m]=Y),Se},this.getEngine=function(){var Se={};return Se[v]=g,Se[U]=g,jt.call(Se,Oe,$e.engine),Se},this.getOS=function(){var Se={};return Se[v]=g,Se[U]=g,jt.call(Se,Oe,$e.os),Tt&&!Se[v]&&st&&st.platform!="Unknown"&&(Se[v]=st.platform.replace(/chrome os/i,gt).replace(/macos/i,bt)),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Oe},this.setUA=function(Se){return Oe=typeof Se===y&&Se.length>350?vt(Se,350):Se,this},this.setUA(Oe),this};_e.VERSION="1.0.35",_e.BROWSER=Et([v,U,I]),_e.CPU=Et([J]),_e.DEVICE=Et([d,k,m,G,X,ne,Y,ke,Re]),_e.ENGINE=_e.OS=Et([v,U]),typeof h!==u?(o.exports&&(h=o.exports=_e),h.UAParser=_e):M.amdO?(F=function(){return _e}.call(q,M,q,Ae))!==void 0&&(Ae.exports=F):typeof R!==u&&(R.UAParser=_e);var Fe=typeof R!==u&&(R.jQuery||R.Zepto);if(Fe&&!Fe.ua){var Ue=new _e;Fe.ua=Ue.getResult(),Fe.ua.get=function(){return Ue.getUA()},Fe.ua.set=function(ye){Ue.setUA(ye);var pe=Ue.getResult();for(var me in pe)Fe.ua[me]=pe[me]}}})(typeof window=="object"?window:this)}},N={};function E(o){var h=N[o];if(h!==void 0)return h.exports;var R=N[o]={exports:{}},g=!0;try{ee[o].call(R.exports,R,R.exports,E),g=!1}finally{g&&delete N[o]}return R.exports}E.ab="//";var O=E(226);Ae.exports=O})()},Ke.__chunk_7908=(Ae,q,M)=>{"use strict";Ae.exports=M(8949)},Ke.__chunk_8949=(Ae,q)=>{"use strict";var M=Object.assign,F={current:null};function ee(){return new Map}if(typeof fetch=="function"){var N=fetch,E=function(K,W){var B=F.current;if(!B||W&&W.signal&&W.signal!==B.getCacheSignal())return N(K,W);if(typeof K!="string"||W){var fe=typeof K=="string"||K instanceof URL?new Request(K,W):K;if(fe.method!=="GET"&&fe.method!=="HEAD"||fe.keepalive)return N(K,W);var De=JSON.stringify([fe.method,Array.from(fe.headers.entries()),null,fe.redirect,null,fe.referrer,fe.referrerPolicy,null]);fe=fe.url}else De='["GET",[],null,"follow",null,null,null,null]',fe=K;var Ie=B.getCacheForType(ee);if((B=Ie.get(fe))===void 0)K=N(K,W),Ie.set(fe,[De,K]);else{for(fe=0,Ie=B.length;fe<Ie;fe+=2){var Ee=B[fe+1];if(B[fe]===De)return(K=Ee).then(function(Le){return Le.clone()})}K=N(K,W),B.push(De,K)}return K.then(function(Le){return Le.clone()})};M(E,N);try{fetch=E}catch{try{it.fetch=E}catch{console.warn("React was unable to patch the fetch() function in this environment. Suspensey APIs might not work correctly as a result.")}}}var O={current:null},o={ReactCurrentDispatcher:O,ReactCurrentOwner:{current:null}};function h(K){var W="https://react.dev/errors/"+K;if(1<arguments.length){W+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)W+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+K+"; visit "+W+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R=Array.isArray,g=Symbol.for("react.element"),S=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),I=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),k=Symbol.iterator,U=Object.prototype.hasOwnProperty,J=o.ReactCurrentOwner;function G(K){return typeof K=="object"&&K!==null&&K.$$typeof===g}var X=/\/+/g;function Y(K,W){var B,fe;return typeof K=="object"&&K!==null&&K.key!=null?(B=""+K.key,fe={"=":"=0",":":"=2"},"$"+B.replace(/[=:]/g,function(De){return fe[De]})):W.toString(36)}function ne(){}function ke(K,W,B){if(K==null)return K;var fe=[],De=0;return function Ie(Ee,Le,ze,Ge,Xe){var ot,rt,gt,bt=typeof Ee;(bt==="undefined"||bt==="boolean")&&(Ee=null);var ut=!1;if(Ee===null)ut=!0;else switch(bt){case"string":case"number":ut=!0;break;case"object":switch(Ee.$$typeof){case g:case S:ut=!0;break;case m:return Ie((ut=Ee._init)(Ee._payload),Le,ze,Ge,Xe)}}if(ut)return Xe=Xe(Ee),ut=Ge===""?"."+Y(Ee,0):Ge,R(Xe)?(ze="",ut!=null&&(ze=ut.replace(X,"$&/")+"/"),Ie(Xe,Le,ze,"",function(Ye){return Ye})):Xe!=null&&(G(Xe)&&(ot=Xe,rt=ze+(!Xe.key||Ee&&Ee.key===Xe.key?"":(""+Xe.key).replace(X,"$&/")+"/")+ut,Xe={$$typeof:g,type:ot.type,key:rt,ref:ot.ref,props:ot.props,_owner:ot._owner}),Le.push(Xe)),1;ut=0;var Et=Ge===""?".":Ge+":";if(R(Ee))for(var wt=0;wt<Ee.length;wt++)bt=Et+Y(Ge=Ee[wt],wt),ut+=Ie(Ge,Le,ze,bt,Xe);else if(typeof(wt=(gt=Ee)===null||typeof gt!="object"?null:typeof(gt=k&&gt[k]||gt["@@iterator"])=="function"?gt:null)=="function")for(Ee=wt.call(Ee),wt=0;!(Ge=Ee.next()).done;)bt=Et+Y(Ge=Ge.value,wt++),ut+=Ie(Ge,Le,ze,bt,Xe);else if(bt==="object"){if(typeof Ee.then=="function")return Ie(function(Ye){switch(Ye.status){case"fulfilled":return Ye.value;case"rejected":throw Ye.reason;default:switch(typeof Ye.status=="string"?Ye.then(ne,ne):(Ye.status="pending",Ye.then(function(vt){Ye.status==="pending"&&(Ye.status="fulfilled",Ye.value=vt)},function(vt){Ye.status==="pending"&&(Ye.status="rejected",Ye.reason=vt)})),Ye.status){case"fulfilled":return Ye.value;case"rejected":throw Ye.reason}}throw Ye}(Ee),Le,ze,Ge,Xe);throw Error(h(31,(Le=String(Ee))==="[object Object]"?"object with keys {"+Object.keys(Ee).join(", ")+"}":Le))}return ut}(K,fe,"","",function(Ie){return W.call(B,Ie,De++)}),fe}function Re(K){if(K._status===-1){var W=K._result;(W=W()).then(function(B){(K._status===0||K._status===-1)&&(K._status=1,K._result=B)},function(B){(K._status===0||K._status===-1)&&(K._status=2,K._result=B)}),K._status===-1&&(K._status=0,K._result=W)}if(K._status===1)return K._result.default;throw K._result}function je(){return new WeakMap}function qe(){return{s:0,v:void 0,o:null,p:null}}var We={transition:null};function at(){}var Be=typeof reportError=="function"?reportError:function(K){console.error(K)};q.Children={map:ke,forEach:function(K,W,B){ke(K,function(){W.apply(this,arguments)},B)},count:function(K){var W=0;return ke(K,function(){W++}),W},toArray:function(K){return ke(K,function(W){return W})||[]},only:function(K){if(!G(K))throw Error(h(143));return K}},q.Fragment=u,q.Profiler=y,q.StrictMode=l,q.Suspense=d,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,q.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentCache:F},q.cache=function(K){return function(){var W=F.current;if(!W)return K.apply(null,arguments);var B=W.getCacheForType(je);(W=B.get(K))===void 0&&(W=qe(),B.set(K,W)),B=0;for(var fe=arguments.length;B<fe;B++){var De=arguments[B];if(typeof De=="function"||typeof De=="object"&&De!==null){var Ie=W.o;Ie===null&&(W.o=Ie=new WeakMap),(W=Ie.get(De))===void 0&&(W=qe(),Ie.set(De,W))}else(Ie=W.p)===null&&(W.p=Ie=new Map),(W=Ie.get(De))===void 0&&(W=qe(),Ie.set(De,W))}if(W.s===1)return W.v;if(W.s===2)throw W.v;try{var Ee=K.apply(null,arguments);return(B=W).s=1,B.v=Ee}catch(Le){throw(Ee=W).s=2,Ee.v=Le,Le}}},q.cloneElement=function(K,W,B){if(K==null)throw Error(h(267,K));var fe=M({},K.props),De=K.key,Ie=K.ref,Ee=K._owner;if(W!=null){if(W.ref!==void 0&&(Ie=W.ref,Ee=J.current),W.key!==void 0&&(De=""+W.key),K.type&&K.type.defaultProps)var Le=K.type.defaultProps;for(ze in W)U.call(W,ze)&&ze!=="key"&&ze!=="ref"&&ze!=="__self"&&ze!=="__source"&&(fe[ze]=W[ze]===void 0&&Le!==void 0?Le[ze]:W[ze])}var ze=arguments.length-2;if(ze===1)fe.children=B;else if(1<ze){Le=Array(ze);for(var Ge=0;Ge<ze;Ge++)Le[Ge]=arguments[Ge+2];fe.children=Le}return{$$typeof:g,type:K.type,key:De,ref:Ie,props:fe,_owner:Ee}},q.createElement=function(K,W,B){var fe,De={},Ie=null,Ee=null;if(W!=null)for(fe in W.ref!==void 0&&(Ee=W.ref),W.key!==void 0&&(Ie=""+W.key),W)U.call(W,fe)&&fe!=="key"&&fe!=="ref"&&fe!=="__self"&&fe!=="__source"&&(De[fe]=W[fe]);var Le=arguments.length-2;if(Le===1)De.children=B;else if(1<Le){for(var ze=Array(Le),Ge=0;Ge<Le;Ge++)ze[Ge]=arguments[Ge+2];De.children=ze}if(K&&K.defaultProps)for(fe in Le=K.defaultProps)De[fe]===void 0&&(De[fe]=Le[fe]);return{$$typeof:g,type:K,key:Ie,ref:Ee,props:De,_owner:J.current}},q.createRef=function(){return{current:null}},q.forwardRef=function(K){return{$$typeof:I,render:K}},q.isValidElement=G,q.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:Re}},q.memo=function(K,W){return{$$typeof:v,type:K,compare:W===void 0?null:W}},q.startTransition=function(K){var W=We.transition,B=new Set;We.transition={_callbacks:B};var fe=We.transition;try{var De=K();typeof De=="object"&&De!==null&&typeof De.then=="function"&&(B.forEach(function(Ie){return Ie(fe,De)}),De.then(at,Be))}catch(Ie){Be(Ie)}finally{We.transition=W}},q.use=function(K){return O.current.use(K)},q.useCallback=function(K,W){return O.current.useCallback(K,W)},q.useDebugValue=function(){},q.useId=function(){return O.current.useId()},q.useMemo=function(K,W){return O.current.useMemo(K,W)},q.version="18.3.0-canary-14898b6a9-20240318"},Ke.__chunk_796=(Ae,q,M)=>{"use strict";Ae.exports=M(1651)},Ke.__chunk_1651=(Ae,q,M)=>{"use strict";var F=M(7908),ee=M(5105),N=null,E=0;function O(s,f){if(f.byteLength!==0)if(2048<f.byteLength)0<E&&(s.enqueue(new Uint8Array(N.buffer,0,E)),N=new Uint8Array(2048),E=0),s.enqueue(f);else{var x=N.length-E;x<f.byteLength&&(x===0?s.enqueue(N):(N.set(f.subarray(0,x),E),s.enqueue(N),f=f.subarray(x)),N=new Uint8Array(2048),E=0),N.set(f,E),E+=f.byteLength}return!0}var o=new TextEncoder;function h(s,f){typeof s.error=="function"?s.error(f):s.close()}var R=Symbol.for("react.client.reference"),g=Symbol.for("react.server.reference");function S(s,f,x){return Object.defineProperties(s,{$$typeof:{value:R},$$id:{value:f},$$async:{value:x}})}var u=Function.prototype.bind,l=Array.prototype.slice;function y(){var s=u.apply(this,arguments);if(this.$$typeof===g){var f=l.call(arguments,1);return Object.defineProperties(s,{$$typeof:{value:g},$$id:{value:this.$$id},$$bound:{value:this.$$bound?this.$$bound.concat(f):f},bind:{value:y}})}return s}var I=Promise.prototype,d={get:function(s,f){switch(f){case"$$typeof":return s.$$typeof;case"$$id":return s.$$id;case"$$async":return s.$$async;case"name":return s.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(s.name)+"."+String(f)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function v(s,f){switch(f){case"$$typeof":return s.$$typeof;case"$$id":return s.$$id;case"$$async":return s.$$async;case"name":return s.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var x=s.$$id;return s.default=S(function(){throw Error("Attempted to call the default export of "+x+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},s.$$id+"#",s.$$async),!0;case"then":if(s.then)return s.then;if(s.$$async)return;var T=S({},s.$$id,!0),A=new Proxy(T,m);return s.status="fulfilled",s.value=A,s.then=S(function(ce){return Promise.resolve(ce(A))},s.$$id+"#then",!1)}if(typeof f=="symbol")throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(T=s[f])||(Object.defineProperty(T=S(function(){throw Error("Attempted to call "+String(f)+"() from the server but "+String(f)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},s.$$id+"#"+f,s.$$async),"name",{value:f}),T=s[f]=new Proxy(T,d)),T}var m={get:function(s,f){return v(s,f)},getOwnPropertyDescriptor:function(s,f){var x=Object.getOwnPropertyDescriptor(s,f);return x||(x={value:v(s,f),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(s,f,x)),x},getPrototypeOf:function(){return I},set:function(){throw Error("Cannot assign to a client module from a server module.")}},k={prefetchDNS:function(s){if(typeof s=="string"&&s){var f=st();if(f){var x=f.hints,T="D|"+s;x.has(T)||(x.add(T),$e(f,"D",s))}}},preconnect:function(s,f){if(typeof s=="string"){var x=st();if(x){var T=x.hints,A="C|"+(f??"null")+"|"+s;T.has(A)||(T.add(A),typeof f=="string"?$e(x,"C",[s,f]):$e(x,"C",s))}}},preload:function(s,f,x){if(typeof s=="string"){var T=st();if(T){var A=T.hints,ce="L";if(f==="image"&&x){var D=x.imageSrcSet,we=x.imageSizes,ge="";typeof D=="string"&&D!==""?(ge+="["+D+"]",typeof we=="string"&&(ge+="["+we+"]")):ge+="[][]"+s,ce+="[image]"+ge}else ce+="["+f+"]"+s;A.has(ce)||(A.add(ce),(x=U(x))?$e(T,"L",[s,f,x]):$e(T,"L",[s,f]))}}},preloadModule:function(s,f){if(typeof s=="string"){var x=st();if(x){var T=x.hints,A="m|"+s;if(!T.has(A))return T.add(A),(f=U(f))?$e(x,"m",[s,f]):$e(x,"m",s)}}},preinitStyle:function(s,f,x){if(typeof s=="string"){var T=st();if(T){var A=T.hints,ce="S|"+s;if(!A.has(ce))return A.add(ce),(x=U(x))?$e(T,"S",[s,typeof f=="string"?f:0,x]):typeof f=="string"?$e(T,"S",[s,f]):$e(T,"S",s)}}},preinitScript:function(s,f){if(typeof s=="string"){var x=st();if(x){var T=x.hints,A="X|"+s;if(!T.has(A))return T.add(A),(f=U(f))?$e(x,"X",[s,f]):$e(x,"X",s)}}},preinitModuleScript:function(s,f){if(typeof s=="string"){var x=st();if(x){var T=x.hints,A="M|"+s;if(!T.has(A))return T.add(A),(f=U(f))?$e(x,"M",[s,f]):$e(x,"M",s)}}}};function U(s){if(s==null)return null;var f,x=!1,T={};for(f in s)s[f]!=null&&(x=!0,T[f]=s[f]);return x?T:null}var J=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,G=typeof AsyncLocalStorage=="function",X=G?new AsyncLocalStorage:null;typeof async_hooks=="object"&&async_hooks.createHook,typeof async_hooks=="object"&&async_hooks.executionAsyncId;var Y=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),ke=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Be=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var K=Symbol.iterator,W=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function B(){}var fe=null;function De(){if(fe===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var s=fe;return fe=null,s}var Ie=null,Ee=0,Le=null;function ze(){var s=Le||[];return Le=null,s}var Ge={useMemo:function(s){return s()},useCallback:function(s){return s},useDebugValue:function(){},useDeferredValue:Xe,useTransition:Xe,readContext:rt,useContext:rt,useReducer:Xe,useRef:Xe,useState:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useImperativeHandle:Xe,useEffect:Xe,useId:function(){if(Ie===null)throw Error("useId can only be used while React is rendering");var s=Ie.identifierCount++;return":"+Ie.identifierPrefix+"S"+s.toString(32)+":"},useSyncExternalStore:Xe,useCacheRefresh:function(){return ot},useMemoCache:function(s){for(var f=Array(s),x=0;x<s;x++)f[x]=Be;return f},use:function(s){if(s!==null&&typeof s=="object"||typeof s=="function"){if(typeof s.then=="function"){var f=Ee;return Ee+=1,Le===null&&(Le=[]),function(x,T,A){switch((A=x[A])===void 0?x.push(T):A!==T&&(T.then(B,B),T=A),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:if(typeof T.status!="string")switch((x=T).status="pending",x.then(function(ce){if(T.status==="pending"){var D=T;D.status="fulfilled",D.value=ce}},function(ce){if(T.status==="pending"){var D=T;D.status="rejected",D.reason=ce}}),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}throw fe=T,W}}(Le,s,f)}s.$$typeof===ke&&rt()}throw s.$$typeof===R?s.value!=null&&s.value.$$typeof===ke?Error("Cannot read a Client Context from a Server Component."):Error("Cannot use() an already resolved Client Reference."):Error("An unsupported type was passed to use(): "+String(s))}};function Xe(){throw Error("This Hook is not supported in Server Components.")}function ot(){throw Error("Refreshing the cache is not supported in Server Components.")}function rt(){throw Error("Cannot read a Client Context from a Server Component.")}function gt(){return new AbortController().signal}function bt(){var s=st();return s?s.cache:new Map}var ut={getCacheSignal:function(){var s=bt(),f=s.get(gt);return f===void 0&&(f=gt(),s.set(gt,f)),f},getCacheForType:function(s){var f=bt(),x=f.get(s);return x===void 0&&(x=s(),f.set(s,x)),x}},Et=Array.isArray,wt=Object.getPrototypeOf;function Ye(s){return Object.prototype.toString.call(s).replace(/^\[object (.*)\]$/,function(f,x){return x})}function vt(s){switch(typeof s){case"string":return JSON.stringify(10>=s.length?s:s.slice(0,10)+"...");case"object":return Et(s)?"[...]":s!==null&&s.$$typeof===jt?"client":(s=Ye(s))==="Object"?"{...}":s;case"function":return s.$$typeof===jt?"client":(s=s.displayName||s.name)?"function "+s:"function";default:return String(s)}}var jt=Symbol.for("react.client.reference");function At(s,f){var x=Ye(s);if(x!=="Object"&&x!=="Array")return x;x=-1;var T=0;if(Et(s)){for(var A="[",ce=0;ce<s.length;ce++){0<ce&&(A+=", ");var D=s[ce];D=typeof D=="object"&&D!==null?At(D):vt(D),""+ce===f?(x=A.length,T=D.length,A+=D):A=10>D.length&&40>A.length+D.length?A+D:A+"..."}A+="]"}else if(s.$$typeof===Y)A="<"+function oe(Te){if(typeof Te=="string")return Te;switch(Te){case je:return"Suspense";case qe:return"SuspenseList"}if(typeof Te=="object")switch(Te.$$typeof){case Re:return oe(Te.render);case We:return oe(Te.type);case at:var pt=Te._payload;Te=Te._init;try{return oe(Te(pt))}catch{}}return""}(s.type)+"/>";else{if(s.$$typeof===jt)return"client";for(D=0,A="{",ce=Object.keys(s);D<ce.length;D++){0<D&&(A+=", ");var we=ce[D],ge=JSON.stringify(we);A+=('"'+we+'"'===ge?we:ge)+": ",ge=typeof(ge=s[we])=="object"&&ge!==null?At(ge):vt(ge),we===f?(x=A.length,T=ge.length,A+=ge):A=10>ge.length&&40>A.length+ge.length?A+ge:A+"..."}A+="}"}return f===void 0?A:-1<x&&0<T?`
  `+A+`
  `+(s=" ".repeat(x)+"^".repeat(T)):`
  `+A}var Vt=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qt=F.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!qt)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var _e=Object.prototype,Fe=JSON.stringify,Ue=qt.ReactCurrentCache,ye=Vt.ReactCurrentDispatcher;function pe(s){console.error(s)}function me(){}var Oe=null;function st(){if(Oe)return Oe;if(G){var s=X.getStore();if(s)return s}return null}function $e(s,f,x){x=Fe(x),f="H"+f,f=(s.nextChunkId++).toString(16)+":"+f,x=o.encode(f+x+`
`),s.completedHintChunks.push(x),function(T){if(T.flushScheduled===!1&&T.pingedTasks.length===0&&T.destination!==null){var A=T.destination;T.flushScheduled=!0,setTimeout(function(){return Qt(T,A)},0)}}(s)}function Tt(s){if(s.status==="fulfilled")return s.value;throw s.status==="rejected"?s.reason:s}function Se(s,f,x,T,A){var ce=f.thenableState;if(f.thenableState=null,Ee=0,Le=ce,typeof(T=T(A,void 0))=="object"&&T!==null&&typeof T.then=="function"){if((A=T).status==="fulfilled")return A.value;T=function(D){switch(D.status){case"fulfilled":case"rejected":break;default:typeof D.status!="string"&&(D.status="pending",D.then(function(we){D.status==="pending"&&(D.status="fulfilled",D.value=we)},function(we){D.status==="pending"&&(D.status="rejected",D.reason=we)}))}return{$$typeof:at,_payload:D,_init:Tt}}(T)}return A=f.keyPath,ce=f.implicitSlot,x!==null?f.keyPath=A===null?x:A+","+x:A===null&&(f.implicitSlot=!0),s=Zt(s,f,Kr,"",T),f.keyPath=A,f.implicitSlot=ce,s}function Qe(s,f){var x=s.pingedTasks;x.push(f),x.length===1&&(s.flushScheduled=s.destination!==null,setTimeout(function(){return Ft(s)},0))}function dt(s,f,x,T,A){s.pendingChunks++;var ce=s.nextChunkId++;typeof f=="object"&&f!==null&&s.writtenObjects.set(f,ce);var D={id:ce,status:0,model:f,keyPath:x,implicitSlot:T,ping:function(){return Qe(s,D)},toJSON:function(we,ge){var oe=D.keyPath,Te=D.implicitSlot;try{var pt=Zt(s,D,this,we,ge)}catch(Ut){if(we=Ut===W?De():Ut,ge=typeof(ge=D.model)=="object"&&ge!==null&&(ge.$$typeof===Y||ge.$$typeof===at),typeof we=="object"&&we!==null&&typeof we.then=="function"){var et=(pt=dt(s,D.model,D.keyPath,D.implicitSlot,s.abortableTasks)).ping;we.then(et,et),pt.thenableState=ze(),D.keyPath=oe,D.implicitSlot=Te,pt=ge?"$L"+pt.id.toString(16):lt(pt.id)}else if(D.keyPath=oe,D.implicitSlot=Te,ge)s.pendingChunks++,oe=s.nextChunkId++,Te=ve(s,we),ar(s,oe,Te),pt="$L"+oe.toString(16);else throw we}return pt},thenableState:null};return A.add(D),D}function lt(s){return"$"+s.toString(16)}function Ct(s,f,x){return s=Fe(x),f=f.toString(16)+":"+s+`
`,o.encode(f)}function Wr(s,f,x,T){var A=T.$$async?T.$$id+"#async":T.$$id,ce=s.writtenClientReferences,D=ce.get(A);if(D!==void 0)return f[0]===Y&&x==="1"?"$L"+D.toString(16):lt(D);try{var we=s.bundlerConfig,ge=T.$$id;D="";var oe=we[ge];if(oe)D=oe.name;else{var Te=ge.lastIndexOf("#");if(Te!==-1&&(D=ge.slice(Te+1),oe=we[ge.slice(0,Te)]),!oe)throw Error('Could not find the module "'+ge+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}var pt=T.$$async===!0?[oe.id,oe.chunks,D,1]:[oe.id,oe.chunks,D];s.pendingChunks++;var et=s.nextChunkId++,Ut=Fe(pt),tr=et.toString(16)+":I"+Ut+`
`,Ar=o.encode(tr);return s.completedImportChunks.push(Ar),ce.set(A,et),f[0]===Y&&x==="1"?"$L"+et.toString(16):lt(et)}catch(Cr){return s.pendingChunks++,f=s.nextChunkId++,x=ve(s,Cr),ar(s,f,x),lt(f)}}function ir(s,f){return f=dt(s,f,null,!1,s.abortableTasks),or(s,f),f.id}var tt=!1;function Zt(s,f,x,T,A){if(f.model=A,A===Y)return"$";if(A===null)return null;if(typeof A=="object"){switch(A.$$typeof){case Y:if((T=(x=s.writtenObjects).get(A))!==void 0){if(tt!==A)return lt(T===-1?s=ir(s,A):T);tt=null}else x.set(A,-1);return function D(we,ge,oe,Te,pt,et){if(pt!=null)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if(typeof oe=="function")return oe.$$typeof===R?[Y,oe,Te,et]:Se(we,ge,Te,oe,et);if(typeof oe=="string")return[Y,oe,Te,et];if(typeof oe=="symbol")return oe===ne&&Te===null?(Te=ge.implicitSlot,ge.keyPath===null&&(ge.implicitSlot=!0),we=Zt(we,ge,Kr,"",et.children),ge.implicitSlot=Te,we):[Y,oe,Te,et];if(oe!=null&&typeof oe=="object"){if(oe.$$typeof===R)return[Y,oe,Te,et];switch(oe.$$typeof){case at:return D(we,ge,oe=(0,oe._init)(oe._payload),Te,pt,et);case Re:return Se(we,ge,Te,oe.render,et);case We:return D(we,ge,oe.type,Te,pt,et)}}throw Error("Unsupported Server Component type: "+vt(oe))}(s,f,A.type,A.key,A.ref,A.props);case at:return f.thenableState=null,Zt(s,f,Kr,"",A=(x=A._init)(A._payload))}if(A.$$typeof===R)return Wr(s,x,T,A);if(T=(x=s.writtenObjects).get(A),typeof A.then=="function"){if(T!==void 0){if(tt!==A)return"$@"+T.toString(16);tt=null}return s=function(D,we,ge){var oe=dt(D,null,we.keyPath,we.implicitSlot,D.abortableTasks);switch(ge.status){case"fulfilled":return oe.model=ge.value,Qe(D,oe),oe.id;case"rejected":return we=ve(D,ge.reason),ar(D,oe.id,we),oe.id;default:typeof ge.status!="string"&&(ge.status="pending",ge.then(function(Te){ge.status==="pending"&&(ge.status="fulfilled",ge.value=Te)},function(Te){ge.status==="pending"&&(ge.status="rejected",ge.reason=Te)}))}return ge.then(function(Te){oe.model=Te,Qe(D,oe)},function(Te){oe.status=4,Te=ve(D,Te),ar(D,oe.id,Te),D.abortableTasks.delete(oe),D.destination!==null&&Qt(D,D.destination)}),oe.id}(s,f,A),x.set(A,s),"$@"+s.toString(16)}if(T!==void 0){if(tt!==A)return lt(T===-1?s=ir(s,A):T);tt=null}else x.set(A,-1);if(Et(A))return A;if(A instanceof Map){for(f=0,A=Array.from(A);f<A.length;f++)typeof(x=A[f][0])=="object"&&x!==null&&(T=s.writtenObjects).get(x)===void 0&&T.set(x,-1);return"$Q"+ir(s,A).toString(16)}if(A instanceof Set){for(f=0,A=Array.from(A);f<A.length;f++)typeof(x=A[f])=="object"&&x!==null&&(T=s.writtenObjects).get(x)===void 0&&T.set(x,-1);return"$W"+ir(s,A).toString(16)}if(s=A===null||typeof A!="object"?null:typeof(s=K&&A[K]||A["@@iterator"])=="function"?s:null)return s=Array.from(A);if((s=wt(A))!==_e&&(s===null||wt(s)!==null))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported.");return A}if(typeof A=="string")return A[A.length-1]==="Z"&&x[T]instanceof Date?"$D"+A:1024<=A.length?(s.pendingChunks+=2,f=s.nextChunkId++,x=(A=o.encode(A)).byteLength,x=f.toString(16)+":T"+x.toString(16)+",",x=o.encode(x),s.completedRegularChunks.push(x,A),lt(f)):s=A[0]==="$"?"$"+A:A;if(typeof A=="boolean")return A;if(typeof A=="number")return Number.isFinite(A)?A===0&&1/A==-1/0?"$-0":A:A===1/0?"$Infinity":A===-1/0?"$-Infinity":"$NaN";if(A===void 0)return"$undefined";if(typeof A=="function"){if(A.$$typeof===R)return Wr(s,x,T,A);if(A.$$typeof===g)return(x=(f=s.writtenServerReferences).get(A))!==void 0?s="$F"+x.toString(16):(x=A.$$bound,s=ir(s,x={id:A.$$id,bound:x?Promise.resolve(x):null}),f.set(A,s),s="$F"+s.toString(16)),s;throw/^on[A-Z]/.test(T)?Error("Event handlers cannot be passed to Client Component props."+At(x,T)+`
If you need interactivity, consider converting part of this to a Client Component.`):Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+At(x,T))}if(typeof A=="symbol"){var ce=(f=s.writtenSymbols).get(A);if(ce!==void 0)return lt(ce);if(Symbol.for(ce=A.description)!==A)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+A.description+") cannot be found among global symbols."+At(x,T));return s.pendingChunks++,x=s.nextChunkId++,T=Ct(s,x,"$S"+ce),s.completedImportChunks.push(T),f.set(A,x),lt(x)}if(typeof A=="bigint")return"$n"+A.toString(10);throw Error("Type "+typeof A+" is not supported in Client Component props."+At(x,T))}function ve(s,f){var x=Oe;Oe=null;try{var T=s.onError,A=G?X.run(void 0,T,f):T(f)}finally{Oe=x}if(A!=null&&typeof A!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof A+'" instead');return A||""}function Dt(s,f){s.destination!==null?(s.status=2,h(s.destination,f)):(s.status=1,s.fatalError=f)}function ar(s,f,x){x={digest:x},f=f.toString(16)+":E"+Fe(x)+`
`,f=o.encode(f),s.completedErrorChunks.push(f)}var Kr={};function or(s,f){if(f.status===0)try{tt=f.model;var x=Zt(s,f,Kr,"",f.model);tt=x,f.keyPath=null,f.implicitSlot=!1;var T=typeof x=="object"&&x!==null?Fe(x,f.toJSON):Fe(x),A=f.id.toString(16)+":"+T+`
`,ce=o.encode(A);s.completedRegularChunks.push(ce),s.abortableTasks.delete(f),f.status=1}catch(oe){var D=oe===W?De():oe;if(typeof D=="object"&&D!==null&&typeof D.then=="function"){var we=f.ping;D.then(we,we),f.thenableState=ze()}else{s.abortableTasks.delete(f),f.status=4;var ge=ve(s,D);ar(s,f.id,ge)}}finally{}}function Ft(s){var f=ye.current;ye.current=Ge;var x=Oe;Ie=Oe=s;try{var T=s.pingedTasks;s.pingedTasks=[];for(var A=0;A<T.length;A++)or(s,T[A]);s.destination!==null&&Qt(s,s.destination)}catch(ce){ve(s,ce),Dt(s,ce)}finally{ye.current=f,Ie=null,Oe=x}}function Qt(s,f){N=new Uint8Array(2048),E=0;try{for(var x=s.completedImportChunks,T=0;T<x.length;T++)s.pendingChunks--,O(f,x[T]);x.splice(0,T);var A=s.completedHintChunks;for(T=0;T<A.length;T++)O(f,A[T]);A.splice(0,T);var ce=s.completedRegularChunks;for(T=0;T<ce.length;T++)s.pendingChunks--,O(f,ce[T]);ce.splice(0,T);var D=s.completedErrorChunks;for(T=0;T<D.length;T++)s.pendingChunks--,O(f,D[T]);D.splice(0,T)}finally{s.flushScheduled=!1,N&&0<E&&(f.enqueue(new Uint8Array(N.buffer,0,E)),N=null,E=0)}s.pendingChunks===0&&f.close()}function hr(s,f){try{var x=s.abortableTasks;if(0<x.size){s.pendingChunks++;var T=s.nextChunkId++,A=f===void 0?Error("The render was aborted by the server without a reason."):f,ce=ve(s,A);ar(s,T,ce,A),x.forEach(function(D){D.status=3;var we=lt(T);D=Ct(s,D.id,we),s.completedErrorChunks.push(D)}),x.clear()}s.destination!==null&&Qt(s,s.destination)}catch(D){ve(s,D),Dt(s,D)}}function fn(s,f){var x="",T=s[f];if(T)x=T.name;else{var A=f.lastIndexOf("#");if(A!==-1&&(x=f.slice(A+1),T=s[f.slice(0,A)]),!T)throw Error('Could not find the module "'+f+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return[T.id,T.chunks,x]}var Rt=new Map;function fr(s){var f=it.__next_require__(s);return typeof f.then!="function"||f.status==="fulfilled"?null:(f.then(function(x){f.status="fulfilled",f.value=x},function(x){f.status="rejected",f.reason=x}),f)}function Gn(){}function gn(s){for(var f=s[1],x=[],T=0;T<f.length;){var A=f[T++];f[T++];var ce=Rt.get(A);if(ce===void 0){ce=M.e(A),x.push(ce);var D=Rt.set.bind(Rt,A,null);ce.then(D,Gn),Rt.set(A,ce)}else ce!==null&&x.push(ce)}return s.length===4?x.length===0?fr(s[0]):Promise.all(x).then(function(){return fr(s[0])}):0<x.length?Promise.all(x):null}function sr(s){var f=it.__next_require__(s[0]);if(s.length===4&&typeof f.then=="function")if(f.status==="fulfilled")f=f.value;else throw f.reason;return s[2]==="*"?f:s[2]===""?f.__esModule?f.default:f:f[s[2]]}function gr(s,f,x,T){this.status=s,this.value=f,this.reason=x,this._response=T}function er(s,f){for(var x=0;x<s.length;x++)(0,s[x])(f)}function Br(s,f){if(s.status==="pending"||s.status==="blocked"){var x=s.reason;s.status="rejected",s.reason=f,x!==null&&er(x,f)}}gr.prototype=Object.create(Promise.prototype),gr.prototype.then=function(s,f){switch(this.status==="resolved_model"&&It(this),this.status){case"fulfilled":s(this.value);break;case"pending":case"blocked":s&&(this.value===null&&(this.value=[]),this.value.push(s)),f&&(this.reason===null&&(this.reason=[]),this.reason.push(f));break;default:f(this.reason)}};var mr=null,Mt=null;function It(s){var f=mr,x=Mt;mr=s,Mt=null;try{var T=JSON.parse(s.value,s._response._fromJSON);Mt!==null&&0<Mt.deps?(Mt.value=T,s.status="blocked",s.value=null,s.reason=null):(s.status="fulfilled",s.value=T)}catch(A){s.status="rejected",s.reason=A}finally{mr=f,Mt=x}}function cr(s,f){var x=s._chunks,T=x.get(f);return T||(T=(T=s._formData.get(s._prefix+f))!=null?new gr("resolved_model",T,null,s):new gr("pending",null,null,s),x.set(f,T)),T}function mn(s,f,x){if(Mt){var T=Mt;T.deps++}else T=Mt={deps:1,value:null};return function(A){f[x]=A,T.deps--,T.deps===0&&s.status==="blocked"&&(A=s.value,s.status="fulfilled",s.value=T.value,A!==null&&er(A,T.value))}}function Jr(s){return function(f){return Br(s,f)}}function Vr(s,f){if((s=cr(s,f)).status==="resolved_model"&&It(s),s.status!=="fulfilled")throw s.reason;return s.value}function qr(s,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new FormData,T={_bundlerConfig:s,_prefix:f,_formData:x,_chunks:new Map,_fromJSON:function(A,ce){return typeof ce=="string"?function(D,we,ge,oe){if(oe[0]==="$")switch(oe[1]){case"$":return oe.slice(1);case"@":return cr(D,we=parseInt(oe.slice(2),16));case"S":return Symbol.for(oe.slice(2));case"F":return oe=Vr(D,oe=parseInt(oe.slice(2),16)),function(et,Ut,tr,Ar,Cr,yn){var Tr=fn(et._bundlerConfig,Ut);if(et=gn(Tr),tr)tr=Promise.all([tr,et]).then(function(Fr){Fr=Fr[0];var wr=sr(Tr);return wr.bind.apply(wr,[null].concat(Fr))});else{if(!et)return sr(Tr);tr=Promise.resolve(et).then(function(){return sr(Tr)})}return tr.then(mn(Ar,Cr,yn),Jr(Ar)),null}(D,oe.id,oe.bound,mr,we,ge);case"Q":return new Map(D=Vr(D,we=parseInt(oe.slice(2),16)));case"W":return new Set(D=Vr(D,we=parseInt(oe.slice(2),16)));case"K":we=oe.slice(2);var Te=D._prefix+we+"_",pt=new FormData;return D._formData.forEach(function(et,Ut){Ut.startsWith(Te)&&pt.append(Ut.slice(Te.length),et)}),pt;case"I":return 1/0;case"-":return oe==="$-0"?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(oe.slice(2)));case"n":return BigInt(oe.slice(2));default:switch((D=cr(D,oe=parseInt(oe.slice(1),16))).status==="resolved_model"&&It(D),D.status){case"fulfilled":return D.value;case"pending":case"blocked":return oe=mr,D.then(mn(oe,we,ge),Jr(oe)),null;default:throw D.reason}}return oe}(T,this,A,ce):ce}};return T}function yr(s){(function(f,x){f._chunks.forEach(function(T){T.status==="pending"&&Br(T,x)})})(s,Error("Connection closed."))}function Wt(s,f,x){var T=fn(s,f);return s=gn(T),x?Promise.all([x,s]).then(function(A){A=A[0];var ce=sr(T);return ce.bind.apply(ce,[null].concat(A))}):s?Promise.resolve(s).then(function(){return sr(T)}):Promise.resolve(sr(T))}function br(s,f,x){if(yr(s=qr(f,x,s)),(s=cr(s,0)).then(function(){}),s.status!=="fulfilled")throw s.reason;return s.value}q.createClientModuleProxy=function(s){return new Proxy(s=S({},s,!1),m)},q.decodeAction=function(s,f){var x=new FormData,T=null;return s.forEach(function(A,ce){ce.startsWith("$ACTION_")?ce.startsWith("$ACTION_REF_")?(A=br(s,f,A="$ACTION_"+ce.slice(12)+":"),T=Wt(f,A.id,A.bound)):ce.startsWith("$ACTION_ID_")&&(T=Wt(f,A=ce.slice(11),null)):x.append(ce,A)}),T===null?null:T.then(function(A){return A.bind(null,x)})},q.decodeFormState=function(s,f,x){var T=f.get("$ACTION_KEY");if(typeof T!="string")return Promise.resolve(null);var A=null;if(f.forEach(function(D,we){we.startsWith("$ACTION_REF_")&&(A=br(f,x,"$ACTION_"+we.slice(12)+":"))}),A===null)return Promise.resolve(null);var ce=A.id;return Promise.resolve(A.bound).then(function(D){return D===null?null:[s,T,ce,D.length-1]})},q.decodeReply=function(s,f){if(typeof s=="string"){var x=new FormData;x.append("0",s),s=x}return f=cr(s=qr(f,"",s),0),yr(s),f},q.renderToReadableStream=function(s,f,x){var T=function(D,we,ge,oe,Te){if(Ue.current!==null&&Ue.current!==ut)throw Error("Currently React only supports one RSC renderer at a time.");J.current=k,Ue.current=ut;var pt=new Set,et=[],Ut=new Set;return D=dt(we={status:0,flushScheduled:!1,fatalError:null,destination:null,bundlerConfig:we,cache:new Map,nextChunkId:0,pendingChunks:0,hints:Ut,abortableTasks:pt,pingedTasks:et,completedImportChunks:[],completedHintChunks:[],completedRegularChunks:[],completedErrorChunks:[],writtenSymbols:new Map,writtenClientReferences:new Map,writtenServerReferences:new Map,writtenObjects:new WeakMap,identifierPrefix:oe||"",identifierCount:1,taintCleanupQueue:[],onError:ge===void 0?pe:ge,onPostpone:Te===void 0?me:Te},D,null,!1,pt),et.push(D),we}(s,f,x?x.onError:void 0,x?x.identifierPrefix:void 0,x?x.onPostpone:void 0);if(x&&x.signal){var A=x.signal;if(A.aborted)hr(T,A.reason);else{var ce=function(){hr(T,A.reason),A.removeEventListener("abort",ce)};A.addEventListener("abort",ce)}}return new ReadableStream({type:"bytes",start:function(){T.flushScheduled=T.destination!==null,setTimeout(G?function(){return X.run(T,Ft,T)}:function(){return Ft(T)},0)},pull:function(D){if(T.status===1)T.status=2,h(D,T.fatalError);else if(T.status!==2&&T.destination===null){T.destination=D;try{Qt(T,D)}catch(we){ve(T,we),Dt(T,we)}}},cancel:function(D){T.destination=null,hr(T,D)}},{highWaterMark:0})}},Ke.__chunk_5105=(Ae,q,M)=>{"use strict";Ae.exports=M(9642)},Ke.__chunk_9642=(Ae,q)=>{"use strict";var M={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function F(N,E){return N==="font"?"":typeof E=="string"?E==="use-credentials"?E:"":void 0}var ee=M.Dispatcher;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,q.preconnect=function(N,E){var O=ee.current;O&&typeof N=="string"&&(E=E?typeof(E=E.crossOrigin)=="string"?E==="use-credentials"?E:"":void 0:null,O.preconnect(N,E))},q.prefetchDNS=function(N){var E=ee.current;E&&typeof N=="string"&&E.prefetchDNS(N)},q.preinit=function(N,E){var O=ee.current;if(O&&typeof N=="string"&&E&&typeof E.as=="string"){var o=E.as,h=F(o,E.crossOrigin),R=typeof E.integrity=="string"?E.integrity:void 0,g=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;o==="style"?O.preinitStyle(N,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:h,integrity:R,fetchPriority:g}):o==="script"&&O.preinitScript(N,{crossOrigin:h,integrity:R,fetchPriority:g,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},q.preinitModule=function(N,E){var O=ee.current;if(O&&typeof N=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var o=F(E.as,E.crossOrigin);O.preinitModuleScript(N,{crossOrigin:o,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&O.preinitModuleScript(N)},q.preload=function(N,E){var O=ee.current;if(O&&typeof N=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var o=E.as,h=F(o,E.crossOrigin);O.preload(N,o,{crossOrigin:h,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0})}},q.preloadModule=function(N,E){var O=ee.current;if(O&&typeof N=="string")if(E){var o=F(E.as,E.crossOrigin);O.preloadModule(N,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:o,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else O.preloadModule(N)}},Ke.__chunk_8819=(Ae,q,M)=>{(()=>{"use strict";var F={491:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ContextAPI=void 0;let R=h(223),g=h(172),S=h(930),u="context",l=new R.NoopContextManager;class y{constructor(){}static getInstance(){return this._instance||(this._instance=new y),this._instance}setGlobalContextManager(d){return(0,g.registerGlobal)(u,d,S.DiagAPI.instance())}active(){return this._getContextManager().active()}with(d,v,m,...k){return this._getContextManager().with(d,v,m,...k)}bind(d,v){return this._getContextManager().bind(d,v)}_getContextManager(){return(0,g.getGlobal)(u)||l}disable(){this._getContextManager().disable(),(0,g.unregisterGlobal)(u,S.DiagAPI.instance())}}o.ContextAPI=y},930:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagAPI=void 0;let R=h(56),g=h(912),S=h(957),u=h(172);class l{constructor(){function I(v){return function(...m){let k=(0,u.getGlobal)("diag");if(k)return k[v](...m)}}let d=this;d.setLogger=(v,m={logLevel:S.DiagLogLevel.INFO})=>{var k,U,J;if(v===d){let Y=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return d.error((k=Y.stack)!==null&&k!==void 0?k:Y.message),!1}typeof m=="number"&&(m={logLevel:m});let G=(0,u.getGlobal)("diag"),X=(0,g.createLogLevelDiagLogger)((U=m.logLevel)!==null&&U!==void 0?U:S.DiagLogLevel.INFO,v);if(G&&!m.suppressOverrideMessage){let Y=(J=Error().stack)!==null&&J!==void 0?J:"<failed to generate stacktrace>";G.warn(`Current logger will be overwritten from ${Y}`),X.warn(`Current logger will overwrite one already registered from ${Y}`)}return(0,u.registerGlobal)("diag",X,d,!0)},d.disable=()=>{(0,u.unregisterGlobal)("diag",d)},d.createComponentLogger=v=>new R.DiagComponentLogger(v),d.verbose=I("verbose"),d.debug=I("debug"),d.info=I("info"),d.warn=I("warn"),d.error=I("error")}static instance(){return this._instance||(this._instance=new l),this._instance}}o.DiagAPI=l},653:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MetricsAPI=void 0;let R=h(660),g=h(172),S=h(930),u="metrics";class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalMeterProvider(I){return(0,g.registerGlobal)(u,I,S.DiagAPI.instance())}getMeterProvider(){return(0,g.getGlobal)(u)||R.NOOP_METER_PROVIDER}getMeter(I,d,v){return this.getMeterProvider().getMeter(I,d,v)}disable(){(0,g.unregisterGlobal)(u,S.DiagAPI.instance())}}o.MetricsAPI=l},181:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PropagationAPI=void 0;let R=h(172),g=h(874),S=h(194),u=h(277),l=h(369),y=h(930),I="propagation",d=new g.NoopTextMapPropagator;class v{constructor(){this.createBaggage=l.createBaggage,this.getBaggage=u.getBaggage,this.getActiveBaggage=u.getActiveBaggage,this.setBaggage=u.setBaggage,this.deleteBaggage=u.deleteBaggage}static getInstance(){return this._instance||(this._instance=new v),this._instance}setGlobalPropagator(k){return(0,R.registerGlobal)(I,k,y.DiagAPI.instance())}inject(k,U,J=S.defaultTextMapSetter){return this._getGlobalPropagator().inject(k,U,J)}extract(k,U,J=S.defaultTextMapGetter){return this._getGlobalPropagator().extract(k,U,J)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,R.unregisterGlobal)(I,y.DiagAPI.instance())}_getGlobalPropagator(){return(0,R.getGlobal)(I)||d}}o.PropagationAPI=v},997:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TraceAPI=void 0;let R=h(172),g=h(846),S=h(139),u=h(607),l=h(930),y="trace";class I{constructor(){this._proxyTracerProvider=new g.ProxyTracerProvider,this.wrapSpanContext=S.wrapSpanContext,this.isSpanContextValid=S.isSpanContextValid,this.deleteSpan=u.deleteSpan,this.getSpan=u.getSpan,this.getActiveSpan=u.getActiveSpan,this.getSpanContext=u.getSpanContext,this.setSpan=u.setSpan,this.setSpanContext=u.setSpanContext}static getInstance(){return this._instance||(this._instance=new I),this._instance}setGlobalTracerProvider(v){let m=(0,R.registerGlobal)(y,this._proxyTracerProvider,l.DiagAPI.instance());return m&&this._proxyTracerProvider.setDelegate(v),m}getTracerProvider(){return(0,R.getGlobal)(y)||this._proxyTracerProvider}getTracer(v,m){return this.getTracerProvider().getTracer(v,m)}disable(){(0,R.unregisterGlobal)(y,l.DiagAPI.instance()),this._proxyTracerProvider=new g.ProxyTracerProvider}}o.TraceAPI=I},277:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.deleteBaggage=o.setBaggage=o.getActiveBaggage=o.getBaggage=void 0;let R=h(491),g=(0,h(780).createContextKey)("OpenTelemetry Baggage Key");function S(u){return u.getValue(g)||void 0}o.getBaggage=S,o.getActiveBaggage=function(){return S(R.ContextAPI.getInstance().active())},o.setBaggage=function(u,l){return u.setValue(g,l)},o.deleteBaggage=function(u){return u.deleteValue(g)}},993:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaggageImpl=void 0;class h{constructor(g){this._entries=g?new Map(g):new Map}getEntry(g){let S=this._entries.get(g);if(S)return Object.assign({},S)}getAllEntries(){return Array.from(this._entries.entries()).map(([g,S])=>[g,S])}setEntry(g,S){let u=new h(this._entries);return u._entries.set(g,S),u}removeEntry(g){let S=new h(this._entries);return S._entries.delete(g),S}removeEntries(...g){let S=new h(this._entries);for(let u of g)S._entries.delete(u);return S}clear(){return new h}}o.BaggageImpl=h},830:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.baggageEntryMetadataSymbol=void 0,o.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.baggageEntryMetadataFromString=o.createBaggage=void 0;let R=h(930),g=h(993),S=h(830),u=R.DiagAPI.instance();o.createBaggage=function(l={}){return new g.BaggageImpl(new Map(Object.entries(l)))},o.baggageEntryMetadataFromString=function(l){return typeof l!="string"&&(u.error(`Cannot create baggage metadata from unknown type: ${typeof l}`),l=""),{__TYPE__:S.baggageEntryMetadataSymbol,toString:()=>l}}},67:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.context=void 0;let R=h(491);o.context=R.ContextAPI.getInstance()},223:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopContextManager=void 0;let R=h(780);class g{active(){return R.ROOT_CONTEXT}with(u,l,y,...I){return l.call(y,...I)}bind(u,l){return l}enable(){return this}disable(){return this}}o.NoopContextManager=g},780:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ROOT_CONTEXT=o.createContextKey=void 0,o.createContextKey=function(R){return Symbol.for(R)};class h{constructor(g){let S=this;S._currentContext=g?new Map(g):new Map,S.getValue=u=>S._currentContext.get(u),S.setValue=(u,l)=>{let y=new h(S._currentContext);return y._currentContext.set(u,l),y},S.deleteValue=u=>{let l=new h(S._currentContext);return l._currentContext.delete(u),l}}}o.ROOT_CONTEXT=new h},506:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.diag=void 0;let R=h(930);o.diag=R.DiagAPI.instance()},56:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagComponentLogger=void 0;let R=h(172);class g{constructor(l){this._namespace=l.namespace||"DiagComponentLogger"}debug(...l){return S("debug",this._namespace,l)}error(...l){return S("error",this._namespace,l)}info(...l){return S("info",this._namespace,l)}warn(...l){return S("warn",this._namespace,l)}verbose(...l){return S("verbose",this._namespace,l)}}function S(u,l,y){let I=(0,R.getGlobal)("diag");if(I)return y.unshift(l),I[u](...y)}o.DiagComponentLogger=g},972:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagConsoleLogger=void 0;let h=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class R{constructor(){for(let S=0;S<h.length;S++)this[h[S].n]=function(u){return function(...l){if(console){let y=console[u];if(typeof y!="function"&&(y=console.log),typeof y=="function")return y.apply(console,l)}}}(h[S].c)}}o.DiagConsoleLogger=R},912:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createLogLevelDiagLogger=void 0;let R=h(957);o.createLogLevelDiagLogger=function(g,S){function u(l,y){let I=S[l];return typeof I=="function"&&g>=y?I.bind(S):function(){}}return g<R.DiagLogLevel.NONE?g=R.DiagLogLevel.NONE:g>R.DiagLogLevel.ALL&&(g=R.DiagLogLevel.ALL),S=S||{},{error:u("error",R.DiagLogLevel.ERROR),warn:u("warn",R.DiagLogLevel.WARN),info:u("info",R.DiagLogLevel.INFO),debug:u("debug",R.DiagLogLevel.DEBUG),verbose:u("verbose",R.DiagLogLevel.VERBOSE)}}},957:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagLogLevel=void 0,function(h){h[h.NONE=0]="NONE",h[h.ERROR=30]="ERROR",h[h.WARN=50]="WARN",h[h.INFO=60]="INFO",h[h.DEBUG=70]="DEBUG",h[h.VERBOSE=80]="VERBOSE",h[h.ALL=9999]="ALL"}(o.DiagLogLevel||(o.DiagLogLevel={}))},172:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.unregisterGlobal=o.getGlobal=o.registerGlobal=void 0;let R=h(200),g=h(521),S=h(130),u=g.VERSION.split(".")[0],l=Symbol.for(`opentelemetry.js.api.${u}`),y=R._globalThis;o.registerGlobal=function(I,d,v,m=!1){var k;let U=y[l]=(k=y[l])!==null&&k!==void 0?k:{version:g.VERSION};if(!m&&U[I]){let J=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${I}`);return v.error(J.stack||J.message),!1}if(U.version!==g.VERSION){let J=Error(`@opentelemetry/api: Registration of version v${U.version} for ${I} does not match previously registered API v${g.VERSION}`);return v.error(J.stack||J.message),!1}return U[I]=d,v.debug(`@opentelemetry/api: Registered a global for ${I} v${g.VERSION}.`),!0},o.getGlobal=function(I){var d,v;let m=(d=y[l])===null||d===void 0?void 0:d.version;if(m&&(0,S.isCompatible)(m))return(v=y[l])===null||v===void 0?void 0:v[I]},o.unregisterGlobal=function(I,d){d.debug(`@opentelemetry/api: Unregistering a global for ${I} v${g.VERSION}.`);let v=y[l];v&&delete v[I]}},130:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isCompatible=o._makeCompatibilityCheck=void 0;let R=h(521),g=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function S(u){let l=new Set([u]),y=new Set,I=u.match(g);if(!I)return()=>!1;let d={major:+I[1],minor:+I[2],patch:+I[3],prerelease:I[4]};if(d.prerelease!=null)return function(m){return m===u};function v(m){return y.add(m),!1}return function(m){if(l.has(m))return!0;if(y.has(m))return!1;let k=m.match(g);if(!k)return v(m);let U={major:+k[1],minor:+k[2],patch:+k[3],prerelease:k[4]};return U.prerelease!=null||d.major!==U.major?v(m):d.major===0?d.minor===U.minor&&d.patch<=U.patch?(l.add(m),!0):v(m):d.minor<=U.minor?(l.add(m),!0):v(m)}}o._makeCompatibilityCheck=S,o.isCompatible=S(R.VERSION)},886:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.metrics=void 0;let R=h(653);o.metrics=R.MetricsAPI.getInstance()},901:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ValueType=void 0,function(h){h[h.INT=0]="INT",h[h.DOUBLE=1]="DOUBLE"}(o.ValueType||(o.ValueType={}))},102:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createNoopMeter=o.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=o.NOOP_OBSERVABLE_GAUGE_METRIC=o.NOOP_OBSERVABLE_COUNTER_METRIC=o.NOOP_UP_DOWN_COUNTER_METRIC=o.NOOP_HISTOGRAM_METRIC=o.NOOP_COUNTER_METRIC=o.NOOP_METER=o.NoopObservableUpDownCounterMetric=o.NoopObservableGaugeMetric=o.NoopObservableCounterMetric=o.NoopObservableMetric=o.NoopHistogramMetric=o.NoopUpDownCounterMetric=o.NoopCounterMetric=o.NoopMetric=o.NoopMeter=void 0;class h{constructor(){}createHistogram(m,k){return o.NOOP_HISTOGRAM_METRIC}createCounter(m,k){return o.NOOP_COUNTER_METRIC}createUpDownCounter(m,k){return o.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(m,k){return o.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(m,k){return o.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(m,k){return o.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(m,k){}removeBatchObservableCallback(m){}}o.NoopMeter=h;class R{}o.NoopMetric=R;class g extends R{add(m,k){}}o.NoopCounterMetric=g;class S extends R{add(m,k){}}o.NoopUpDownCounterMetric=S;class u extends R{record(m,k){}}o.NoopHistogramMetric=u;class l{addCallback(m){}removeCallback(m){}}o.NoopObservableMetric=l;class y extends l{}o.NoopObservableCounterMetric=y;class I extends l{}o.NoopObservableGaugeMetric=I;class d extends l{}o.NoopObservableUpDownCounterMetric=d,o.NOOP_METER=new h,o.NOOP_COUNTER_METRIC=new g,o.NOOP_HISTOGRAM_METRIC=new u,o.NOOP_UP_DOWN_COUNTER_METRIC=new S,o.NOOP_OBSERVABLE_COUNTER_METRIC=new y,o.NOOP_OBSERVABLE_GAUGE_METRIC=new I,o.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new d,o.createNoopMeter=function(){return o.NOOP_METER}},660:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NOOP_METER_PROVIDER=o.NoopMeterProvider=void 0;let R=h(102);class g{getMeter(u,l,y){return R.NOOP_METER}}o.NoopMeterProvider=g,o.NOOP_METER_PROVIDER=new g},200:function(O,o,h){var R=this&&this.__createBinding||(Object.create?function(S,u,l,y){y===void 0&&(y=l),Object.defineProperty(S,y,{enumerable:!0,get:function(){return u[l]}})}:function(S,u,l,y){y===void 0&&(y=l),S[y]=u[l]}),g=this&&this.__exportStar||function(S,u){for(var l in S)l==="default"||Object.prototype.hasOwnProperty.call(u,l)||R(u,S,l)};Object.defineProperty(o,"__esModule",{value:!0}),g(h(46),o)},651:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o._globalThis=void 0,o._globalThis=typeof it=="object"?it:M.g},46:function(O,o,h){var R=this&&this.__createBinding||(Object.create?function(S,u,l,y){y===void 0&&(y=l),Object.defineProperty(S,y,{enumerable:!0,get:function(){return u[l]}})}:function(S,u,l,y){y===void 0&&(y=l),S[y]=u[l]}),g=this&&this.__exportStar||function(S,u){for(var l in S)l==="default"||Object.prototype.hasOwnProperty.call(u,l)||R(u,S,l)};Object.defineProperty(o,"__esModule",{value:!0}),g(h(651),o)},939:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.propagation=void 0;let R=h(181);o.propagation=R.PropagationAPI.getInstance()},874:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopTextMapPropagator=void 0;class h{inject(g,S){}extract(g,S){return g}fields(){return[]}}o.NoopTextMapPropagator=h},194:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.defaultTextMapSetter=o.defaultTextMapGetter=void 0,o.defaultTextMapGetter={get(h,R){if(h!=null)return h[R]},keys:h=>h==null?[]:Object.keys(h)},o.defaultTextMapSetter={set(h,R,g){h!=null&&(h[R]=g)}}},845:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.trace=void 0;let R=h(997);o.trace=R.TraceAPI.getInstance()},403:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NonRecordingSpan=void 0;let R=h(476);class g{constructor(u=R.INVALID_SPAN_CONTEXT){this._spanContext=u}spanContext(){return this._spanContext}setAttribute(u,l){return this}setAttributes(u){return this}addEvent(u,l){return this}setStatus(u){return this}updateName(u){return this}end(u){}isRecording(){return!1}recordException(u,l){}}o.NonRecordingSpan=g},614:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopTracer=void 0;let R=h(491),g=h(607),S=h(403),u=h(139),l=R.ContextAPI.getInstance();class y{startSpan(d,v,m=l.active()){if(v?.root)return new S.NonRecordingSpan;let k=m&&(0,g.getSpanContext)(m);return typeof k=="object"&&typeof k.spanId=="string"&&typeof k.traceId=="string"&&typeof k.traceFlags=="number"&&(0,u.isSpanContextValid)(k)?new S.NonRecordingSpan(k):new S.NonRecordingSpan}startActiveSpan(d,v,m,k){let U,J,G;if(arguments.length<2)return;arguments.length==2?G=v:arguments.length==3?(U=v,G=m):(U=v,J=m,G=k);let X=J??l.active(),Y=this.startSpan(d,U,X),ne=(0,g.setSpan)(X,Y);return l.with(ne,G,void 0,Y)}}o.NoopTracer=y},124:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopTracerProvider=void 0;let R=h(614);class g{getTracer(u,l,y){return new R.NoopTracer}}o.NoopTracerProvider=g},125:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProxyTracer=void 0;let R=new(h(614)).NoopTracer;class g{constructor(u,l,y,I){this._provider=u,this.name=l,this.version=y,this.options=I}startSpan(u,l,y){return this._getTracer().startSpan(u,l,y)}startActiveSpan(u,l,y,I){let d=this._getTracer();return Reflect.apply(d.startActiveSpan,d,arguments)}_getTracer(){if(this._delegate)return this._delegate;let u=this._provider.getDelegateTracer(this.name,this.version,this.options);return u?(this._delegate=u,this._delegate):R}}o.ProxyTracer=g},846:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProxyTracerProvider=void 0;let R=h(125),g=new(h(124)).NoopTracerProvider;class S{getTracer(l,y,I){var d;return(d=this.getDelegateTracer(l,y,I))!==null&&d!==void 0?d:new R.ProxyTracer(this,l,y,I)}getDelegate(){var l;return(l=this._delegate)!==null&&l!==void 0?l:g}setDelegate(l){this._delegate=l}getDelegateTracer(l,y,I){var d;return(d=this._delegate)===null||d===void 0?void 0:d.getTracer(l,y,I)}}o.ProxyTracerProvider=S},996:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SamplingDecision=void 0,function(h){h[h.NOT_RECORD=0]="NOT_RECORD",h[h.RECORD=1]="RECORD",h[h.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(o.SamplingDecision||(o.SamplingDecision={}))},607:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getSpanContext=o.setSpanContext=o.deleteSpan=o.setSpan=o.getActiveSpan=o.getSpan=void 0;let R=h(780),g=h(403),S=h(491),u=(0,R.createContextKey)("OpenTelemetry Context Key SPAN");function l(I){return I.getValue(u)||void 0}function y(I,d){return I.setValue(u,d)}o.getSpan=l,o.getActiveSpan=function(){return l(S.ContextAPI.getInstance().active())},o.setSpan=y,o.deleteSpan=function(I){return I.deleteValue(u)},o.setSpanContext=function(I,d){return y(I,new g.NonRecordingSpan(d))},o.getSpanContext=function(I){var d;return(d=l(I))===null||d===void 0?void 0:d.spanContext()}},325:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TraceStateImpl=void 0;let R=h(564);class g{constructor(u){this._internalState=new Map,u&&this._parse(u)}set(u,l){let y=this._clone();return y._internalState.has(u)&&y._internalState.delete(u),y._internalState.set(u,l),y}unset(u){let l=this._clone();return l._internalState.delete(u),l}get(u){return this._internalState.get(u)}serialize(){return this._keys().reduce((u,l)=>(u.push(l+"="+this.get(l)),u),[]).join(",")}_parse(u){!(u.length>512)&&(this._internalState=u.split(",").reverse().reduce((l,y)=>{let I=y.trim(),d=I.indexOf("=");if(d!==-1){let v=I.slice(0,d),m=I.slice(d+1,y.length);(0,R.validateKey)(v)&&(0,R.validateValue)(m)&&l.set(v,m)}return l},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let u=new g;return u._internalState=new Map(this._internalState),u}}o.TraceStateImpl=g},564:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.validateValue=o.validateKey=void 0;let h="[_0-9a-z-*/]",R=`[a-z]${h}{0,255}`,g=`[a-z0-9]${h}{0,240}@[a-z]${h}{0,13}`,S=RegExp(`^(?:${R}|${g})$`),u=/^[ -~]{0,255}[!-~]$/,l=/,|=/;o.validateKey=function(y){return S.test(y)},o.validateValue=function(y){return u.test(y)&&!l.test(y)}},98:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createTraceState=void 0;let R=h(325);o.createTraceState=function(g){return new R.TraceStateImpl(g)}},476:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.INVALID_SPAN_CONTEXT=o.INVALID_TRACEID=o.INVALID_SPANID=void 0;let R=h(475);o.INVALID_SPANID="0000000000000000",o.INVALID_TRACEID="00000000000000000000000000000000",o.INVALID_SPAN_CONTEXT={traceId:o.INVALID_TRACEID,spanId:o.INVALID_SPANID,traceFlags:R.TraceFlags.NONE}},357:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SpanKind=void 0,function(h){h[h.INTERNAL=0]="INTERNAL",h[h.SERVER=1]="SERVER",h[h.CLIENT=2]="CLIENT",h[h.PRODUCER=3]="PRODUCER",h[h.CONSUMER=4]="CONSUMER"}(o.SpanKind||(o.SpanKind={}))},139:(O,o,h)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.wrapSpanContext=o.isSpanContextValid=o.isValidSpanId=o.isValidTraceId=void 0;let R=h(476),g=h(403),S=/^([0-9a-f]{32})$/i,u=/^[0-9a-f]{16}$/i;function l(I){return S.test(I)&&I!==R.INVALID_TRACEID}function y(I){return u.test(I)&&I!==R.INVALID_SPANID}o.isValidTraceId=l,o.isValidSpanId=y,o.isSpanContextValid=function(I){return l(I.traceId)&&y(I.spanId)},o.wrapSpanContext=function(I){return new g.NonRecordingSpan(I)}},847:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SpanStatusCode=void 0,function(h){h[h.UNSET=0]="UNSET",h[h.OK=1]="OK",h[h.ERROR=2]="ERROR"}(o.SpanStatusCode||(o.SpanStatusCode={}))},475:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TraceFlags=void 0,function(h){h[h.NONE=0]="NONE",h[h.SAMPLED=1]="SAMPLED"}(o.TraceFlags||(o.TraceFlags={}))},521:(O,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VERSION=void 0,o.VERSION="1.6.0"}},ee={};function N(O){var o=ee[O];if(o!==void 0)return o.exports;var h=ee[O]={exports:{}},R=!0;try{F[O].call(h.exports,h,h.exports,N),R=!1}finally{R&&delete ee[O]}return h.exports}N.ab="//";var E={};(()=>{Object.defineProperty(E,"__esModule",{value:!0}),E.trace=E.propagation=E.metrics=E.diag=E.context=E.INVALID_SPAN_CONTEXT=E.INVALID_TRACEID=E.INVALID_SPANID=E.isValidSpanId=E.isValidTraceId=E.isSpanContextValid=E.createTraceState=E.TraceFlags=E.SpanStatusCode=E.SpanKind=E.SamplingDecision=E.ProxyTracerProvider=E.ProxyTracer=E.defaultTextMapSetter=E.defaultTextMapGetter=E.ValueType=E.createNoopMeter=E.DiagLogLevel=E.DiagConsoleLogger=E.ROOT_CONTEXT=E.createContextKey=E.baggageEntryMetadataFromString=void 0;var O=N(369);Object.defineProperty(E,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return O.baggageEntryMetadataFromString}});var o=N(780);Object.defineProperty(E,"createContextKey",{enumerable:!0,get:function(){return o.createContextKey}}),Object.defineProperty(E,"ROOT_CONTEXT",{enumerable:!0,get:function(){return o.ROOT_CONTEXT}});var h=N(972);Object.defineProperty(E,"DiagConsoleLogger",{enumerable:!0,get:function(){return h.DiagConsoleLogger}});var R=N(957);Object.defineProperty(E,"DiagLogLevel",{enumerable:!0,get:function(){return R.DiagLogLevel}});var g=N(102);Object.defineProperty(E,"createNoopMeter",{enumerable:!0,get:function(){return g.createNoopMeter}});var S=N(901);Object.defineProperty(E,"ValueType",{enumerable:!0,get:function(){return S.ValueType}});var u=N(194);Object.defineProperty(E,"defaultTextMapGetter",{enumerable:!0,get:function(){return u.defaultTextMapGetter}}),Object.defineProperty(E,"defaultTextMapSetter",{enumerable:!0,get:function(){return u.defaultTextMapSetter}});var l=N(125);Object.defineProperty(E,"ProxyTracer",{enumerable:!0,get:function(){return l.ProxyTracer}});var y=N(846);Object.defineProperty(E,"ProxyTracerProvider",{enumerable:!0,get:function(){return y.ProxyTracerProvider}});var I=N(996);Object.defineProperty(E,"SamplingDecision",{enumerable:!0,get:function(){return I.SamplingDecision}});var d=N(357);Object.defineProperty(E,"SpanKind",{enumerable:!0,get:function(){return d.SpanKind}});var v=N(847);Object.defineProperty(E,"SpanStatusCode",{enumerable:!0,get:function(){return v.SpanStatusCode}});var m=N(475);Object.defineProperty(E,"TraceFlags",{enumerable:!0,get:function(){return m.TraceFlags}});var k=N(98);Object.defineProperty(E,"createTraceState",{enumerable:!0,get:function(){return k.createTraceState}});var U=N(139);Object.defineProperty(E,"isSpanContextValid",{enumerable:!0,get:function(){return U.isSpanContextValid}}),Object.defineProperty(E,"isValidTraceId",{enumerable:!0,get:function(){return U.isValidTraceId}}),Object.defineProperty(E,"isValidSpanId",{enumerable:!0,get:function(){return U.isValidSpanId}});var J=N(476);Object.defineProperty(E,"INVALID_SPANID",{enumerable:!0,get:function(){return J.INVALID_SPANID}}),Object.defineProperty(E,"INVALID_TRACEID",{enumerable:!0,get:function(){return J.INVALID_TRACEID}}),Object.defineProperty(E,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return J.INVALID_SPAN_CONTEXT}});let G=N(67);Object.defineProperty(E,"context",{enumerable:!0,get:function(){return G.context}});let X=N(506);Object.defineProperty(E,"diag",{enumerable:!0,get:function(){return X.diag}});let Y=N(886);Object.defineProperty(E,"metrics",{enumerable:!0,get:function(){return Y.metrics}});let ne=N(939);Object.defineProperty(E,"propagation",{enumerable:!0,get:function(){return ne.propagation}});let ke=N(845);Object.defineProperty(E,"trace",{enumerable:!0,get:function(){return ke.trace}}),E.default={context:G.context,diag:X.diag,metrics:Y.metrics,propagation:ne.propagation,trace:ke.trace}})(),Ae.exports=E})()},Ke.__chunk_676=Ae=>{"use strict";var q=Object.defineProperty,M=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,ee=Object.prototype.hasOwnProperty,N={};function E(u){var l;let y=["path"in u&&u.path&&`Path=${u.path}`,"expires"in u&&(u.expires||u.expires===0)&&`Expires=${(typeof u.expires=="number"?new Date(u.expires):u.expires).toUTCString()}`,"maxAge"in u&&typeof u.maxAge=="number"&&`Max-Age=${u.maxAge}`,"domain"in u&&u.domain&&`Domain=${u.domain}`,"secure"in u&&u.secure&&"Secure","httpOnly"in u&&u.httpOnly&&"HttpOnly","sameSite"in u&&u.sameSite&&`SameSite=${u.sameSite}`,"partitioned"in u&&u.partitioned&&"Partitioned","priority"in u&&u.priority&&`Priority=${u.priority}`].filter(Boolean),I=`${u.name}=${encodeURIComponent((l=u.value)!=null?l:"")}`;return y.length===0?I:`${I}; ${y.join("; ")}`}function O(u){let l=new Map;for(let y of u.split(/; */)){if(!y)continue;let I=y.indexOf("=");if(I===-1){l.set(y,"true");continue}let[d,v]=[y.slice(0,I),y.slice(I+1)];try{l.set(d,decodeURIComponent(v??"true"))}catch{}}return l}function o(u){var l,y;if(!u)return;let[[I,d],...v]=O(u),{domain:m,expires:k,httponly:U,maxage:J,path:G,samesite:X,secure:Y,partitioned:ne,priority:ke}=Object.fromEntries(v.map(([Re,je])=>[Re.toLowerCase(),je]));return function(Re){let je={};for(let qe in Re)Re[qe]&&(je[qe]=Re[qe]);return je}({name:I,value:decodeURIComponent(d),domain:m,...k&&{expires:new Date(k)},...U&&{httpOnly:!0},...typeof J=="string"&&{maxAge:Number(J)},path:G,...X&&{sameSite:h.includes(l=(l=X).toLowerCase())?l:void 0},...Y&&{secure:!0},...ke&&{priority:R.includes(y=(y=ke).toLowerCase())?y:void 0},...ne&&{partitioned:!0}})}((u,l)=>{for(var y in l)q(u,y,{get:l[y],enumerable:!0})})(N,{RequestCookies:()=>g,ResponseCookies:()=>S,parseCookie:()=>O,parseSetCookie:()=>o,stringifyCookie:()=>E}),Ae.exports=((u,l,y,I)=>{if(l&&typeof l=="object"||typeof l=="function")for(let d of F(l))ee.call(u,d)||d===y||q(u,d,{get:()=>l[d],enumerable:!(I=M(l,d))||I.enumerable});return u})(q({},"__esModule",{value:!0}),N);var h=["strict","lax","none"],R=["low","medium","high"],g=class{constructor(u){this._parsed=new Map,this._headers=u;let l=u.get("cookie");if(l)for(let[y,I]of O(l))this._parsed.set(y,{name:y,value:I})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...u){let l=typeof u[0]=="string"?u[0]:u[0].name;return this._parsed.get(l)}getAll(...u){var l;let y=Array.from(this._parsed);if(!u.length)return y.map(([d,v])=>v);let I=typeof u[0]=="string"?u[0]:(l=u[0])==null?void 0:l.name;return y.filter(([d])=>d===I).map(([d,v])=>v)}has(u){return this._parsed.has(u)}set(...u){let[l,y]=u.length===1?[u[0].name,u[0].value]:u,I=this._parsed;return I.set(l,{name:l,value:y}),this._headers.set("cookie",Array.from(I).map(([d,v])=>E(v)).join("; ")),this}delete(u){let l=this._parsed,y=Array.isArray(u)?u.map(I=>l.delete(I)):l.delete(u);return this._headers.set("cookie",Array.from(l).map(([I,d])=>E(d)).join("; ")),y}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u=>`${u.name}=${encodeURIComponent(u.value)}`).join("; ")}},S=class{constructor(u){var l,y,I;this._parsed=new Map,this._headers=u;let d=(I=(y=(l=u.getSetCookie)==null?void 0:l.call(u))!=null?y:u.get("set-cookie"))!=null?I:[];for(let v of Array.isArray(d)?d:function(m){if(!m)return[];var k,U,J,G,X,Y=[],ne=0;function ke(){for(;ne<m.length&&/\s/.test(m.charAt(ne));)ne+=1;return ne<m.length}for(;ne<m.length;){for(k=ne,X=!1;ke();)if((U=m.charAt(ne))===","){for(J=ne,ne+=1,ke(),G=ne;ne<m.length&&(U=m.charAt(ne))!=="="&&U!==";"&&U!==",";)ne+=1;ne<m.length&&m.charAt(ne)==="="?(X=!0,ne=G,Y.push(m.substring(k,J)),k=ne):ne=J+1}else ne+=1;(!X||ne>=m.length)&&Y.push(m.substring(k,m.length))}return Y}(d)){let m=o(v);m&&this._parsed.set(m.name,m)}}get(...u){let l=typeof u[0]=="string"?u[0]:u[0].name;return this._parsed.get(l)}getAll(...u){var l;let y=Array.from(this._parsed.values());if(!u.length)return y;let I=typeof u[0]=="string"?u[0]:(l=u[0])==null?void 0:l.name;return y.filter(d=>d.name===I)}has(u){return this._parsed.has(u)}set(...u){let[l,y,I]=u.length===1?[u[0].name,u[0].value,u[0]]:u,d=this._parsed;return d.set(l,function(v={name:"",value:""}){return typeof v.expires=="number"&&(v.expires=new Date(v.expires)),v.maxAge&&(v.expires=new Date(Date.now()+1e3*v.maxAge)),(v.path===null||v.path===void 0)&&(v.path="/"),v}({name:l,value:y,...I})),function(v,m){for(let[,k]of(m.delete("set-cookie"),v)){let U=E(k);m.append("set-cookie",U)}}(d,this._headers),this}delete(...u){let[l,y,I]=typeof u[0]=="string"?[u[0]]:[u[0].name,u[0].path,u[0].domain];return this.set({name:l,path:y,domain:I,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(E).join("; ")}}},Ke);export{Lc as __getNamedExports};
