var H=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var Q=Object.prototype.hasOwnProperty;var V=(s,p)=>()=>(s&&(p=s(s=0)),p);var q=(s,p,I,d)=>{if(p&&typeof p=="object"||typeof p=="function")for(let g of J(p))!Q.call(s,g)&&g!==I&&H(s,g,{get:()=>p[g],enumerable:!(d=z(p,g))||d.enumerable});return s},B=(s,p,I)=>(q(s,p,"default"),I&&q(I,p,"default"));var Z=s=>q(H({},"__esModule",{value:!0}),s);var F={};import*as gt from"async_hooks";var G=V(()=>{B(F,gt)});import{__getNamedExports as ee}from"../../../../__next-on-pages-dist__/webpack/562f1929e61c51936b027740cd20d5f9.js";import{__getNamedExports as te}from"../../../../__next-on-pages-dist__/webpack/4306.js";import{__getNamedExports as _e}from"../../../../__next-on-pages-dist__/webpack/d6830180ae0f03b84fd7a5e7248c5aa2.js";import{__getNamedExports as ne}from"../../../../__next-on-pages-dist__/webpack/d2550da8fc2781985fea0b1c0d3097c7.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/webpack/030bd997c35875172fa1ffa5b8a901e4.js";import{__getNamedExports as re}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var i=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/posts/approve"),W=ee(i,i,i),ce=W.__chunk_5822,ae=W.__chunk_7185,se=te(i,i,i),ue=se.__chunk_4306,C=_e(i,i,i),pe=C.__chunk_6195,ie=C.__chunk_2067,he=C.__chunk_5558,ke=C.__chunk_5303,de=C.__chunk_5228,ge=C.__chunk_1959,m=ne(i,i,i),fe=m.__chunk_1730,xe=m.__chunk_3818,le=m.__chunk_7037,me=m.__chunk_1863,be=m.__chunk_932,Ee=m.__chunk_581,ve=m.__chunk_2561,ye=m.__chunk_2988,Ne=m.__chunk_2039,Pe=m.__chunk_5028,we=m.__chunk_9548,Re=m.__chunk_6914,Oe=m.__chunk_7960,je=m.__chunk_5996,Ae=m.__chunk_4337,n=oe(i,i,i),Se=n.__chunk_5405,$e=n.__chunk_7322,Te=n.__chunk_5276,Ce=n.__chunk_5577,Ie=n.__chunk_3039,Fe=n.__chunk_9573,Me=n.__chunk_7701,Ue=n.__chunk_662,Le=n.__chunk_4101,De=n.__chunk_6776,Ke=n.__chunk_8042,qe=n.__chunk_3665,Be=n.__chunk_7444,Xe=n.__chunk_4591,He=n.__chunk_6991,Ge=n.__chunk_8816,We=n.__chunk_6631,Ye=n.__chunk_4828,ze=n.__chunk_828,Je=n.__chunk_5927,Qe=n.__chunk_6202,Ve=n.__chunk_6947,Ze=n.__chunk_4363,et=n.__chunk_8264,tt=n.__chunk_1583,_t=n.__chunk_9985,nt=n.__chunk_4155,ot=n.__chunk_7908,rt=n.__chunk_8949,ct=n.__chunk_796,at=n.__chunk_1651,st=n.__chunk_5105,ut=n.__chunk_9642,pt=n.__chunk_8819,it=n.__chunk_676,Y=re(i,i,i),ht=Y.__NEXT_FONT_MANIFEST,kt=Y.__REACT_LOADABLE_MANIFEST,vt=((s,p,I)=>(p._ENTRIES={},s.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/fd9d1056-dcba7f094ce3d609.js","static/chunks/30-b50f13889648ea77.js","static/chunks/main-app-17503da640fcbefb.js"],pages:{"/_app":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-dc5c0cdb2c2c0bdb.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-dc5c0cdb2c2c0bdb.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},s.__BUILD_MANIFEST.lowPriorityFiles=["/static/FQBh2Ar4Fsg4ZG1NC9Wb7/_buildManifest.js",,"/static/FQBh2Ar4Fsg4ZG1NC9Wb7/_ssgManifest.js"],s.__REACT_LOADABLE_MANIFEST=kt,s.__NEXT_FONT_MANIFEST=ht,s.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var d={},g={};function _(t){var a=g[t];if(a!==void 0)return a.exports;var u=g[t]={exports:{}},f=!0;try{d[t](u,u.exports,_),f=!1}finally{f&&delete g[t]}return u.exports}_.m=d,_.amdO={},(()=>{var t=[];_.O=(a,u,f,x)=>{if(u){x=x||0;for(var h=t.length;h>0&&t[h-1][2]>x;h--)t[h]=t[h-1];t[h]=[u,f,x];return}for(var k=1/0,h=0;h<t.length;h++){for(var[u,f,x]=t[h],v=!0,b=0;b<u.length;b++)k>=x&&Object.keys(_.O).every(T=>_.O[T](u[b]))?u.splice(b--,1):(v=!1,x<k&&(k=x));if(v){t.splice(h--,1);var y=f();y!==void 0&&(a=y)}}return a}})(),_.n=t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return _.d(a,{a}),a},_.d=(t,a)=>{for(var u in a)_.o(a,u)&&!_.o(t,u)&&Object.defineProperty(t,u,{enumerable:!0,get:a[u]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof p=="object")return p;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};_.O.j=f=>t[f]===0;var a=(f,x)=>{var h,k,[v,b,y]=x,j=0;if(v.some($=>t[$]!==0)){for(h in b)_.o(b,h)&&(_.m[h]=b[h]);if(y)var N=y(_)}for(f&&f(x);j<v.length;j++)k=v[j],_.o(t,k)&&t[k]&&t[k][0](),t[k]=0;return _.O(N)},u=s.webpackChunk_N_E=s.webpackChunk_N_E||[];u.forEach(a.bind(null,0)),u.push=a.bind(null,u.push.bind(u))})()})(),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[241],{676:it,8819:pt,9642:ut,5105:st,1651:at,796:ct,8949:rt,7908:ot,4155:nt,9985:_t,1583:tt,8264:et,4363:Ze,6947:Ve,6202:Qe,5927:Je,828:ze,4828:Ye,6631:We,8816:Ge,6991:He,4591:Xe,7444:Be,3665:qe,8042:Ke,6776:De,4101:Le,662:Ue,7701:Me,9573:Fe,3039:Ie,5577:Ce,1959:ge,5276:Te,5228:de,5303:ke,7322:$e,5558:he,5405:Se}]),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[805],{4337:Ae,5996:je,7960:Oe,6914:Re,9548:we,5028:Pe,2039:Ne,2988:ye,2561:ve,581:Ee,932:be,1863:me,7037:le,3818:xe,1730:fe}]),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[574],{2067:ie,6195:pe,4500:(d,g,_)=>{"use strict";_.r(g),_.d(g,{ComponentMod:()=>D,default:()=>K});var t={};_.r(t),_.d(t,{POST:()=>j,runtime:()=>y});var a={};_.r(a),_.d(a,{originalPathname:()=>U,patchFetch:()=>L,requestAsyncStorage:()=>$,routeModule:()=>N,serverHooks:()=>T,staticGenerationAsyncStorage:()=>M});var u=_(932),f=_(2561),x=_(4828),h=_(6631),k=_(9985),v=_(5822),b=_(4306);let y="edge";async function j(w){try{let{id:R}=await w.json();if(!R)return k.xk.json({error:"Post ID required"},{status:400});let{env:e}=(0,v.getRequestContext)(),c=e.DB;return(c?await(0,b.sb)(c,R):(0,b.yY)(R))?k.xk.json({success:!0,message:"Post approved"}):k.xk.json({error:"Post not found"},{status:404})}catch(R){return console.error("Error approving post:",R),k.xk.json({error:"Invalid request"},{status:400})}}let N=new f.AppRouteRouteModule({definition:{kind:x.x.APP_ROUTE,page:"/api/posts/approve/route",pathname:"/api/posts/approve",filename:"route",bundlePath:"app/api/posts/approve/route"},resolvedPagePath:"/Users/mattiapetrucciani/CascadeProjects/Onde/apps/surfboard/src/app/api/posts/approve/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:$,staticGenerationAsyncStorage:M,serverHooks:T}=N,U="/api/posts/approve/route";function L(){return(0,h.XH)({serverHooks:T,staticGenerationAsyncStorage:M})}let D=a,K=u.a.wrap(N)},7185:ae,4306:ue,5822:ce},d=>{var g=t=>d(d.s=t);d.O(0,[241,805],()=>g(4500));var _=d.O();(p._ENTRIES=typeof p._ENTRIES>"u"?{}:p._ENTRIES)["middleware_app/api/posts/approve/route"]=_}]),function(){let d={exports:{},loaded:!1};return function(_,t){"use strict";var a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,h=(e,c)=>{for(var o in c)a(e,o,{get:c[o],enumerable:!0})},k=(e,c,o,r)=>{if(c&&typeof c=="object"||typeof c=="function")for(let l of f(c))!x.call(e,l)&&l!==o&&a(e,l,{get:()=>c[l],enumerable:!(r=u(c,l))||r.enumerable});return e},v=e=>k(a({},"__esModule",{value:!0}),e),b={};h(b,{default:()=>K}),_.exports=v(b);var y=(G(),Z(F)),j="@next/request-context",N=Symbol.for(j),$=Symbol.for("internal.storage");function M(){let e=p;if(!e[N]){let c=new y.AsyncLocalStorage,o={get:()=>c.getStore(),[$]:c};e[N]=o}return e[N]}var T=M();function U(e,c){return T[$].run(e,c)}function L(e){let c={};return e&&e.forEach((o,r)=>{c[r]=o,r.toLowerCase()==="set-cookie"&&(c[r]=D(o))}),c}function D(e){let c=[],o=0,r,l,E,A,S;function P(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function O(){return l=e.charAt(o),l!=="="&&l!==";"&&l!==","}for(;o<e.length;){for(r=o,S=!1;P();)if(l=e.charAt(o),l===","){for(E=o,o+=1,P(),A=o;o<e.length&&O();)o+=1;o<e.length&&e.charAt(o)==="="?(S=!0,o=A,c.push(e.substring(r,E)),r=o):o=E+1}else o+=1;(!S||o>=e.length)&&c.push(e.substring(r,e.length))}return c}function K(e){let c=e.staticRoutes.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page})),o=e.dynamicRoutes?.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page}))||[];return async function(r,l){let E=new URL(r.url).pathname,A={};if(e.nextConfig?.basePath&&E.startsWith(e.nextConfig.basePath)&&(E=E.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let P of e.nextConfig.i18n.locales){let O=new RegExp(`^/${P}($|/)`,"i");if(E.match(O)){E=E.replace(O,"/")||"/";break}}for(let P of c)if(P.regexp.exec(E)){A.name=P.page;break}if(!A.name){let P=R(E);for(let O of o||[]){if(P&&!R(O.page))continue;let X=O.regexp.exec(E);if(X){A={name:O.page,params:X.groups};break}}}let S=await U({waitUntil:l.waitUntil},()=>p._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:r.url,method:r.method,headers:L(r.headers),ip:w(r.headers,"x-real-ip"),geo:{city:w(r.headers,"x-vercel-ip-city",!0),country:w(r.headers,"x-vercel-ip-country",!0),latitude:w(r.headers,"x-vercel-ip-latitude"),longitude:w(r.headers,"x-vercel-ip-longitude"),region:w(r.headers,"x-vercel-ip-country-region",!0)},nextConfig:e.nextConfig,page:A,body:r.body}}));return S.waitUntil&&l.waitUntil(S.waitUntil),S.response}}function w(e,c,o=!1){let r=e.get(c)||void 0;return o&&r?decodeURIComponent(r):r}function R(e){return e==="/api"||e.startsWith("/api/")}}(d,d.exports),d.exports}.call({}).default({name:"app/api/posts/approve/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/coming-soon",regex:"^/coming\\-soon(?:/)?$",routeKeys:{},namedRegex:"^/coming\\-soon(?:/)?$"},{page:"/corde",regex:"^/corde(?:/)?$",routeKeys:{},namedRegex:"^/corde(?:/)?$"},{page:"/frh",regex:"^/frh(?:/)?$",routeKeys:{},namedRegex:"^/frh(?:/)?$"},{page:"/house",regex:"^/house(?:/)?$",routeKeys:{},namedRegex:"^/house(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/pr",regex:"^/pr(?:/)?$",routeKeys:{},namedRegex:"^/pr(?:/)?$"},{page:"/social",regex:"^/social(?:/)?$",routeKeys:{},namedRegex:"^/social(?:/)?$"}],dynamicRoutes:[{page:"/api/agent-tasks/[id]",regex:"^/api/agent\\-tasks/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/agent\\-tasks/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/pr/posts/[id]/approve",regex:"^/api/pr/posts/([^/]+?)/approve(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/pr/posts/(?<nxtPid>[^/]+?)/approve(?:/)?$"},{page:"/api/pr/posts/[id]/feedback",regex:"^/api/pr/posts/([^/]+?)/feedback(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/pr/posts/(?<nxtPid>[^/]+?)/feedback(?:/)?$"}],nextConfig:{basePath:""}})))(i,i,i);export{vt as default};
