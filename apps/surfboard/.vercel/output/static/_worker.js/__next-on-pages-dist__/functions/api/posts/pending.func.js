var G=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var Y=(a,p)=>()=>(a&&(p=a(a=0)),p);var B=(a,p,I,k)=>{if(p&&typeof p=="object"||typeof p=="function")for(let d of Q(p))!V.call(a,d)&&d!==I&&G(a,d,{get:()=>p[d],enumerable:!(k=z(p,d))||k.enumerable});return a},q=(a,p,I)=>(B(a,p,"default"),I&&B(I,p,"default"));var Z=a=>B(G({},"__esModule",{value:!0}),a);var F={};import*as g_ from"async_hooks";var H=Y(()=>{q(F,g_)});import{__getNamedExports as ee}from"../../../../__next-on-pages-dist__/webpack/562f1929e61c51936b027740cd20d5f9.js";import{__getNamedExports as _e}from"../../../../__next-on-pages-dist__/webpack/4306.js";import{__getNamedExports as te}from"../../../../__next-on-pages-dist__/webpack/d6830180ae0f03b84fd7a5e7248c5aa2.js";import{__getNamedExports as ne}from"../../../../__next-on-pages-dist__/webpack/d2550da8fc2781985fea0b1c0d3097c7.js";import{__getNamedExports as ce}from"../../../../__next-on-pages-dist__/webpack/030bd997c35875172fa1ffa5b8a901e4.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var i=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/posts/pending"),W=ee(i,i,i),re=W.__chunk_5822,se=W.__chunk_7185,ae=_e(i,i,i),ue=ae.__chunk_4306,C=te(i,i,i),pe=C.__chunk_6195,ie=C.__chunk_2067,he=C.__chunk_5558,ke=C.__chunk_5303,de=C.__chunk_5228,ge=C.__chunk_1959,E=ne(i,i,i),fe=E.__chunk_1730,le=E.__chunk_3818,xe=E.__chunk_7037,me=E.__chunk_1863,Ee=E.__chunk_932,be=E.__chunk_581,ye=E.__chunk_2561,ve=E.__chunk_2988,Ne=E.__chunk_2039,Re=E.__chunk_5028,we=E.__chunk_9548,Pe=E.__chunk_6914,Oe=E.__chunk_7960,je=E.__chunk_5996,Ae=E.__chunk_4337,n=ce(i,i,i),Se=n.__chunk_5405,$e=n.__chunk_7322,Te=n.__chunk_5276,Ce=n.__chunk_5577,Ie=n.__chunk_3039,Fe=n.__chunk_9573,Me=n.__chunk_7701,Ue=n.__chunk_662,Le=n.__chunk_4101,Ke=n.__chunk_6776,De=n.__chunk_8042,Be=n.__chunk_3665,qe=n.__chunk_7444,Xe=n.__chunk_4591,Ge=n.__chunk_6991,He=n.__chunk_8816,We=n.__chunk_6631,Je=n.__chunk_4828,ze=n.__chunk_828,Qe=n.__chunk_5927,Ve=n.__chunk_6202,Ye=n.__chunk_6947,Ze=n.__chunk_4363,e_=n.__chunk_8264,__=n.__chunk_1583,t_=n.__chunk_9985,n_=n.__chunk_4155,c_=n.__chunk_7908,o_=n.__chunk_8949,r_=n.__chunk_796,s_=n.__chunk_1651,a_=n.__chunk_5105,u_=n.__chunk_9642,p_=n.__chunk_8819,i_=n.__chunk_676,J=oe(i,i,i),h_=J.__NEXT_FONT_MANIFEST,k_=J.__REACT_LOADABLE_MANIFEST,y_=((a,p,I)=>(p._ENTRIES={},a.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/fd9d1056-dcba7f094ce3d609.js","static/chunks/30-b50f13889648ea77.js","static/chunks/main-app-17503da640fcbefb.js"],pages:{"/_app":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-dc5c0cdb2c2c0bdb.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-dc5c0cdb2c2c0bdb.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},a.__BUILD_MANIFEST.lowPriorityFiles=["/static/FQBh2Ar4Fsg4ZG1NC9Wb7/_buildManifest.js",,"/static/FQBh2Ar4Fsg4ZG1NC9Wb7/_ssgManifest.js"],a.__REACT_LOADABLE_MANIFEST=k_,a.__NEXT_FONT_MANIFEST=h_,a.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var k={},d={};function t(_){var r=d[_];if(r!==void 0)return r.exports;var u=d[_]={exports:{}},g=!0;try{k[_](u,u.exports,t),g=!1}finally{g&&delete d[_]}return u.exports}t.m=k,t.amdO={},(()=>{var _=[];t.O=(r,u,g,f)=>{if(u){f=f||0;for(var h=_.length;h>0&&_[h-1][2]>f;h--)_[h]=_[h-1];_[h]=[u,g,f];return}for(var l=1/0,h=0;h<_.length;h++){for(var[u,g,f]=_[h],y=!0,x=0;x<u.length;x++)l>=f&&Object.keys(t.O).every(T=>t.O[T](u[x]))?u.splice(x--,1):(y=!1,f<l&&(l=f));if(y){_.splice(h--,1);var N=g();N!==void 0&&(r=N)}}return r}})(),t.n=_=>{var r=_&&_.__esModule?()=>_.default:()=>_;return t.d(r,{a:r}),r},t.d=(_,r)=>{for(var u in r)t.o(r,u)&&!t.o(_,u)&&Object.defineProperty(_,u,{enumerable:!0,get:r[u]})},t.e=()=>Promise.resolve(),t.g=function(){if(typeof p=="object")return p;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(_,r)=>Object.prototype.hasOwnProperty.call(_,r),t.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},(()=>{var _={993:0};t.O.j=g=>_[g]===0;var r=(g,f)=>{var h,l,[y,x,N]=f,O=0;if(y.some($=>_[$]!==0)){for(h in x)t.o(x,h)&&(t.m[h]=x[h]);if(N)var R=N(t)}for(g&&g(f);O<y.length;O++)l=y[O],t.o(_,l)&&_[l]&&_[l][0](),_[l]=0;return t.O(R)},u=a.webpackChunk_N_E=a.webpackChunk_N_E||[];u.forEach(r.bind(null,0)),u.push=r.bind(null,u.push.bind(u))})()})(),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[241],{676:i_,8819:p_,9642:u_,5105:a_,1651:s_,796:r_,8949:o_,7908:c_,4155:n_,9985:t_,1583:__,8264:e_,4363:Ze,6947:Ye,6202:Ve,5927:Qe,828:ze,4828:Je,6631:We,8816:He,6991:Ge,4591:Xe,7444:qe,3665:Be,8042:De,6776:Ke,4101:Le,662:Ue,7701:Me,9573:Fe,3039:Ie,5577:Ce,1959:ge,5276:Te,5228:de,5303:ke,7322:$e,5558:he,5405:Se}]),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[805],{4337:Ae,5996:je,7960:Oe,6914:Pe,9548:we,5028:Re,2039:Ne,2988:ve,2561:ye,581:be,932:Ee,1863:me,7037:xe,3818:le,1730:fe}]),(a.webpackChunk_N_E=a.webpackChunk_N_E||[]).push([[730],{2067:ie,6195:pe,8096:(k,d,t)=>{"use strict";t.r(d),t.d(d,{ComponentMod:()=>K,default:()=>D});var _={};t.r(_),t.d(_,{GET:()=>O,runtime:()=>N});var r={};t.r(r),t.d(r,{originalPathname:()=>U,patchFetch:()=>L,requestAsyncStorage:()=>$,routeModule:()=>R,serverHooks:()=>T,staticGenerationAsyncStorage:()=>M});var u=t(932),g=t(2561),f=t(4828),h=t(6631),l=t(9985),y=t(5822),x=t(4306);let N="edge";async function O(){try{let{env:v}=(0,y.getRequestContext)(),j=v.DB;if(j){let e=await(0,x.mi)(j);return l.xk.json({posts:e,source:"d1"})}{let e=(0,x.JP)();return l.xk.json({posts:e,source:"memory"})}}catch(v){console.error("Error fetching pending posts:",v);let j=(0,x.JP)();return l.xk.json({posts:j,source:"memory-fallback"})}}let R=new g.AppRouteRouteModule({definition:{kind:f.x.APP_ROUTE,page:"/api/posts/pending/route",pathname:"/api/posts/pending",filename:"route",bundlePath:"app/api/posts/pending/route"},resolvedPagePath:"/Users/mattiapetrucciani/CascadeProjects/Onde/apps/surfboard/src/app/api/posts/pending/route.ts",nextConfigOutput:"",userland:_}),{requestAsyncStorage:$,staticGenerationAsyncStorage:M,serverHooks:T}=R,U="/api/posts/pending/route";function L(){return(0,h.XH)({serverHooks:T,staticGenerationAsyncStorage:M})}let K=r,D=u.a.wrap(R)},7185:se,4306:ue,5822:re},k=>{var d=_=>k(k.s=_);k.O(0,[241,805],()=>d(8096));var t=k.O();(p._ENTRIES=typeof p._ENTRIES>"u"?{}:p._ENTRIES)["middleware_app/api/posts/pending/route"]=t}]),function(){let k={exports:{},loaded:!1};return function(t,_){"use strict";var r=Object.defineProperty,u=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,h=(e,s)=>{for(var c in s)r(e,c,{get:s[c],enumerable:!0})},l=(e,s,c,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let m of g(s))!f.call(e,m)&&m!==c&&r(e,m,{get:()=>s[m],enumerable:!(o=u(s,m))||o.enumerable});return e},y=e=>l(r({},"__esModule",{value:!0}),e),x={};h(x,{default:()=>D}),t.exports=y(x);var N=(H(),Z(F)),O="@next/request-context",R=Symbol.for(O),$=Symbol.for("internal.storage");function M(){let e=p;if(!e[R]){let s=new N.AsyncLocalStorage,c={get:()=>s.getStore(),[$]:s};e[R]=c}return e[R]}var T=M();function U(e,s){return T[$].run(e,s)}function L(e){let s={};return e&&e.forEach((c,o)=>{s[o]=c,o.toLowerCase()==="set-cookie"&&(s[o]=K(c))}),s}function K(e){let s=[],c=0,o,m,b,A,S;function w(){for(;c<e.length&&/\s/.test(e.charAt(c));)c+=1;return c<e.length}function P(){return m=e.charAt(c),m!=="="&&m!==";"&&m!==","}for(;c<e.length;){for(o=c,S=!1;w();)if(m=e.charAt(c),m===","){for(b=c,c+=1,w(),A=c;c<e.length&&P();)c+=1;c<e.length&&e.charAt(c)==="="?(S=!0,c=A,s.push(e.substring(o,b)),o=c):c=b+1}else c+=1;(!S||c>=e.length)&&s.push(e.substring(o,e.length))}return s}function D(e){let s=e.staticRoutes.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page})),c=e.dynamicRoutes?.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page}))||[];return async function(o,m){let b=new URL(o.url).pathname,A={};if(e.nextConfig?.basePath&&b.startsWith(e.nextConfig.basePath)&&(b=b.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let w of e.nextConfig.i18n.locales){let P=new RegExp(`^/${w}($|/)`,"i");if(b.match(P)){b=b.replace(P,"/")||"/";break}}for(let w of s)if(w.regexp.exec(b)){A.name=w.page;break}if(!A.name){let w=j(b);for(let P of c||[]){if(w&&!j(P.page))continue;let X=P.regexp.exec(b);if(X){A={name:P.page,params:X.groups};break}}}let S=await U({waitUntil:m.waitUntil},()=>p._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:o.url,method:o.method,headers:L(o.headers),ip:v(o.headers,"x-real-ip"),geo:{city:v(o.headers,"x-vercel-ip-city",!0),country:v(o.headers,"x-vercel-ip-country",!0),latitude:v(o.headers,"x-vercel-ip-latitude"),longitude:v(o.headers,"x-vercel-ip-longitude"),region:v(o.headers,"x-vercel-ip-country-region",!0)},nextConfig:e.nextConfig,page:A,body:o.body}}));return S.waitUntil&&m.waitUntil(S.waitUntil),S.response}}function v(e,s,c=!1){let o=e.get(s)||void 0;return c&&o?decodeURIComponent(o):o}function j(e){return e==="/api"||e.startsWith("/api/")}}(k,k.exports),k.exports}.call({}).default({name:"app/api/posts/pending/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/coming-soon",regex:"^/coming\\-soon(?:/)?$",routeKeys:{},namedRegex:"^/coming\\-soon(?:/)?$"},{page:"/corde",regex:"^/corde(?:/)?$",routeKeys:{},namedRegex:"^/corde(?:/)?$"},{page:"/frh",regex:"^/frh(?:/)?$",routeKeys:{},namedRegex:"^/frh(?:/)?$"},{page:"/house",regex:"^/house(?:/)?$",routeKeys:{},namedRegex:"^/house(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/pr",regex:"^/pr(?:/)?$",routeKeys:{},namedRegex:"^/pr(?:/)?$"},{page:"/social",regex:"^/social(?:/)?$",routeKeys:{},namedRegex:"^/social(?:/)?$"}],dynamicRoutes:[{page:"/api/agent-tasks/[id]",regex:"^/api/agent\\-tasks/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/agent\\-tasks/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/pr/posts/[id]/approve",regex:"^/api/pr/posts/([^/]+?)/approve(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/pr/posts/(?<nxtPid>[^/]+?)/approve(?:/)?$"},{page:"/api/pr/posts/[id]/feedback",regex:"^/api/pr/posts/([^/]+?)/feedback(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/pr/posts/(?<nxtPid>[^/]+?)/feedback(?:/)?$"}],nextConfig:{basePath:""}})))(i,i,i);export{y_ as default};
