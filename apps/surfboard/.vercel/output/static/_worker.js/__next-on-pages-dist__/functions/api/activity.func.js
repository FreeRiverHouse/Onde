var X=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var Y=(s,i)=>()=>(s&&(i=s(s=0)),i);var B=(s,i,T,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let g of J(i))!V.call(s,g)&&g!==T&&X(s,g,{get:()=>i[g],enumerable:!(d=z(i,g))||d.enumerable});return s},q=(s,i,T)=>(B(s,i,"default"),T&&B(T,i,"default"));var Z=s=>B(X({},"__esModule",{value:!0}),s);var D={};import*as gt from"async_hooks";var H=Y(()=>{q(D,gt)});import{__getNamedExports as ee}from"../../../__next-on-pages-dist__/webpack/562f1929e61c51936b027740cd20d5f9.js";import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/4306.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/d6830180ae0f03b84fd7a5e7248c5aa2.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/d2550da8fc2781985fea0b1c0d3097c7.js";import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/webpack/030bd997c35875172fa1ffa5b8a901e4.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var h=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/activity"),Q=ee(h,h,h),ae=Q.__chunk_5822,re=Q.__chunk_7185,se=te(h,h,h),ue=se.__chunk_4306,C=_e(h,h,h),ie=C.__chunk_6195,he=C.__chunk_2067,pe=C.__chunk_5558,ke=C.__chunk_5303,de=C.__chunk_5228,ge=C.__chunk_1959,x=ne(h,h,h),le=x.__chunk_1730,fe=x.__chunk_3818,me=x.__chunk_7037,xe=x.__chunk_1863,ye=x.__chunk_932,Ee=x.__chunk_581,ve=x.__chunk_2561,be=x.__chunk_2988,we=x.__chunk_2039,Ne=x.__chunk_5028,Oe=x.__chunk_9548,Se=x.__chunk_6914,Re=x.__chunk_7960,Ae=x.__chunk_5996,Pe=x.__chunk_4337,o=ce(h,h,h),Ie=o.__chunk_5405,je=o.__chunk_7322,Ce=o.__chunk_5276,Te=o.__chunk_5577,De=o.__chunk_3039,Fe=o.__chunk_9573,Me=o.__chunk_7701,$e=o.__chunk_662,Le=o.__chunk_4101,Ue=o.__chunk_6776,Ke=o.__chunk_8042,Be=o.__chunk_3665,qe=o.__chunk_7444,Ge=o.__chunk_4591,Xe=o.__chunk_6991,He=o.__chunk_8816,Qe=o.__chunk_6631,We=o.__chunk_4828,ze=o.__chunk_828,Je=o.__chunk_5927,Ve=o.__chunk_6202,Ye=o.__chunk_6947,Ze=o.__chunk_4363,et=o.__chunk_8264,tt=o.__chunk_1583,_t=o.__chunk_9985,nt=o.__chunk_4155,ct=o.__chunk_7908,ot=o.__chunk_8949,at=o.__chunk_796,rt=o.__chunk_1651,st=o.__chunk_5105,ut=o.__chunk_9642,it=o.__chunk_8819,ht=o.__chunk_676,W=oe(h,h,h),pt=W.__NEXT_FONT_MANIFEST,kt=W.__REACT_LOADABLE_MANIFEST,vt=((s,i,T)=>(i._ENTRIES={},s.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/fd9d1056-dcba7f094ce3d609.js","static/chunks/30-b50f13889648ea77.js","static/chunks/main-app-17503da640fcbefb.js"],pages:{"/_app":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-cd26d40301e263df.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-cd26d40301e263df.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},s.__BUILD_MANIFEST.lowPriorityFiles=["/static/YcCdT5nboS_5lNSC1gVhr/_buildManifest.js",,"/static/YcCdT5nboS_5lNSC1gVhr/_ssgManifest.js"],s.__REACT_LOADABLE_MANIFEST=kt,s.__NEXT_FONT_MANIFEST=pt,s.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var d={},g={};function _(t){var r=g[t];if(r!==void 0)return r.exports;var u=g[t]={exports:{}},l=!0;try{d[t](u,u.exports,_),l=!1}finally{l&&delete g[t]}return u.exports}_.m=d,_.amdO={},(()=>{var t=[];_.O=(r,u,l,f)=>{if(u){f=f||0;for(var p=t.length;p>0&&t[p-1][2]>f;p--)t[p]=t[p-1];t[p]=[u,l,f];return}for(var m=1/0,p=0;p<t.length;p++){for(var[u,l,f]=t[p],v=!0,y=0;y<u.length;y++)m>=f&&Object.keys(_.O).every(j=>_.O[j](u[y]))?u.splice(y--,1):(v=!1,f<m&&(m=f));if(v){t.splice(p--,1);var b=l();b!==void 0&&(r=b)}}return r}})(),_.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return _.d(r,{a:r}),r},_.d=(t,r)=>{for(var u in r)_.o(r,u)&&!_.o(t,u)&&Object.defineProperty(t,u,{enumerable:!0,get:r[u]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof i=="object")return i;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};_.O.j=l=>t[l]===0;var r=(l,f)=>{var p,m,[v,y,b]=f,N=0;if(v.some(O=>t[O]!==0)){for(p in y)_.o(y,p)&&(_.m[p]=y[p]);if(b)var A=b(_)}for(l&&l(f);N<v.length;N++)m=v[N],_.o(t,m)&&t[m]&&t[m][0](),t[m]=0;return _.O(A)},u=s.webpackChunk_N_E=s.webpackChunk_N_E||[];u.forEach(r.bind(null,0)),u.push=r.bind(null,u.push.bind(u))})()})(),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[241],{676:ht,8819:it,9642:ut,5105:st,1651:rt,796:at,8949:ot,7908:ct,4155:nt,9985:_t,1583:tt,8264:et,4363:Ze,6947:Ye,6202:Ve,5927:Je,828:ze,4828:We,6631:Qe,8816:He,6991:Xe,4591:Ge,7444:qe,3665:Be,8042:Ke,6776:Ue,4101:Le,662:$e,7701:Me,9573:Fe,3039:De,5577:Te,1959:ge,5276:Ce,5228:de,5303:ke,7322:je,5558:pe,5405:Ie}]),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[805],{4337:Pe,5996:Ae,7960:Re,6914:Se,9548:Oe,5028:Ne,2039:we,2988:be,2561:ve,581:Ee,932:ye,1863:xe,7037:me,3818:fe,1730:le}]),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[504],{2067:he,6195:ie,7009:(d,g,_)=>{"use strict";_.r(g),_.d(g,{ComponentMod:()=>K,default:()=>S});var t={};_.r(t),_.d(t,{GET:()=>A,runtime:()=>b});var r={};_.r(r),_.d(r,{originalPathname:()=>L,patchFetch:()=>U,requestAsyncStorage:()=>$,routeModule:()=>O,serverHooks:()=>F,staticGenerationAsyncStorage:()=>j});var u=_(932),l=_(2561),f=_(4828),p=_(6631),m=_(9985),v=_(5822),y=_(4306);let b="edge",N=[{id:1,type:"deploy",title:"onde.surf deployed",description:"Production build v1.2.0",actor:"CI/CD",created_at:new Date(Date.now()-12e4).toISOString()},{id:2,type:"post_approved",title:"Quote post approved",description:"@Onde_FRH - Marcus Aurelius",actor:"Mattia",created_at:new Date(Date.now()-9e5).toISOString()},{id:3,type:"image_generated",title:"MILO illustration created",description:"Chapter 5 - Internet safety",actor:"Grok",created_at:new Date(Date.now()-18e5).toISOString()},{id:4,type:"book_updated",title:"Piccole Rime updated",description:"Added new poem - Stella Stellina",actor:"Gianni Parola",created_at:new Date(Date.now()-27e5).toISOString()},{id:5,type:"agent_action",title:"QA tests completed",description:"All 19 tests passed",actor:"QA Agent",created_at:new Date(Date.now()-36e5).toISOString()}];async function A(M){try{let{searchParams:e}=new URL(M.url),a=parseInt(e.get("limit")||"20",10),{env:n}=(0,v.getRequestContext)(),c=n.DB;if(!c)return m.xk.json({activities:N.slice(0,a),source:"mock"});{let k=await(0,y.o7)(c,a);return m.xk.json({activities:k,source:"d1"})}}catch(e){return console.error("Error fetching activity:",e),m.xk.json({activities:N,source:"mock-fallback"})}}let O=new l.AppRouteRouteModule({definition:{kind:f.x.APP_ROUTE,page:"/api/activity/route",pathname:"/api/activity",filename:"route",bundlePath:"app/api/activity/route"},resolvedPagePath:"/Users/mattiapetrucciani/CascadeProjects/Onde/apps/surfboard/src/app/api/activity/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:$,staticGenerationAsyncStorage:j,serverHooks:F}=O,L="/api/activity/route";function U(){return(0,p.XH)({serverHooks:F,staticGenerationAsyncStorage:j})}let K=r,S=u.a.wrap(O)},7185:re,4306:ue,5822:ae},d=>{var g=t=>d(d.s=t);d.O(0,[241,805],()=>g(7009));var _=d.O();(i._ENTRIES=typeof i._ENTRIES>"u"?{}:i._ENTRIES)["middleware_app/api/activity/route"]=_}]),function(){let d={exports:{},loaded:!1};return function(_,t){"use strict";var r=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,p=(e,a)=>{for(var n in a)r(e,n,{get:a[n],enumerable:!0})},m=(e,a,n,c)=>{if(a&&typeof a=="object"||typeof a=="function")for(let k of l(a))!f.call(e,k)&&k!==n&&r(e,k,{get:()=>a[k],enumerable:!(c=u(a,k))||c.enumerable});return e},v=e=>m(r({},"__esModule",{value:!0}),e),y={};p(y,{default:()=>K}),_.exports=v(y);var b=(H(),Z(D)),N="@next/request-context",A=Symbol.for(N),O=Symbol.for("internal.storage");function $(){let e=i;if(!e[A]){let a=new b.AsyncLocalStorage,n={get:()=>a.getStore(),[O]:a};e[A]=n}return e[A]}var j=$();function F(e,a){return j[O].run(e,a)}function L(e){let a={};return e&&e.forEach((n,c)=>{a[c]=n,c.toLowerCase()==="set-cookie"&&(a[c]=U(n))}),a}function U(e){let a=[],n=0,c,k,E,P,I;function w(){for(;n<e.length&&/\s/.test(e.charAt(n));)n+=1;return n<e.length}function R(){return k=e.charAt(n),k!=="="&&k!==";"&&k!==","}for(;n<e.length;){for(c=n,I=!1;w();)if(k=e.charAt(n),k===","){for(E=n,n+=1,w(),P=n;n<e.length&&R();)n+=1;n<e.length&&e.charAt(n)==="="?(I=!0,n=P,a.push(e.substring(c,E)),c=n):n=E+1}else n+=1;(!I||n>=e.length)&&a.push(e.substring(c,e.length))}return a}function K(e){let a=e.staticRoutes.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page})),n=e.dynamicRoutes?.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page}))||[];return async function(c,k){let E=new URL(c.url).pathname,P={};if(e.nextConfig?.basePath&&E.startsWith(e.nextConfig.basePath)&&(E=E.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let w of e.nextConfig.i18n.locales){let R=new RegExp(`^/${w}($|/)`,"i");if(E.match(R)){E=E.replace(R,"/")||"/";break}}for(let w of a)if(w.regexp.exec(E)){P.name=w.page;break}if(!P.name){let w=M(E);for(let R of n||[]){if(w&&!M(R.page))continue;let G=R.regexp.exec(E);if(G){P={name:R.page,params:G.groups};break}}}let I=await F({waitUntil:k.waitUntil},()=>i._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:c.url,method:c.method,headers:L(c.headers),ip:S(c.headers,"x-real-ip"),geo:{city:S(c.headers,"x-vercel-ip-city",!0),country:S(c.headers,"x-vercel-ip-country",!0),latitude:S(c.headers,"x-vercel-ip-latitude"),longitude:S(c.headers,"x-vercel-ip-longitude"),region:S(c.headers,"x-vercel-ip-country-region",!0)},nextConfig:e.nextConfig,page:P,body:c.body}}));return I.waitUntil&&k.waitUntil(I.waitUntil),I.response}}function S(e,a,n=!1){let c=e.get(a)||void 0;return n&&c?decodeURIComponent(c):c}function M(e){return e==="/api"||e.startsWith("/api/")}}(d,d.exports),d.exports}.call({}).default({name:"app/api/activity/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/coming-soon",regex:"^/coming\\-soon(?:/)?$",routeKeys:{},namedRegex:"^/coming\\-soon(?:/)?$"},{page:"/corde",regex:"^/corde(?:/)?$",routeKeys:{},namedRegex:"^/corde(?:/)?$"},{page:"/frh",regex:"^/frh(?:/)?$",routeKeys:{},namedRegex:"^/frh(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/social",regex:"^/social(?:/)?$",routeKeys:{},namedRegex:"^/social(?:/)?$"}],dynamicRoutes:[{page:"/api/agent-tasks/[id]",regex:"^/api/agent\\-tasks/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/agent\\-tasks/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"}],nextConfig:{basePath:""}})))(h,h,h);export{vt as default};
