var X=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var Y=(s,i)=>()=>(s&&(i=s(s=0)),i);var B=(s,i,$,k)=>{if(i&&typeof i=="object"||typeof i=="function")for(let g of J(i))!V.call(s,g)&&g!==$&&X(s,g,{get:()=>i[g],enumerable:!(k=z(i,g))||k.enumerable});return s},q=(s,i,$)=>(B(s,i,"default"),$&&B($,i,"default"));var Z=s=>B(X({},"__esModule",{value:!0}),s);var T={};import*as gt from"async_hooks";var H=Y(()=>{q(T,gt)});import{__getNamedExports as ee}from"../../../__next-on-pages-dist__/webpack/562f1929e61c51936b027740cd20d5f9.js";import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/4306.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/d6830180ae0f03b84fd7a5e7248c5aa2.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/d2550da8fc2781985fea0b1c0d3097c7.js";import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/webpack/030bd997c35875172fa1ffa5b8a901e4.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var p=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/activity"),Q=ee(p,p,p),ae=Q.__chunk_5822,re=Q.__chunk_7185,se=te(p,p,p),ue=se.__chunk_4306,C=_e(p,p,p),ie=C.__chunk_6195,pe=C.__chunk_2067,he=C.__chunk_5558,de=C.__chunk_5303,ke=C.__chunk_5228,ge=C.__chunk_1959,m=ne(p,p,p),le=m.__chunk_1730,fe=m.__chunk_3818,xe=m.__chunk_7037,me=m.__chunk_1863,ye=m.__chunk_932,be=m.__chunk_581,Ee=m.__chunk_2561,ve=m.__chunk_2988,we=m.__chunk_2039,Ne=m.__chunk_5028,Oe=m.__chunk_9548,Re=m.__chunk_6914,Pe=m.__chunk_7960,Se=m.__chunk_5996,Ae=m.__chunk_4337,o=ce(p,p,p),Ie=o.__chunk_5405,je=o.__chunk_7322,Ce=o.__chunk_5276,$e=o.__chunk_5577,Te=o.__chunk_3039,De=o.__chunk_9573,Fe=o.__chunk_7701,Me=o.__chunk_662,Le=o.__chunk_4101,Ue=o.__chunk_6776,Ke=o.__chunk_8042,Be=o.__chunk_3665,qe=o.__chunk_7444,Ge=o.__chunk_4591,Xe=o.__chunk_6991,He=o.__chunk_8816,Qe=o.__chunk_6631,We=o.__chunk_4828,ze=o.__chunk_828,Je=o.__chunk_5927,Ve=o.__chunk_6202,Ye=o.__chunk_6947,Ze=o.__chunk_4363,et=o.__chunk_8264,tt=o.__chunk_1583,_t=o.__chunk_9985,nt=o.__chunk_4155,ct=o.__chunk_7908,ot=o.__chunk_8949,at=o.__chunk_796,rt=o.__chunk_1651,st=o.__chunk_5105,ut=o.__chunk_9642,it=o.__chunk_8819,pt=o.__chunk_676,W=oe(p,p,p),ht=W.__NEXT_FONT_MANIFEST,dt=W.__REACT_LOADABLE_MANIFEST,Et=((s,i,$)=>(i._ENTRIES={},s.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/fd9d1056-dcba7f094ce3d609.js","static/chunks/30-b50f13889648ea77.js","static/chunks/main-app-17503da640fcbefb.js"],pages:{"/_app":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-dc5c0cdb2c2c0bdb.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-a3c37fcbf859f6f9.js","static/chunks/framework-3664cab31236a9fa.js","static/chunks/main-dc5c0cdb2c2c0bdb.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},s.__BUILD_MANIFEST.lowPriorityFiles=["/static/FQBh2Ar4Fsg4ZG1NC9Wb7/_buildManifest.js",,"/static/FQBh2Ar4Fsg4ZG1NC9Wb7/_ssgManifest.js"],s.__REACT_LOADABLE_MANIFEST=dt,s.__NEXT_FONT_MANIFEST=ht,s.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var k={},g={};function _(t){var r=g[t];if(r!==void 0)return r.exports;var u=g[t]={exports:{}},l=!0;try{k[t](u,u.exports,_),l=!1}finally{l&&delete g[t]}return u.exports}_.m=k,_.amdO={},(()=>{var t=[];_.O=(r,u,l,f)=>{if(u){f=f||0;for(var h=t.length;h>0&&t[h-1][2]>f;h--)t[h]=t[h-1];t[h]=[u,l,f];return}for(var x=1/0,h=0;h<t.length;h++){for(var[u,l,f]=t[h],E=!0,y=0;y<u.length;y++)x>=f&&Object.keys(_.O).every(j=>_.O[j](u[y]))?u.splice(y--,1):(E=!1,f<x&&(x=f));if(E){t.splice(h--,1);var v=l();v!==void 0&&(r=v)}}return r}})(),_.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return _.d(r,{a:r}),r},_.d=(t,r)=>{for(var u in r)_.o(r,u)&&!_.o(t,u)&&Object.defineProperty(t,u,{enumerable:!0,get:r[u]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof i=="object")return i;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};_.O.j=l=>t[l]===0;var r=(l,f)=>{var h,x,[E,y,v]=f,N=0;if(E.some(O=>t[O]!==0)){for(h in y)_.o(y,h)&&(_.m[h]=y[h]);if(v)var S=v(_)}for(l&&l(f);N<E.length;N++)x=E[N],_.o(t,x)&&t[x]&&t[x][0](),t[x]=0;return _.O(S)},u=s.webpackChunk_N_E=s.webpackChunk_N_E||[];u.forEach(r.bind(null,0)),u.push=r.bind(null,u.push.bind(u))})()})(),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[241],{676:pt,8819:it,9642:ut,5105:st,1651:rt,796:at,8949:ot,7908:ct,4155:nt,9985:_t,1583:tt,8264:et,4363:Ze,6947:Ye,6202:Ve,5927:Je,828:ze,4828:We,6631:Qe,8816:He,6991:Xe,4591:Ge,7444:qe,3665:Be,8042:Ke,6776:Ue,4101:Le,662:Me,7701:Fe,9573:De,3039:Te,5577:$e,1959:ge,5276:Ce,5228:ke,5303:de,7322:je,5558:he,5405:Ie}]),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[805],{4337:Ae,5996:Se,7960:Pe,6914:Re,9548:Oe,5028:Ne,2039:we,2988:ve,2561:Ee,581:be,932:ye,1863:me,7037:xe,3818:fe,1730:le}]),(s.webpackChunk_N_E=s.webpackChunk_N_E||[]).push([[504],{2067:pe,6195:ie,7009:(k,g,_)=>{"use strict";_.r(g),_.d(g,{ComponentMod:()=>K,default:()=>R});var t={};_.r(t),_.d(t,{GET:()=>S,runtime:()=>v});var r={};_.r(r),_.d(r,{originalPathname:()=>L,patchFetch:()=>U,requestAsyncStorage:()=>M,routeModule:()=>O,serverHooks:()=>D,staticGenerationAsyncStorage:()=>j});var u=_(932),l=_(2561),f=_(4828),h=_(6631),x=_(9985),E=_(5822),y=_(4306);let v="edge",N=[{id:1,type:"deploy",title:"onde.surf deployed",description:"Production build v1.2.0",actor:"CI/CD",created_at:new Date(Date.now()-12e4).toISOString()},{id:2,type:"post_approved",title:"Quote post approved",description:"@Onde_FRH - Marcus Aurelius",actor:"Mattia",created_at:new Date(Date.now()-9e5).toISOString()},{id:3,type:"image_generated",title:"MILO illustration created",description:"Chapter 5 - Internet safety",actor:"Grok",created_at:new Date(Date.now()-18e5).toISOString()},{id:4,type:"book_updated",title:"Piccole Rime updated",description:"Added new poem - Stella Stellina",actor:"Gianni Parola",created_at:new Date(Date.now()-27e5).toISOString()},{id:5,type:"agent_action",title:"QA tests completed",description:"All 19 tests passed",actor:"QA Agent",created_at:new Date(Date.now()-36e5).toISOString()}];async function S(F){try{let{searchParams:e}=new URL(F.url),a=parseInt(e.get("limit")||"20",10),{env:n}=(0,E.getRequestContext)(),c=n.DB;if(!c)return x.xk.json({activities:N.slice(0,a),source:"mock"});{let d=await(0,y.o7)(c,a);return x.xk.json({activities:d,source:"d1"})}}catch(e){return console.error("Error fetching activity:",e),x.xk.json({activities:N,source:"mock-fallback"})}}let O=new l.AppRouteRouteModule({definition:{kind:f.x.APP_ROUTE,page:"/api/activity/route",pathname:"/api/activity",filename:"route",bundlePath:"app/api/activity/route"},resolvedPagePath:"/Users/mattiapetrucciani/CascadeProjects/Onde/apps/surfboard/src/app/api/activity/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:M,staticGenerationAsyncStorage:j,serverHooks:D}=O,L="/api/activity/route";function U(){return(0,h.XH)({serverHooks:D,staticGenerationAsyncStorage:j})}let K=r,R=u.a.wrap(O)},7185:re,4306:ue,5822:ae},k=>{var g=t=>k(k.s=t);k.O(0,[241,805],()=>g(7009));var _=k.O();(i._ENTRIES=typeof i._ENTRIES>"u"?{}:i._ENTRIES)["middleware_app/api/activity/route"]=_}]),function(){let k={exports:{},loaded:!1};return function(_,t){"use strict";var r=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,h=(e,a)=>{for(var n in a)r(e,n,{get:a[n],enumerable:!0})},x=(e,a,n,c)=>{if(a&&typeof a=="object"||typeof a=="function")for(let d of l(a))!f.call(e,d)&&d!==n&&r(e,d,{get:()=>a[d],enumerable:!(c=u(a,d))||c.enumerable});return e},E=e=>x(r({},"__esModule",{value:!0}),e),y={};h(y,{default:()=>K}),_.exports=E(y);var v=(H(),Z(T)),N="@next/request-context",S=Symbol.for(N),O=Symbol.for("internal.storage");function M(){let e=i;if(!e[S]){let a=new v.AsyncLocalStorage,n={get:()=>a.getStore(),[O]:a};e[S]=n}return e[S]}var j=M();function D(e,a){return j[O].run(e,a)}function L(e){let a={};return e&&e.forEach((n,c)=>{a[c]=n,c.toLowerCase()==="set-cookie"&&(a[c]=U(n))}),a}function U(e){let a=[],n=0,c,d,b,A,I;function w(){for(;n<e.length&&/\s/.test(e.charAt(n));)n+=1;return n<e.length}function P(){return d=e.charAt(n),d!=="="&&d!==";"&&d!==","}for(;n<e.length;){for(c=n,I=!1;w();)if(d=e.charAt(n),d===","){for(b=n,n+=1,w(),A=n;n<e.length&&P();)n+=1;n<e.length&&e.charAt(n)==="="?(I=!0,n=A,a.push(e.substring(c,b)),c=n):n=b+1}else n+=1;(!I||n>=e.length)&&a.push(e.substring(c,e.length))}return a}function K(e){let a=e.staticRoutes.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page})),n=e.dynamicRoutes?.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page}))||[];return async function(c,d){let b=new URL(c.url).pathname,A={};if(e.nextConfig?.basePath&&b.startsWith(e.nextConfig.basePath)&&(b=b.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let w of e.nextConfig.i18n.locales){let P=new RegExp(`^/${w}($|/)`,"i");if(b.match(P)){b=b.replace(P,"/")||"/";break}}for(let w of a)if(w.regexp.exec(b)){A.name=w.page;break}if(!A.name){let w=F(b);for(let P of n||[]){if(w&&!F(P.page))continue;let G=P.regexp.exec(b);if(G){A={name:P.page,params:G.groups};break}}}let I=await D({waitUntil:d.waitUntil},()=>i._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:c.url,method:c.method,headers:L(c.headers),ip:R(c.headers,"x-real-ip"),geo:{city:R(c.headers,"x-vercel-ip-city",!0),country:R(c.headers,"x-vercel-ip-country",!0),latitude:R(c.headers,"x-vercel-ip-latitude"),longitude:R(c.headers,"x-vercel-ip-longitude"),region:R(c.headers,"x-vercel-ip-country-region",!0)},nextConfig:e.nextConfig,page:A,body:c.body}}));return I.waitUntil&&d.waitUntil(I.waitUntil),I.response}}function R(e,a,n=!1){let c=e.get(a)||void 0;return n&&c?decodeURIComponent(c):c}function F(e){return e==="/api"||e.startsWith("/api/")}}(k,k.exports),k.exports}.call({}).default({name:"app/api/activity/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/coming-soon",regex:"^/coming\\-soon(?:/)?$",routeKeys:{},namedRegex:"^/coming\\-soon(?:/)?$"},{page:"/corde",regex:"^/corde(?:/)?$",routeKeys:{},namedRegex:"^/corde(?:/)?$"},{page:"/frh",regex:"^/frh(?:/)?$",routeKeys:{},namedRegex:"^/frh(?:/)?$"},{page:"/house",regex:"^/house(?:/)?$",routeKeys:{},namedRegex:"^/house(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/pr",regex:"^/pr(?:/)?$",routeKeys:{},namedRegex:"^/pr(?:/)?$"},{page:"/social",regex:"^/social(?:/)?$",routeKeys:{},namedRegex:"^/social(?:/)?$"}],dynamicRoutes:[{page:"/api/agent-tasks/[id]",regex:"^/api/agent\\-tasks/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/agent\\-tasks/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/pr/posts/[id]/approve",regex:"^/api/pr/posts/([^/]+?)/approve(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/pr/posts/(?<nxtPid>[^/]+?)/approve(?:/)?$"},{page:"/api/pr/posts/[id]/feedback",regex:"^/api/pr/posts/([^/]+?)/feedback(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/pr/posts/(?<nxtPid>[^/]+?)/feedback(?:/)?$"}],nextConfig:{basePath:""}})))(p,p,p);export{Et as default};
