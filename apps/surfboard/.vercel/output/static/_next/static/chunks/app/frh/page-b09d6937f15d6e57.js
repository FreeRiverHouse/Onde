(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{7159:function(e,t,s){Promise.resolve().then(s.bind(s,3112))},3112:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),r=s(2265);function l(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),[x,o]=(0,r.useState)(null),u=async()=>{try{let e={Authorization:"Bearer onde-sync-2026","Content-Type":"application/json"},[s,a]=await Promise.all([fetch("/api/sync",{method:"POST",headers:e,body:JSON.stringify({action:"get_agents"})}),fetch("/api/sync",{method:"POST",headers:e,body:JSON.stringify({action:"get_tasks"})})]),r=await s.json(),n=await a.json();r.success&&t(r.agents),n.success&&l(n.tasks),o(new Date),c(null)}catch(e){c("Failed to fetch data"),console.error(e)}finally{i(!1)}};(0,r.useEffect)(()=>{u();let e=setInterval(u,1e4);return()=>clearInterval(e)},[]);let m=e=>{switch(e){case"active":return"bg-green-500";case"done":return"bg-blue-500";case"claimed":return"bg-yellow-500";case"in_progress":return"bg-orange-500";case"pending":return"bg-gray-500";case"failed":return"bg-red-500";default:return"bg-gray-400"}},g=e=>{switch(e){case"orchestrator":return"\uD83D\uDC54";case"engineering":return"⚙️";case"qa":return"\uD83E\uDDEA";case"automation":return"\uD83E\uDD16";case"editorial":return"✍️";case"creative":return"\uD83C\uDFA8";case"social":return"\uD83D\uDCF1";default:return"\uD83D\uDD27"}},h=e=>{switch(e){case"high":return"bg-red-600 text-white";case"normal":return"bg-gray-600 text-white";case"low":return"bg-gray-400 text-gray-800";default:return"bg-gray-500 text-white"}};return n?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-xl animate-pulse",children:"Loading FRH Dashboard..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:"\uD83C\uDFE0 FreeRiverHouse Dashboard"}),(0,a.jsx)("p",{className:"text-purple-300 mt-1",children:"Agent Coordination System"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Last update: ",(null==x?void 0:x.toLocaleTimeString())||"-"]}),(0,a.jsx)("button",{onClick:u,className:"mt-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition",children:"Refresh"})]})]})}),d&&(0,a.jsx)("div",{className:"max-w-7xl mx-auto mb-6 p-4 bg-red-900/50 border border-red-500 rounded-lg text-red-200",children:d}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-slate-700",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:["\uD83E\uDD16 Agents ",(0,a.jsxs)("span",{className:"text-sm text-purple-400",children:["(",e.length,")"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-4 hover:bg-slate-700 transition",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:g(e.type)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.description})]})]}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(m(e.status)," text-white"),children:e.status})]}),e.last_seen&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Last seen: ",new Date(e.last_seen).toLocaleString()]})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl p-6 border border-slate-700",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:["\uD83D\uDCCB Tasks ",(0,a.jsxs)("span",{className:"text-sm text-purple-400",children:["(",s.length,")"]})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:0===s.length?(0,a.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No tasks yet"}):s.map(e=>(0,a.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-4 hover:bg-slate-700 transition",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-white truncate",children:e.description}),(0,a.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:e.assigned_to?"→ ".concat(e.assigned_to):"Unassigned"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(m(e.status)," text-white"),children:e.status}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(h(e.priority)),children:e.priority})]})]}),e.result&&(0,a.jsxs)("div",{className:"mt-3 p-2 bg-green-900/30 rounded text-sm text-green-300 border border-green-800",children:["Result: ",e.result]}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]},e.id))})]})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center border border-slate-700",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-400",children:e.filter(e=>"active"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Active Agents"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center border border-slate-700",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:s.filter(e=>"pending"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Pending Tasks"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center border border-slate-700",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-orange-400",children:s.filter(e=>"in_progress"===e.status||"claimed"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"In Progress"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center border border-slate-700",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:s.filter(e=>"done"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Completed"})]})]})]})}}},function(e){e.O(0,[971,30,744],function(){return e(e.s=7159)}),_N_E=e.O()}]);