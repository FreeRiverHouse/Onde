(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{6036:function(e,t,s){Promise.resolve().then(s.bind(s,4523))},9376:function(e,t,s){"use strict";var l=s(5475);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},4523:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(7437),i=s(2265),a=s(4070),r=s(9376),n=s(7977);let d={planning:{bg:"bg-slate-500/20",text:"text-slate-400",label:"Planning"},writing:{bg:"bg-blue-500/20",text:"text-blue-400",label:"Writing"},illustrating:{bg:"bg-purple-500/20",text:"text-purple-400",label:"Illustrating"},reviewing:{bg:"bg-amber-500/20",text:"text-amber-400",label:"Reviewing"},published:{bg:"bg-emerald-500/20",text:"text-emerald-400",label:"Published"}};function c(){let{status:e}=(0,a.kP)(),t=(0,r.useRouter)(),[s,c]=(0,i.useState)([]),[o,x]=(0,i.useState)(null),[h,u]=(0,i.useState)(!0);(0,i.useEffect)(()=>{"unauthenticated"===e&&t.push("/login")},[e,t]),(0,i.useEffect)(()=>{if("authenticated"===e){m();let e=setInterval(m,3e4);return()=>clearInterval(e)}},[e]);let m=async()=>{try{let e=await fetch("/api/house");if(e.ok){let t=await e.json();c(t.books||[]),x(t.stats)}else console.error("House API error:",e.status,e.statusText)}catch(e){console.error("Failed to fetch house data:",e)}finally{u(!1)}};if("loading"===e)return(0,l.jsx)("div",{className:"min-h-screen bg-[#0f0f0f] flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white/60",children:"Checking session..."})});if(h)return(0,l.jsx)("div",{className:"min-h-screen bg-[#0f0f0f] flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white/60",children:"Loading dashboard..."})});let b=(null==o?void 0:o.tasks.total)?Math.round(o.tasks.done/o.tasks.total*100):0;return(0,l.jsx)("div",{className:"min-h-screen bg-[#0f0f0f] text-white",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-4xl",children:"\uD83C\uDFE0"}),"FreeRiverHouse HQ"]}),(0,l.jsx)("p",{className:"text-white/50",children:"Central Operations Dashboard"})]}),o&&(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,l.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-cyan-400",children:o.agents}),(0,l.jsx)("div",{className:"text-sm text-white/50",children:"Agents"})]}),(0,l.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,l.jsxs)("div",{className:"text-3xl font-bold text-emerald-400",children:[b,"%"]}),(0,l.jsx)("div",{className:"text-sm text-white/50",children:"Tasks Done"})]}),(0,l.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-amber-400",children:o.tasks.in_progress}),(0,l.jsx)("div",{className:"text-sm text-white/50",children:"In Progress"})]}),(0,l.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-purple-400",children:s.length}),(0,l.jsx)("div",{className:"text-sm text-white/50",children:"Books"})]})]}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)(n.FreeRiverHouse,{})}),(0,l.jsxs)("section",{className:"bg-white/5 rounded-2xl border border-white/10 overflow-hidden",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-white/10",children:(0,l.jsxs)("h2",{className:"text-lg font-medium flex items-center gap-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCDA"}),"Books Pipeline"]})}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-6",children:["planning","writing","illustrating","reviewing","published"].map(e=>{let t=d[e],i=s.filter(t=>t.status===e).length;return(0,l.jsxs)("div",{className:"".concat(t.bg," rounded-lg p-3 text-center"),children:[(0,l.jsx)("div",{className:"text-2xl font-bold ".concat(t.text),children:i}),(0,l.jsx)("div",{className:"text-xs text-white/50",children:t.label})]},e)})}),(0,l.jsxs)("div",{className:"space-y-3",children:[s.map(e=>{let t=d[e.status],s=e.chapters_total>0?Math.round(e.chapters_done/e.chapters_total*100):0;return(0,l.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10 hover:border-white/20 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-medium text-white",children:e.title}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-lg text-xs ".concat(t.bg," ").concat(t.text),children:t.label})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white/50",children:[(0,l.jsxs)("span",{children:["\uD83D\uDCDD ",e.chapters_done,"/",e.chapters_total," chapters"]}),e.cover_ready?(0,l.jsx)("span",{className:"text-emerald-400",children:"✓ Cover ready"}):(0,l.jsx)("span",{className:"text-white/30",children:"○ No cover"})]}),(0,l.jsx)("div",{className:"mt-3 h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat(t.bg.replace("/20","")," transition-all"),style:{width:"".concat(s,"%")}})})]},e.id)}),0===s.length&&(0,l.jsx)("div",{className:"text-center py-8 text-white/40",children:"No books in pipeline"})]})]})]})]})})}}},function(e){e.O(0,[70,145,977,971,30,744],function(){return e(e.s=6036)}),_N_E=e.O()}]);