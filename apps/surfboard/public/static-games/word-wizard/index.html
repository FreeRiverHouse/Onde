<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no"/>
  <title>Word Wizard - Onde Kids</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white; overflow-x: hidden;
    }

    .container {
      max-width: 600px; margin: 0 auto; padding: 20px;
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
    }

    h1 { font-size: 2.4em; margin: 15px 0 5px; text-align: center; }
    .subtitle { color: rgba(255,255,255,0.7); margin-bottom: 20px; }

    .stats-bar {
      display: flex; gap: 15px; justify-content: center;
      background: rgba(0,0,0,0.2); border-radius: 20px;
      padding: 10px 25px; margin-bottom: 20px; flex-wrap: wrap;
      backdrop-filter: blur(10px);
    }
    .stat { text-align: center; }
    .stat-label { font-size: 0.7em; color: rgba(255,255,255,0.5); text-transform: uppercase; }
    .stat-value { font-size: 1.3em; font-weight: 800; }

    .card {
      background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.15);
      border-radius: 24px; padding: 25px; width: 100%; text-align: center;
      backdrop-filter: blur(10px); margin-bottom: 15px;
    }

    .word-display {
      font-size: 2.5em; font-weight: 800; letter-spacing: 8px; margin: 15px 0;
      font-family: 'Courier New', monospace;
    }
    .word-display .letter {
      display: inline-block; width: 45px; height: 55px; line-height: 55px;
      margin: 3px; border-radius: 10px; background: rgba(255,255,255,0.1);
      border: 2px solid rgba(255,255,255,0.2); transition: all 0.3s;
      font-size: 0.9em; text-transform: uppercase;
    }
    .word-display .letter.revealed {
      background: rgba(255,255,255,0.2); border-color: rgba(255,255,255,0.4);
      animation: revealPop 0.3s ease;
    }
    .word-display .letter.hint {
      border-color: #ffd200; color: #ffd200;
    }
    @keyframes revealPop {
      0% { transform: scale(0.8); } 50% { transform: scale(1.1); } 100% { transform: scale(1); }
    }

    .clue { color: rgba(255,255,255,0.6); font-size: 1.1em; margin: 10px 0; font-style: italic; }
    .category-tag {
      display: inline-block; padding: 4px 14px; border-radius: 12px;
      background: rgba(255,255,255,0.15); font-size: 0.8em; margin-bottom: 8px;
    }

    .keyboard {
      display: flex; flex-wrap: wrap; gap: 5px; justify-content: center;
      max-width: 420px; margin: 10px auto;
    }
    .key {
      width: 36px; height: 42px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.2);
      background: rgba(255,255,255,0.08); color: white; font-size: 1em;
      font-weight: 700; cursor: pointer; transition: all 0.15s;
      display: flex; align-items: center; justify-content: center;
    }
    .key:hover { background: rgba(255,255,255,0.2); transform: scale(1.08); }
    .key:active { transform: scale(0.95); }
    .key.used { opacity: 0.25; pointer-events: none; }
    .key.correct-key { background: rgba(46,204,113,0.3); border-color: #2ecc71; }
    .key.wrong-key { background: rgba(231,76,60,0.3); border-color: #e74c3c; }

    .lives {
      font-size: 1.5em; margin: 10px 0; letter-spacing: 3px;
    }

    .feedback { font-size: 1.2em; font-weight: 700; min-height: 30px; margin: 5px 0; }

    .menu-screen { text-align: center; padding: 30px 0; }

    .diff-select { display: flex; gap: 10px; justify-content: center; margin: 15px 0; flex-wrap: wrap; }
    .diff-btn {
      padding: 10px 20px; border-radius: 16px; border: 2px solid rgba(255,255,255,0.2);
      background: rgba(255,255,255,0.05); color: white; font-weight: 700;
      cursor: pointer; transition: all 0.3s;
    }
    .diff-btn:hover { border-color: rgba(255,255,255,0.4); }
    .diff-btn.active { border-color: #a29bfe; background: rgba(162,155,254,0.2); }

    .play-btn {
      padding: 14px 45px; border-radius: 25px; border: none;
      background: linear-gradient(135deg, #a29bfe, #6c5ce7);
      color: white; font-size: 1.2em; font-weight: 800;
      cursor: pointer; transition: all 0.3s; margin-top: 15px;
    }
    .play-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(108,92,231,0.4); }

    .game-over { text-align: center; padding: 30px 0; }
    .final-score { font-size: 2.8em; font-weight: 800; color: #ffd200; }

    .hint-btn {
      padding: 8px 18px; border-radius: 14px; border: 2px solid rgba(255,210,0,0.3);
      background: rgba(255,210,0,0.1); color: #ffd200; font-weight: 700;
      cursor: pointer; transition: all 0.2s; font-size: 0.9em;
      margin-top: 10px;
    }
    .hint-btn:hover { background: rgba(255,210,0,0.2); }
    .hint-btn:disabled { opacity: 0.3; cursor: not-allowed; }

    .back-link { display: inline-block; margin-top: 20px; color: rgba(255,255,255,0.5); text-decoration: none; font-size: 0.9em; }
    .back-link:hover { color: white; }

    .words-learned {
      display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin: 15px 0;
    }
    .word-chip {
      padding: 5px 12px; border-radius: 10px; background: rgba(255,255,255,0.1);
      font-size: 0.85em; font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üî§ Word Wizard</h1>
    <p class="subtitle">Guess the word, learn new vocabulary!</p>

    <div id="menu" class="menu-screen">
      <div style="font-size: 4em; margin: 10px 0;">üìö‚ú®</div>
      <p style="color: rgba(255,255,255,0.7); margin: 15px 0; font-size: 1.05em;">
        Guess letters to reveal the hidden word!<br/>
        Learn definitions along the way üß†
      </p>
      <div class="diff-select" id="diff-select">
        <button class="diff-btn active" onclick="setDiff('easy')">üåü Easy</button>
        <button class="diff-btn" onclick="setDiff('medium')">‚≠ê Medium</button>
        <button class="diff-btn" onclick="setDiff('hard')">üí´ Hard</button>
      </div>
      <p style="color: rgba(255,255,255,0.4); font-size: 0.85em;" id="diff-desc">Short words, more lives (8 ‚ù§Ô∏è)</p>
      <button class="play-btn" onclick="startGame()">üìñ Start!</button>
    </div>

    <div id="game" style="display:none; width:100%;">
      <div class="stats-bar">
        <div class="stat"><div class="stat-label">Score</div><div class="stat-value" id="score" style="color:#ffd200;">0</div></div>
        <div class="stat"><div class="stat-label">Words</div><div class="stat-value" id="words-done" style="color:#a29bfe;">0/8</div></div>
        <div class="stat"><div class="stat-label">Streak</div><div class="stat-value" id="streak" style="color:#ff6b6b;">0üî•</div></div>
      </div>

      <div class="card">
        <div class="category-tag" id="category">üêæ Animals</div>
        <div class="word-display" id="word-display"></div>
        <div class="clue" id="clue"></div>
        <div class="lives" id="lives"></div>
        <div class="feedback" id="feedback">&nbsp;</div>
        <button class="hint-btn" id="hint-btn" onclick="useHint()">üí° Hint (reveal a letter)</button>
      </div>

      <div class="keyboard" id="keyboard"></div>
    </div>

    <div id="gameover" class="game-over" style="display:none;">
      <h2 style="font-size: 2em;">üéâ Well Done!</h2>
      <div class="final-score" id="final-score">0</div>
      <p style="color: rgba(255,255,255,0.6);" id="final-detail"></p>
      <p style="margin: 15px 0; font-weight: 600;">Words you learned:</p>
      <div class="words-learned" id="words-learned"></div>
      <button class="play-btn" onclick="showMenu()">üîÑ Play Again</button>
    </div>

    <a href="/games" class="back-link">‚Üê Back to Games</a>
  </div>

  <script>
    const wordBank = {
      easy: [
        { word: 'OCEAN', category: 'üåä Nature', clue: 'A huge body of salt water', definition: 'A vast body of salt water covering ~71% of Earth\'s surface' },
        { word: 'TIGER', category: 'üêæ Animals', clue: 'Big cat with orange and black stripes', definition: 'The largest living cat species, known for its striped fur' },
        { word: 'CLOUD', category: 'üå§Ô∏è Weather', clue: 'White fluffy thing in the sky', definition: 'A visible mass of water droplets suspended in the atmosphere' },
        { word: 'PIANO', category: 'üéµ Music', clue: 'Instrument with black and white keys', definition: 'A large keyboard instrument producing sound with hammers and strings' },
        { word: 'ROBOT', category: 'ü§ñ Technology', clue: 'A machine that can do tasks automatically', definition: 'A machine capable of carrying out complex actions automatically' },
        { word: 'HEART', category: 'üß¨ Science', clue: 'It pumps blood through your body', definition: 'A muscular organ that pumps blood through the circulatory system' },
        { word: 'EAGLE', category: 'üêæ Animals', clue: 'A large bird of prey that soars high', definition: 'A large, powerful bird of prey with excellent eyesight' },
        { word: 'LEMON', category: 'üçé Food', clue: 'A sour yellow fruit', definition: 'A yellow citrus fruit known for its sour taste, rich in vitamin C' },
        { word: 'GLOBE', category: 'üåç Geography', clue: 'A model of the Earth', definition: 'A spherical model of the Earth showing countries and oceans' },
        { word: 'STORM', category: 'üå§Ô∏è Weather', clue: 'Strong wind with rain and thunder', definition: 'A violent disturbance of the atmosphere with wind and precipitation' },
        { word: 'FLAME', category: 'üî¨ Science', clue: 'The bright part of a fire', definition: 'A hot glowing body of ignited gas produced during combustion' },
        { word: 'SPACE', category: 'üöÄ Space', clue: 'Where stars and planets are', definition: 'The vast expanse beyond Earth\'s atmosphere containing celestial objects' },
      ],
      medium: [
        { word: 'GRAVITY', category: 'üî¨ Science', clue: 'The force that keeps us on the ground', definition: 'A fundamental force attracting objects with mass toward each other' },
        { word: 'VOLCANO', category: 'üåç Geography', clue: 'A mountain that can erupt with lava', definition: 'An opening in the Earth\'s surface from which lava and gases escape' },
        { word: 'DOLPHIN', category: 'üêæ Animals', clue: 'A smart marine mammal that loves to play', definition: 'An intelligent marine mammal known for social behavior and echolocation' },
        { word: 'COMPASS', category: 'üß≠ Tools', clue: 'It always points north', definition: 'A navigational instrument showing direction relative to Earth\'s poles' },
        { word: 'CRYSTAL', category: 'üî¨ Science', clue: 'A shiny solid with a regular shape', definition: 'A solid whose atoms are arranged in a highly ordered repeating pattern' },
        { word: 'PYRAMID', category: 'üèõÔ∏è History', clue: 'Ancient triangular structures in Egypt', definition: 'A monumental structure with a square base and triangular faces meeting at a point' },
        { word: 'RAINBOW', category: 'üå§Ô∏è Weather', clue: 'Colorful arc in the sky after rain', definition: 'A meteorological phenomenon caused by refraction of light in water droplets' },
        { word: 'PENGUIN', category: 'üêæ Animals', clue: 'A bird that swims but can\'t fly', definition: 'A flightless seabird of the Southern Hemisphere, adapted for aquatic life' },
        { word: 'ECLIPSE', category: 'üöÄ Space', clue: 'When the Moon blocks the Sun', definition: 'An astronomical event when one celestial body obscures another' },
        { word: 'THUNDER', category: 'üå§Ô∏è Weather', clue: 'The loud sound after lightning', definition: 'The sound caused by rapid expansion of air heated by a lightning discharge' },
      ],
      hard: [
        { word: 'ALGORITHM', category: 'üíª Computing', clue: 'Step-by-step instructions to solve a problem', definition: 'A finite sequence of well-defined instructions for solving a problem' },
        { word: 'CHROMOSOME', category: 'üß¨ Biology', clue: 'Carries your DNA inside cells', definition: 'A thread-like structure of DNA and proteins carrying genetic information' },
        { word: 'PHOTOSYNTHESIS', category: 'üåø Biology', clue: 'How plants make food from sunlight', definition: 'The process by which plants convert light energy into chemical energy' },
        { word: 'TELESCOPE', category: 'üöÄ Space', clue: 'Used to see distant stars and planets', definition: 'An optical instrument designed to observe distant celestial objects' },
        { word: 'DEMOCRACY', category: 'üèõÔ∏è Government', clue: 'Government by the people, for the people', definition: 'A system of government where citizens exercise power through voting' },
        { word: 'ORCHESTRA', category: 'üéµ Music', clue: 'A large group of musicians playing together', definition: 'A large ensemble of instrumentalists organized to play classical music' },
        { word: 'FIBONACCI', category: 'üî¢ Math', clue: '1, 1, 2, 3, 5, 8, 13... what comes next?', definition: 'A sequence where each number is the sum of the two preceding ones' },
        { word: 'CAMOUFLAGE', category: 'üêæ Animals', clue: 'Blending in with your surroundings', definition: 'The use of coloring or patterns to blend in with the environment' },
      ]
    };

    let diff = 'easy';
    let score = 0, wordsCompleted = 0, currentStreak = 0, bestStreak = 0;
    let currentWord = '', guessedLetters = [], lives = 0, maxLives = 0;
    let hints = 2;
    let pool = [];
    let learnedWords = [];
    const TOTAL_WORDS = 8;

    const diffDescs = { easy: 'Short words, more lives (8 ‚ù§Ô∏è)', medium: 'Medium words, 7 lives', hard: 'Long words, only 6 lives!' };
    const diffLives = { easy: 8, medium: 7, hard: 6 };

    function setDiff(d) {
      diff = d;
      document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
      event.currentTarget.classList.add('active');
      document.getElementById('diff-desc').textContent = diffDescs[d];
    }

    function buildKeyboard() {
      const kb = document.getElementById('keyboard');
      kb.innerHTML = '';
      'QWERTYUIOPASDFGHJKLZXCVBNM'.split('').forEach(letter => {
        const key = document.createElement('button');
        key.className = 'key';
        key.textContent = letter;
        key.id = `key-${letter}`;
        key.onclick = () => guessLetter(letter);
        kb.appendChild(key);
      });
    }

    function renderWord() {
      const display = document.getElementById('word-display');
      display.innerHTML = currentWord.split('').map(l => {
        const revealed = guessedLetters.includes(l);
        return `<span class="letter ${revealed ? 'revealed' : ''}">${revealed ? l : ''}</span>`;
      }).join('');
    }

    function renderLives() {
      document.getElementById('lives').textContent =
        '‚ù§Ô∏è'.repeat(lives) + 'üñ§'.repeat(maxLives - lives);
    }

    function guessLetter(letter) {
      if (guessedLetters.includes(letter)) return;
      guessedLetters.push(letter);

      const keyEl = document.getElementById(`key-${letter}`);
      keyEl.classList.add('used');

      if (currentWord.includes(letter)) {
        keyEl.classList.add('correct-key');
        renderWord();
        // Check win
        if (currentWord.split('').every(l => guessedLetters.includes(l))) {
          wordComplete(true);
        }
      } else {
        keyEl.classList.add('wrong-key');
        lives--;
        renderLives();
        if (lives <= 0) {
          wordComplete(false);
        }
      }
    }

    function useHint() {
      if (hints <= 0) return;
      hints--;
      document.getElementById('hint-btn').textContent = `üí° Hint (${hints} left)`;
      if (hints <= 0) document.getElementById('hint-btn').disabled = true;

      const unrevealed = currentWord.split('').filter(l => !guessedLetters.includes(l));
      if (unrevealed.length > 0) {
        const letter = unrevealed[Math.floor(Math.random() * unrevealed.length)];
        guessLetter(letter);
      }
    }

    function wordComplete(won) {
      const fb = document.getElementById('feedback');
      document.querySelectorAll('.key').forEach(k => k.style.pointerEvents = 'none');

      // Reveal full word
      guessedLetters = currentWord.split('');
      renderWord();

      const wordData = pool.find(w => w.word === currentWord) || pool[0];

      if (won) {
        currentStreak++;
        if (currentStreak > bestStreak) bestStreak = currentStreak;
        const bonus = currentStreak >= 3 ? 2 : 1;
        score += (lives * 5 + 20) * bonus;
        fb.innerHTML = `<span style="color:#2ecc71">‚ú® "${currentWord}" ‚Äî ${wordData.definition}</span>`;
        learnedWords.push({ word: currentWord, def: wordData.definition });
      } else {
        currentStreak = 0;
        fb.innerHTML = `<span style="color:#e74c3c">The word was "${currentWord}" ‚Äî ${wordData.definition}</span>`;
      }

      document.getElementById('score').textContent = score;
      document.getElementById('streak').textContent = currentStreak + 'üî•';
      wordsCompleted++;
      document.getElementById('words-done').textContent = `${wordsCompleted}/${TOTAL_WORDS}`;

      setTimeout(() => {
        if (wordsCompleted >= TOTAL_WORDS) endGame();
        else nextWord();
      }, 3000);
    }

    function nextWord() {
      if (pool.length === 0) {
        pool = [...wordBank[diff]].sort(() => Math.random() - 0.5);
      }
      const wordData = pool.pop();
      currentWord = wordData.word;
      guessedLetters = [];
      maxLives = diffLives[diff];
      lives = maxLives;

      document.getElementById('category').textContent = wordData.category;
      document.getElementById('clue').textContent = `"${wordData.clue}"`;
      document.getElementById('feedback').innerHTML = '&nbsp;';
      document.getElementById('hint-btn').textContent = `üí° Hint (${hints} left)`;
      document.getElementById('hint-btn').disabled = hints <= 0;

      renderWord();
      renderLives();
      buildKeyboard();
    }

    function startGame() {
      score = 0; wordsCompleted = 0; currentStreak = 0; bestStreak = 0;
      hints = 2; learnedWords = [];
      pool = [...wordBank[diff]].sort(() => Math.random() - 0.5);
      document.getElementById('score').textContent = '0';
      document.getElementById('words-done').textContent = `0/${TOTAL_WORDS}`;
      document.getElementById('streak').textContent = '0üî•';
      document.getElementById('menu').style.display = 'none';
      document.getElementById('gameover').style.display = 'none';
      document.getElementById('game').style.display = 'block';
      nextWord();
    }

    function endGame() {
      document.getElementById('game').style.display = 'none';
      document.getElementById('gameover').style.display = 'block';
      document.getElementById('final-score').textContent = score;
      document.getElementById('final-detail').textContent =
        `${learnedWords.length} words guessed ‚Ä¢ Best streak: ${bestStreak}üî•`;
      document.getElementById('words-learned').innerHTML =
        learnedWords.map(w => `<span class="word-chip" title="${w.def}">${w.word}</span>`).join('');
    }

    function showMenu() {
      document.getElementById('menu').style.display = 'block';
      document.getElementById('game').style.display = 'none';
      document.getElementById('gameover').style.display = 'none';
    }

    // Physical keyboard support
    document.addEventListener('keydown', e => {
      if (document.getElementById('game').style.display === 'none') return;
      const letter = e.key.toUpperCase();
      if (/^[A-Z]$/.test(letter)) guessLetter(letter);
    });
  </script>
</body>
</html>
