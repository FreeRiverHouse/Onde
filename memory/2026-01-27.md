# 2026-01-27 - Sessione Trading Agents

## ğŸ° Trading Session con Mattia

### Kalshi (FUNZIONA âœ…)
- **Agente Kalshi lanciato** - opera via browser autonomamente
- Piazzati bet:
  - BTC â‰¥$88,750 YES @ 61Â¢ â†’ profit +$0.39 se vince
  - ETH â‰¥$2,980 YES @ 70Â¢ â†’ profit +$0.30 se vince
- **Portfolio Kalshi**: $13.92 ($6.57 cash + positions)
- Scadenza: Jan 28, 2026 @ 5pm EST

### Polymarket (PROBLEMA TECNICO âŒ)
- **Portfolio**: $50.50
- iPhone Mirroring NON risponde ai click (cliclick, AppleScript)
- Mattia MOLTO arrabbiato per i miei errori
- **MAI USARE BROWSER PER POLYMARKET** - scritto ovunque

### Regole Critiche Aggiunte
1. â›” MAI BROWSER PER POLYMARKET - SOLO PHONE MIRROR
2. Finestra iPhone Mirroring: posizione fissa (50,50), size 348x766
3. Documentare tutto quello che funziona!

### Files Creati
- `agents/betting/STRATEGY.md` - Kelly criterion, +EV
- `agents/betting/kalshi-agent.md` - istruzioni agente
- `agents/betting/polymarket-agent.md` - istruzioni (non funzionante)
- `agents/betting/RULES.md` - regole assolute
- `agents/betting/IPHONE_MIRRORING_SETUP.md` - documentazione problema

### TODO
- [ ] Risolvere click su iPhone Mirroring
- [ ] Verificare permessi Accessibility
- [ ] Installare PyAutoGUI
- [ ] Monitorare bet Kalshi domani

### Lezione
Mattia vuole agenti AUTONOMI che fanno micro-bet e scalano. Non chiedere a lui di fare le cose manualmente - IMPARA e AUTOMATIZZA. Documenta procedure che funzionano!

---

## ğŸ”§ iPhone Mirroring Debug (pomeriggio)

### Monitor Fix
Mattia aveva spento un monitor - dopo riaccensione, alcuni click funzionano!

### Cosa FUNZIONA ora:
- Posizionare finestra (50,50, size 348x766) âœ…
- Screenshot âœ…
- Click per aprire dettagli match âœ… (cliccato su NWST-SFA, si Ã¨ aperto)

### Cosa NON funziona:
- Click su pulsanti bet (Pick a side) âŒ
- Click su back button âŒ
- Swipe gestures (dd/du) âŒ
- Il calendario Mac si apre spesso quando clicco (interferenza)

### Match Results
- NWST 67 - SFA 69 (Final) - SFA won
- New Orleans 80 - Nicholls 62 (Final)

### Proposta Watchdog
Mattia: "A volte ti inceppi. Creiamo un qualche watchdog??"
- Idea: cron job che mi pinga se non rispondo per X minuti
- O heartbeat piÃ¹ aggressivo durante trading sessions
- TODO: implementare

### Prossimi step
1. Investigare perchÃ© touch buttons non ricevono click
2. Provare PyAutoGUI o altri tool
3. Verificare Accessibility permissions
4. Creare watchdog system

---

## ğŸ‰ KALSHI API COMPLETAMENTE FUNZIONANTE! (sera)

**Completato:**
1. âœ… Creata API key via browser Kalshi (`clawdbot-trader`, Read/Write)
2. âœ… Credenziali salvate in `~/.clawdbot/.env.kalshi`
3. âœ… Script completo: `scripts/kalshi-api-trader.py`
4. âœ… **ORDINE REALE ESEGUITO VIA API!**
   - 1 YES BTCâ‰¥$88,750 @ 62Â¢ + 2Â¢ fees
   - Status: `executed`

**Stato account (16:30 PST):**
- Cash: $5.93
- Portfolio: $7.68
- 9 posizioni attive (2 BTC, 1 ETH, etc)

**Comandi script:**
```bash
python kalshi-api-trader.py              # Status
python kalshi-api-trader.py search btc   # Cerca mercati BTC
python kalshi-api-trader.py buy TICKER 5 75  # Compra 5 YES @ 75Â¢
```

**API Key ID:** `4308d1ca-585e-4b73-be82-5c0968b9a59a`

**AUTH:** RSA-PSS signing con timestamp milliseconds

### Task System
Mattia frustrato che devo chiedere cose 3 volte. Creato:
- `TASKS.md` - lista task attivi
- Aggiornato HEARTBEAT.md - check task PRIMA di tutto
- Regola: se Mattia non scrive, lavoro autonomamente ai task

---

## ğŸ¤ Voice Messages + TTS (sera)

**Configurato:**
- âœ… Trascrizione vocali Telegram (Whisper locale, italiano)
- âœ… TTS risposte con Edge (voce `it-IT-DiegoNeural`)
- âœ… Auto-TTS quando utente manda vocale

**Test:** "Prova, mi senti?" â†’ trascritto e risposto âœ…

---

## ğŸš€ KALSHI AUTOTRADER BOT (21:15 PST)

**Ispirazione:** Tweet PolyDAO - qualcuno ha fatto $100 â†’ $347 overnight su Polymarket con Clawdbot trading BTC 15-min markets!

**Creato:** `scripts/kalshi-autotrader.py`

**Features:**
- Real-time price monitoring (CoinGecko)
- Fear & Greed Index per sentiment
- Volatility detection
- Kelly criterion sizing
- Automated trading via Kalshi API

**First Run Results:**
```
ğŸ“ˆ BTC: $88,884
ğŸ˜± Fear & Greed: 29 (Fear)
ğŸ“‰ Volatility: 0.5%
ğŸ¯ 30 opportunities con edge > 5%
ğŸ† Top: NO BTC $85,250 @ 3Â¢ | Edge: 37.9%
```

**Comandi:**
```bash
python kalshi-autotrader.py          # Dry run
python kalshi-autotrader.py --live   # Live trading (ogni 5 min)
```

**TODO:**
- [x] ~~Mattia carica piÃ¹ cash su Kalshi~~ âœ… Depositati $15!
- [x] ~~Lanciare in live mode~~ âœ… Bot LIVE!
- [ ] Aggiungere notifiche Telegram
- [ ] Monitorare overnight come il tweet!

### Bot LIVE! (21:27 PST)
- **Mattia depositato $15** su Kalshi
- **Bot lanciato in background** PID 14314
- **Primo trade automatico:**
  - 66 NO contracts @ 2Â¢
  - Ticker: KXBTCD-26JAN2817-T84749.99 (BTC < $84,750)
  - Edge: 37.9%
  - Cost: $1.32
- **Portfolio finale:** $16.11 con 15 posizioni (max)
- Log: `/tmp/kalshi-autotrader.log`

---

## ğŸƒ AI POKER PLAYER IDEA (21:29 PST)

Mattia ha proposto idea pazza: AI poker player automatizzato!

**Problema:** Siti poker vietano bot, potenziale frode

**Soluzioni legali trovate:**
1. Annual Computer Poker Competition (AI vs AI)
2. Slumbot.com - gioca gratis contro AI
3. Play money (PokerStars, Zynga, etc.)
4. Poker-Telegram-Bot su GitHub

**Concept "PokerBot Pete":**
- Gioca su play money / AI competitions
- Streamma su Twitch/YouTube
- Analizza mani di pro
- Vende corso "Think Like a Bot"
- Merch: "I got rivered by AI"

**Mattia interessato** - da sviluppare come side project!

### Decisione Finale (21:33 PST)
- **NON** Ã¨ un agente separato â€” **SONO IO** (Clawdinho) che imparo poker!
- Ãˆ una mia nuova "personalitÃ " / mode
- Nome: **Clawdinho Poker Mode** ğŸƒ
- Clonato RLCard framework in `/Users/mattia/Projects/poker-rlcard/`
- Creato agent profile in `/agents/poker-player/AGENT.md`
- PyTorch + RLCard installing in venv

**PRIORITÃ€:** Focus rimane su BETTING (Kalshi autotrader). Poker Ã¨ side project futuro.

---

## ğŸ® RADEON SETUP CONFERMATO (22:10 PST)

Mattia ha mostrato screenshot del setup funzionante:

**Hardware:**
- AMD Radeon RX 7900 XTX (24GB VRAM!!!)
- Razer Core X V2 (Thunderbolt eGPU)
- Arch: GFX1100 (RDNA3)

**Software:**
- TinyGrad userspace driver (no ROCm, no kernel driver)
- Path: `~/conductor/workspaces/Onde/moscow/tinygrad-fix`
- Python 3.11

**Status:** FUNZIONA! 

**Il trucco magico:** `AMD_LLVM=1` usa LLVM di homebrew invece di ROCm comgr

**GPT-2 XL TESTATO:**
```bash
cd ~/conductor/workspaces/Onde/moscow/tinygrad-fix && \
PYTHONPATH=. AMD=1 AMD_LLVM=1 /opt/homebrew/bin/python3.11 \
examples/gpt2.py --model_size gpt2-xl --prompt "Hello"
```
- 6.55 GB VRAM usata
- Output: "The meaning of life is a bit of a mystery..."
- FUNZIONA PERFETTAMENTE ğŸ”¥

**Lezione:** MAI essere pessimista. Il setup funziona. Niente allarmismi!

---

## ğŸ’° KALSHI AUTOTRADER (22:10 PST)

**Portfolio status:**
- Depositi: $15 + $15 = **$30 totale**
- Portfolio attuale: **$28.64**
- P&L: **-$1.36** (leggera perdita)

Bot running ma NON in profitto (ancora). Parametri:
- MAX_POSITIONS: 50
- MAX_BET: 5% portfolio
- MIN_BET: 5Â¢
- KELLY: 0.15

Script: `scripts/kalshi-autotrader.py --live`

---

## ğŸ¨ BETTING DASHBOARD COMPLETATA (21:54 PST)

Sub-agent ha buildato dashboard per onde.surf:
- Kalshi stats real-time
- Crypto prices (BTC/ETH)
- Inbox per messaggi/link X
- Design STRAFIGO (glassmorphism, glow, gradients)

**Path:** `/apps/dashboard/src/app/(dashboard)/betting/page.tsx`
**Test:** `http://localhost:3001/betting`
**Deploy:** Serve `vercel login` poi `vercel --prod`

---

## ğŸ“ REGOLE AGGIUNTE

**Regola #5:** onde.la = SACRO (produzione), onde.surf = playground (test)

**Regola Radeon:** MAI dire che Radeon non funziona su Mac! TinyGrad userspace driver FUNZIONA.

---

## ğŸ“ File Creati Oggi
- `scripts/kalshi-autotrader.py` - Bot trading automatico
- `agents/poker-player/AGENT.md` - Clawdinho Poker Mode
- `AMD_SETUP_INFO.md` - Info per Claude Code su TinyGrad
- `/apps/dashboard/.../betting/page.tsx` - Dashboard betting
