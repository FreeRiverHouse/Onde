# Memory Log - 2026-01-29

## 19:42 PST - Heartbeat Cycle

### Status Check
- Autotrader: ✅ Running (PID 66542)
- Alerts: ✅ None
- Git: ✅ Up to date

### Task Completed: [T669] VR/XR Planning
- Created comprehensive planning doc: `apps/reader-app/docs/VR-XR-PLANNING.md`
- Recommended React-Three-Fiber + WebXR for MVP (3 weeks)
- Defined environments: Library, Mountain cabin, Floating clouds
- Key tech: troika-three-text for crisp text rendering
- Platforms: Quest 3 (primary), Vision Pro (future)

### New Tasks Added
1. **[T701]** R3F prototype with floating text - P2
2. **[T702]** Cozy library environment - P3
3. **[T703]** EPUB text extraction for VR - P2

### Observations
- Many high-priority tasks (T477, T426) require manual intervention from Mattia
- SE-Bot chain blocked on BlackHole audio driver install (needs sudo)
- Reader App VR path is now well-defined and can proceed

### Next Actions
- T701 when ready to start VR development
- Wait for Mattia on manual tasks (BlackHole, CF API token)

## 2026-01-29 19:45 - VR Reader Prototype Complete [T701]

### Task
Created full VR reader prototype with React-Three-Fiber + WebXR.

### What was built
- `apps/reader-vr/` - New Next.js 16 app with R3F
- Cozy library environment (bookshelves, reading chair, floating candles)
- Floating book panel with Pride & Prejudice sample text
- VR/AR entry buttons (WebXR compatible for Quest 3)
- Page navigation via keyboard, mouse, VR controllers
- Font size adjustment
- Warm ambient lighting, dust particles, stars
- Merriweather serif font for comfortable reading

### Technical stack
- Next.js 16.1.6 + Turbopack
- React-Three-Fiber (@react-three/fiber)
- @react-three/drei (helpers: Environment, Sky, Stars, Sparkles, Text)
- @react-three/xr (WebXR integration)
- Three.js

### Next steps
- T704: Deploy to onde.la/reader-vr
- T702: Cozy library environment (more detail)
- T703: EPUB integration
- T705: Environment switcher
- T706: Hand tracking

### Run locally
```bash
cd apps/reader-vr && npm run dev
# Open http://localhost:3000
# Click "Enter VR" to test in Quest 3 browser
```

## 2026-01-29 20:10 - Fixed Playwright Test Failures

### Issues Fixed
1. **`/reader/` 404** - Navigation had link to non-existent page
   - Created `apps/onde-portal/src/app/reader/layout.tsx` and `page.tsx`
   - Page shows featured books for online reading

2. **Favicon 500 error** - `/icon.svg` returning 500
   - Removed `icon.svg` and `apple-icon.svg` from `src/app/`
   - Next.js app directory icon handling was broken
   - Icons still work from `public/` directory

### Result
- All 17 Playwright tests now pass ✅
- Commit: 475ed0cea
